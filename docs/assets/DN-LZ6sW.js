const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./C-MSuiJR.js","./index.Du2RZnax.css","./COmrf1kO.js","./_...BBgSxync.css","./DsyV814e.js","./CJ_fguML.js","./dev-upload.DKhMZg7B.css","./DMSCmTZw.js","./CzLK8kkc.js","./yPcHN_L_.js","./usePilotContext.DMW25oBZ.css","./CrDclvlA.js","./PanoramicaPage.BUpO0jFR.css","./DsV0mAn-.js","./Co0jxCB3.js","./D2ANrjhn.js","./PaginationControls.CNLm8WGw.css","./DNB2U9pf.js","./TrackDetailPage.C34qBRCU.css","./C1hU84ZB.js","./BoJFOiWG.js","./SessionDetailPage.COX98EEl.css","./LzLtQtbS.js","./SessioniPage.B8n-1Nbk.css","./B1oOkwOR.js","./PistePage.BYvFlzG_.css","./_id_.CUpou5p6.css","./D9l-ntdv.js","./CjqUAg-9.js","./index.C-v94T8_.css","./D_pstj4C.js","./CTiumS5p.js","./CDbns43g.js","./coach.CxAeVU2u.css","./BtWf204G.js","./dashboard.Didsh1CT.css","./BNa8fwzy.js","./error-404.BLrjNXsr.css","./BKWgOMts.js","./error-500.DLkAwcfL.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Nh(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Be={},ri=[],On=()=>{},Jg=()=>!1,Jo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Oh=t=>t.startsWith("onUpdate:"),Et=Object.assign,Dh=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},lT=Object.prototype.hasOwnProperty,Ve=(t,e)=>lT.call(t,e),le=Array.isArray,si=t=>Oi(t)==="[object Map]",Ni=t=>Oi(t)==="[object Set]",Wd=t=>Oi(t)==="[object Date]",uT=t=>Oi(t)==="[object RegExp]",de=t=>typeof t=="function",Ke=t=>typeof t=="string",_n=t=>typeof t=="symbol",Le=t=>t!==null&&typeof t=="object",Vh=t=>(Le(t)||de(t))&&de(t.then)&&de(t.catch),Xg=Object.prototype.toString,Oi=t=>Xg.call(t),hT=t=>Oi(t).slice(8,-1),Zg=t=>Oi(t)==="[object Object]",Hc=t=>Ke(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ii=Nh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),jc=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},fT=/-\w/g,cn=jc(t=>t.replace(fT,e=>e.slice(1).toUpperCase())),dT=/\B([A-Z])/g,xs=jc(t=>t.replace(dT,"-$1").toLowerCase()),qc=jc(t=>t.charAt(0).toUpperCase()+t.slice(1)),ql=jc(t=>t?`on${qc(t)}`:""),Mr=(t,e)=>!Object.is(t,e),oi=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},e_=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Wc=t=>{const e=parseFloat(t);return isNaN(e)?t:e},t_=t=>{const e=Ke(t)?Number(t):NaN;return isNaN(e)?t:e};let Gd;const Gc=()=>Gd||(Gd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Kc(t){if(le(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=Ke(r)?_T(r):Kc(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(Ke(t)||Le(t))return t}const pT=/;(?![^(]*\))/g,mT=/:([^]+)/,gT=/\/\*[^]*?\*\//g;function _T(t){const e={};return t.replace(gT,"").split(pT).forEach(n=>{if(n){const r=n.split(mT);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Zt(t){let e="";if(Ke(t))e=t;else if(le(t))for(let n=0;n<t.length;n++){const r=Zt(t[n]);r&&(e+=r+" ")}else if(Le(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function yT(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Ke(e)&&(t.class=Zt(e)),n&&(t.style=Kc(n)),t}const vT="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ET=Nh(vT);function n_(t){return!!t||t===""}function wT(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Xo(t[r],e[r]);return n}function Xo(t,e){if(t===e)return!0;let n=Wd(t),r=Wd(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=_n(t),r=_n(e),n||r)return t===e;if(n=le(t),r=le(e),n||r)return n&&r?wT(t,e):!1;if(n=Le(t),r=Le(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Xo(t[o],e[o]))return!1}}return String(t)===String(e)}function xh(t,e){return t.findIndex(n=>Xo(n,e))}const r_=t=>!!(t&&t.__v_isRef===!0),Is=t=>Ke(t)?t:t==null?"":le(t)||Le(t)&&(t.toString===Xg||!de(t.toString))?r_(t)?Is(t.value):JSON.stringify(t,s_,2):String(t),s_=(t,e)=>r_(e)?s_(t,e.value):si(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[Wl(r,i)+" =>"]=s,n),{})}:Ni(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Wl(n))}:_n(e)?Wl(e):Le(e)&&!le(e)&&!Zg(e)?String(e):e,Wl=(t,e="")=>{var n;return _n(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};let kt;class i_{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=kt,!e&&kt&&(this.index=(kt.scopes||(kt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=kt;try{return kt=this,e()}finally{kt=n}}}on(){++this._on===1&&(this.prevScope=kt,kt=this)}off(){this._on>0&&--this._on===0&&(kt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function TT(t){return new i_(t)}function Mh(){return kt}function IT(t,e=!1){kt&&kt.cleanups.push(t)}let $e;const Gl=new WeakSet;class o_{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,kt&&kt.active&&kt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Gl.has(this)&&(Gl.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||c_(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Kd(this),l_(this);const e=$e,n=dn;$e=this,dn=!0;try{return this.fn()}finally{u_(this),$e=e,dn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Fh(e);this.deps=this.depsTail=void 0,Kd(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Gl.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ru(this)&&this.run()}get dirty(){return Ru(this)}}let a_=0,_o,yo;function c_(t,e=!1){if(t.flags|=8,e){t.next=yo,yo=t;return}t.next=_o,_o=t}function Lh(){a_++}function Uh(){if(--a_>0)return;if(yo){let e=yo;for(yo=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;_o;){let e=_o;for(_o=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function l_(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function u_(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),Fh(r),bT(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function Ru(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(h_(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function h_(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Oo)||(t.globalVersion=Oo,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Ru(t))))return;t.flags|=2;const e=t.dep,n=$e,r=dn;$e=t,dn=!0;try{l_(t);const s=t.fn(t._value);(e.version===0||Mr(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{$e=n,dn=r,u_(t),t.flags&=-3}}function Fh(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Fh(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function bT(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let dn=!0;const f_=[];function ir(){f_.push(dn),dn=!1}function or(){const t=f_.pop();dn=t===void 0?!0:t}function Kd(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=$e;$e=void 0;try{e()}finally{$e=n}}}let Oo=0;class AT{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Bh{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!$e||!dn||$e===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==$e)n=this.activeLink=new AT($e,this),$e.deps?(n.prevDep=$e.depsTail,$e.depsTail.nextDep=n,$e.depsTail=n):$e.deps=$e.depsTail=n,d_(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=$e.depsTail,n.nextDep=void 0,$e.depsTail.nextDep=n,$e.depsTail=n,$e.deps===n&&($e.deps=r)}return n}trigger(e){this.version++,Oo++,this.notify(e)}notify(e){Lh();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Uh()}}}function d_(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)d_(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const oc=new WeakMap,ys=Symbol(""),Su=Symbol(""),Do=Symbol("");function Ot(t,e,n){if(dn&&$e){let r=oc.get(t);r||oc.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new Bh),s.map=r,s.key=n),s.track()}}function zn(t,e,n,r,s,i){const o=oc.get(t);if(!o){Oo++;return}const a=l=>{l&&l.trigger()};if(Lh(),e==="clear")o.forEach(a);else{const l=le(t),u=l&&Hc(n);if(l&&n==="length"){const h=Number(r);o.forEach((d,p)=>{(p==="length"||p===Do||!_n(p)&&p>=h)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),u&&a(o.get(Do)),e){case"add":l?u&&a(o.get("length")):(a(o.get(ys)),si(t)&&a(o.get(Su)));break;case"delete":l||(a(o.get(ys)),si(t)&&a(o.get(Su)));break;case"set":si(t)&&a(o.get(ys));break}}Uh()}function RT(t,e){const n=oc.get(t);return n&&n.get(e)}function Gs(t){const e=Pe(t);return e===t?e:(Ot(e,"iterate",Do),en(t)?e:e.map(yn))}function zc(t){return Ot(t=Pe(t),"iterate",Do),t}function Ar(t,e){return Ln(t)?Lr(t)?gi(yn(e)):gi(e):yn(e)}const ST={__proto__:null,[Symbol.iterator](){return Kl(this,Symbol.iterator,t=>Ar(this,t))},concat(...t){return Gs(this).concat(...t.map(e=>le(e)?Gs(e):e))},entries(){return Kl(this,"entries",t=>(t[1]=Ar(this,t[1]),t))},every(t,e){return jn(this,"every",t,e,void 0,arguments)},filter(t,e){return jn(this,"filter",t,e,n=>n.map(r=>Ar(this,r)),arguments)},find(t,e){return jn(this,"find",t,e,n=>Ar(this,n),arguments)},findIndex(t,e){return jn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return jn(this,"findLast",t,e,n=>Ar(this,n),arguments)},findLastIndex(t,e){return jn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return jn(this,"forEach",t,e,void 0,arguments)},includes(...t){return zl(this,"includes",t)},indexOf(...t){return zl(this,"indexOf",t)},join(t){return Gs(this).join(t)},lastIndexOf(...t){return zl(this,"lastIndexOf",t)},map(t,e){return jn(this,"map",t,e,void 0,arguments)},pop(){return so(this,"pop")},push(...t){return so(this,"push",t)},reduce(t,...e){return zd(this,"reduce",t,e)},reduceRight(t,...e){return zd(this,"reduceRight",t,e)},shift(){return so(this,"shift")},some(t,e){return jn(this,"some",t,e,void 0,arguments)},splice(...t){return so(this,"splice",t)},toReversed(){return Gs(this).toReversed()},toSorted(t){return Gs(this).toSorted(t)},toSpliced(...t){return Gs(this).toSpliced(...t)},unshift(...t){return so(this,"unshift",t)},values(){return Kl(this,"values",t=>Ar(this,t))}};function Kl(t,e,n){const r=zc(t),s=r[e]();return r!==t&&!en(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.done||(i.value=n(i.value)),i}),s}const CT=Array.prototype;function jn(t,e,n,r,s,i){const o=zc(t),a=o!==t&&!en(t),l=o[e];if(l!==CT[e]){const d=l.apply(t,i);return a?yn(d):d}let u=n;o!==t&&(a?u=function(d,p){return n.call(this,Ar(t,d),p,t)}:n.length>2&&(u=function(d,p){return n.call(this,d,p,t)}));const h=l.call(o,u,r);return a&&s?s(h):h}function zd(t,e,n,r){const s=zc(t);let i=n;return s!==t&&(en(t)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,t)}):i=function(o,a,l){return n.call(this,o,Ar(t,a),l,t)}),s[e](i,...r)}function zl(t,e,n){const r=Pe(t);Ot(r,"iterate",Do);const s=r[e](...n);return(s===-1||s===!1)&&Qc(n[0])?(n[0]=Pe(n[0]),r[e](...n)):s}function so(t,e,n=[]){ir(),Lh();const r=Pe(t)[e].apply(t,n);return Uh(),or(),r}const PT=Nh("__proto__,__v_isRef,__isVue"),p_=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(_n));function kT(t){_n(t)||(t=String(t));const e=Pe(this);return Ot(e,"has",t),e.hasOwnProperty(t)}class m_{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?BT:v_:i?y_:__).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=le(e);if(!s){let l;if(o&&(l=ST[n]))return l;if(n==="hasOwnProperty")return kT}const a=Reflect.get(e,n,ct(e)?e:r);if((_n(n)?p_.has(n):PT(n))||(s||Ot(e,"get",n),i))return a;if(ct(a)){const l=o&&Hc(n)?a:a.value;return s&&Le(l)?Pu(l):l}return Le(a)?s?Pu(a):Jr(a):a}}class g_ extends m_{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];const o=le(e)&&Hc(n);if(!this._isShallow){const u=Ln(i);if(!en(r)&&!Ln(r)&&(i=Pe(i),r=Pe(r)),!o&&ct(i)&&!ct(r))return u||(i.value=r),!0}const a=o?Number(n)<e.length:Ve(e,n),l=Reflect.set(e,n,r,ct(e)?e:s);return e===Pe(s)&&(a?Mr(r,i)&&zn(e,"set",n,r):zn(e,"add",n,r)),l}deleteProperty(e,n){const r=Ve(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&zn(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!_n(n)||!p_.has(n))&&Ot(e,"has",n),r}ownKeys(e){return Ot(e,"iterate",le(e)?"length":ys),Reflect.ownKeys(e)}}class NT extends m_{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const OT=new g_,DT=new NT,VT=new g_(!0);const Cu=t=>t,Pa=t=>Reflect.getPrototypeOf(t);function xT(t,e,n){return function(...r){const s=this.__v_raw,i=Pe(s),o=si(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=s[t](...r),h=n?Cu:e?gi:yn;return!e&&Ot(i,"iterate",l?Su:ys),{next(){const{value:d,done:p}=u.next();return p?{value:d,done:p}:{value:a?[h(d[0]),h(d[1])]:h(d),done:p}},[Symbol.iterator](){return this}}}}function ka(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function MT(t,e){const n={get(s){const i=this.__v_raw,o=Pe(i),a=Pe(s);t||(Mr(s,a)&&Ot(o,"get",s),Ot(o,"get",a));const{has:l}=Pa(o),u=e?Cu:t?gi:yn;if(l.call(o,s))return u(i.get(s));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&Ot(Pe(s),"iterate",ys),s.size},has(s){const i=this.__v_raw,o=Pe(i),a=Pe(s);return t||(Mr(s,a)&&Ot(o,"has",s),Ot(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,l=Pe(a),u=e?Cu:t?gi:yn;return!t&&Ot(l,"iterate",ys),a.forEach((h,d)=>s.call(i,u(h),u(d),o))}};return Et(n,t?{add:ka("add"),set:ka("set"),delete:ka("delete"),clear:ka("clear")}:{add(s){!e&&!en(s)&&!Ln(s)&&(s=Pe(s));const i=Pe(this);return Pa(i).has.call(i,s)||(i.add(s),zn(i,"add",s,s)),this},set(s,i){!e&&!en(i)&&!Ln(i)&&(i=Pe(i));const o=Pe(this),{has:a,get:l}=Pa(o);let u=a.call(o,s);u||(s=Pe(s),u=a.call(o,s));const h=l.call(o,s);return o.set(s,i),u?Mr(i,h)&&zn(o,"set",s,i):zn(o,"add",s,i),this},delete(s){const i=Pe(this),{has:o,get:a}=Pa(i);let l=o.call(i,s);l||(s=Pe(s),l=o.call(i,s)),a&&a.call(i,s);const u=i.delete(s);return l&&zn(i,"delete",s,void 0),u},clear(){const s=Pe(this),i=s.size!==0,o=s.clear();return i&&zn(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=xT(s,t,e)}),n}function $h(t,e){const n=MT(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Ve(n,s)&&s in r?n:r,s,i)}const LT={get:$h(!1,!1)},UT={get:$h(!1,!0)},FT={get:$h(!0,!1)};const __=new WeakMap,y_=new WeakMap,v_=new WeakMap,BT=new WeakMap;function $T(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function HT(t){return t.__v_skip||!Object.isExtensible(t)?0:$T(hT(t))}function Jr(t){return Ln(t)?t:Hh(t,!1,OT,LT,__)}function Nn(t){return Hh(t,!1,VT,UT,y_)}function Pu(t){return Hh(t,!0,DT,FT,v_)}function Hh(t,e,n,r,s){if(!Le(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=HT(t);if(i===0)return t;const o=s.get(t);if(o)return o;const a=new Proxy(t,i===2?r:n);return s.set(t,a),a}function Lr(t){return Ln(t)?Lr(t.__v_raw):!!(t&&t.__v_isReactive)}function Ln(t){return!!(t&&t.__v_isReadonly)}function en(t){return!!(t&&t.__v_isShallow)}function Qc(t){return t?!!t.__v_raw:!1}function Pe(t){const e=t&&t.__v_raw;return e?Pe(e):t}function jT(t){return!Ve(t,"__v_skip")&&Object.isExtensible(t)&&e_(t,"__v_skip",!0),t}const yn=t=>Le(t)?Jr(t):t,gi=t=>Le(t)?Pu(t):t;function ct(t){return t?t.__v_isRef===!0:!1}function ie(t){return E_(t,!1)}function ar(t){return E_(t,!0)}function E_(t,e){return ct(t)?t:new qT(t,e)}class qT{constructor(e,n){this.dep=new Bh,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Pe(e),this._value=n?e:yn(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||en(e)||Ln(e);e=r?e:Pe(e),Mr(e,n)&&(this._rawValue=e,this._value=r?e:yn(e),this.dep.trigger())}}function Me(t){return ct(t)?t.value:t}function WT(t){return de(t)?t():Me(t)}const GT={get:(t,e,n)=>e==="__v_raw"?t:Me(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return ct(s)&&!ct(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function w_(t){return Lr(t)?t:new Proxy(t,GT)}class KT{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0,this._raw=Pe(e);let s=!0,i=e;if(!le(e)||!Hc(String(n)))do s=!Qc(i)||en(i);while(s&&(i=i.__v_raw));this._shallow=s}get value(){let e=this._object[this._key];return this._shallow&&(e=Me(e)),this._value=e===void 0?this._defaultValue:e}set value(e){if(this._shallow&&ct(this._raw[this._key])){const n=this._object[this._key];if(ct(n)){n.value=e;return}}this._object[this._key]=e}get dep(){return RT(this._raw,this._key)}}class zT{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function QT(t,e,n){return ct(t)?t:de(t)?new zT(t):Le(t)&&arguments.length>1?YT(t,e,n):ie(t)}function YT(t,e,n){return new KT(t,e,n)}class JT{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Bh(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Oo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&$e!==this)return c_(this,!0),!0}get value(){const e=this.dep.track();return h_(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function XT(t,e,n=!1){let r,s;return de(t)?r=t:(r=t.get,s=t.set),new JT(r,s,n)}const Na={},ac=new WeakMap;let fs;function ZT(t,e=!1,n=fs){if(n){let r=ac.get(n);r||ac.set(n,r=[]),r.push(t)}}function eI(t,e,n=Be){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:a,call:l}=n,u=O=>s?O:en(O)||s===!1||s===0?Qn(O,1):Qn(O);let h,d,p,g,E=!1,_=!1;if(ct(t)?(d=()=>t.value,E=en(t)):Lr(t)?(d=()=>u(t),E=!0):le(t)?(_=!0,E=t.some(O=>Lr(O)||en(O)),d=()=>t.map(O=>{if(ct(O))return O.value;if(Lr(O))return u(O);if(de(O))return l?l(O,2):O()})):de(t)?e?d=l?()=>l(t,2):t:d=()=>{if(p){ir();try{p()}finally{or()}}const O=fs;fs=h;try{return l?l(t,3,[g]):t(g)}finally{fs=O}}:d=On,e&&s){const O=d,V=s===!0?1/0:s;d=()=>Qn(O(),V)}const C=Mh(),S=()=>{h.stop(),C&&C.active&&Dh(C.effects,h)};if(i&&e){const O=e;e=(...V)=>{O(...V),S()}}let b=_?new Array(t.length).fill(Na):Na;const y=O=>{if(!(!(h.flags&1)||!h.dirty&&!O))if(e){const V=h.run();if(s||E||(_?V.some((U,I)=>Mr(U,b[I])):Mr(V,b))){p&&p();const U=fs;fs=h;try{const I=[V,b===Na?void 0:_&&b[0]===Na?[]:b,g];b=V,l?l(e,3,I):e(...I)}finally{fs=U}}}else h.run()};return a&&a(y),h=new o_(d),h.scheduler=o?()=>o(y,!1):y,g=O=>ZT(O,!1,h),p=h.onStop=()=>{const O=ac.get(h);if(O){if(l)l(O,4);else for(const V of O)V();ac.delete(h)}},e?r?y(!0):b=h.run():o?o(y.bind(null,!0),!0):h.run(),S.pause=h.pause.bind(h),S.resume=h.resume.bind(h),S.stop=S,S}function Qn(t,e=1/0,n){if(e<=0||!Le(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,ct(t))Qn(t.value,e,n);else if(le(t))for(let r=0;r<t.length;r++)Qn(t[r],e,n);else if(Ni(t)||si(t))t.forEach(r=>{Qn(r,e,n)});else if(Zg(t)){for(const r in t)Qn(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Qn(t[r],e,n)}return t}function Zo(t,e,n,r){try{return r?t(...r):t()}catch(s){Di(s,e,n)}}function vn(t,e,n,r){if(de(t)){const s=Zo(t,e,n,r);return s&&Vh(s)&&s.catch(i=>{Di(i,e,n)}),s}if(le(t)){const s=[];for(let i=0;i<t.length;i++)s.push(vn(t[i],e,n,r));return s}}function Di(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Be;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const h=a.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](t,l,u)===!1)return}a=a.parent}if(i){ir(),Zo(i,null,10,[t,l,u]),or();return}}tI(t,n,s,r,o)}function tI(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const Ut=[];let Cn=-1;const ai=[];let Rr=null,zs=0;const T_=Promise.resolve();let cc=null;function bs(t){const e=cc||T_;return t?e.then(this?t.bind(this):t):e}function nI(t){let e=Cn+1,n=Ut.length;for(;e<n;){const r=e+n>>>1,s=Ut[r],i=Vo(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function jh(t){if(!(t.flags&1)){const e=Vo(t),n=Ut[Ut.length-1];!n||!(t.flags&2)&&e>=Vo(n)?Ut.push(t):Ut.splice(nI(e),0,t),t.flags|=1,I_()}}function I_(){cc||(cc=T_.then(b_))}function ku(t){le(t)?ai.push(...t):Rr&&t.id===-1?Rr.splice(zs+1,0,t):t.flags&1||(ai.push(t),t.flags|=1),I_()}function Qd(t,e,n=Cn+1){for(;n<Ut.length;n++){const r=Ut[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Ut.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function lc(t){if(ai.length){const e=[...new Set(ai)].sort((n,r)=>Vo(n)-Vo(r));if(ai.length=0,Rr){Rr.push(...e);return}for(Rr=e,zs=0;zs<Rr.length;zs++){const n=Rr[zs];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Rr=null,zs=0}}const Vo=t=>t.id==null?t.flags&2?-1:1/0:t.id;function b_(t){try{for(Cn=0;Cn<Ut.length;Cn++){const e=Ut[Cn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Zo(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Cn<Ut.length;Cn++){const e=Ut[Cn];e&&(e.flags&=-2)}Cn=-1,Ut.length=0,lc(),cc=null,(Ut.length||ai.length)&&b_()}}let At=null,A_=null;function uc(t){const e=At;return At=t,A_=t&&t.type.__scopeId||null,e}function on(t,e=At,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&gc(-1);const i=uc(e);let o;try{o=t(...s)}finally{uc(i),r._d&&gc(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function co(t,e){if(At===null)return t;const n=el(At),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,l=Be]=e[s];i&&(de(i)&&(i={mounted:i,updated:i}),i.deep&&Qn(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Pn(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(ir(),vn(l,n,8,[t.el,a,t,e]),or())}}function Zn(t,e){if(bt){let n=bt.provides;const r=bt.parent&&bt.parent.provides;r===n&&(n=bt.provides=Object.create(r)),n[t]=e}}function Rt(t,e,n=!1){const r=Ms();if(r||vs){let s=vs?vs._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&de(e)?e.call(r&&r.proxy):e}}function Yc(){return!!(Ms()||vs)}const rI=Symbol.for("v-scx"),sI=()=>Rt(rI);function iI(t,e){return qh(t,null,e)}function Ur(t,e,n){return qh(t,e,n)}function qh(t,e,n=Be){const{immediate:r,deep:s,flush:i,once:o}=n,a=Et({},n),l=e&&r||!e&&i!=="post";let u;if(vi){if(i==="sync"){const g=sI();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=On,g.resume=On,g.pause=On,g}}const h=bt;a.call=(g,E,_)=>vn(g,h,E,_);let d=!1;i==="post"?a.scheduler=g=>{gt(g,h&&h.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(g,E)=>{E?g():jh(g)}),a.augmentJob=g=>{e&&(g.flags|=4),d&&(g.flags|=2,h&&(g.id=h.uid,g.i=h))};const p=eI(t,e,a);return vi&&(u?u.push(p):l&&p()),p}function oI(t,e,n){const r=this.proxy,s=Ke(t)?t.includes(".")?R_(r,t):()=>r[t]:t.bind(r,r);let i;de(e)?i=e:(i=e.handler,n=e);const o=na(this),a=qh(s,i.bind(r),n);return o(),a}function R_(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const aI=Symbol("_vte"),S_=t=>t.__isTeleport,Kn=Symbol("_leaveCb"),Oa=Symbol("_enterCb");function cI(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return qr(()=>{t.isMounted=!0}),ta(()=>{t.isUnmounting=!0}),t}const tn=[Function,Array],C_={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:tn,onEnter:tn,onAfterEnter:tn,onEnterCancelled:tn,onBeforeLeave:tn,onLeave:tn,onAfterLeave:tn,onLeaveCancelled:tn,onBeforeAppear:tn,onAppear:tn,onAfterAppear:tn,onAppearCancelled:tn},P_=t=>{const e=t.subTree;return e.component?P_(e.component):e},lI={name:"BaseTransition",props:C_,setup(t,{slots:e}){const n=Ms(),r=cI();return()=>{const s=e.default&&O_(e.default(),!0);if(!s||!s.length)return;const i=k_(s),o=Pe(t),{mode:a}=o;if(r.isLeaving)return Ql(i);const l=Yd(i);if(!l)return Ql(i);let u=Nu(l,o,r,n,d=>u=d);l.type!==it&&_i(l,u);let h=n.subTree&&Yd(n.subTree);if(h&&h.type!==it&&!hn(h,l)&&P_(n).type!==it){let d=Nu(h,o,r,n);if(_i(h,d),a==="out-in"&&l.type!==it)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,h=void 0},Ql(i);a==="in-out"&&l.type!==it?d.delayLeave=(p,g,E)=>{const _=N_(r,h);_[String(h.key)]=h,p[Kn]=()=>{g(),p[Kn]=void 0,delete u.delayedLeave,h=void 0},u.delayedLeave=()=>{E(),delete u.delayedLeave,h=void 0}}:h=void 0}else h&&(h=void 0);return i}}};function k_(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==it){e=n;break}}return e}const uI=lI;function N_(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Nu(t,e,n,r,s){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:h,onEnterCancelled:d,onBeforeLeave:p,onLeave:g,onAfterLeave:E,onLeaveCancelled:_,onBeforeAppear:C,onAppear:S,onAfterAppear:b,onAppearCancelled:y}=e,O=String(t.key),V=N_(n,t),U=(v,R)=>{v&&vn(v,r,9,R)},I=(v,R)=>{const k=R[1];U(v,R),le(v)?v.every(N=>N.length<=1)&&k():v.length<=1&&k()},w={mode:o,persisted:a,beforeEnter(v){let R=l;if(!n.isMounted)if(i)R=C||l;else return;v[Kn]&&v[Kn](!0);const k=V[O];k&&hn(t,k)&&k.el[Kn]&&k.el[Kn](),U(R,[v])},enter(v){let R=u,k=h,N=d;if(!n.isMounted)if(i)R=S||u,k=b||h,N=y||d;else return;let A=!1;const ce=v[Oa]=Te=>{A||(A=!0,Te?U(N,[v]):U(k,[v]),w.delayedLeave&&w.delayedLeave(),v[Oa]=void 0)};R?I(R,[v,ce]):ce()},leave(v,R){const k=String(t.key);if(v[Oa]&&v[Oa](!0),n.isUnmounting)return R();U(p,[v]);let N=!1;const A=v[Kn]=ce=>{N||(N=!0,R(),ce?U(_,[v]):U(E,[v]),v[Kn]=void 0,V[k]===t&&delete V[k])};V[k]=t,g?I(g,[v,A]):A()},clone(v){const R=Nu(v,e,n,r,s);return s&&s(R),R}};return w}function Ql(t){if(ea(t))return t=an(t),t.children=null,t}function Yd(t){if(!ea(t))return S_(t.type)&&t.children?k_(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&de(n.default))return n.default()}}function _i(t,e){t.shapeFlag&6&&t.component?(t.transition=e,_i(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function O_(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===We?(o.patchFlag&128&&s++,r=r.concat(O_(o.children,e,a))):(e||o.type!==it)&&r.push(a!=null?an(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function rt(t,e){return de(t)?Et({name:t.name},e,{setup:t}):t}function Wh(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const hc=new WeakMap;function ci(t,e,n,r,s=!1){if(le(t)){t.forEach((E,_)=>ci(E,e&&(le(e)?e[_]:e),n,r,s));return}if(er(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&ci(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?el(r.component):r.el,o=s?null:i,{i:a,r:l}=t,u=e&&e.r,h=a.refs===Be?a.refs={}:a.refs,d=a.setupState,p=Pe(d),g=d===Be?Jg:E=>Ve(p,E);if(u!=null&&u!==l){if(Jd(e),Ke(u))h[u]=null,g(u)&&(d[u]=null);else if(ct(u)){u.value=null;const E=e;E.k&&(h[E.k]=null)}}if(de(l))Zo(l,a,12,[o,h]);else{const E=Ke(l),_=ct(l);if(E||_){const C=()=>{if(t.f){const S=E?g(l)?d[l]:h[l]:l.value;if(s)le(S)&&Dh(S,i);else if(le(S))S.includes(i)||S.push(i);else if(E)h[l]=[i],g(l)&&(d[l]=h[l]);else{const b=[i];l.value=b,t.k&&(h[t.k]=b)}}else E?(h[l]=o,g(l)&&(d[l]=o)):_&&(l.value=o,t.k&&(h[t.k]=o))};if(o){const S=()=>{C(),hc.delete(t)};S.id=-1,hc.set(t,S),gt(S,n)}else Jd(t),C()}}}function Jd(t){const e=hc.get(t);e&&(e.flags|=8,hc.delete(t))}let Xd=!1;const Ks=()=>{Xd||(console.error("Hydration completed but contains mismatches."),Xd=!0)},hI=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",fI=t=>t.namespaceURI.includes("MathML"),Da=t=>{if(t.nodeType===1){if(hI(t))return"svg";if(fI(t))return"mathml"}},ei=t=>t.nodeType===8;function dI(t){const{mt:e,p:n,o:{patchProp:r,createText:s,nextSibling:i,parentNode:o,remove:a,insert:l,createComment:u}}=t,h=(y,O)=>{if(!O.hasChildNodes()){n(null,y,O),lc(),O._vnode=y;return}d(O.firstChild,y,null,null,null),lc(),O._vnode=y},d=(y,O,V,U,I,w=!1)=>{w=w||!!O.dynamicChildren;const v=ei(y)&&y.data==="[",R=()=>_(y,O,V,U,I,v),{type:k,ref:N,shapeFlag:A,patchFlag:ce}=O;let Te=y.nodeType;O.el=y,ce===-2&&(w=!1,O.dynamicChildren=null);let re=null;switch(k){case Es:Te!==3?O.children===""?(l(O.el=s(""),o(y),y),re=y):re=R():(y.data!==O.children&&(Ks(),y.data=O.children),re=i(y));break;case it:b(y)?(re=i(y),S(O.el=y.content.firstChild,y,V)):Te!==8||v?re=R():re=i(y);break;case Eo:if(v&&(y=i(y),Te=y.nodeType),Te===1||Te===3){re=y;const me=!O.children.length;for(let ee=0;ee<O.staticCount;ee++)me&&(O.children+=re.nodeType===1?re.outerHTML:re.data),ee===O.staticCount-1&&(O.anchor=re),re=i(re);return v?i(re):re}else R();break;case We:v?re=E(y,O,V,U,I,w):re=R();break;default:if(A&1)(Te!==1||O.type.toLowerCase()!==y.tagName.toLowerCase())&&!b(y)?re=R():re=p(y,O,V,U,I,w);else if(A&6){O.slotScopeIds=I;const me=o(y);if(v?re=C(y):ei(y)&&y.data==="teleport start"?re=C(y,y.data,"teleport end"):re=i(y),e(O,me,null,V,U,Da(me),w),er(O)&&!O.type.__asyncResolved){let ee;v?(ee=he(We),ee.anchor=re?re.previousSibling:me.lastChild):ee=y.nodeType===3?Je(""):he("div"),ee.el=y,O.component.subTree=ee}}else A&64?Te!==8?re=R():re=O.type.hydrate(y,O,V,U,I,w,t,g):A&128&&(re=O.type.hydrate(y,O,V,U,Da(o(y)),I,w,t,d))}return N!=null&&ci(N,null,U,O),re},p=(y,O,V,U,I,w)=>{w=w||!!O.dynamicChildren;const{type:v,props:R,patchFlag:k,shapeFlag:N,dirs:A,transition:ce}=O,Te=v==="input"||v==="option";if(Te||k!==-1){A&&Pn(O,null,V,"created");let re=!1;if(b(y)){re=ey(null,ce)&&V&&V.vnode.props&&V.vnode.props.appear;const ee=y.content.firstChild;if(re){const Ne=ee.getAttribute("class");Ne&&(ee.$cls=Ne),ce.beforeEnter(ee)}S(ee,y,V),O.el=y=ee}if(N&16&&!(R&&(R.innerHTML||R.textContent))){let ee=g(y.firstChild,O,y,V,U,I,w);for(;ee;){Va(y,1)||Ks();const Ne=ee;ee=ee.nextSibling,a(Ne)}}else if(N&8){let ee=O.children;ee[0]===`
`&&(y.tagName==="PRE"||y.tagName==="TEXTAREA")&&(ee=ee.slice(1));const{textContent:Ne}=y;Ne!==ee&&Ne!==ee.replace(/\r\n|\r/g,`
`)&&(Va(y,0)||Ks(),y.textContent=O.children)}if(R){if(Te||!w||k&48){const ee=y.tagName.includes("-");for(const Ne in R)(Te&&(Ne.endsWith("value")||Ne==="indeterminate")||Jo(Ne)&&!ii(Ne)||Ne[0]==="."||ee)&&r(y,Ne,null,R[Ne],void 0,V)}else if(R.onClick)r(y,"onClick",null,R.onClick,void 0,V);else if(k&4&&Lr(R.style))for(const ee in R.style)R.style[ee]}let me;(me=R&&R.onVnodeBeforeMount)&&Bt(me,V,O),A&&Pn(O,null,V,"beforeMount"),((me=R&&R.onVnodeMounted)||A||re)&&iy(()=>{me&&Bt(me,V,O),re&&ce.enter(y),A&&Pn(O,null,V,"mounted")},U)}return y.nextSibling},g=(y,O,V,U,I,w,v)=>{v=v||!!O.dynamicChildren;const R=O.children,k=R.length;for(let N=0;N<k;N++){const A=v?R[N]:R[N]=zt(R[N]),ce=A.type===Es;y?(ce&&!v&&N+1<k&&zt(R[N+1]).type===Es&&(l(s(y.data.slice(A.children.length)),V,i(y)),y.data=A.children),y=d(y,A,U,I,w,v)):ce&&!A.children?l(A.el=s(""),V):(Va(V,1)||Ks(),n(null,A,V,null,U,I,Da(V),w))}return y},E=(y,O,V,U,I,w)=>{const{slotScopeIds:v}=O;v&&(I=I?I.concat(v):v);const R=o(y),k=g(i(y),O,R,V,U,I,w);return k&&ei(k)&&k.data==="]"?i(O.anchor=k):(Ks(),l(O.anchor=u("]"),R,k),k)},_=(y,O,V,U,I,w)=>{if(Va(y.parentElement,1)||Ks(),O.el=null,w){const k=C(y);for(;;){const N=i(y);if(N&&N!==k)a(N);else break}}const v=i(y),R=o(y);return a(y),n(null,O,R,v,V,U,Da(R),I),V&&(V.vnode.el=O.el,Zc(V,O.el)),v},C=(y,O="[",V="]")=>{let U=0;for(;y;)if(y=i(y),y&&ei(y)&&(y.data===O&&U++,y.data===V)){if(U===0)return i(y);U--}return y},S=(y,O,V)=>{const U=O.parentNode;U&&U.replaceChild(y,O);let I=V;for(;I;)I.vnode.el===O&&(I.vnode.el=I.subTree.el=y),I=I.parent},b=y=>y.nodeType===1&&y.tagName==="TEMPLATE";return[h,d]}const Zd="data-allow-mismatch",pI={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Va(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(Zd);)t=t.parentElement;const n=t&&t.getAttribute(Zd);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return e===0&&r.includes("children")?!0:r.includes(pI[e])}}Gc().requestIdleCallback;Gc().cancelIdleCallback;function mI(t,e){if(ei(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1){if(e(r)===!1)break}else if(ei(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}const er=t=>!!t.type.__asyncLoader;function fc(t){de(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:s=200,hydrate:i,timeout:o,suspensible:a=!0,onError:l}=t;let u=null,h,d=0;const p=()=>(d++,u=null,g()),g=()=>{let E;return u||(E=u=e().catch(_=>{if(_=_ instanceof Error?_:new Error(String(_)),l)return new Promise((C,S)=>{l(_,()=>C(p()),()=>S(_),d+1)});throw _}).then(_=>E!==u&&u?u:(_&&(_.__esModule||_[Symbol.toStringTag]==="Module")&&(_=_.default),h=_,_)))};return rt({name:"AsyncComponentWrapper",__asyncLoader:g,__asyncHydrate(E,_,C){let S=!1;(_.bu||(_.bu=[])).push(()=>S=!0);const b=()=>{S||C()},y=i?()=>{const O=i(b,V=>mI(E,V));O&&(_.bum||(_.bum=[])).push(O)}:b;h?y():g().then(()=>!_.isUnmounted&&y())},get __asyncResolved(){return h},setup(){const E=bt;if(Wh(E),h)return()=>xa(h,E);const _=y=>{u=null,Di(y,E,13,!r)};if(a&&E.suspense||vi)return g().then(y=>()=>xa(y,E)).catch(y=>(_(y),()=>r?he(r,{error:y}):null));const C=ie(!1),S=ie(),b=ie(!!s);return s&&setTimeout(()=>{b.value=!1},s),o!=null&&setTimeout(()=>{if(!C.value&&!S.value){const y=new Error(`Async component timed out after ${o}ms.`);_(y),S.value=y}},o),g().then(()=>{C.value=!0,E.parent&&ea(E.parent.vnode)&&E.parent.update()}).catch(y=>{_(y),S.value=y}),()=>{if(C.value&&h)return xa(h,E);if(S.value&&r)return he(r,{error:S.value});if(n&&!b.value)return xa(n,E)}}})}function xa(t,e){const{ref:n,props:r,children:s,ce:i}=e.vnode,o=he(t,r,s);return o.ref=n,o.ce=i,delete e.vnode.ce,o}const ea=t=>t.type.__isKeepAlive,gI={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Ms(),r=n.ctx;if(!r.renderer)return()=>{const b=e.default&&e.default();return b&&b.length===1?b[0]:b};const s=new Map,i=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:u,um:h,o:{createElement:d}}}=r,p=d("div");r.activate=(b,y,O,V,U)=>{const I=b.component;u(b,y,O,0,a),l(I.vnode,b,y,O,I,a,V,b.slotScopeIds,U),gt(()=>{I.isDeactivated=!1,I.a&&oi(I.a);const w=b.props&&b.props.onVnodeMounted;w&&Bt(w,I.parent,b)},a)},r.deactivate=b=>{const y=b.component;pc(y.m),pc(y.a),u(b,p,null,1,a),gt(()=>{y.da&&oi(y.da);const O=b.props&&b.props.onVnodeUnmounted;O&&Bt(O,y.parent,b),y.isDeactivated=!0},a)};function g(b){Yl(b),h(b,n,a,!0)}function E(b){s.forEach((y,O)=>{const V=Fu(er(y)?y.type.__asyncResolved||{}:y.type);V&&!b(V)&&_(O)})}function _(b){const y=s.get(b);y&&(!o||!hn(y,o))?g(y):o&&Yl(o),s.delete(b),i.delete(b)}Ur(()=>[t.include,t.exclude],([b,y])=>{b&&E(O=>lo(b,O)),y&&E(O=>!lo(y,O))},{flush:"post",deep:!0});let C=null;const S=()=>{C!=null&&(mc(n.subTree.type)?gt(()=>{s.set(C,Ma(n.subTree))},n.subTree.suspense):s.set(C,Ma(n.subTree)))};return qr(S),M_(S),ta(()=>{s.forEach(b=>{const{subTree:y,suspense:O}=n,V=Ma(y);if(b.type===V.type&&b.key===V.key){Yl(V);const U=V.component.da;U&&gt(U,O);return}g(b)})}),()=>{if(C=null,!e.default)return o=null;const b=e.default(),y=b[0];if(b.length>1)return o=null,b;if(!As(y)||!(y.shapeFlag&4)&&!(y.shapeFlag&128))return o=null,y;let O=Ma(y);if(O.type===it)return o=null,O;const V=O.type,U=Fu(er(O)?O.type.__asyncResolved||{}:V),{include:I,exclude:w,max:v}=t;if(I&&(!U||!lo(I,U))||w&&U&&lo(w,U))return O.shapeFlag&=-257,o=O,y;const R=O.key==null?V:O.key,k=s.get(R);return O.el&&(O=an(O),y.shapeFlag&128&&(y.ssContent=O)),C=R,k?(O.el=k.el,O.component=k.component,O.transition&&_i(O,O.transition),O.shapeFlag|=512,i.delete(R),i.add(R)):(i.add(R),v&&i.size>parseInt(v,10)&&_(i.values().next().value)),O.shapeFlag|=256,o=O,mc(y.type)?y:O}}},_I=gI;function lo(t,e){return le(t)?t.some(n=>lo(n,e)):Ke(t)?t.split(",").includes(e):uT(t)?(t.lastIndex=0,t.test(e)):!1}function D_(t,e){x_(t,"a",e)}function V_(t,e){x_(t,"da",e)}function x_(t,e,n=bt){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Jc(e,r,n),n){let s=n.parent;for(;s&&s.parent;)ea(s.parent.vnode)&&yI(r,e,n,s),s=s.parent}}function yI(t,e,n,r){const s=Jc(e,t,r,!0);L_(()=>{Dh(r[e],s)},n)}function Yl(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Ma(t){return t.shapeFlag&128?t.ssContent:t}function Jc(t,e,n=bt,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{ir();const a=na(n),l=vn(e,n,t,o);return a(),or(),l});return r?s.unshift(i):s.push(i),i}}const fr=t=>(e,n=bt)=>{(!vi||t==="sp")&&Jc(t,(...r)=>e(...r),n)},vI=fr("bm"),qr=fr("m"),EI=fr("bu"),M_=fr("u"),ta=fr("bum"),L_=fr("um"),wI=fr("sp"),TI=fr("rtg"),II=fr("rtc");function U_(t,e=bt){Jc("ec",t,e)}const Gh="components",bI="directives";function rM(t,e){return Kh(Gh,t,!0,e)||t}const F_=Symbol.for("v-ndc");function AI(t){return Ke(t)?Kh(Gh,t,!1)||t:t||F_}function RI(t){return Kh(bI,t)}function Kh(t,e,n=!0,r=!1){const s=At||bt;if(s){const i=s.type;if(t===Gh){const a=Fu(i,!1);if(a&&(a===e||a===cn(e)||a===qc(cn(e))))return i}const o=ep(s[t]||i[t],e)||ep(s.appContext[t],e);return!o&&r?i:o}}function ep(t,e){return t&&(t[e]||t[cn(e)]||t[qc(cn(e))])}function sM(t,e,n,r){let s;const i=n,o=le(t);if(o||Ke(t)){const a=o&&Lr(t);let l=!1,u=!1;a&&(l=!en(t),u=Ln(t),t=zc(t)),s=new Array(t.length);for(let h=0,d=t.length;h<d;h++)s[h]=e(l?u?gi(yn(t[h])):yn(t[h]):t[h],h,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i)}else if(Le(t))if(t[Symbol.iterator])s=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);s=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const h=a[l];s[l]=e(t[h],h,l,i)}}else s=[];return s}function SI(t,e,n={},r,s){if(At.ce||At.parent&&er(At.parent)&&At.parent.ce){const u=Object.keys(n).length>0;return _e(),Qt(We,null,[he("slot",n,r)],u?-2:64)}let i=t[e];i&&i._c&&(i._d=!1),_e();const o=i&&B_(i(n)),a=n.key||o&&o.key,l=Qt(We,{key:(a&&!_n(a)?a:`_${e}`)+(!o&&r?"_fb":"")},o||[],o&&t._===1?64:-2);return i&&i._c&&(i._d=!0),l}function B_(t){return t.some(e=>As(e)?!(e.type===it||e.type===We&&!B_(e.children)):!0)?t:null}const Ou=t=>t?fy(t)?el(t):Ou(t.parent):null,vo=Et(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ou(t.parent),$root:t=>Ou(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>H_(t),$forceUpdate:t=>t.f||(t.f=()=>{jh(t.update)}),$nextTick:t=>t.n||(t.n=bs.bind(t.proxy)),$watch:t=>oI.bind(t)}),Jl=(t,e)=>t!==Be&&!t.__isScriptSetup&&Ve(t,e),CI={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=t;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Jl(r,e))return o[e]=1,r[e];if(s!==Be&&Ve(s,e))return o[e]=2,s[e];if(Ve(i,e))return o[e]=3,i[e];if(n!==Be&&Ve(n,e))return o[e]=4,n[e];Du&&(o[e]=0)}}const u=vo[e];let h,d;if(u)return e==="$attrs"&&Ot(t.attrs,"get",""),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==Be&&Ve(n,e))return o[e]=4,n[e];if(d=l.config.globalProperties,Ve(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Jl(s,e)?(s[e]=n,!0):r!==Be&&Ve(r,e)?(r[e]=n,!0):Ve(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,props:i,type:o}},a){let l;return!!(n[a]||t!==Be&&a[0]!=="$"&&Ve(t,a)||Jl(e,a)||Ve(i,a)||Ve(r,a)||Ve(vo,a)||Ve(s.config.globalProperties,a)||(l=o.__cssModules)&&l[a])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ve(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function tp(t){return le(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Du=!0;function PI(t){const e=H_(t),n=t.proxy,r=t.ctx;Du=!1,e.beforeCreate&&np(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:u,created:h,beforeMount:d,mounted:p,beforeUpdate:g,updated:E,activated:_,deactivated:C,beforeDestroy:S,beforeUnmount:b,destroyed:y,unmounted:O,render:V,renderTracked:U,renderTriggered:I,errorCaptured:w,serverPrefetch:v,expose:R,inheritAttrs:k,components:N,directives:A,filters:ce}=e;if(u&&kI(u,r,null),o)for(const me in o){const ee=o[me];de(ee)&&(r[me]=ee.bind(n))}if(s){const me=s.call(n,n);Le(me)&&(t.data=Jr(me))}if(Du=!0,i)for(const me in i){const ee=i[me],Ne=de(ee)?ee.bind(n,n):de(ee.get)?ee.get.bind(n,n):On,An=!de(ee)&&de(ee.set)?ee.set.bind(n):On,Wt=Ge({get:Ne,set:An});Object.defineProperty(r,me,{enumerable:!0,configurable:!0,get:()=>Wt.value,set:Tt=>Wt.value=Tt})}if(a)for(const me in a)$_(a[me],r,n,me);if(l){const me=de(l)?l.call(n):l;Reflect.ownKeys(me).forEach(ee=>{Zn(ee,me[ee])})}h&&np(h,t,"c");function re(me,ee){le(ee)?ee.forEach(Ne=>me(Ne.bind(n))):ee&&me(ee.bind(n))}if(re(vI,d),re(qr,p),re(EI,g),re(M_,E),re(D_,_),re(V_,C),re(U_,w),re(II,U),re(TI,I),re(ta,b),re(L_,O),re(wI,v),le(R))if(R.length){const me=t.exposed||(t.exposed={});R.forEach(ee=>{Object.defineProperty(me,ee,{get:()=>n[ee],set:Ne=>n[ee]=Ne,enumerable:!0})})}else t.exposed||(t.exposed={});V&&t.render===On&&(t.render=V),k!=null&&(t.inheritAttrs=k),N&&(t.components=N),A&&(t.directives=A),v&&Wh(t)}function kI(t,e,n=On){le(t)&&(t=Vu(t));for(const r in t){const s=t[r];let i;Le(s)?"default"in s?i=Rt(s.from||r,s.default,!0):i=Rt(s.from||r):i=Rt(s),ct(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function np(t,e,n){vn(le(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function $_(t,e,n,r){let s=r.includes(".")?R_(n,r):()=>n[r];if(Ke(t)){const i=e[t];de(i)&&Ur(s,i)}else if(de(t))Ur(s,t.bind(n));else if(Le(t))if(le(t))t.forEach(i=>$_(i,e,n,r));else{const i=de(t.handler)?t.handler.bind(n):e[t.handler];de(i)&&Ur(s,i,t)}}function H_(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(u=>dc(l,u,o,!0)),dc(l,e,o)),Le(e)&&i.set(e,l),l}function dc(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&dc(t,i,n,!0),s&&s.forEach(o=>dc(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=NI[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const NI={data:rp,props:sp,emits:sp,methods:uo,computed:uo,beforeCreate:Mt,created:Mt,beforeMount:Mt,mounted:Mt,beforeUpdate:Mt,updated:Mt,beforeDestroy:Mt,beforeUnmount:Mt,destroyed:Mt,unmounted:Mt,activated:Mt,deactivated:Mt,errorCaptured:Mt,serverPrefetch:Mt,components:uo,directives:uo,watch:DI,provide:rp,inject:OI};function rp(t,e){return e?t?function(){return Et(de(t)?t.call(this,this):t,de(e)?e.call(this,this):e)}:e:t}function OI(t,e){return uo(Vu(t),Vu(e))}function Vu(t){if(le(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Mt(t,e){return t?[...new Set([].concat(t,e))]:e}function uo(t,e){return t?Et(Object.create(null),t,e):e}function sp(t,e){return t?le(t)&&le(e)?[...new Set([...t,...e])]:Et(Object.create(null),tp(t),tp(e??{})):e}function DI(t,e){if(!t)return e;if(!e)return t;const n=Et(Object.create(null),t);for(const r in e)n[r]=Mt(t[r],e[r]);return n}function j_(){return{app:null,config:{isNativeTag:Jg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let VI=0;function xI(t,e){return function(r,s=null){de(r)||(r=Et({},r)),s!=null&&!Le(s)&&(s=null);const i=j_(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:VI++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:db,get config(){return i.config},set config(h){},use(h,...d){return o.has(h)||(h&&de(h.install)?(o.add(h),h.install(u,...d)):de(h)&&(o.add(h),h(u,...d))),u},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),u},component(h,d){return d?(i.components[h]=d,u):i.components[h]},directive(h,d){return d?(i.directives[h]=d,u):i.directives[h]},mount(h,d,p){if(!l){const g=u._ceVNode||he(r,s);return g.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),d&&e?e(g,h):t(g,h,p),l=!0,u._container=h,h.__vue_app__=u,el(g.component)}},onUnmount(h){a.push(h)},unmount(){l&&(vn(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(h,d){return i.provides[h]=d,u},runWithContext(h){const d=vs;vs=u;try{return h()}finally{vs=d}}};return u}}let vs=null;const MI=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${cn(e)}Modifiers`]||t[`${xs(e)}Modifiers`];function LI(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Be;let s=n;const i=e.startsWith("update:"),o=i&&MI(r,e.slice(7));o&&(o.trim&&(s=n.map(h=>Ke(h)?h.trim():h)),o.number&&(s=n.map(Wc)));let a,l=r[a=ql(e)]||r[a=ql(cn(e))];!l&&i&&(l=r[a=ql(xs(e))]),l&&vn(l,t,6,s);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,vn(u,t,6,s)}}const UI=new WeakMap;function q_(t,e,n=!1){const r=n?UI:e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!de(t)){const l=u=>{const h=q_(u,e,!0);h&&(a=!0,Et(o,h))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Le(t)&&r.set(t,null),null):(le(i)?i.forEach(l=>o[l]=null):Et(o,i),Le(t)&&r.set(t,o),o)}function Xc(t,e){return!t||!Jo(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ve(t,e[0].toLowerCase()+e.slice(1))||Ve(t,xs(e))||Ve(t,e))}function Xl(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:h,props:d,data:p,setupState:g,ctx:E,inheritAttrs:_}=t,C=uc(t);let S,b;try{if(n.shapeFlag&4){const O=s||r,V=O;S=zt(u.call(V,O,h,d,g,p,E)),b=a}else{const O=e;S=zt(O.length>1?O(d,{attrs:a,slots:o,emit:l}):O(d,null)),b=e.props?a:BI(a)}}catch(O){wo.length=0,Di(O,t,1),S=he(it)}let y=S;if(b&&_!==!1){const O=Object.keys(b),{shapeFlag:V}=y;O.length&&V&7&&(i&&O.some(Oh)&&(b=$I(b,i)),y=an(y,b,!1,!0))}return n.dirs&&(y=an(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&_i(y,n.transition),S=y,uc(C),S}function FI(t,e=!0){let n;for(let r=0;r<t.length;r++){const s=t[r];if(As(s)){if(s.type!==it||s.children==="v-if"){if(n)return;n=s}}else return}return n}const BI=t=>{let e;for(const n in t)(n==="class"||n==="style"||Jo(n))&&((e||(e={}))[n]=t[n]);return e},$I=(t,e)=>{const n={};for(const r in t)(!Oh(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function HI(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?ip(r,o,u):!!o;if(l&8){const h=e.dynamicProps;for(let d=0;d<h.length;d++){const p=h[d];if(o[p]!==r[p]&&!Xc(u,p))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?ip(r,o,u):!0:!!o;return!1}function ip(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!Xc(n,i))return!0}return!1}function Zc({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const W_={},G_=()=>Object.create(W_),K_=t=>Object.getPrototypeOf(t)===W_;function jI(t,e,n,r=!1){const s={},i=G_();t.propsDefaults=Object.create(null),z_(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:Nn(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function qI(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=Pe(s),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let d=0;d<h.length;d++){let p=h[d];if(Xc(t.emitsOptions,p))continue;const g=e[p];if(l)if(Ve(i,p))g!==i[p]&&(i[p]=g,u=!0);else{const E=cn(p);s[E]=xu(l,a,E,g,t,!1)}else g!==i[p]&&(i[p]=g,u=!0)}}}else{z_(t,e,s,i)&&(u=!0);let h;for(const d in a)(!e||!Ve(e,d)&&((h=xs(d))===d||!Ve(e,h)))&&(l?n&&(n[d]!==void 0||n[h]!==void 0)&&(s[d]=xu(l,a,d,void 0,t,!0)):delete s[d]);if(i!==a)for(const d in i)(!e||!Ve(e,d))&&(delete i[d],u=!0)}u&&zn(t.attrs,"set","")}function z_(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(ii(l))continue;const u=e[l];let h;s&&Ve(s,h=cn(l))?!i||!i.includes(h)?n[h]=u:(a||(a={}))[h]=u:Xc(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=Pe(n),u=a||Be;for(let h=0;h<i.length;h++){const d=i[h];n[d]=xu(s,l,d,u[d],t,!Ve(u,d))}}return o}function xu(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=Ve(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&de(l)){const{propsDefaults:u}=s;if(n in u)r=u[n];else{const h=na(s);r=u[n]=l.call(null,e),h()}}else r=l;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===xs(n))&&(r=!0))}return r}const WI=new WeakMap;function Q_(t,e,n=!1){const r=n?WI:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let l=!1;if(!de(t)){const h=d=>{l=!0;const[p,g]=Q_(d,e,!0);Et(o,p),g&&a.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!i&&!l)return Le(t)&&r.set(t,ri),ri;if(le(i))for(let h=0;h<i.length;h++){const d=cn(i[h]);op(d)&&(o[d]=Be)}else if(i)for(const h in i){const d=cn(h);if(op(d)){const p=i[h],g=o[d]=le(p)||de(p)?{type:p}:Et({},p),E=g.type;let _=!1,C=!0;if(le(E))for(let S=0;S<E.length;++S){const b=E[S],y=de(b)&&b.name;if(y==="Boolean"){_=!0;break}else y==="String"&&(C=!1)}else _=de(E)&&E.name==="Boolean";g[0]=_,g[1]=C,(_||Ve(g,"default"))&&a.push(d)}}const u=[o,a];return Le(t)&&r.set(t,u),u}function op(t){return t[0]!=="$"&&!ii(t)}const zh=t=>t==="_"||t==="_ctx"||t==="$stable",Qh=t=>le(t)?t.map(zt):[zt(t)],GI=(t,e,n)=>{if(e._n)return e;const r=on((...s)=>Qh(e(...s)),n);return r._c=!1,r},Y_=(t,e,n)=>{const r=t._ctx;for(const s in t){if(zh(s))continue;const i=t[s];if(de(i))e[s]=GI(s,i,r);else if(i!=null){const o=Qh(i);e[s]=()=>o}}},J_=(t,e)=>{const n=Qh(e);t.slots.default=()=>n},X_=(t,e,n)=>{for(const r in e)(n||!zh(r))&&(t[r]=e[r])},KI=(t,e,n)=>{const r=t.slots=G_();if(t.vnode.shapeFlag&32){const s=e._;s?(X_(r,e,n),n&&e_(r,"_",s,!0)):Y_(e,r)}else e&&J_(t,e)},zI=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=Be;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:X_(s,e,n):(i=!e.$stable,Y_(e,s)),o=e}else e&&(J_(t,e),o={default:1});if(i)for(const a in s)!zh(a)&&o[a]==null&&delete s[a]},gt=iy;function QI(t){return Z_(t)}function YI(t){return Z_(t,dI)}function Z_(t,e){const n=Gc();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:h,parentNode:d,nextSibling:p,setScopeId:g=On,insertStaticContent:E}=t,_=(P,D,M,q=null,F=null,W=null,z=void 0,K=null,Q=!!D.dynamicChildren)=>{if(P===D)return;P&&!hn(P,D)&&(q=$(P),Tt(P,F,W,!0),P=null),D.patchFlag===-2&&(Q=!1,D.dynamicChildren=null);const{type:G,ref:ue,shapeFlag:Z}=D;switch(G){case Es:C(P,D,M,q);break;case it:S(P,D,M,q);break;case Eo:P==null&&b(D,M,q,z);break;case We:N(P,D,M,q,F,W,z,K,Q);break;default:Z&1?V(P,D,M,q,F,W,z,K,Q):Z&6?A(P,D,M,q,F,W,z,K,Q):(Z&64||Z&128)&&G.process(P,D,M,q,F,W,z,K,Q,oe)}ue!=null&&F?ci(ue,P&&P.ref,W,D||P,!D):ue==null&&P&&P.ref!=null&&ci(P.ref,null,W,P,!0)},C=(P,D,M,q)=>{if(P==null)r(D.el=a(D.children),M,q);else{const F=D.el=P.el;D.children!==P.children&&u(F,D.children)}},S=(P,D,M,q)=>{P==null?r(D.el=l(D.children||""),M,q):D.el=P.el},b=(P,D,M,q)=>{[P.el,P.anchor]=E(P.children,D,M,q,P.el,P.anchor)},y=({el:P,anchor:D},M,q)=>{let F;for(;P&&P!==D;)F=p(P),r(P,M,q),P=F;r(D,M,q)},O=({el:P,anchor:D})=>{let M;for(;P&&P!==D;)M=p(P),s(P),P=M;s(D)},V=(P,D,M,q,F,W,z,K,Q)=>{if(D.type==="svg"?z="svg":D.type==="math"&&(z="mathml"),P==null)U(D,M,q,F,W,z,K,Q);else{const G=P.el&&P.el._isVueCE?P.el:null;try{G&&G._beginPatch(),v(P,D,F,W,z,K,Q)}finally{G&&G._endPatch()}}},U=(P,D,M,q,F,W,z,K)=>{let Q,G;const{props:ue,shapeFlag:Z,transition:se,dirs:ge}=P;if(Q=P.el=o(P.type,W,ue&&ue.is,ue),Z&8?h(Q,P.children):Z&16&&w(P.children,Q,null,q,F,Zl(P,W),z,K),ge&&Pn(P,null,q,"created"),I(Q,P,P.scopeId,z,q),ue){for(const Oe in ue)Oe!=="value"&&!ii(Oe)&&i(Q,Oe,null,ue[Oe],W,q);"value"in ue&&i(Q,"value",null,ue.value,W),(G=ue.onVnodeBeforeMount)&&Bt(G,q,P)}ge&&Pn(P,null,q,"beforeMount");const Ie=ey(F,se);Ie&&se.beforeEnter(Q),r(Q,D,M),((G=ue&&ue.onVnodeMounted)||Ie||ge)&&gt(()=>{G&&Bt(G,q,P),Ie&&se.enter(Q),ge&&Pn(P,null,q,"mounted")},F)},I=(P,D,M,q,F)=>{if(M&&g(P,M),q)for(let W=0;W<q.length;W++)g(P,q[W]);if(F){let W=F.subTree;if(D===W||mc(W.type)&&(W.ssContent===D||W.ssFallback===D)){const z=F.vnode;I(P,z,z.scopeId,z.slotScopeIds,F.parent)}}},w=(P,D,M,q,F,W,z,K,Q=0)=>{for(let G=Q;G<P.length;G++){const ue=P[G]=K?Sr(P[G]):zt(P[G]);_(null,ue,D,M,q,F,W,z,K)}},v=(P,D,M,q,F,W,z)=>{const K=D.el=P.el;let{patchFlag:Q,dynamicChildren:G,dirs:ue}=D;Q|=P.patchFlag&16;const Z=P.props||Be,se=D.props||Be;let ge;if(M&&os(M,!1),(ge=se.onVnodeBeforeUpdate)&&Bt(ge,M,D,P),ue&&Pn(D,P,M,"beforeUpdate"),M&&os(M,!0),(Z.innerHTML&&se.innerHTML==null||Z.textContent&&se.textContent==null)&&h(K,""),G?R(P.dynamicChildren,G,K,M,q,Zl(D,F),W):z||ee(P,D,K,null,M,q,Zl(D,F),W,!1),Q>0){if(Q&16)k(K,Z,se,M,F);else if(Q&2&&Z.class!==se.class&&i(K,"class",null,se.class,F),Q&4&&i(K,"style",Z.style,se.style,F),Q&8){const Ie=D.dynamicProps;for(let Oe=0;Oe<Ie.length;Oe++){const ke=Ie[Oe],Ct=Z[ke],ut=se[ke];(ut!==Ct||ke==="value")&&i(K,ke,Ct,ut,F,M)}}Q&1&&P.children!==D.children&&h(K,D.children)}else!z&&G==null&&k(K,Z,se,M,F);((ge=se.onVnodeUpdated)||ue)&&gt(()=>{ge&&Bt(ge,M,D,P),ue&&Pn(D,P,M,"updated")},q)},R=(P,D,M,q,F,W,z)=>{for(let K=0;K<D.length;K++){const Q=P[K],G=D[K],ue=Q.el&&(Q.type===We||!hn(Q,G)||Q.shapeFlag&198)?d(Q.el):M;_(Q,G,ue,null,q,F,W,z,!0)}},k=(P,D,M,q,F)=>{if(D!==M){if(D!==Be)for(const W in D)!ii(W)&&!(W in M)&&i(P,W,D[W],null,F,q);for(const W in M){if(ii(W))continue;const z=M[W],K=D[W];z!==K&&W!=="value"&&i(P,W,K,z,F,q)}"value"in M&&i(P,"value",D.value,M.value,F)}},N=(P,D,M,q,F,W,z,K,Q)=>{const G=D.el=P?P.el:a(""),ue=D.anchor=P?P.anchor:a("");let{patchFlag:Z,dynamicChildren:se,slotScopeIds:ge}=D;ge&&(K=K?K.concat(ge):ge),P==null?(r(G,M,q),r(ue,M,q),w(D.children||[],M,ue,F,W,z,K,Q)):Z>0&&Z&64&&se&&P.dynamicChildren&&P.dynamicChildren.length===se.length?(R(P.dynamicChildren,se,M,F,W,z,K),(D.key!=null||F&&D===F.subTree)&&ty(P,D,!0)):ee(P,D,M,ue,F,W,z,K,Q)},A=(P,D,M,q,F,W,z,K,Q)=>{D.slotScopeIds=K,P==null?D.shapeFlag&512?F.ctx.activate(D,M,q,z,Q):ce(D,M,q,F,W,z,Q):Te(P,D,Q)},ce=(P,D,M,q,F,W,z)=>{const K=P.component=ab(P,q,F);if(ea(P)&&(K.ctx.renderer=oe),cb(K,!1,z),K.asyncDep){if(F&&F.registerDep(K,re,z),!P.el){const Q=K.subTree=he(it);S(null,Q,D,M),P.placeholder=Q.el}}else re(K,P,D,M,F,W,z)},Te=(P,D,M)=>{const q=D.component=P.component;if(HI(P,D,M))if(q.asyncDep&&!q.asyncResolved){me(q,D,M);return}else q.next=D,q.update();else D.el=P.el,q.vnode=D},re=(P,D,M,q,F,W,z)=>{const K=()=>{if(P.isMounted){let{next:Z,bu:se,u:ge,parent:Ie,vnode:Oe}=P;{const ht=ny(P);if(ht){Z&&(Z.el=Oe.el,me(P,Z,z)),ht.asyncDep.then(()=>{P.isUnmounted||K()});return}}let ke=Z,Ct;os(P,!1),Z?(Z.el=Oe.el,me(P,Z,z)):Z=Oe,se&&oi(se),(Ct=Z.props&&Z.props.onVnodeBeforeUpdate)&&Bt(Ct,Ie,Z,Oe),os(P,!0);const ut=Xl(P),Ft=P.subTree;P.subTree=ut,_(Ft,ut,d(Ft.el),$(Ft),P,F,W),Z.el=ut.el,ke===null&&Zc(P,ut.el),ge&&gt(ge,F),(Ct=Z.props&&Z.props.onVnodeUpdated)&&gt(()=>Bt(Ct,Ie,Z,Oe),F)}else{let Z;const{el:se,props:ge}=D,{bm:Ie,m:Oe,parent:ke,root:Ct,type:ut}=P,Ft=er(D);if(os(P,!1),Ie&&oi(Ie),!Ft&&(Z=ge&&ge.onVnodeBeforeMount)&&Bt(Z,ke,D),os(P,!0),se&&Ue){const ht=()=>{P.subTree=Xl(P),Ue(se,P.subTree,P,F,null)};Ft&&ut.__asyncHydrate?ut.__asyncHydrate(se,P,ht):ht()}else{Ct.ce&&Ct.ce._def.shadowRoot!==!1&&Ct.ce._injectChildStyle(ut);const ht=P.subTree=Xl(P);_(null,ht,M,q,P,F,W),D.el=ht.el}if(Oe&&gt(Oe,F),!Ft&&(Z=ge&&ge.onVnodeMounted)){const ht=D;gt(()=>Bt(Z,ke,ht),F)}(D.shapeFlag&256||ke&&er(ke.vnode)&&ke.vnode.shapeFlag&256)&&P.a&&gt(P.a,F),P.isMounted=!0,D=M=q=null}};P.scope.on();const Q=P.effect=new o_(K);P.scope.off();const G=P.update=Q.run.bind(Q),ue=P.job=Q.runIfDirty.bind(Q);ue.i=P,ue.id=P.uid,Q.scheduler=()=>jh(ue),os(P,!0),G()},me=(P,D,M)=>{D.component=P;const q=P.vnode.props;P.vnode=D,P.next=null,qI(P,D.props,q,M),zI(P,D.children,M),ir(),Qd(P),or()},ee=(P,D,M,q,F,W,z,K,Q=!1)=>{const G=P&&P.children,ue=P?P.shapeFlag:0,Z=D.children,{patchFlag:se,shapeFlag:ge}=D;if(se>0){if(se&128){An(G,Z,M,q,F,W,z,K,Q);return}else if(se&256){Ne(G,Z,M,q,F,W,z,K,Q);return}}ge&8?(ue&16&&St(G,F,W),Z!==G&&h(M,Z)):ue&16?ge&16?An(G,Z,M,q,F,W,z,K,Q):St(G,F,W,!0):(ue&8&&h(M,""),ge&16&&w(Z,M,q,F,W,z,K,Q))},Ne=(P,D,M,q,F,W,z,K,Q)=>{P=P||ri,D=D||ri;const G=P.length,ue=D.length,Z=Math.min(G,ue);let se;for(se=0;se<Z;se++){const ge=D[se]=Q?Sr(D[se]):zt(D[se]);_(P[se],ge,M,null,F,W,z,K,Q)}G>ue?St(P,F,W,!0,!1,Z):w(D,M,q,F,W,z,K,Q,Z)},An=(P,D,M,q,F,W,z,K,Q)=>{let G=0;const ue=D.length;let Z=P.length-1,se=ue-1;for(;G<=Z&&G<=se;){const ge=P[G],Ie=D[G]=Q?Sr(D[G]):zt(D[G]);if(hn(ge,Ie))_(ge,Ie,M,null,F,W,z,K,Q);else break;G++}for(;G<=Z&&G<=se;){const ge=P[Z],Ie=D[se]=Q?Sr(D[se]):zt(D[se]);if(hn(ge,Ie))_(ge,Ie,M,null,F,W,z,K,Q);else break;Z--,se--}if(G>Z){if(G<=se){const ge=se+1,Ie=ge<ue?D[ge].el:q;for(;G<=se;)_(null,D[G]=Q?Sr(D[G]):zt(D[G]),M,Ie,F,W,z,K,Q),G++}}else if(G>se)for(;G<=Z;)Tt(P[G],F,W,!0),G++;else{const ge=G,Ie=G,Oe=new Map;for(G=Ie;G<=se;G++){const tt=D[G]=Q?Sr(D[G]):zt(D[G]);tt.key!=null&&Oe.set(tt.key,G)}let ke,Ct=0;const ut=se-Ie+1;let Ft=!1,ht=0;const Hn=new Array(ut);for(G=0;G<ut;G++)Hn[G]=0;for(G=ge;G<=Z;G++){const tt=P[G];if(Ct>=ut){Tt(tt,F,W,!0);continue}let Gt;if(tt.key!=null)Gt=Oe.get(tt.key);else for(ke=Ie;ke<=se;ke++)if(Hn[ke-Ie]===0&&hn(tt,D[ke])){Gt=ke;break}Gt===void 0?Tt(tt,F,W,!0):(Hn[Gt-Ie]=G+1,Gt>=ht?ht=Gt:Ft=!0,_(tt,D[Gt],M,null,F,W,z,K,Q),Ct++)}const Hs=Ft?JI(Hn):ri;for(ke=Hs.length-1,G=ut-1;G>=0;G--){const tt=Ie+G,Gt=D[tt],ts=D[tt+1],ji=tt+1<ue?ts.el||ry(ts):q;Hn[G]===0?_(null,Gt,M,ji,F,W,z,K,Q):Ft&&(ke<0||G!==Hs[ke]?Wt(Gt,M,ji,2):ke--)}}},Wt=(P,D,M,q,F=null)=>{const{el:W,type:z,transition:K,children:Q,shapeFlag:G}=P;if(G&6){Wt(P.component.subTree,D,M,q);return}if(G&128){P.suspense.move(D,M,q);return}if(G&64){z.move(P,D,M,oe);return}if(z===We){r(W,D,M);for(let Z=0;Z<Q.length;Z++)Wt(Q[Z],D,M,q);r(P.anchor,D,M);return}if(z===Eo){y(P,D,M);return}if(q!==2&&G&1&&K)if(q===0)K.beforeEnter(W),r(W,D,M),gt(()=>K.enter(W),F);else{const{leave:Z,delayLeave:se,afterLeave:ge}=K,Ie=()=>{P.ctx.isUnmounted?s(W):r(W,D,M)},Oe=()=>{W._isLeaving&&W[Kn](!0),Z(W,()=>{Ie(),ge&&ge()})};se?se(W,Ie,Oe):Oe()}else r(W,D,M)},Tt=(P,D,M,q=!1,F=!1)=>{const{type:W,props:z,ref:K,children:Q,dynamicChildren:G,shapeFlag:ue,patchFlag:Z,dirs:se,cacheIndex:ge}=P;if(Z===-2&&(F=!1),K!=null&&(ir(),ci(K,null,M,P,!0),or()),ge!=null&&(D.renderCache[ge]=void 0),ue&256){D.ctx.deactivate(P);return}const Ie=ue&1&&se,Oe=!er(P);let ke;if(Oe&&(ke=z&&z.onVnodeBeforeUnmount)&&Bt(ke,D,P),ue&6)un(P.component,M,q);else{if(ue&128){P.suspense.unmount(M,q);return}Ie&&Pn(P,null,D,"beforeUnmount"),ue&64?P.type.remove(P,D,M,oe,q):G&&!G.hasOnce&&(W!==We||Z>0&&Z&64)?St(G,D,M,!1,!0):(W===We&&Z&384||!F&&ue&16)&&St(Q,D,M),q&&$n(P)}(Oe&&(ke=z&&z.onVnodeUnmounted)||Ie)&&gt(()=>{ke&&Bt(ke,D,P),Ie&&Pn(P,null,D,"unmounted")},M)},$n=P=>{const{type:D,el:M,anchor:q,transition:F}=P;if(D===We){ln(M,q);return}if(D===Eo){O(P);return}const W=()=>{s(M),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(P.shapeFlag&1&&F&&!F.persisted){const{leave:z,delayLeave:K}=F,Q=()=>z(M,W);K?K(P.el,W,Q):Q()}else W()},ln=(P,D)=>{let M;for(;P!==D;)M=p(P),s(P),P=M;s(D)},un=(P,D,M)=>{const{bum:q,scope:F,job:W,subTree:z,um:K,m:Q,a:G}=P;pc(Q),pc(G),q&&oi(q),F.stop(),W&&(W.flags|=8,Tt(z,P,D,M)),K&&gt(K,D),gt(()=>{P.isUnmounted=!0},D)},St=(P,D,M,q=!1,F=!1,W=0)=>{for(let z=W;z<P.length;z++)Tt(P[z],D,M,q,F)},$=P=>{if(P.shapeFlag&6)return $(P.component.subTree);if(P.shapeFlag&128)return P.suspense.next();const D=p(P.anchor||P.el),M=D&&D[aI];return M?p(M):D};let te=!1;const J=(P,D,M)=>{let q;P==null?D._vnode&&(Tt(D._vnode,null,null,!0),q=D._vnode.component):_(D._vnode||null,P,D,null,null,null,M),D._vnode=P,te||(te=!0,Qd(q),lc(),te=!1)},oe={p:_,um:Tt,m:Wt,r:$n,mt:ce,mc:w,pc:ee,pbc:R,n:$,o:t};let we,Ue;return e&&([we,Ue]=e(oe)),{render:J,hydrate:we,createApp:xI(J,we)}}function Zl({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function os({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function ey(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function ty(t,e,n=!1){const r=t.children,s=e.children;if(le(r)&&le(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=Sr(s[i]),a.el=o.el),!n&&a.patchFlag!==-2&&ty(o,a)),a.type===Es&&(a.patchFlag!==-1?a.el=o.el:a.__elIndex=i+(t.type===We?1:0)),a.type===it&&!a.el&&(a.el=o.el)}}function JI(t){const e=t.slice(),n=[0];let r,s,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(s=n[n.length-1],t[s]<u){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<u?i=a+1:o=a;u<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function ny(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:ny(e)}function pc(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}function ry(t){if(t.placeholder)return t.placeholder;const e=t.component;return e?ry(e.subTree):null}const mc=t=>t.__isSuspense;let Mu=0;const XI={name:"Suspense",__isSuspense:!0,process(t,e,n,r,s,i,o,a,l,u){if(t==null)ZI(e,n,r,s,i,o,a,l,u);else{if(i&&i.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}eb(t,e,n,r,s,o,a,l,u)}},hydrate:tb,normalize:nb},Yh=XI;function xo(t,e){const n=t.props&&t.props[e];de(n)&&n()}function ZI(t,e,n,r,s,i,o,a,l){const{p:u,o:{createElement:h}}=l,d=h("div"),p=t.suspense=sy(t,s,r,e,d,n,i,o,a,l);u(null,p.pendingBranch=t.ssContent,d,null,r,p,i,o),p.deps>0?(xo(t,"onPending"),xo(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,i,o),li(p,t.ssFallback)):p.resolve(!1,!0)}function eb(t,e,n,r,s,i,o,a,{p:l,um:u,o:{createElement:h}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const p=e.ssContent,g=e.ssFallback,{activeBranch:E,pendingBranch:_,isInFallback:C,isHydrating:S}=d;if(_)d.pendingBranch=p,hn(_,p)?(l(_,p,d.hiddenContainer,null,s,d,i,o,a),d.deps<=0?d.resolve():C&&(S||(l(E,g,n,r,s,null,i,o,a),li(d,g)))):(d.pendingId=Mu++,S?(d.isHydrating=!1,d.activeBranch=_):u(_,s,d),d.deps=0,d.effects.length=0,d.hiddenContainer=h("div"),C?(l(null,p,d.hiddenContainer,null,s,d,i,o,a),d.deps<=0?d.resolve():(l(E,g,n,r,s,null,i,o,a),li(d,g))):E&&hn(E,p)?(l(E,p,n,r,s,d,i,o,a),d.resolve(!0)):(l(null,p,d.hiddenContainer,null,s,d,i,o,a),d.deps<=0&&d.resolve()));else if(E&&hn(E,p))l(E,p,n,r,s,d,i,o,a),li(d,p);else if(xo(e,"onPending"),d.pendingBranch=p,p.shapeFlag&512?d.pendingId=p.component.suspenseId:d.pendingId=Mu++,l(null,p,d.hiddenContainer,null,s,d,i,o,a),d.deps<=0)d.resolve();else{const{timeout:b,pendingId:y}=d;b>0?setTimeout(()=>{d.pendingId===y&&d.fallback(g)},b):b===0&&d.fallback(g)}}function sy(t,e,n,r,s,i,o,a,l,u,h=!1){const{p:d,m:p,um:g,n:E,o:{parentNode:_,remove:C}}=u;let S;const b=rb(t);b&&e&&e.pendingBranch&&(S=e.pendingId,e.deps++);const y=t.props?t_(t.props.timeout):void 0,O=i,V={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:s,deps:0,pendingId:Mu++,timeout:typeof y=="number"?y:-1,activeBranch:null,pendingBranch:null,isInFallback:!h,isHydrating:h,isUnmounted:!1,effects:[],resolve(U=!1,I=!1){const{vnode:w,activeBranch:v,pendingBranch:R,pendingId:k,effects:N,parentComponent:A,container:ce,isInFallback:Te}=V;let re=!1;V.isHydrating?V.isHydrating=!1:U||(re=v&&R.transition&&R.transition.mode==="out-in",re&&(v.transition.afterLeave=()=>{k===V.pendingId&&(p(R,ce,i===O?E(v):i,0),ku(N),Te&&w.ssFallback&&(w.ssFallback.el=null))}),v&&(_(v.el)===ce&&(i=E(v)),g(v,A,V,!0),!re&&Te&&w.ssFallback&&gt(()=>w.ssFallback.el=null,V)),re||p(R,ce,i,0)),li(V,R),V.pendingBranch=null,V.isInFallback=!1;let me=V.parent,ee=!1;for(;me;){if(me.pendingBranch){me.effects.push(...N),ee=!0;break}me=me.parent}!ee&&!re&&ku(N),V.effects=[],b&&e&&e.pendingBranch&&S===e.pendingId&&(e.deps--,e.deps===0&&!I&&e.resolve()),xo(w,"onResolve")},fallback(U){if(!V.pendingBranch)return;const{vnode:I,activeBranch:w,parentComponent:v,container:R,namespace:k}=V;xo(I,"onFallback");const N=E(w),A=()=>{V.isInFallback&&(d(null,U,R,N,v,null,k,a,l),li(V,U))},ce=U.transition&&U.transition.mode==="out-in";ce&&(w.transition.afterLeave=A),V.isInFallback=!0,g(w,v,null,!0),ce||A()},move(U,I,w){V.activeBranch&&p(V.activeBranch,U,I,w),V.container=U},next(){return V.activeBranch&&E(V.activeBranch)},registerDep(U,I,w){const v=!!V.pendingBranch;v&&V.deps++;const R=U.vnode.el;U.asyncDep.catch(k=>{Di(k,U,0)}).then(k=>{if(U.isUnmounted||V.isUnmounted||V.pendingId!==U.suspenseId)return;U.asyncResolved=!0;const{vnode:N}=U;Uu(U,k),R&&(N.el=R);const A=!R&&U.subTree.el;I(U,N,_(R||U.subTree.el),R?null:E(U.subTree),V,o,w),A&&(N.placeholder=null,C(A)),Zc(U,N.el),v&&--V.deps===0&&V.resolve()})},unmount(U,I){V.isUnmounted=!0,V.activeBranch&&g(V.activeBranch,n,U,I),V.pendingBranch&&g(V.pendingBranch,n,U,I)}};return V}function tb(t,e,n,r,s,i,o,a,l){const u=e.suspense=sy(e,r,n,t.parentNode,document.createElement("div"),null,s,i,o,a,!0),h=l(t,u.pendingBranch=e.ssContent,n,u,i,o);return u.deps===0&&u.resolve(!1,!0),h}function nb(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=ap(r?n.default:n),t.ssFallback=r?ap(n.fallback):he(it)}function ap(t){let e;if(de(t)){const n=yi&&t._c;n&&(t._d=!1,_e()),t=t(),n&&(t._d=!0,e=jt,oy())}return le(t)&&(t=FI(t)),t=zt(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function iy(t,e){e&&e.pendingBranch?le(t)?e.effects.push(...t):e.effects.push(t):ku(t)}function li(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;n.el=s,r&&r.subTree===n&&(r.vnode.el=s,Zc(r,s))}function rb(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const We=Symbol.for("v-fgt"),Es=Symbol.for("v-txt"),it=Symbol.for("v-cmt"),Eo=Symbol.for("v-stc"),wo=[];let jt=null;function _e(t=!1){wo.push(jt=t?null:[])}function oy(){wo.pop(),jt=wo[wo.length-1]||null}let yi=1;function gc(t,e=!1){yi+=t,t<0&&jt&&e&&(jt.hasOnce=!0)}function ay(t){return t.dynamicChildren=yi>0?jt||ri:null,oy(),yi>0&&jt&&jt.push(t),t}function Ce(t,e,n,r,s,i){return ay(H(t,e,n,r,s,i,!0))}function Qt(t,e,n,r,s){return ay(he(t,e,n,r,s,!0))}function As(t){return t?t.__v_isVNode===!0:!1}function hn(t,e){return t.type===e.type&&t.key===e.key}const cy=({key:t})=>t??null,Ka=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ke(t)||ct(t)||de(t)?{i:At,r:t,k:e,f:!!n}:t:null);function H(t,e=null,n=null,r=0,s=null,i=t===We?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&cy(e),ref:e&&Ka(e),scopeId:A_,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:At};return a?(Jh(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=Ke(n)?8:16),yi>0&&!o&&jt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&jt.push(l),l}const he=sb;function sb(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===F_)&&(t=it),As(t)){const a=an(t,e,!0);return n&&Jh(a,n),yi>0&&!i&&jt&&(a.shapeFlag&6?jt[jt.indexOf(t)]=a:jt.push(a)),a.patchFlag=-2,a}if(fb(t)&&(t=t.__vccOpts),e){e=ly(e);let{class:a,style:l}=e;a&&!Ke(a)&&(e.class=Zt(a)),Le(l)&&(Qc(l)&&!le(l)&&(l=Et({},l)),e.style=Kc(l))}const o=Ke(t)?1:mc(t)?128:S_(t)?64:Le(t)?4:de(t)?2:0;return H(t,e,n,r,s,o,i,!0)}function ly(t){return t?Qc(t)||K_(t)?Et({},t):t:null}function an(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?hy(s||{},e):s,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&cy(u),ref:e&&e.ref?n&&i?le(i)?i.concat(Ka(e)):[i,Ka(e)]:Ka(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==We?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&an(t.ssContent),ssFallback:t.ssFallback&&an(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&_i(h,l.clone(h)),h}function Je(t=" ",e=0){return he(Es,null,t,e)}function uy(t,e){const n=he(Eo,null,t);return n.staticCount=e,n}function Rs(t="",e=!1){return e?(_e(),Qt(it,null,t)):he(it,null,t)}function zt(t){return t==null||typeof t=="boolean"?he(it):le(t)?he(We,null,t.slice()):As(t)?Sr(t):he(Es,null,String(t))}function Sr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:an(t)}function Jh(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(le(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Jh(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!K_(e)?e._ctx=At:s===3&&At&&(At.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else de(e)?(e={default:e,_ctx:At},n=32):(e=String(e),r&64?(n=16,e=[Je(e)]):n=8);t.children=e,t.shapeFlag|=n}function hy(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Zt([e.class,r.class]));else if(s==="style")e.style=Kc([e.style,r.style]);else if(Jo(s)){const i=e[s],o=r[s];o&&i!==o&&!(le(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function Bt(t,e,n,r=null){vn(t,e,7,[n,r])}const ib=j_();let ob=0;function ab(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||ib,i={uid:ob++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new i_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Q_(r,s),emitsOptions:q_(r,s),emit:null,emitted:null,propsDefaults:Be,inheritAttrs:r.inheritAttrs,ctx:Be,data:Be,props:Be,attrs:Be,slots:Be,refs:Be,setupState:Be,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=LI.bind(null,i),t.ce&&t.ce(i),i}let bt=null;const Ms=()=>bt||At;let _c,Lu;{const t=Gc(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};_c=e("__VUE_INSTANCE_SETTERS__",n=>bt=n),Lu=e("__VUE_SSR_SETTERS__",n=>vi=n)}const na=t=>{const e=bt;return _c(t),t.scope.on(),()=>{t.scope.off(),_c(e)}},cp=()=>{bt&&bt.scope.off(),_c(null)};function fy(t){return t.vnode.shapeFlag&4}let vi=!1;function cb(t,e=!1,n=!1){e&&Lu(e);const{props:r,children:s}=t.vnode,i=fy(t);jI(t,r,i,e),KI(t,s,n||e);const o=i?lb(t,e):void 0;return e&&Lu(!1),o}function lb(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,CI);const{setup:r}=n;if(r){ir();const s=t.setupContext=r.length>1?hb(t):null,i=na(t),o=Zo(r,t,0,[t.props,s]),a=Vh(o);if(or(),i(),(a||t.sp)&&!er(t)&&Wh(t),a){if(o.then(cp,cp),e)return o.then(l=>{Uu(t,l)}).catch(l=>{Di(l,t,0)});t.asyncDep=o}else Uu(t,o)}else dy(t)}function Uu(t,e,n){de(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Le(e)&&(t.setupState=w_(e)),dy(t)}function dy(t,e,n){const r=t.type;t.render||(t.render=r.render||On);{const s=na(t);ir();try{PI(t)}finally{or(),s()}}}const ub={get(t,e){return Ot(t,"get",""),t[e]}};function hb(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,ub),slots:t.slots,emit:t.emit,expose:e}}function el(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(w_(jT(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in vo)return vo[n](t)},has(e,n){return n in e||n in vo}})):t.proxy}function Fu(t,e=!0){return de(t)?t.displayName||t.name:t.name||e&&t.__name}function fb(t){return de(t)&&"__vccOpts"in t}const Ge=(t,e)=>XT(t,e,vi);function Xe(t,e,n){try{gc(-1);const r=arguments.length;return r===2?Le(e)&&!le(e)?As(e)?he(t,null,[e]):he(t,e):he(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&As(n)&&(n=[n]),he(t,e,n))}finally{gc(1)}}const db="3.5.26";let Bu;const lp=typeof window<"u"&&window.trustedTypes;if(lp)try{Bu=lp.createPolicy("vue",{createHTML:t=>t})}catch{}const py=Bu?t=>Bu.createHTML(t):t=>t,pb="http://www.w3.org/2000/svg",mb="http://www.w3.org/1998/Math/MathML",Gn=typeof document<"u"?document:null,up=Gn&&Gn.createElement("template"),gb={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?Gn.createElementNS(pb,t):e==="mathml"?Gn.createElementNS(mb,t):n?Gn.createElement(t,{is:n}):Gn.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Gn.createTextNode(t),createComment:t=>Gn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Gn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{up.innerHTML=py(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=up.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},wr="transition",io="animation",Mo=Symbol("_vtc"),my={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},_b=Et({},C_,my),yb=t=>(t.displayName="Transition",t.props=_b,t),tl=yb((t,{slots:e})=>Xe(uI,vb(t),e)),as=(t,e=[])=>{le(t)?t.forEach(n=>n(...e)):t&&t(...e)},hp=t=>t?le(t)?t.some(e=>e.length>1):t.length>1:!1;function vb(t){const e={};for(const N in t)N in my||(e[N]=t[N]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:h=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=t,E=Eb(s),_=E&&E[0],C=E&&E[1],{onBeforeEnter:S,onEnter:b,onEnterCancelled:y,onLeave:O,onLeaveCancelled:V,onBeforeAppear:U=S,onAppear:I=b,onAppearCancelled:w=y}=e,v=(N,A,ce,Te)=>{N._enterCancelled=Te,cs(N,A?h:a),cs(N,A?u:o),ce&&ce()},R=(N,A)=>{N._isLeaving=!1,cs(N,d),cs(N,g),cs(N,p),A&&A()},k=N=>(A,ce)=>{const Te=N?I:b,re=()=>v(A,N,ce);as(Te,[A,re]),fp(()=>{cs(A,N?l:i),qn(A,N?h:a),hp(Te)||dp(A,r,_,re)})};return Et(e,{onBeforeEnter(N){as(S,[N]),qn(N,i),qn(N,o)},onBeforeAppear(N){as(U,[N]),qn(N,l),qn(N,u)},onEnter:k(!1),onAppear:k(!0),onLeave(N,A){N._isLeaving=!0;const ce=()=>R(N,A);qn(N,d),N._enterCancelled?(qn(N,p),gp(N)):(gp(N),qn(N,p)),fp(()=>{N._isLeaving&&(cs(N,d),qn(N,g),hp(O)||dp(N,r,C,ce))}),as(O,[N,ce])},onEnterCancelled(N){v(N,!1,void 0,!0),as(y,[N])},onAppearCancelled(N){v(N,!0,void 0,!0),as(w,[N])},onLeaveCancelled(N){R(N),as(V,[N])}})}function Eb(t){if(t==null)return null;if(Le(t))return[eu(t.enter),eu(t.leave)];{const e=eu(t);return[e,e]}}function eu(t){return t_(t)}function qn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Mo]||(t[Mo]=new Set)).add(e)}function cs(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Mo];n&&(n.delete(e),n.size||(t[Mo]=void 0))}function fp(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let wb=0;function dp(t,e,n,r){const s=t._endId=++wb,i=()=>{s===t._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=Tb(t,e);if(!o)return r();const u=o+"end";let h=0;const d=()=>{t.removeEventListener(u,p),i()},p=g=>{g.target===t&&++h>=l&&d()};setTimeout(()=>{h<l&&d()},a+1),t.addEventListener(u,p)}function Tb(t,e){const n=window.getComputedStyle(t),r=E=>(n[E]||"").split(", "),s=r(`${wr}Delay`),i=r(`${wr}Duration`),o=pp(s,i),a=r(`${io}Delay`),l=r(`${io}Duration`),u=pp(a,l);let h=null,d=0,p=0;e===wr?o>0&&(h=wr,d=o,p=i.length):e===io?u>0&&(h=io,d=u,p=l.length):(d=Math.max(o,u),h=d>0?o>u?wr:io:null,p=h?h===wr?i.length:l.length:0);const g=h===wr&&/\b(?:transform|all)(?:,|$)/.test(r(`${wr}Property`).toString());return{type:h,timeout:d,propCount:p,hasTransform:g}}function pp(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>mp(n)+mp(t[r])))}function mp(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function gp(t){return(t?t.ownerDocument:document).body.offsetHeight}function Ib(t,e,n){const r=t[Mo];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const _p=Symbol("_vod"),bb=Symbol("_vsh"),Ab=Symbol(""),Rb=/(?:^|;)\s*display\s*:/;function Sb(t,e,n){const r=t.style,s=Ke(n);let i=!1;if(n&&!s){if(e)if(Ke(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&za(r,a,"")}else for(const o in e)n[o]==null&&za(r,o,"");for(const o in n)o==="display"&&(i=!0),za(r,o,n[o])}else if(s){if(e!==n){const o=r[Ab];o&&(n+=";"+o),r.cssText=n,i=Rb.test(n)}}else e&&t.removeAttribute("style");_p in t&&(t[_p]=i?r.display:"",t[bb]&&(r.display="none"))}const yp=/\s*!important$/;function za(t,e,n){if(le(n))n.forEach(r=>za(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=Cb(t,e);yp.test(n)?t.setProperty(xs(r),n.replace(yp,""),"important"):t[r]=n}}const vp=["Webkit","Moz","ms"],tu={};function Cb(t,e){const n=tu[e];if(n)return n;let r=cn(e);if(r!=="filter"&&r in t)return tu[e]=r;r=qc(r);for(let s=0;s<vp.length;s++){const i=vp[s]+r;if(i in t)return tu[e]=i}return e}const Ep="http://www.w3.org/1999/xlink";function wp(t,e,n,r,s,i=ET(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Ep,e.slice(6,e.length)):t.setAttributeNS(Ep,e,n):n==null||i&&!n_(n)?t.removeAttribute(e):t.setAttribute(e,i?"":_n(n)?String(n):n)}function Tp(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?py(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=n_(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function Pr(t,e,n,r){t.addEventListener(e,n,r)}function Pb(t,e,n,r){t.removeEventListener(e,n,r)}const Ip=Symbol("_vei");function kb(t,e,n,r,s=null){const i=t[Ip]||(t[Ip]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=Nb(e);if(r){const u=i[e]=Vb(r,s);Pr(t,a,u,l)}else o&&(Pb(t,a,o,l),i[e]=void 0)}}const bp=/(?:Once|Passive|Capture)$/;function Nb(t){let e;if(bp.test(t)){e={};let r;for(;r=t.match(bp);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):xs(t.slice(2)),e]}let nu=0;const Ob=Promise.resolve(),Db=()=>nu||(Ob.then(()=>nu=0),nu=Date.now());function Vb(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;vn(xb(r,n.value),e,5,[r])};return n.value=t,n.attached=Db(),n}function xb(t,e){if(le(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const Ap=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Mb=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?Ib(t,r,o):e==="style"?Sb(t,n,r):Jo(e)?Oh(e)||kb(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Lb(t,e,r,o))?(Tp(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&wp(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ke(r))?Tp(t,cn(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),wp(t,e,r,o))};function Lb(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Ap(e)&&de(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Ap(e)&&Ke(n)?!1:e in t}const Ei=t=>{const e=t.props["onUpdate:modelValue"]||!1;return le(e)?n=>oi(e,n):e};function Ub(t){t.target.composing=!0}function Rp(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const tr=Symbol("_assign");function Sp(t,e,n){return e&&(t=t.trim()),n&&(t=Wc(t)),t}const La={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[tr]=Ei(s);const i=r||s.props&&s.props.type==="number";Pr(t,e?"change":"input",o=>{o.target.composing||t[tr](Sp(t.value,n,i))}),(n||i)&&Pr(t,"change",()=>{t.value=Sp(t.value,n,i)}),e||(Pr(t,"compositionstart",Ub),Pr(t,"compositionend",Rp),Pr(t,"change",Rp))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[tr]=Ei(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Wc(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===l)||(t.value=l))}},iM={deep:!0,created(t,e,n){t[tr]=Ei(n),Pr(t,"change",()=>{const r=t._modelValue,s=Lo(t),i=t.checked,o=t[tr];if(le(r)){const a=xh(r,s),l=a!==-1;if(i&&!l)o(r.concat(s));else if(!i&&l){const u=[...r];u.splice(a,1),o(u)}}else if(Ni(r)){const a=new Set(r);i?a.add(s):a.delete(s),o(a)}else o(gy(t,i))})},mounted:Cp,beforeUpdate(t,e,n){t[tr]=Ei(n),Cp(t,e,n)}};function Cp(t,{value:e,oldValue:n},r){t._modelValue=e;let s;if(le(e))s=xh(e,r.props.value)>-1;else if(Ni(e))s=e.has(r.props.value);else{if(e===n)return;s=Xo(e,gy(t,!0))}t.checked!==s&&(t.checked=s)}const oM={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=Ni(e);Pr(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Wc(Lo(o)):Lo(o));t[tr](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,bs(()=>{t._assigning=!1})}),t[tr]=Ei(r)},mounted(t,{value:e}){Pp(t,e)},beforeUpdate(t,e,n){t[tr]=Ei(n)},updated(t,{value:e}){t._assigning||Pp(t,e)}};function Pp(t,e){const n=t.multiple,r=le(e);if(!(n&&!r&&!Ni(e))){for(let s=0,i=t.options.length;s<i;s++){const o=t.options[s],a=Lo(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=xh(e,a)>-1}else o.selected=e.has(a);else if(Xo(Lo(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Lo(t){return"_value"in t?t._value:t.value}function gy(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Fb=["ctrl","shift","alt","meta"],Bb={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Fb.some(n=>t[`${n}Key`]&&!e.includes(n))},Xh=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=((s,...i)=>{for(let o=0;o<e.length;o++){const a=Bb[e[o]];if(a&&a(s,e))return}return t(s,...i)}))},_y=Et({patchProp:Mb},gb);let To,kp=!1;function $b(){return To||(To=QI(_y))}function Hb(){return To=kp?To:YI(_y),kp=!0,To}const jb=((...t)=>{const e=$b().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=vy(r);if(!s)return;const i=e._component;!de(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,yy(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e}),qb=((...t)=>{const e=Hb().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=vy(r);if(s)return n(s,!0,yy(s))},e});function yy(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function vy(t){return Ke(t)?document.querySelector(t):t}const Wb=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Gb=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Kb=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function zb(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){Qb(t);return}return e}function Qb(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function yc(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!Kb.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(Wb.test(t)||Gb.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,zb)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const Yb=/#/g,Jb=/&/g,Xb=/\//g,Zb=/=/g,Zh=/\+/g,eA=/%5e/gi,tA=/%60/gi,nA=/%7c/gi,rA=/%20/gi;function sA(t){return encodeURI(""+t).replace(nA,"|")}function $u(t){return sA(typeof t=="string"?t:JSON.stringify(t)).replace(Zh,"%2B").replace(rA,"+").replace(Yb,"%23").replace(Jb,"%26").replace(tA,"`").replace(eA,"^").replace(Xb,"%2F")}function ru(t){return $u(t).replace(Zb,"%3D")}function vc(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function iA(t){return vc(t.replace(Zh," "))}function oA(t){return vc(t.replace(Zh," "))}function Ey(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const s=iA(r[1]);if(s==="__proto__"||s==="constructor")continue;const i=oA(r[2]||"");e[s]===void 0?e[s]=i:Array.isArray(e[s])?e[s].push(i):e[s]=[e[s],i]}return e}function aA(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${ru(t)}=${$u(n)}`).join("&"):`${ru(t)}=${$u(e)}`:ru(t)}function cA(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>aA(e,t[e])).filter(Boolean).join("&")}const lA=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,uA=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,hA=/^([/\\]\s*){2,}[^/\\]/,fA=/^[\s\0]*(blob|data|javascript|vbscript):$/i,dA=/\/$|\/\?|\/#/,pA=/^\.?\//;function Ls(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?lA.test(t):uA.test(t)||(e.acceptRelative?hA.test(t):!1)}function mA(t){return!!t&&fA.test(t)}function Hu(t="",e){return e?dA.test(t):t.endsWith("/")}function Ec(t="",e){if(!e)return(Hu(t)?t.slice(0,-1):t)||"/";if(!Hu(t,!0))return t||"/";let n=t,r="";const s=t.indexOf("#");s!==-1&&(n=t.slice(0,s),r=t.slice(s));const[i,...o]=n.split("?");return((i.endsWith("/")?i.slice(0,-1):i)||"/")+(o.length>0?`?${o.join("?")}`:"")+r}function gA(t="",e){if(!e)return t.endsWith("/")?t:t+"/";if(Hu(t,!0))return t||"/";let n=t,r="";const s=t.indexOf("#");if(s!==-1&&(n=t.slice(0,s),r=t.slice(s),!n))return r;const[i,...o]=n.split("?");return i+"/"+(o.length>0?`?${o.join("?")}`:"")+r}function _A(t,e){if(Ty(e)||Ls(t))return t;const n=Ec(e);return t.startsWith(n)?t:ef(n,t)}function Np(t,e){if(Ty(e))return t;const n=Ec(e);if(!t.startsWith(n))return t;const r=t.slice(n.length);return r[0]==="/"?r:"/"+r}function wy(t,e){const n=Ay(t),r={...Ey(n.search),...e};return n.search=cA(r),EA(n)}function Ty(t){return!t||t==="/"}function yA(t){return t&&t!=="/"}function ef(t,...e){let n=t||"";for(const r of e.filter(s=>yA(s)))if(n){const s=r.replace(pA,"");n=gA(n)+s}else n=r;return n}function Iy(...t){const e=/\/(?!\/)/,n=t.filter(Boolean),r=[];let s=0;for(const o of n)if(!(!o||o==="/")){for(const[a,l]of o.split(e).entries())if(!(!l||l===".")){if(l===".."){if(r.length===1&&Ls(r[0]))continue;r.pop(),s--;continue}if(a===1&&r[r.length-1]?.endsWith(":/")){r[r.length-1]+="/"+l;continue}r.push(l),s++}}let i=r.join("/");return s>=0?n[0]?.startsWith("/")&&!i.startsWith("/")?i="/"+i:n[0]?.startsWith("./")&&!i.startsWith("./")&&(i="./"+i):i="../".repeat(-1*s)+i,n[n.length-1]?.endsWith("/")&&!i.endsWith("/")&&(i+="/"),i}function vA(t,e){return vc(Ec(t))===vc(Ec(e))}const by=Symbol.for("ufo:protocolRelative");function Ay(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,d,p=""]=n;return{protocol:d.toLowerCase(),pathname:p,href:d+p,auth:"",host:"",search:"",hash:""}}if(!Ls(t,{acceptRelative:!0}))return Op(t);const[,r="",s,i=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",a=""]=i.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(a=a.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:l,search:u,hash:h}=Op(a);return{protocol:r.toLowerCase(),auth:s?s.slice(0,Math.max(0,s.length-1)):"",host:o,pathname:l,search:u,hash:h,[by]:!r}}function Op(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function EA(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",s=t.auth?t.auth+"@":"",i=t.host||"";return(t.protocol||t[by]?(t.protocol||"")+"//":"")+s+i+e+n+r}class wA extends Error{constructor(e,n){super(e,n),this.name="FetchError",n?.cause&&!this.cause&&(this.cause=n.cause)}}function TA(t){const e=t.error?.message||t.error?.toString()||"",n=t.request?.method||t.options?.method||"GET",r=t.request?.url||String(t.request)||"/",s=`[${n}] ${JSON.stringify(r)}`,i=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",o=`${s}: ${i}${e?` ${e}`:""}`,a=new wA(o,t.error?{cause:t.error}:void 0);for(const l of["request","options","response"])Object.defineProperty(a,l,{get(){return t[l]}});for(const[l,u]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(a,l,{get(){return t.response&&t.response[u]}});return a}const IA=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Dp(t="GET"){return IA.has(t.toUpperCase())}function bA(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer||t instanceof FormData||t instanceof URLSearchParams?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const AA=new Set(["image/svg","application/xml","application/xhtml","application/html"]),RA=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function SA(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return RA.test(e)?"json":e==="text/event-stream"?"stream":AA.has(e)||e.startsWith("text/")?"text":"blob"}function CA(t,e,n,r){const s=PA(e?.headers??t?.headers,n?.headers,r);let i;return(n?.query||n?.params||e?.params||e?.query)&&(i={...n?.params,...n?.query,...e?.params,...e?.query}),{...n,...e,query:i,params:i,headers:s}}function PA(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[s,i]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(s,i);return r}async function Ua(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const kA=new Set([408,409,425,429,500,502,503,504]),NA=new Set([101,204,205,304]);function Ry(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function s(a){const l=a.error&&a.error.name==="AbortError"&&!a.options.timeout||!1;if(a.options.retry!==!1&&!l){let h;typeof a.options.retry=="number"?h=a.options.retry:h=Dp(a.options.method)?0:1;const d=a.response&&a.response.status||500;if(h>0&&(Array.isArray(a.options.retryStatusCodes)?a.options.retryStatusCodes.includes(d):kA.has(d))){const p=typeof a.options.retryDelay=="function"?a.options.retryDelay(a):a.options.retryDelay||0;return p>0&&await new Promise(g=>setTimeout(g,p)),i(a.request,{...a.options,retry:h-1})}}const u=TA(a);throw Error.captureStackTrace&&Error.captureStackTrace(u,i),u}const i=async function(l,u={}){const h={request:l,options:CA(l,u,t.defaults,n),response:void 0,error:void 0};if(h.options.method&&(h.options.method=h.options.method.toUpperCase()),h.options.onRequest&&(await Ua(h,h.options.onRequest),h.options.headers instanceof n||(h.options.headers=new n(h.options.headers||{}))),typeof h.request=="string"&&(h.options.baseURL&&(h.request=_A(h.request,h.options.baseURL)),h.options.query&&(h.request=wy(h.request,h.options.query),delete h.options.query),"query"in h.options&&delete h.options.query,"params"in h.options&&delete h.options.params),h.options.body&&Dp(h.options.method))if(bA(h.options.body)){const g=h.options.headers.get("content-type");typeof h.options.body!="string"&&(h.options.body=g==="application/x-www-form-urlencoded"?new URLSearchParams(h.options.body).toString():JSON.stringify(h.options.body)),g||h.options.headers.set("content-type","application/json"),h.options.headers.has("accept")||h.options.headers.set("accept","application/json")}else("pipeTo"in h.options.body&&typeof h.options.body.pipeTo=="function"||typeof h.options.body.pipe=="function")&&("duplex"in h.options||(h.options.duplex="half"));let d;if(!h.options.signal&&h.options.timeout){const g=new r;d=setTimeout(()=>{const E=new Error("[TimeoutError]: The operation was aborted due to timeout");E.name="TimeoutError",E.code=23,g.abort(E)},h.options.timeout),h.options.signal=g.signal}try{h.response=await e(h.request,h.options)}catch(g){return h.error=g,h.options.onRequestError&&await Ua(h,h.options.onRequestError),await s(h)}finally{d&&clearTimeout(d)}if((h.response.body||h.response._bodyInit)&&!NA.has(h.response.status)&&h.options.method!=="HEAD"){const g=(h.options.parseResponse?"json":h.options.responseType)||SA(h.response.headers.get("content-type")||"");switch(g){case"json":{const E=await h.response.text(),_=h.options.parseResponse||yc;h.response._data=_(E);break}case"stream":{h.response._data=h.response.body||h.response._bodyInit;break}default:h.response._data=await h.response[g]()}}return h.options.onResponse&&await Ua(h,h.options.onResponse),!h.options.ignoreResponseError&&h.response.status>=400&&h.response.status<600?(h.options.onResponseError&&await Ua(h,h.options.onResponseError),await s(h)):h.response},o=async function(l,u){return(await i(l,u))._data};return o.raw=i,o.native=(...a)=>e(...a),o.create=(a={},l={})=>Ry({...t,...l,defaults:{...t.defaults,...l.defaults,...a}}),o}const wc=(function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")})(),OA=wc.fetch?(...t)=>wc.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),DA=wc.Headers,VA=wc.AbortController,xA=Ry({fetch:OA,Headers:DA,AbortController:VA}),MA=xA,LA=()=>window?.__NUXT__?.config||window?.useNuxtApp?.().payload?.config,tf=()=>LA().app,UA=()=>tf().baseURL,FA=()=>tf().buildAssetsDir,nf=(...t)=>Iy(Sy(),FA(),...t),Sy=(...t)=>{const e=tf(),n=e.cdnURL||e.baseURL;return t.length?Iy(n,...t):n};globalThis.__buildAssetsURL=nf,globalThis.__publicAssetsURL=Sy;globalThis.$fetch||(globalThis.$fetch=MA.create({baseURL:UA()}));"global"in globalThis||(globalThis.global=globalThis);function ju(t,e={},n){for(const r in t){const s=t[r],i=n?`${n}:${r}`:r;typeof s=="object"&&s!==null?ju(s,e,i):typeof s=="function"&&(e[i]=s)}return e}const BA={run:t=>t()},$A=()=>BA,Cy=typeof console.createTask<"u"?console.createTask:$A;function HA(t,e){const n=e.shift(),r=Cy(n);return t.reduce((s,i)=>s.then(()=>r.run(()=>i(...e))),Promise.resolve())}function jA(t,e){const n=e.shift(),r=Cy(n);return Promise.all(t.map(s=>r.run(()=>s(...e))))}function su(t,e){for(const n of[...t])n(e)}let qA=class{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,n,r={}){if(!e||typeof n!="function")return()=>{};const s=e;let i;for(;this._deprecatedHooks[e];)i=this._deprecatedHooks[e],e=i.to;if(i&&!r.allowDeprecated){let o=i.message;o||(o=`${s} hook has been deprecated`+(i.to?`, please use ${i.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(n),()=>{n&&(this.removeHook(e,n),n=void 0)}}hookOnce(e,n){let r,s=(...i)=>(typeof r=="function"&&r(),r=void 0,s=void 0,n(...i));return r=this.hook(e,s),r}removeHook(e,n){if(this._hooks[e]){const r=this._hooks[e].indexOf(n);r!==-1&&this._hooks[e].splice(r,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,n){this._deprecatedHooks[e]=typeof n=="string"?{to:n}:n;const r=this._hooks[e]||[];delete this._hooks[e];for(const s of r)this.hook(e,s)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const n in e)this.deprecateHook(n,e[n])}addHooks(e){const n=ju(e),r=Object.keys(n).map(s=>this.hook(s,n[s]));return()=>{for(const s of r.splice(0,r.length))s()}}removeHooks(e){const n=ju(e);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...n){return n.unshift(e),this.callHookWith(HA,e,...n)}callHookParallel(e,...n){return n.unshift(e),this.callHookWith(jA,e,...n)}callHookWith(e,n,...r){const s=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&su(this._before,s);const i=e(n in this._hooks?[...this._hooks[n]]:[],r);return i instanceof Promise?i.finally(()=>{this._after&&s&&su(this._after,s)}):(this._after&&s&&su(this._after,s),i)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const n=this._before.indexOf(e);n!==-1&&this._before.splice(n,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const n=this._after.indexOf(e);n!==-1&&this._after.splice(n,1)}}}};function WA(){return new qA}function GA(t={}){let e,n=!1;const r=o=>{if(e&&e!==o)throw new Error("Context conflict")};let s;if(t.asyncContext){const o=t.AsyncLocalStorage||globalThis.AsyncLocalStorage;o?s=new o:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const i=()=>{if(s){const o=s.getStore();if(o!==void 0)return o}return e};return{use:()=>{const o=i();if(o===void 0)throw new Error("Context is not available");return o},tryUse:()=>i(),set:(o,a)=>{a||r(o),e=o,n=!0},unset:()=>{e=void 0,n=!1},call:(o,a)=>{r(o),e=o;try{return s?s.run(o,a):a()}finally{n||(e=void 0)}},async callAsync(o,a){e=o;const l=()=>{e=o},u=()=>e===o?l:void 0;qu.add(u);try{const h=s?s.run(o,a):a();return n||(e=void 0),await h}finally{qu.delete(u)}}}}function KA(t={}){const e={};return{get(n,r={}){return e[n]||(e[n]=GA({...t,...r})),e[n]}}}const Tc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},Vp="__unctx__",zA=Tc[Vp]||(Tc[Vp]=KA()),QA=(t,e={})=>zA.get(t,e),xp="__unctx_async_handlers__",qu=Tc[xp]||(Tc[xp]=new Set);function ui(t){const e=[];for(const s of qu){const i=s();i&&e.push(i)}const n=()=>{for(const s of e)s()};let r=t();return r&&typeof r=="object"&&"catch"in r&&(r=r.catch(s=>{throw n(),s})),[r,n]}const Mp={name:"page-fade",mode:"out-in"},YA=!1,JA=!1,Lp={id:"__nuxt-loader"},cM={componentName:"NuxtLink",prefetch:!0,prefetchOn:{visibility:!0}},XA="#__nuxt",Py="nuxt-app",Up=36e5,ZA="vite:preloadError";function ky(t=Py){return QA(t,{asyncContext:!1})}const eR="__nuxt_plugin";function tR(t){let e=0;const n={_id:t.id||Py||"nuxt-app",_scope:TT(),provide:void 0,versions:{get nuxt(){return"4.2.2"},get vue(){return n.vueApp.version}},payload:Nn({...t.ssrContext?.payload||{},data:Nn({}),state:Jr({}),once:new Set,_errors:Nn({})}),static:{data:{}},runWithContext(s){return n._scope.active&&!Mh()?n._scope.run(()=>Fp(n,s)):Fp(n,s)},isHydrating:!0,deferHydration(){if(!n.isHydrating)return()=>{};e++;let s=!1;return()=>{if(!s&&(s=!0,e--,e===0))return n.isHydrating=!1,n.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:Nn({}),_payloadRevivers:{},...t};{const s=window.__NUXT__;if(s)for(const i in s)switch(i){case"data":case"state":case"_errors":Object.assign(n.payload[i],s[i]);break;default:n.payload[i]=s[i]}}n.hooks=WA(),n.hook=n.hooks.hook,n.callHook=n.hooks.callHook,n.provide=(s,i)=>{const o="$"+s;Fa(n,o,i),Fa(n.vueApp.config.globalProperties,o,i)},Fa(n.vueApp,"$nuxt",n),Fa(n.vueApp.config.globalProperties,"$nuxt",n);{window.addEventListener(ZA,i=>{n.callHook("app:chunkError",{error:i.payload}),i.payload.message.includes("Unable to preload CSS")&&i.preventDefault()}),window.useNuxtApp||=et;const s=n.hook("app:error",(...i)=>{console.error("[nuxt] error caught during app initialization",...i)});n.hook("app:mounted",s)}const r=n.payload.config;return n.provide("config",r),n}function nR(t,e){e.hooks&&t.hooks.addHooks(e.hooks)}async function rR(t,e){if(typeof e=="function"){const{provide:n}=await t.runWithContext(()=>e(t))||{};if(n&&typeof n=="object")for(const r in n)t.provide(r,n[r])}}async function sR(t,e){const n=new Set,r=[],s=[];let i,o=0;async function a(l){const u=l.dependsOn?.filter(h=>e.some(d=>d._name===h)&&!n.has(h))??[];if(u.length>0)r.push([new Set(u),l]);else{const h=rR(t,l).then(async()=>{l._name&&(n.add(l._name),await Promise.all(r.map(async([d,p])=>{d.has(l._name)&&(d.delete(l._name),d.size===0&&(o++,await a(p)))})))}).catch(d=>{if(!l.parallel&&!t.payload.error)throw d;i||=d});l.parallel?s.push(h):await h}}for(const l of e)nR(t,l);for(const l of e)await a(l);if(await Promise.all(s),o)for(let l=0;l<o;l++)await Promise.all(s);if(i)throw t.payload.error||i}function Fn(t){if(typeof t=="function")return t;const e=t._name||t.name;return delete t.name,Object.assign(t.setup||(()=>{}),t,{[eR]:!0,_name:e})}function Fp(t,e,n){const r=()=>e();return ky(t._id).set(t),t.vueApp.runWithContext(r)}function iR(t){let e;return Yc()&&(e=Ms()?.appContext.app.$nuxt),e||=ky(t).tryUse(),e||null}function et(t){const e=iR(t);if(!e)throw new Error("[nuxt] instance unavailable");return e}function nl(t){return et().$config}function Fa(t,e,n){Object.defineProperty(t,e,{get:()=>n})}function oR(t,e){return{ctx:{table:t},matchAll:n=>Oy(n,t)}}function Ny(t){const e={};for(const n in t)e[n]=n==="dynamic"?new Map(Object.entries(t[n]).map(([r,s])=>[r,Ny(s)])):new Map(Object.entries(t[n]));return e}function aR(t){return oR(Ny(t))}function Oy(t,e,n){t.endsWith("/")&&(t=t.slice(0,-1)||"/");const r=[];for(const[i,o]of Bp(e.wildcard))(t===i||t.startsWith(i+"/"))&&r.push(o);for(const[i,o]of Bp(e.dynamic))if(t.startsWith(i+"/")){const a="/"+t.slice(i.length).split("/").splice(2).join("/");r.push(...Oy(a,o))}const s=e.static.get(t);return s&&r.push(s),r.filter(Boolean)}function Bp(t){return[...t.entries()].sort((e,n)=>e[0].length-n[0].length)}function iu(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function Wu(t,e,n=".",r){if(!iu(e))return Wu(t,{},n,r);const s=Object.assign({},e);for(const i in t){if(i==="__proto__"||i==="constructor")continue;const o=t[i];o!=null&&(r&&r(s,i,o,n)||(Array.isArray(o)&&Array.isArray(s[i])?s[i]=[...o,...s[i]]:iu(o)&&iu(s[i])?s[i]=Wu(o,s[i],(n?`${n}.`:"")+i.toString(),r):s[i]=o))}return s}function cR(t){return(...e)=>e.reduce((n,r)=>Wu(n,r,"",t),{})}const Dy=cR();function lR(t,e){try{return e in t}catch{return!1}}class $p extends Error{static __h3_error__=!0;statusCode=500;fatal=!1;unhandled=!1;statusMessage;data;cause;constructor(e,n={}){super(e,n),n.cause&&!this.cause&&(this.cause=n.cause)}toJSON(){const e={message:this.message,statusCode:Gu(this.statusCode,500)};return this.statusMessage&&(e.statusMessage=Vy(this.statusMessage)),this.data!==void 0&&(e.data=this.data),e}}function uR(t){if(typeof t=="string")return new $p(t);if(hR(t))return t;const e=new $p(t.message??t.statusMessage??"",{cause:t.cause||t});if(lR(t,"stack"))try{Object.defineProperty(e,"stack",{get(){return t.stack}})}catch{try{e.stack=t.stack}catch{}}if(t.data&&(e.data=t.data),t.statusCode?e.statusCode=Gu(t.statusCode,e.statusCode):t.status&&(e.statusCode=Gu(t.status,e.statusCode)),t.statusMessage?e.statusMessage=t.statusMessage:t.statusText&&(e.statusMessage=t.statusText),e.statusMessage){const n=e.statusMessage;Vy(e.statusMessage)!==n&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return t.fatal!==void 0&&(e.fatal=t.fatal),t.unhandled!==void 0&&(e.unhandled=t.unhandled),e}function hR(t){return t?.constructor?.__h3_error__===!0}const fR=/[^\u0009\u0020-\u007E]/g;function Vy(t=""){return t.replace(fR,"")}function Gu(t,e=200){return!t||(typeof t=="string"&&(t=Number.parseInt(t,10)),t<100||t>999)?e:t}const xy=Symbol("layout-meta"),Ss=Symbol("route");import.meta.url.replace(/\/app\/.*$/,"/");const qt=()=>et()?.$router,ra=()=>Yc()?Rt(Ss,et()._route):et()._route;function lM(t){return t}const dR=()=>{try{if(et()._processingMiddleware)return!0}catch{return!1}return!1},uM=(t,e)=>{t||="/";const n=typeof t=="string"?t:"path"in t?pR(t):qt().resolve(t).href;if(e?.open){const{target:l="_blank",windowFeatures:u={}}=e.open,h=[];for(const[d,p]of Object.entries(u))p!==void 0&&h.push(`${d.toLowerCase()}=${p}`);return open(n,l,h.join(", ")),Promise.resolve()}const r=Ls(n,{acceptRelative:!0}),s=e?.external||r;if(s){if(!e?.external)throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const{protocol:l}=new URL(n,window.location.href);if(l&&mA(l))throw new Error(`Cannot navigate to a URL with '${l}' protocol.`)}const i=dR();if(!s&&i){if(e?.replace){if(typeof t=="string"){const{pathname:l,search:u,hash:h}=Ay(t);return{path:l,...u&&{query:Ey(u)},...h&&{hash:h},replace:!0}}return{...t,replace:!0}}return t}const o=qt(),a=et();return s?(a._scope.stop(),e?.replace?location.replace(n):location.href=n,i?a.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):e?.replace?o.replace(t):o.push(t)};function pR(t){return wy(t.path||"",t.query||{})+(t.hash||"")}const My="__nuxt_error",rl=()=>QT(et().payload,"error"),ds=t=>{const e=ws(t);try{const n=rl();et().hooks.callHook("app:error",e),n.value||=e}catch{throw e}return e},mR=async(t={})=>{const e=et(),n=rl();e.callHook("app:error:cleared",t),t.redirect&&await qt().replace(t.redirect),n.value=void 0},Ly=t=>!!t&&typeof t=="object"&&My in t,ws=t=>{const e=uR(t);return Object.defineProperty(e,My,{value:!0,configurable:!1,writable:!1}),e};function gR(t){const e=yR(t),n=new ArrayBuffer(e.length),r=new DataView(n);for(let s=0;s<n.byteLength;s++)r.setUint8(s,e.charCodeAt(s));return n}const _R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function yR(t){t.length%4===0&&(t=t.replace(/==?$/,""));let e="",n=0,r=0;for(let s=0;s<t.length;s++)n<<=6,n|=_R.indexOf(t[s]),r+=6,r===24&&(e+=String.fromCharCode((n&16711680)>>16),e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255),n=r=0);return r===12?(n>>=4,e+=String.fromCharCode(n)):r===18&&(n>>=2,e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255)),e}const vR=-1,ER=-2,wR=-3,TR=-4,IR=-5,bR=-6;function AR(t,e){return RR(JSON.parse(t),e)}function RR(t,e){if(typeof t=="number")return s(t,!0);if(!Array.isArray(t)||t.length===0)throw new Error("Invalid input");const n=t,r=Array(n.length);function s(i,o=!1){if(i===vR)return;if(i===wR)return NaN;if(i===TR)return 1/0;if(i===IR)return-1/0;if(i===bR)return-0;if(o||typeof i!="number")throw new Error("Invalid input");if(i in r)return r[i];const a=n[i];if(!a||typeof a!="object")r[i]=a;else if(Array.isArray(a))if(typeof a[0]=="string"){const l=a[0],u=e&&Object.hasOwn(e,l)?e[l]:void 0;if(u){let h=a[1];return typeof h!="number"&&(h=n.push(a[1])-1),r[i]=u(s(h))}switch(l){case"Date":r[i]=new Date(a[1]);break;case"Set":const h=new Set;r[i]=h;for(let g=1;g<a.length;g+=1)h.add(s(a[g]));break;case"Map":const d=new Map;r[i]=d;for(let g=1;g<a.length;g+=2)d.set(s(a[g]),s(a[g+1]));break;case"RegExp":r[i]=new RegExp(a[1],a[2]);break;case"Object":r[i]=Object(a[1]);break;case"BigInt":r[i]=BigInt(a[1]);break;case"null":const p=Object.create(null);r[i]=p;for(let g=1;g<a.length;g+=2)p[a[g]]=s(a[g+1]);break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const g=globalThis[l],E=new g(s(a[1]));r[i]=a[2]!==void 0?E.subarray(a[2],a[3]):E;break}case"ArrayBuffer":{const g=a[1],E=gR(g);r[i]=E;break}case"Temporal.Duration":case"Temporal.Instant":case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.PlainMonthDay":case"Temporal.PlainYearMonth":case"Temporal.ZonedDateTime":{const g=l.slice(9);r[i]=Temporal[g].from(a[1]);break}case"URL":{const g=new URL(a[1]);r[i]=g;break}case"URLSearchParams":{const g=new URLSearchParams(a[1]);r[i]=g;break}default:throw new Error(`Unknown type ${l}`)}}else{const l=new Array(a.length);r[i]=l;for(let u=0;u<a.length;u+=1){const h=a[u];h!==ER&&(l[u]=s(h))}}else{const l={};r[i]=l;for(const u in a){if(u==="__proto__")throw new Error("Cannot parse an object with a `__proto__` property");const h=a[u];l[u]=s(h)}}return r[i]}return s(0)}const SR=new Set(["link","style","script","noscript"]),CR=new Set(["title","titleTemplate","script","style","noscript"]),Hp=new Set(["base","meta","link","style","script","noscript"]),PR=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),kR=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),NR=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),OR=new Set(["templateParams","htmlAttrs","bodyAttrs"]),DR=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]);function Ku(t,e={},n){for(const r in t){const s=t[r],i=n?`${n}:${r}`:r;typeof s=="object"&&s!==null?Ku(s,e,i):typeof s=="function"&&(e[i]=s)}return e}const Uy=(()=>{if(console.createTask)return console.createTask;const t={run:e=>e()};return()=>t})();function Fy(t,e,n,r){for(let s=n;s<t.length;s+=1)try{const i=r?r.run(()=>t[s](...e)):t[s](...e);if(i instanceof Promise)return i.then(()=>Fy(t,e,s+1,r))}catch(i){return Promise.reject(i)}}function VR(t,e,n){if(t.length>0)return Fy(t,e,0,Uy(n))}function xR(t,e,n){if(t.length>0){const r=Uy(n);return Promise.all(t.map(s=>r.run(()=>s(...e))))}}function ou(t,e){for(const n of[...t])n(e)}var MR=class{_hooks;_before;_after;_deprecatedHooks;_deprecatedMessages;constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,e,n={}){if(!t||typeof e!="function")return()=>{};const r=t;let s;for(;this._deprecatedHooks[t];)s=this._deprecatedHooks[t],t=s.to;if(s&&!n.allowDeprecated){let i=s.message;i||(i=`${r} hook has been deprecated`+(s.to?`, please use ${s.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(i)||(console.warn(i),this._deprecatedMessages.add(i))}if(!e.name)try{Object.defineProperty(e,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(e),()=>{e&&(this.removeHook(t,e),e=void 0)}}hookOnce(t,e){let n,r=(...s)=>(typeof n=="function"&&n(),n=void 0,r=void 0,e(...s));return n=this.hook(t,r),n}removeHook(t,e){const n=this._hooks[t];if(n){const r=n.indexOf(e);r!==-1&&n.splice(r,1),n.length===0&&(this._hooks[t]=void 0)}}deprecateHook(t,e){this._deprecatedHooks[t]=typeof e=="string"?{to:e}:e;const n=this._hooks[t]||[];this._hooks[t]=void 0;for(const r of n)this.hook(t,r)}deprecateHooks(t){for(const e in t)this.deprecateHook(e,t[e])}addHooks(t){const e=Ku(t),n=Object.keys(e).map(r=>this.hook(r,e[r]));return()=>{for(const r of n)r();n.length=0}}removeHooks(t){const e=Ku(t);for(const n in e)this.removeHook(n,e[n])}removeAllHooks(){this._hooks={}}callHook(t,...e){return this.callHookWith(VR,t,e)}callHookParallel(t,...e){return this.callHookWith(xR,t,e)}callHookWith(t,e,n){const r=this._before||this._after?{name:e,args:n,context:{}}:void 0;this._before&&ou(this._before,r);const s=t(this._hooks[e]?[...this._hooks[e]]:[],n,e);return s instanceof Promise?s.finally(()=>{this._after&&r&&ou(this._after,r)}):(this._after&&r&&ou(this._after,r),s)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const e=this._before.indexOf(t);e!==-1&&this._before.splice(e,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const e=this._after.indexOf(t);e!==-1&&this._after.splice(e,1)}}}};function LR(){return new MR}const UR=["name","property","http-equiv"],FR=new Set(["viewport","description","keywords","robots"]);function By(t){const e=t.split(":");return e.length?DR.has(e[1]):!1}function zu(t){const{props:e,tag:n}=t;if(kR.has(n))return n;if(n==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(t.tag==="meta"){for(const r of UR)if(e[r]!==void 0){const s=e[r],i=s&&typeof s=="string"&&s.includes(":"),o=s&&FR.has(s),l=!(i||o)&&t.key?`:key:${t.key}`:"";return`${n}:${s}${l}`}}if(t.key)return`${n}:key:${t.key}`;if(e.id)return`${n}:id:${e.id}`;if(CR.has(n)){const r=t.textContent||t.innerHTML;if(r)return`${n}:content:${r}`}}function jp(t){const e=t._h||t._d;if(e)return e;const n=t.textContent||t.innerHTML;return n||`${t.tag}:${Object.entries(t.props).map(([r,s])=>`${r}:${String(s)}`).join(",")}`}function Ic(t,e,n){typeof t==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(t=t());const s=e?e(n,t):t;if(Array.isArray(s))return s.map(i=>Ic(i,e));if(s?.constructor===Object){const i={};for(const o of Object.keys(s))i[o]=Ic(s[o],e,o);return i}return s}function BR(t,e){const n=t==="style"?new Map:new Set;function r(s){if(s==null||s===void 0)return;const i=String(s).trim();if(i)if(t==="style"){const[o,...a]=i.split(":").map(l=>l?l.trim():"");o&&a.length&&n.set(o,a.join(":"))}else i.split(" ").filter(Boolean).forEach(o=>n.add(o))}return typeof e=="string"?t==="style"?e.split(";").forEach(r):r(e):Array.isArray(e)?e.forEach(s=>r(s)):e&&typeof e=="object"&&Object.entries(e).forEach(([s,i])=>{i&&i!=="false"&&(t==="style"?n.set(String(s).trim(),String(i)):r(s))}),n}function $y(t,e){return t.props=t.props||{},e?t.tag==="templateParams"?(t.props=e,t):(Object.entries(e).forEach(([n,r])=>{if(r===null){t.props[n]=null;return}if(n==="class"||n==="style"){t.props[n]=BR(n,r);return}if(NR.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof r=="object"){let a=e.type;if(e.type||(a="application/json"),!a?.endsWith("json")&&a!=="speculationrules")return;e.type=a,t.props.type=a,t[n]=JSON.stringify(r)}else t[n]=r;return}const s=String(r),i=n.startsWith("data-"),o=t.tag==="meta"&&n==="content";s==="true"||s===""?t.props[n]=i||o?s:!0:!r&&i&&s==="false"?t.props[n]="false":r!==void 0&&(t.props[n]=r)}),t):t}function $R(t,e){const n=typeof e=="object"&&typeof e!="function"?e:{[t==="script"||t==="noscript"||t==="style"?"innerHTML":"textContent"]:e},r=$y({tag:t,props:{}},n);return r.key&&SR.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(s=>({...r,props:{...r.props,content:s}})):r}function HR(t,e){if(!t)return[];typeof t=="function"&&(t=t());const n=(s,i)=>{for(let o=0;o<e.length;o++)i=e[o](s,i);return i};t=n(void 0,t);const r=[];return t=Ic(t,n),Object.entries(t||{}).forEach(([s,i])=>{if(i!==void 0)for(const o of Array.isArray(i)?i:[i])r.push($R(s,o))}),r.flat()}const qp=(t,e)=>t._w===e._w?t._p-e._p:t._w-e._w,Wp={base:-10,title:10},jR={critical:-8,high:-1,low:2},Gp={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},qR=/@import/,oo=t=>t===""||t===!0;function WR(t,e){if(typeof e.tagPriority=="number")return e.tagPriority;let n=100;const r=jR[e.tagPriority]||0,s=t.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:Gp;if(e.tag in Wp)n=Wp[e.tag];else if(e.tag==="meta"){const i=e.props["http-equiv"]==="content-security-policy"?"content-security-policy":e.props.charset?"charset":e.props.name==="viewport"?"viewport":null;i&&(n=Gp.meta[i])}else if(e.tag==="link"&&e.props.rel)n=s.link[e.props.rel];else if(e.tag==="script"){const i=String(e.props.type);oo(e.props.async)?n=s.script.async:e.props.src&&!oo(e.props.defer)&&!oo(e.props.async)&&i!=="module"&&!i.endsWith("json")||e.innerHTML&&!i.endsWith("json")?n=s.script.sync:(oo(e.props.defer)&&e.props.src&&!oo(e.props.async)||i==="module")&&(n=s.script.defer)}else e.tag==="style"&&(n=e.innerHTML&&qR.test(e.innerHTML)?s.style.imported:s.style.sync);return(n||100)+r}function Kp(t,e){const n=typeof e=="function"?e(t):e,r=n.key||String(t.plugins.size+1);t.plugins.get(r)||(t.plugins.set(r,n),t.hooks.addHooks(n.hooks||{}))}function GR(t={}){const e=LR();e.addHooks(t.hooks||{});const n=!t.document,r=new Map,s=new Map,i=new Set,o={_entryCount:1,plugins:s,dirty:!1,resolvedOptions:t,hooks:e,ssr:n,entries:r,headEntries(){return[...r.values()]},use:a=>Kp(o,a),push(a,l){const u={...l||{}};delete u.head;const h=u._index??o._entryCount++,d={_i:h,input:a,options:u},p={_poll(g=!1){o.dirty=!0,!g&&i.add(h),e.callHook("entries:updated",o)},dispose(){r.delete(h)&&o.invalidate()},patch(g){(!u.mode||u.mode==="server"&&n||u.mode==="client"&&!n)&&(d.input=g,r.set(h,d),p._poll())}};return p.patch(a),p},async resolveTags(){const a={tagMap:new Map,tags:[],entries:[...o.entries.values()]};for(await e.callHook("entries:resolve",a);i.size;){const p=i.values().next().value;i.delete(p);const g=r.get(p);if(g){const E={tags:HR(g.input,t.propResolvers||[]).map(_=>Object.assign(_,g.options)),entry:g};await e.callHook("entries:normalize",E),g._tags=E.tags.map((_,C)=>(_._w=WR(o,_),_._p=(g._i<<10)+C,_._d=zu(_),_))}}let l=!1;a.entries.flatMap(p=>(p._tags||[]).map(g=>({...g,props:{...g.props}}))).sort(qp).reduce((p,g)=>{const E=String(g._d||g._p);if(!p.has(E))return p.set(E,g);const _=p.get(E);if((g?.tagDuplicateStrategy||(OR.has(g.tag)?"merge":null)||(g.key&&g.key===_.key?"merge":null))==="merge"){const S={..._.props};Object.entries(g.props).forEach(([b,y])=>S[b]=b==="style"?new Map([..._.props.style||new Map,...y]):b==="class"?new Set([..._.props.class||new Set,...y]):y),p.set(E,{...g,props:S})}else g._p>>10===_._p>>10&&g.tag==="meta"&&By(E)?(p.set(E,Object.assign([...Array.isArray(_)?_:[_],g],g)),l=!0):(g._w===_._w?g._p>_._p:g?._w<_?._w)&&p.set(E,g);return p},a.tagMap);const u=a.tagMap.get("title"),h=a.tagMap.get("titleTemplate");if(o._title=u?.textContent,h){const p=h?.textContent;if(o._titleTemplate=p,p){let g=typeof p=="function"?p(u?.textContent):p;typeof g=="string"&&!o.plugins.has("template-params")&&(g=g.replace("%s",u?.textContent||"")),u?g===null?a.tagMap.delete("title"):a.tagMap.set("title",{...u,textContent:g}):(h.tag="title",h.textContent=g)}}a.tags=Array.from(a.tagMap.values()),l&&(a.tags=a.tags.flat().sort(qp)),await e.callHook("tags:beforeResolve",a),await e.callHook("tags:resolve",a),await e.callHook("tags:afterResolve",a);const d=[];for(const p of a.tags){const{innerHTML:g,tag:E,props:_}=p;if(PR.has(E)&&!(Object.keys(_).length===0&&!p.innerHTML&&!p.textContent)&&!(E==="meta"&&!_.content&&!_["http-equiv"]&&!_.charset)){if(E==="script"&&g){if(String(_.type).endsWith("json")){const C=typeof g=="string"?g:JSON.stringify(g);p.innerHTML=C.replace(/</g,"\\u003C")}else typeof g=="string"&&(p.innerHTML=g.replace(new RegExp(`</${E}`,"g"),`<\\/${E}`));p._d=zu(p)}d.push(p)}}return d},invalidate(){for(const a of r.values())i.add(a._i);o.dirty=!0,e.callHook("entries:updated",o)}};return(t?.plugins||[]).forEach(a=>Kp(o,a)),o.hooks.callHook("init",o),t.init?.forEach(a=>a&&o.push(a)),o}const KR=(t,e)=>ct(e)?WT(e):e,rf="usehead";function zR(t){return{install(n){n.config.globalProperties.$unhead=t,n.config.globalProperties.$head=t,n.provide(rf,t)}}.install}function QR(){if(Yc()){const t=Rt(rf);if(!t)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return t}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function YR(t,e={}){const n=e.head||QR();return n.ssr?n.push(t||{},e):JR(n,t,e)}function JR(t,e,n={}){const r=ie(!1);let s;return iI(()=>{const o=r.value?{}:Ic(e,KR);s?s.patch(o):s=t.push(o,n)}),Ms()&&(ta(()=>{s.dispose()}),V_(()=>{r.value=!0}),D_(()=>{r.value=!1})),s}function Hy(t){const e=t||et();return e.ssrContext?.head||e.runWithContext(()=>{if(Yc()){const n=Rt(rf);if(!n)throw new Error("[nuxt] [unhead] Missing Unhead instance.");return n}})}function hM(t,e={}){const n=e.head||Hy(e.nuxt);return YR(t,{head:n,...e})}let Qa,Ya;function XR(){return Qa=$fetch(nf(`builds/meta/${nl().app.buildId}.json`),{responseType:"json"}),Qa.then(t=>{Ya=aR(t.matcher)}).catch(t=>{console.error("[nuxt] Error fetching app manifest.",t)}),Qa}function sl(){return Qa||XR()}async function sf(t){const e=typeof t=="string"?t:t.path;if(await sl(),!Ya)return console.error("[nuxt] Error creating app manifest matcher.",Ya),{};try{return Dy({},...Ya.matchAll(e).reverse())}catch(n){return console.error("[nuxt] Error matching route rules.",n),{}}}async function zp(t,e={}){if(!await qy(t))return null;const r=await e0(t,e);return await jy(r)||null}const ZR="_payload.json";async function e0(t,e={}){const n=new URL(t,"http://localhost");if(n.host!=="localhost"||Ls(n.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+t);const r=nl(),s=e.hash||(e.fresh?Date.now():r.app.buildId),i=r.app.cdnURL,o=i&&await qy(t)?i:r.app.baseURL;return ef(o,n.pathname,ZR+(s?`?${s}`:""))}async function jy(t){const e=fetch(t,{cache:"force-cache"}).then(n=>n.text().then(Wy));try{return await e}catch(n){console.warn("[nuxt] Cannot load payload ",t,n)}return null}async function qy(t=ra().path){const e=et();return t=t==="/"?t:t.replace(/\/$/,""),(await sl()).prerendered.includes(t)?!0:e.runWithContext(async()=>{const r=await sf({path:t});return!!r.prerender&&!r.redirect})}let ls=null;async function t0(){if(ls)return ls;const t=document.getElementById("__NUXT_DATA__");if(!t)return{};const e=await Wy(t.textContent||""),n=t.dataset.src?await jy(t.dataset.src):void 0;return ls={...e,...n,...window.__NUXT__},ls.config?.public&&(ls.config.public=Jr(ls.config.public)),ls}async function Wy(t){return await AR(t,et()._payloadRevivers)}function n0(t,e){et()._payloadRevivers[t]=e}const r0=[["NuxtError",t=>ws(t)],["EmptyShallowRef",t=>ar(t==="_"?void 0:t==="0n"?BigInt(0):yc(t))],["EmptyRef",t=>ie(t==="_"?void 0:t==="0n"?BigInt(0):yc(t))],["ShallowRef",t=>ar(t)],["ShallowReactive",t=>Nn(t)],["Ref",t=>ie(t)],["Reactive",t=>Jr(t)]],s0=Fn({name:"nuxt:revive-payload:client",order:-30,async setup(t){let e,n;for(const[r,s]of r0)n0(r,s);Object.assign(t.payload,([e,n]=ui(()=>t.runWithContext(t0)),e=await e,n(),e)),delete window.__NUXT__}});async function of(t,e={}){const n=e.document||t.resolvedOptions.document;if(!n||!t.dirty)return;const r={shouldRender:!0,tags:[]};if(await t.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return t._domUpdatePromise||(t._domUpdatePromise=new Promise(async s=>{const i=new Map,o=new Promise(g=>{t.resolveTags().then(E=>{g(E.map(_=>{const C=i.get(_._d)||0,S={tag:_,id:(C?`${_._d}:${C}`:_._d)||jp(_),shouldRender:!0};return _._d&&By(_._d)&&i.set(_._d,C+1),S}))})});let a=t._dom;if(!a){a={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const g of["body","head"]){const E=n[g]?.children;for(const _ of E){const C=_.tagName.toLowerCase();if(!Hp.has(C))continue;const S=$y({tag:C,props:{}},{innerHTML:_.innerHTML,..._.getAttributeNames().reduce((b,y)=>(b[y]=_.getAttribute(y),b),{})||{}});if(S.key=_.getAttribute("data-hid")||void 0,S._d=zu(S)||jp(S),a.elMap.has(S._d)){let b=1,y=S._d;for(;a.elMap.has(y);)y=`${S._d}:${b++}`;a.elMap.set(y,_)}else a.elMap.set(S._d,_)}}}a.pendingSideEffects={...a.sideEffects},a.sideEffects={};function l(g,E,_){const C=`${g}:${E}`;a.sideEffects[C]=_,delete a.pendingSideEffects[C]}function u({id:g,$el:E,tag:_}){const C=_.tag.endsWith("Attrs");a.elMap.set(g,E),C||(_.textContent&&_.textContent!==E.textContent&&(E.textContent=_.textContent),_.innerHTML&&_.innerHTML!==E.innerHTML&&(E.innerHTML=_.innerHTML),l(g,"el",()=>{E?.remove(),a.elMap.delete(g)}));for(const S in _.props){if(!Object.prototype.hasOwnProperty.call(_.props,S))continue;const b=_.props[S];if(S.startsWith("on")&&typeof b=="function"){const O=E?.dataset;if(O&&O[`${S}fired`]){const V=S.slice(0,-5);b.call(E,new Event(V.substring(2)))}E.getAttribute(`data-${S}`)!==""&&((_.tag==="bodyAttrs"?n.defaultView:E).addEventListener(S.substring(2),b.bind(E)),E.setAttribute(`data-${S}`,""));continue}const y=`attr:${S}`;if(S==="class"){if(!b)continue;for(const O of b)C&&l(g,`${y}:${O}`,()=>E.classList.remove(O)),!E.classList.contains(O)&&E.classList.add(O)}else if(S==="style"){if(!b)continue;for(const[O,V]of b)l(g,`${y}:${O}`,()=>{E.style.removeProperty(O)}),E.style.setProperty(O,V)}else b!==!1&&b!==null&&(E.getAttribute(S)!==b&&E.setAttribute(S,b===!0?"":String(b)),C&&l(g,y,()=>E.removeAttribute(S)))}}const h=[],d={bodyClose:void 0,bodyOpen:void 0,head:void 0},p=await o;for(const g of p){const{tag:E,shouldRender:_,id:C}=g;if(_){if(E.tag==="title"){n.title=E.textContent,l("title","",()=>n.title=a.title);continue}g.$el=g.$el||a.elMap.get(C),g.$el?u(g):Hp.has(E.tag)&&h.push(g)}}for(const g of h){const E=g.tag.tagPosition||"head";g.$el=n.createElement(g.tag.tag),u(g),d[E]=d[E]||n.createDocumentFragment(),d[E].appendChild(g.$el)}for(const g of p)await t.hooks.callHook("dom:renderTag",g,n,l);d.head&&n.head.appendChild(d.head),d.bodyOpen&&n.body.insertBefore(d.bodyOpen,n.body.firstChild),d.bodyClose&&n.body.appendChild(d.bodyClose);for(const g in a.pendingSideEffects)a.pendingSideEffects[g]();t._dom=a,await t.hooks.callHook("dom:rendered",{renders:p}),s()}).finally(()=>{t._domUpdatePromise=void 0,t.dirty=!1})),t._domUpdatePromise}function i0(t={}){const e=t.domOptions?.render||of;t.document=t.document||(typeof window<"u"?document:void 0);const n=t.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return GR({...t,plugins:[...t.plugins||[],{key:"client",hooks:{"entries:updated":e}}],init:[n?JSON.parse(n):!1,...t.init||[]]})}function o0(t,e){let n=0;return()=>{const r=++n;e(()=>{n===r&&t()})}}function a0(t={}){const e=i0({domOptions:{render:o0(()=>of(e),n=>setTimeout(n,0))},...t});return e.install=zR(e),e}const c0={disableDefaults:!0},l0=Fn({name:"nuxt:head",enforce:"pre",setup(t){const e=a0(c0);t.vueApp.use(e);{let n=!0;const r=async()=>{n=!1,await of(e)};e.hooks.hook("dom:beforeRender",s=>{s.shouldRender=!n}),t.hooks.hook("page:start",()=>{n=!0}),t.hooks.hook("page:finish",()=>{t.isHydrating||r()}),t.hooks.hook("app:error",r),t.hooks.hook("app:suspense:resolve",r)}}});const Qs=typeof document<"u";function Gy(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function u0(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Gy(t.default)}const De=Object.assign;function au(t,e){const n={};for(const r in e){const s=e[r];n[r]=En(s)?s.map(t):t(s)}return n}const Io=()=>{},En=Array.isArray;function Qp(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}const Ky=/#/g,h0=/&/g,f0=/\//g,d0=/=/g,p0=/\?/g,zy=/\+/g,m0=/%5B/g,g0=/%5D/g,Qy=/%5E/g,_0=/%60/g,Yy=/%7B/g,y0=/%7C/g,Jy=/%7D/g,v0=/%20/g;function af(t){return t==null?"":encodeURI(""+t).replace(y0,"|").replace(m0,"[").replace(g0,"]")}function E0(t){return af(t).replace(Yy,"{").replace(Jy,"}").replace(Qy,"^")}function Qu(t){return af(t).replace(zy,"%2B").replace(v0,"+").replace(Ky,"%23").replace(h0,"%26").replace(_0,"`").replace(Yy,"{").replace(Jy,"}").replace(Qy,"^")}function w0(t){return Qu(t).replace(d0,"%3D")}function T0(t){return af(t).replace(Ky,"%23").replace(p0,"%3F")}function I0(t){return T0(t).replace(f0,"%2F")}function Uo(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const b0=/\/$/,A0=t=>t.replace(b0,"");function cu(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(r=e.slice(0,l),i=e.slice(l,a>0?a:e.length),s=t(i.slice(1))),a>=0&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=P0(r??e,n),{fullPath:r+i+o,path:r,query:s,hash:Uo(o)}}function R0(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Yp(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function S0(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&wi(e.matched[r],n.matched[s])&&Xy(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function wi(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Xy(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(!C0(t[n],e[n]))return!1;return!0}function C0(t,e){return En(t)?Jp(t,e):En(e)?Jp(e,t):t?.valueOf()===e?.valueOf()}function Jp(t,e){return En(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function P0(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const rn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Yu=(function(t){return t.pop="pop",t.push="push",t})({}),lu=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function k0(t){if(!t)if(Qs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),A0(t)}const N0=/^[^#]+#/;function O0(t,e){return t.replace(N0,"#")+e}function D0(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const il=()=>({left:window.scrollX,top:window.scrollY});function V0(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=D0(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Xp(t,e){return(history.state?history.state.position-e:-1)+t}const Ju=new Map;function x0(t,e){Ju.set(t,e)}function M0(t){const e=Ju.get(t);return Ju.delete(t),e}function L0(t){return typeof t=="string"||t&&typeof t=="object"}function Zy(t){return typeof t=="string"||typeof t=="symbol"}let Ye=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const ev=Symbol("");Ye.MATCHER_NOT_FOUND+"",Ye.NAVIGATION_GUARD_REDIRECT+"",Ye.NAVIGATION_ABORTED+"",Ye.NAVIGATION_CANCELLED+"",Ye.NAVIGATION_DUPLICATED+"";function Ti(t,e){return De(new Error,{type:t,[ev]:!0},e)}function Wn(t,e){return t instanceof Error&&ev in t&&(e==null||!!(t.type&e))}const U0=["params","query","hash"];function F0(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const n of U0)n in t&&(e[n]=t[n]);return JSON.stringify(e,null,2)}function B0(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const s=n[r].replace(zy," "),i=s.indexOf("="),o=Uo(i<0?s:s.slice(0,i)),a=i<0?null:Uo(s.slice(i+1));if(o in e){let l=e[o];En(l)||(l=e[o]=[l]),l.push(a)}else e[o]=a}return e}function Zp(t){let e="";for(let n in t){const r=t[n];if(n=w0(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(En(r)?r.map(s=>s&&Qu(s)):[r&&Qu(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function $0(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=En(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const H0=Symbol(""),em=Symbol(""),cf=Symbol(""),lf=Symbol(""),Xu=Symbol("");function ao(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Cr(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const u=p=>{p===!1?l(Ti(Ye.NAVIGATION_ABORTED,{from:n,to:e})):p instanceof Error?l(p):L0(p)?l(Ti(Ye.NAVIGATION_GUARD_REDIRECT,{from:e,to:p})):(o&&r.enterCallbacks[s]===o&&typeof p=="function"&&o.push(p),a())},h=i(()=>t.call(r&&r.instances[s],e,n,u));let d=Promise.resolve(h);t.length<3&&(d=d.then(u)),d.catch(p=>l(p))})}function uu(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Gy(l)){const u=(l.__vccOpts||l)[e];u&&i.push(Cr(u,n,r,o,a,s))}else{let u=l();i.push(()=>u.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=u0(h)?h.default:h;o.mods[a]=h,o.components[a]=d;const p=(d.__vccOpts||d)[e];return p&&Cr(p,n,r,o,a,s)()}))}}return i}function j0(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>wi(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>wi(u,l))||s.push(l))}return[n,r,s]}let q0=()=>location.protocol+"//"+location.host;function tv(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let o=s.includes(t.slice(i))?t.slice(i).length:1,a=s.slice(o);return a[0]!=="/"&&(a="/"+a),Yp(a,"")}return Yp(n,t)+r+s}function W0(t,e,n,r){let s=[],i=[],o=null;const a=({state:p})=>{const g=tv(t,location),E=n.value,_=e.value;let C=0;if(p){if(n.value=g,e.value=p,o&&o===E){o=null;return}C=_?p.position-_.position:0}else r(g);s.forEach(S=>{S(n.value,E,{delta:C,type:Yu.pop,direction:C?C>0?lu.forward:lu.back:lu.unknown})})};function l(){o=n.value}function u(p){s.push(p);const g=()=>{const E=s.indexOf(p);E>-1&&s.splice(E,1)};return i.push(g),g}function h(){if(document.visibilityState==="hidden"){const{history:p}=window;if(!p.state)return;p.replaceState(De({},p.state,{scroll:il()}),"")}}function d(){for(const p of i)p();i=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",h),document.removeEventListener("visibilitychange",h)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",h),document.addEventListener("visibilitychange",h),{pauseListeners:l,listen:u,destroy:d}}function tm(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?il():null}}function G0(t){const{history:e,location:n}=window,r={value:tv(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,h){const d=t.indexOf("#"),p=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:q0()+t+l;try{e[h?"replaceState":"pushState"](u,"",p),s.value=u}catch(g){console.error(g),n[h?"replace":"assign"](p)}}function o(l,u){i(l,De({},e.state,tm(s.value.back,l,s.value.forward,!0),u,{position:s.value.position}),!0),r.value=l}function a(l,u){const h=De({},s.value,e.state,{forward:l,scroll:il()});i(h.current,h,!0),i(l,De({},tm(r.value,l,null),{position:h.position+1},u),!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function K0(t){t=k0(t);const e=G0(t),n=W0(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=De({location:"",base:t,go:r,createHref:O0.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}let gs=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var dt=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(dt||{});const z0={type:gs.Static,value:""},Q0=/[a-zA-Z0-9_]/;function Y0(t){if(!t)return[[]];if(t==="/")return[[z0]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${u}": ${g}`)}let n=dt.Static,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,u="",h="";function d(){u&&(n===dt.Static?i.push({type:gs.Static,value:u}):n===dt.Param||n===dt.ParamRegExp||n===dt.ParamRegExpEnd?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:gs.Param,value:u,regexp:h,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function p(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==dt.ParamRegExp){r=n,n=dt.EscapeNext;continue}switch(n){case dt.Static:l==="/"?(u&&d(),o()):l===":"?(d(),n=dt.Param):p();break;case dt.EscapeNext:p(),n=r;break;case dt.Param:l==="("?n=dt.ParamRegExp:Q0.test(l)?p():(d(),n=dt.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case dt.ParamRegExp:l===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+l:n=dt.ParamRegExpEnd:h+=l;break;case dt.ParamRegExpEnd:d(),n=dt.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,h="";break;default:e("Unknown state");break}}return n===dt.ParamRegExp&&e(`Unfinished custom RegExp for param "${u}"`),d(),o(),s}const nm="[^/]+?",J0={sensitive:!1,strict:!1,start:!0,end:!0};var Lt=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(Lt||{});const X0=/[.+*?^${}()[\]/\\]/g;function Z0(t,e){const n=De({},J0,e),r=[];let s=n.start?"^":"";const i=[];for(const u of t){const h=u.length?[]:[Lt.Root];n.strict&&!u.length&&(s+="/");for(let d=0;d<u.length;d++){const p=u[d];let g=Lt.Segment+(n.sensitive?Lt.BonusCaseSensitive:0);if(p.type===gs.Static)d||(s+="/"),s+=p.value.replace(X0,"\\$&"),g+=Lt.Static;else if(p.type===gs.Param){const{value:E,repeatable:_,optional:C,regexp:S}=p;i.push({name:E,repeatable:_,optional:C});const b=S||nm;if(b!==nm){g+=Lt.BonusCustomRegExp;try{`${b}`}catch(O){throw new Error(`Invalid custom RegExp for param "${E}" (${b}): `+O.message)}}let y=_?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;d||(y=C&&u.length<2?`(?:/${y})`:"/"+y),C&&(y+="?"),s+=y,g+=Lt.Dynamic,C&&(g+=Lt.BonusOptional),_&&(g+=Lt.BonusRepeatable),b===".*"&&(g+=Lt.BonusWildcard)}h.push(g)}r.push(h)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=Lt.BonusStrict}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(u){const h=u.match(o),d={};if(!h)return null;for(let p=1;p<h.length;p++){const g=h[p]||"",E=i[p-1];d[E.name]=g&&E.repeatable?g.split("/"):g}return d}function l(u){let h="",d=!1;for(const p of t){(!d||!h.endsWith("/"))&&(h+="/"),d=!1;for(const g of p)if(g.type===gs.Static)h+=g.value;else if(g.type===gs.Param){const{value:E,repeatable:_,optional:C}=g,S=E in u?u[E]:"";if(En(S)&&!_)throw new Error(`Provided param "${E}" is an array but it is not repeatable (* or + modifiers)`);const b=En(S)?S.join("/"):S;if(!b)if(C)p.length<2&&(h.endsWith("/")?h=h.slice(0,-1):d=!0);else throw new Error(`Missing required param "${E}"`);h+=b}}return h||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function eS(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===Lt.Static+Lt.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===Lt.Static+Lt.Segment?1:-1:0}function nv(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=eS(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(rm(r))return 1;if(rm(s))return-1}return s.length-r.length}function rm(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const tS={strict:!1,end:!0,sensitive:!1};function nS(t,e,n){const r=Z0(Y0(t.path),n),s=De(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function rS(t,e){const n=[],r=new Map;e=Qp(tS,e);function s(d){return r.get(d)}function i(d,p,g){const E=!g,_=im(d);_.aliasOf=g&&g.record;const C=Qp(e,d),S=[_];if("alias"in d){const O=typeof d.alias=="string"?[d.alias]:d.alias;for(const V of O)S.push(im(De({},_,{components:g?g.record.components:_.components,path:V,aliasOf:g?g.record:_})))}let b,y;for(const O of S){const{path:V}=O;if(p&&V[0]!=="/"){const U=p.record.path,I=U[U.length-1]==="/"?"":"/";O.path=p.record.path+(V&&I+V)}if(b=nS(O,p,C),g?g.alias.push(b):(y=y||b,y!==b&&y.alias.push(b),E&&d.name&&!om(b)&&o(d.name)),rv(b)&&l(b),_.children){const U=_.children;for(let I=0;I<U.length;I++)i(U[I],b,g&&g.children[I])}g=g||b}return y?()=>{o(y)}:Io}function o(d){if(Zy(d)){const p=r.get(d);p&&(r.delete(d),n.splice(n.indexOf(p),1),p.children.forEach(o),p.alias.forEach(o))}else{const p=n.indexOf(d);p>-1&&(n.splice(p,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const p=oS(d,n);n.splice(p,0,d),d.record.name&&!om(d)&&r.set(d.record.name,d)}function u(d,p){let g,E={},_,C;if("name"in d&&d.name){if(g=r.get(d.name),!g)throw Ti(Ye.MATCHER_NOT_FOUND,{location:d});C=g.record.name,E=De(sm(p.params,g.keys.filter(y=>!y.optional).concat(g.parent?g.parent.keys.filter(y=>y.optional):[]).map(y=>y.name)),d.params&&sm(d.params,g.keys.map(y=>y.name))),_=g.stringify(E)}else if(d.path!=null)_=d.path,g=n.find(y=>y.re.test(_)),g&&(E=g.parse(_),C=g.record.name);else{if(g=p.name?r.get(p.name):n.find(y=>y.re.test(p.path)),!g)throw Ti(Ye.MATCHER_NOT_FOUND,{location:d,currentLocation:p});C=g.record.name,E=De({},p.params,d.params),_=g.stringify(E)}const S=[];let b=g;for(;b;)S.unshift(b.record),b=b.parent;return{name:C,path:_,params:E,matched:S,meta:iS(S)}}t.forEach(d=>i(d));function h(){n.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:h,getRoutes:a,getRecordMatcher:s}}function sm(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function im(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:sS(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function sS(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function om(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function iS(t){return t.reduce((e,n)=>De(e,n.meta),{})}function oS(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;nv(t,e[i])<0?r=i:n=i+1}const s=aS(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function aS(t){let e=t;for(;e=e.parent;)if(rv(e)&&nv(t,e)===0)return e}function rv({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function am(t){const e=Rt(cf),n=Rt(lf),r=Ge(()=>{const l=Me(t.to);return e.resolve(l)}),s=Ge(()=>{const{matched:l}=r.value,{length:u}=l,h=l[u-1],d=n.matched;if(!h||!d.length)return-1;const p=d.findIndex(wi.bind(null,h));if(p>-1)return p;const g=cm(l[u-2]);return u>1&&cm(h)===g&&d[d.length-1].path!==g?d.findIndex(wi.bind(null,l[u-2])):p}),i=Ge(()=>s.value>-1&&fS(n.params,r.value.params)),o=Ge(()=>s.value>-1&&s.value===n.matched.length-1&&Xy(n.params,r.value.params));function a(l={}){if(hS(l)){const u=e[Me(t.replace)?"replace":"push"](Me(t.to)).catch(Io);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:Ge(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function cS(t){return t.length===1?t[0]:t}const lS=rt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:am,setup(t,{slots:e}){const n=Jr(am(t)),{options:r}=Rt(cf),s=Ge(()=>({[lm(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[lm(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&cS(e.default(n));return t.custom?i:Xe("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),uS=lS;function hS(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function fS(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!En(s)||s.length!==r.length||r.some((i,o)=>i.valueOf()!==s[o].valueOf()))return!1}return!0}function cm(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const lm=(t,e,n)=>t??e??n,dS=rt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Rt(Xu),s=Ge(()=>t.route||r.value),i=Rt(em,0),o=Ge(()=>{let u=Me(i);const{matched:h}=s.value;let d;for(;(d=h[u])&&!d.components;)u++;return u}),a=Ge(()=>s.value.matched[o.value]);Zn(em,Ge(()=>o.value+1)),Zn(H0,a),Zn(Xu,s);const l=ie();return Ur(()=>[l.value,a.value,t.name],([u,h,d],[p,g,E])=>{h&&(h.instances[d]=u,g&&g!==h&&u&&u===p&&(h.leaveGuards.size||(h.leaveGuards=g.leaveGuards),h.updateGuards.size||(h.updateGuards=g.updateGuards))),u&&h&&(!g||!wi(h,g)||!p)&&(h.enterCallbacks[d]||[]).forEach(_=>_(u))},{flush:"post"}),()=>{const u=s.value,h=t.name,d=a.value,p=d&&d.components[h];if(!p)return um(n.default,{Component:p,route:u});const g=d.props[h],E=g?g===!0?u.params:typeof g=="function"?g(u):g:null,C=Xe(p,De({},E,e,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(d.instances[h]=null)},ref:l}));return um(n.default,{Component:C,route:u})||C}}});function um(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const sv=dS;function pS(t){const e=rS(t.routes,t),n=t.parseQuery||B0,r=t.stringifyQuery||Zp,s=t.history,i=ao(),o=ao(),a=ao(),l=ar(rn);let u=rn;Qs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=au.bind(null,$=>""+$),d=au.bind(null,I0),p=au.bind(null,Uo);function g($,te){let J,oe;return Zy($)?(J=e.getRecordMatcher($),oe=te):oe=$,e.addRoute(oe,J)}function E($){const te=e.getRecordMatcher($);te&&e.removeRoute(te)}function _(){return e.getRoutes().map($=>$.record)}function C($){return!!e.getRecordMatcher($)}function S($,te){if(te=De({},te||l.value),typeof $=="string"){const D=cu(n,$,te.path),M=e.resolve({path:D.path},te),q=s.createHref(D.fullPath);return De(D,M,{params:p(M.params),hash:Uo(D.hash),redirectedFrom:void 0,href:q})}let J;if($.path!=null)J=De({},$,{path:cu(n,$.path,te.path).path});else{const D=De({},$.params);for(const M in D)D[M]==null&&delete D[M];J=De({},$,{params:d(D)}),te.params=d(te.params)}const oe=e.resolve(J,te),we=$.hash||"";oe.params=h(p(oe.params));const Ue=R0(r,De({},$,{hash:E0(we),path:oe.path})),P=s.createHref(Ue);return De({fullPath:Ue,hash:we,query:r===Zp?$0($.query):$.query||{}},oe,{redirectedFrom:void 0,href:P})}function b($){return typeof $=="string"?cu(n,$,l.value.path):De({},$)}function y($,te){if(u!==$)return Ti(Ye.NAVIGATION_CANCELLED,{from:te,to:$})}function O($){return I($)}function V($){return O(De(b($),{replace:!0}))}function U($,te){const J=$.matched[$.matched.length-1];if(J&&J.redirect){const{redirect:oe}=J;let we=typeof oe=="function"?oe($,te):oe;return typeof we=="string"&&(we=we.includes("?")||we.includes("#")?we=b(we):{path:we},we.params={}),De({query:$.query,hash:$.hash,params:we.path!=null?{}:$.params},we)}}function I($,te){const J=u=S($),oe=l.value,we=$.state,Ue=$.force,P=$.replace===!0,D=U(J,oe);if(D)return I(De(b(D),{state:typeof D=="object"?De({},we,D.state):we,force:Ue,replace:P}),te||J);const M=J;M.redirectedFrom=te;let q;return!Ue&&S0(r,oe,J)&&(q=Ti(Ye.NAVIGATION_DUPLICATED,{to:M,from:oe}),Wt(oe,oe,!0,!1)),(q?Promise.resolve(q):R(M,oe)).catch(F=>Wn(F)?Wn(F,Ye.NAVIGATION_GUARD_REDIRECT)?F:An(F):ee(F,M,oe)).then(F=>{if(F){if(Wn(F,Ye.NAVIGATION_GUARD_REDIRECT))return I(De({replace:P},b(F.to),{state:typeof F.to=="object"?De({},we,F.to.state):we,force:Ue}),te||M)}else F=N(M,oe,!0,P,we);return k(M,oe,F),F})}function w($,te){const J=y($,te);return J?Promise.reject(J):Promise.resolve()}function v($){const te=ln.values().next().value;return te&&typeof te.runWithContext=="function"?te.runWithContext($):$()}function R($,te){let J;const[oe,we,Ue]=j0($,te);J=uu(oe.reverse(),"beforeRouteLeave",$,te);for(const D of oe)D.leaveGuards.forEach(M=>{J.push(Cr(M,$,te))});const P=w.bind(null,$,te);return J.push(P),St(J).then(()=>{J=[];for(const D of i.list())J.push(Cr(D,$,te));return J.push(P),St(J)}).then(()=>{J=uu(we,"beforeRouteUpdate",$,te);for(const D of we)D.updateGuards.forEach(M=>{J.push(Cr(M,$,te))});return J.push(P),St(J)}).then(()=>{J=[];for(const D of Ue)if(D.beforeEnter)if(En(D.beforeEnter))for(const M of D.beforeEnter)J.push(Cr(M,$,te));else J.push(Cr(D.beforeEnter,$,te));return J.push(P),St(J)}).then(()=>($.matched.forEach(D=>D.enterCallbacks={}),J=uu(Ue,"beforeRouteEnter",$,te,v),J.push(P),St(J))).then(()=>{J=[];for(const D of o.list())J.push(Cr(D,$,te));return J.push(P),St(J)}).catch(D=>Wn(D,Ye.NAVIGATION_CANCELLED)?D:Promise.reject(D))}function k($,te,J){a.list().forEach(oe=>v(()=>oe($,te,J)))}function N($,te,J,oe,we){const Ue=y($,te);if(Ue)return Ue;const P=te===rn,D=Qs?history.state:{};J&&(oe||P?s.replace($.fullPath,De({scroll:P&&D&&D.scroll},we)):s.push($.fullPath,we)),l.value=$,Wt($,te,J,P),An()}let A;function ce(){A||(A=s.listen(($,te,J)=>{if(!un.listening)return;const oe=S($),we=U(oe,un.currentRoute.value);if(we){I(De(we,{replace:!0,force:!0}),oe).catch(Io);return}u=oe;const Ue=l.value;Qs&&x0(Xp(Ue.fullPath,J.delta),il()),R(oe,Ue).catch(P=>Wn(P,Ye.NAVIGATION_ABORTED|Ye.NAVIGATION_CANCELLED)?P:Wn(P,Ye.NAVIGATION_GUARD_REDIRECT)?(I(De(b(P.to),{force:!0}),oe).then(D=>{Wn(D,Ye.NAVIGATION_ABORTED|Ye.NAVIGATION_DUPLICATED)&&!J.delta&&J.type===Yu.pop&&s.go(-1,!1)}).catch(Io),Promise.reject()):(J.delta&&s.go(-J.delta,!1),ee(P,oe,Ue))).then(P=>{P=P||N(oe,Ue,!1),P&&(J.delta&&!Wn(P,Ye.NAVIGATION_CANCELLED)?s.go(-J.delta,!1):J.type===Yu.pop&&Wn(P,Ye.NAVIGATION_ABORTED|Ye.NAVIGATION_DUPLICATED)&&s.go(-1,!1)),k(oe,Ue,P)}).catch(Io)}))}let Te=ao(),re=ao(),me;function ee($,te,J){An($);const oe=re.list();return oe.length?oe.forEach(we=>we($,te,J)):console.error($),Promise.reject($)}function Ne(){return me&&l.value!==rn?Promise.resolve():new Promise(($,te)=>{Te.add([$,te])})}function An($){return me||(me=!$,ce(),Te.list().forEach(([te,J])=>$?J($):te()),Te.reset()),$}function Wt($,te,J,oe){const{scrollBehavior:we}=t;if(!Qs||!we)return Promise.resolve();const Ue=!J&&M0(Xp($.fullPath,0))||(oe||!J)&&history.state&&history.state.scroll||null;return bs().then(()=>we($,te,Ue)).then(P=>P&&V0(P)).catch(P=>ee(P,$,te))}const Tt=$=>s.go($);let $n;const ln=new Set,un={currentRoute:l,listening:!0,addRoute:g,removeRoute:E,clearRoutes:e.clearRoutes,hasRoute:C,getRoutes:_,resolve:S,options:t,push:O,replace:V,go:Tt,back:()=>Tt(-1),forward:()=>Tt(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:re.add,isReady:Ne,install($){$.component("RouterLink",uS),$.component("RouterView",sv),$.config.globalProperties.$router=un,Object.defineProperty($.config.globalProperties,"$route",{enumerable:!0,get:()=>Me(l)}),Qs&&!$n&&l.value===rn&&($n=!0,O(s.location).catch(oe=>{}));const te={};for(const oe in rn)Object.defineProperty(te,oe,{get:()=>l.value[oe],enumerable:!0});$.provide(cf,un),$.provide(lf,Nn(te)),$.provide(Xu,l);const J=$.unmount;ln.add($),$.unmount=function(){ln.delete($),ln.size<1&&(u=rn,A&&A(),A=null,l.value=rn,$n=!1,me=!1),J()}}};function St($){return $.reduce((te,J)=>te.then(()=>v(J)),Promise.resolve())}return un}function iv(t){return Rt(lf)}const mS=/(:\w+)\([^)]+\)/g,gS=/(:\w+)[?+*]/g,_S=/:\w+/g,yS=(t,e)=>e.path.replace(mS,"$1").replace(gS,"$1").replace(_S,n=>t.params[n.slice(1)]?.toString()||""),Zu=(t,e)=>{const n=t.route.matched.find(s=>s.components?.default===t.Component.type),r=e??n?.meta.key??(n&&yS(t.route,n));return typeof r=="function"?r(t.route):r},vS=(t,e)=>({default:()=>t?Xe(_I,t===!0?{}:t,e):e});function uf(t){return Array.isArray(t)?t:[t]}const ES="modulepreload",wS=function(t,e){return new URL(t,e).href},hm={},_t=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let u=function(h){return Promise.all(h.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");s=u(n.map(h=>{if(h=wS(h,r),h in hm)return;hm[h]=!0;const d=h.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(r)for(let E=o.length-1;E>=0;E--){const _=o[E];if(_.href===h&&(!d||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${p}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":ES,d||(g.as="script"),g.crossOrigin="",g.href=h,l&&g.setAttribute("nonce",l),document.head.appendChild(g),d)return new Promise((E,_)=>{g.addEventListener("load",E),g.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},TS={layout:!1},IS={layout:!1},bS={layout:!1},AS={layout:"dashboard"},RS={layout:"dashboard"},SS={layout:"coach"},CS={layout:"dashboard"},PS={layout:"coach"},kS={layout:"dashboard"},NS={layout:"dashboard"},hu=[{name:"index",path:"/",meta:TS||{},component:()=>_t(()=>import("./C-MSuiJR.js"),__vite__mapDeps([0,1]),import.meta.url)},{name:"profilo",path:"/profilo",meta:IS||{},component:()=>_t(()=>import("./RLWw-1bo.js"),[],import.meta.url)},{name:"slug",path:"/:slug(.*)*",component:()=>_t(()=>import("./COmrf1kO.js"),__vite__mapDeps([2,3]),import.meta.url)},{name:"dev-upload",path:"/dev-upload",meta:bS||{},component:()=>_t(()=>import("./DsyV814e.js"),__vite__mapDeps([4,5,6]),import.meta.url)},{name:"panoramica",path:"/panoramica",meta:AS||{},component:()=>_t(()=>import("./DMSCmTZw.js"),__vite__mapDeps([7,8,9,10,11,12]),import.meta.url)},{name:"piste-id",path:"/piste/:id()",meta:RS||{},component:()=>_t(()=>import("./DsV0mAn-.js"),__vite__mapDeps([13,14,15,16,9,10,17,11,18]),import.meta.url)},{name:"piloti-id",path:"/piloti/:id()",meta:{...SS||{},middleware:["coach"]},component:()=>_t(()=>import("./C1hU84ZB.js"),__vite__mapDeps([19,5,14,15,16,9,10,17,11,18,20,21,8,12,22,23,24,25,26]),import.meta.url)},{name:"piste",path:"/piste",meta:CS||{},component:()=>_t(()=>import("./D9l-ntdv.js"),__vite__mapDeps([27,24,9,10,11,25]),import.meta.url)},{name:"piloti",path:"/piloti",meta:{...PS||{},middleware:["coach"]},component:()=>_t(()=>import("./CjqUAg-9.js"),__vite__mapDeps([28,5,29]),import.meta.url)},{name:"sessioni-id",path:"/sessioni/:id()",meta:kS||{},component:()=>_t(()=>import("./D_pstj4C.js"),__vite__mapDeps([30,20,9,10,17,21]),import.meta.url)},{name:"sessioni",path:"/sessioni",meta:NS||{},component:()=>_t(()=>import("./CTiumS5p.js"),__vite__mapDeps([31,22,15,16,9,10,23]),import.meta.url)}],ov=(t,e)=>({default:()=>t?Xe(tl,t===!0?{}:t,e):e.default?.()}),OS=/(:\w+)\([^)]+\)/g,DS=/(:\w+)[?+*]/g,VS=/:\w+/g;function fm(t){const e=t?.meta.key??t.path.replace(OS,"$1").replace(DS,"$1").replace(VS,n=>t.params[n.slice(1)]?.toString()||"");return typeof e=="function"?e(t):e}function xS(t,e){return t===e||e===rn?!1:fm(t)!==fm(e)?!0:!t.matched.every((r,s)=>r.components&&r.components.default===e.matched[s]?.components?.default)}function MS(t,e=!1){if(t){if(t.nodeName==="#comment"&&t.nodeValue==="[")return av(t,[],e);if(e){const n=t.cloneNode(!0);return n.querySelectorAll("[data-island-slot]").forEach(r=>{r.innerHTML=""}),[n.outerHTML]}return[t.outerHTML]}}function av(t,e=[],n=!1){if(t&&t.nodeName){if(US(t))return e;if(!LS(t)){const r=t.cloneNode(!0);n&&r.querySelectorAll?.("[data-island-slot]").forEach(s=>{s.innerHTML=""}),e.push(r.outerHTML)}av(t.nextSibling,e,n)}return e}function fu(t,e){const n=t?MS(t):[e];return n?uy(n.join(""),n.length):Xe("div")}function LS(t){return t.nodeName==="#comment"&&t.nodeValue==="["}function US(t){return t.nodeName==="#comment"&&t.nodeValue==="]"}const FS={scrollBehavior(t,e,n){const r=et(),s=qt().options?.scrollBehaviorType??"auto";if(t.path.replace(/\/$/,"")===e.path.replace(/\/$/,""))return e.hash&&!t.hash?{left:0,top:0}:t.hash?{el:t.hash,top:cv(t.hash),behavior:s}:!1;if((typeof t.meta.scrollToTop=="function"?t.meta.scrollToTop(t,e):t.meta.scrollToTop)===!1)return!1;const o=r._runningTransition?"page:transition:finish":"page:loading:end";return new Promise(a=>{if(e===rn){a(dm(t,e,n,s));return}r.hooks.hookOnce(o,()=>{requestAnimationFrame(()=>a(dm(t,e,n,s)))})})}};function cv(t){try{const e=document.querySelector(t);if(e)return(Number.parseFloat(getComputedStyle(e).scrollMarginTop)||0)+(Number.parseFloat(getComputedStyle(document.documentElement).scrollPaddingTop)||0)}catch{}return 0}function dm(t,e,n,r){if(n)return n;const s=xS(t,e);return t.hash?{el:t.hash,top:cv(t.hash),behavior:s?r:"instant"}:{left:0,top:0}}const BS={hashMode:!1,scrollBehaviorType:"auto"},Tr={...BS,...FS},$S=async(t,e)=>{let n,r;if(!t.meta?.validate)return;const s=([n,r]=ui(()=>Promise.resolve(t.meta.validate(t))),n=await n,r(),n);if(s===!0)return;const i=ws({fatal:!0,statusCode:s&&s.statusCode||404,statusMessage:s&&s.statusMessage||`Page Not Found: ${t.fullPath}`,data:{path:t.fullPath}});return typeof window<"u"&&window.history.pushState({},"",e.fullPath),i},HS=async t=>{let e,n;const r=([e,n]=ui(()=>sf({path:t.path})),e=await e,n(),e);if(r.redirect){const s=r.redirect.includes("#")?r.redirect:r.redirect+t.hash;return Ls(s,{acceptRelative:!0})?(window.location.href=s,!1):s}},jS=[$S,HS],eh={coach:()=>_t(()=>import("./DeDTqKJq.js"),[],import.meta.url)};function qS(t,e,n){const{pathname:r,search:s,hash:i}=e,o=t.indexOf("#");if(o>-1){const u=i.includes(t.slice(o))?t.slice(o).length:1;let h=i.slice(u);return h[0]!=="/"&&(h="/"+h),Np(h,"")}const a=Np(r,t),l=!n||vA(a,n)?a:n;return l+(l.includes("?")?"":s)+i}const WS=Fn({name:"nuxt:router",enforce:"pre",async setup(t){let e,n,r=nl().app.baseURL;const s=Tr.history?.(r)??K0(r),i=Tr.routes?([e,n]=ui(()=>Tr.routes(hu)),e=await e,n(),e??hu):hu;let o;const a=pS({...Tr,scrollBehavior:(C,S,b)=>{if(S===rn){o=b;return}if(Tr.scrollBehavior){if(a.options.scrollBehavior=Tr.scrollBehavior,"scrollRestoration"in window.history){const y=a.beforeEach(()=>{y(),window.history.scrollRestoration="manual"})}return Tr.scrollBehavior(C,rn,o||b)}},history:s,routes:i});"scrollRestoration"in window.history&&(window.history.scrollRestoration="auto"),t.vueApp.use(a);const l=ar(a.currentRoute.value);a.afterEach((C,S)=>{l.value=S}),Object.defineProperty(t.vueApp.config.globalProperties,"previousRoute",{get:()=>l.value});const u=qS(r,window.location,t.payload.path),h=ar(a.currentRoute.value),d=()=>{h.value=a.currentRoute.value};a.afterEach((C,S)=>{C.matched.at(-1)?.components?.default===S.matched.at(-1)?.components?.default&&d()});const p={sync:d};for(const C in h.value)Object.defineProperty(p,C,{get:()=>h.value[C],enumerable:!0});t._route=Nn(p),t._middleware||={global:[],named:{}};const g=rl();a.afterEach(async(C,S,b)=>{delete t._processingMiddleware,!t.isHydrating&&g.value&&await t.runWithContext(mR),b&&await t.callHook("page:loading:end")});try{[e,n]=ui(()=>a.isReady()),await e,n()}catch(C){[e,n]=ui(()=>t.runWithContext(()=>ds(C))),await e,n()}const E=u!==a.currentRoute.value.fullPath?a.resolve(u):a.currentRoute.value;d();const _=t.payload.state._layout;return a.beforeEach(async(C,S)=>{await t.callHook("page:loading:start"),C.meta=Jr(C.meta),t.isHydrating&&_&&!Ln(C.meta.layout)&&(C.meta.layout=_),t._processingMiddleware=!0;{const b=new Set([...jS,...t._middleware.global]);for(const y of C.matched){const O=y.meta.middleware;if(O)for(const V of uf(O))b.add(V)}{const y=await t.runWithContext(()=>sf({path:C.path}));if(y.appMiddleware)for(const O in y.appMiddleware)y.appMiddleware[O]?b.add(O):b.delete(O)}for(const y of b){const O=typeof y=="string"?t._middleware.named[y]||await eh[y]?.().then(V=>V.default||V):y;if(!O)throw new Error(`Unknown route middleware: '${y}'.`);try{const V=await t.runWithContext(()=>O(C,S));if(!t.payload.serverRendered&&t.isHydrating&&(V===!1||V instanceof Error)){const U=V||ws({statusCode:404,statusMessage:`Page Not Found: ${u}`});return await t.runWithContext(()=>ds(U)),!1}if(V===!0)continue;if(V===!1)return V;if(V)return Ly(V)&&V.fatal&&await t.runWithContext(()=>ds(V)),V}catch(V){const U=ws(V);return U.fatal&&await t.runWithContext(()=>ds(U)),U}}}}),a.onError(async()=>{delete t._processingMiddleware,await t.callHook("page:loading:end")}),a.afterEach(C=>{if(C.matched.length===0)return t.runWithContext(()=>ds(ws({statusCode:404,fatal:!1,statusMessage:`Page not found: ${C.fullPath}`,data:{path:C.fullPath}})))}),t.hooks.hookOnce("app:created",async()=>{try{"name"in E&&(E.name=void 0),await a.replace({...E,force:!0}),a.options.scrollBehavior=Tr.scrollBehavior}catch(C){await t.runWithContext(()=>ds(C))}}),{provide:{router:a}}}}),pm=globalThis.requestIdleCallback||(t=>{const e=Date.now(),n={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-e))};return setTimeout(()=>{t(n)},1)}),fM=globalThis.cancelIdleCallback||(t=>{clearTimeout(t)}),hf=t=>{const e=et();e.isHydrating?e.hooks.hookOnce("app:suspense:resolve",()=>{pm(()=>t())}):pm(()=>t())},GS=Fn({name:"nuxt:payload",setup(t){const e=new Set;qt().beforeResolve(async(n,r)=>{if(n.path===r.path)return;const s=await zp(n.path);if(s){for(const i of e)delete t.static.data[i];for(const i in s.data)i in t.static.data||e.add(i),t.static.data[i]=s.data[i]}}),hf(()=>{t.hooks.hook("link:prefetch",async n=>{const{hostname:r}=new URL(n,window.location.href);r===window.location.hostname&&await zp(n).catch(()=>{console.warn("[nuxt] Error preloading payload for",n)})}),navigator.connection?.effectiveType!=="slow-2g"&&setTimeout(sl,1e3)})}}),KS=Fn(()=>{const t=qt();hf(()=>{t.beforeResolve(async()=>{await new Promise(e=>{setTimeout(e,100),requestAnimationFrame(()=>{setTimeout(e,0)})})})})}),zS=Fn(t=>{let e;async function n(){let r;try{r=await sl()}catch(s){const i=s;if(!("status"in i&&(i.status===404||i.status===403)))throw i}e&&clearTimeout(e),e=setTimeout(n,Up);try{const s=await $fetch(nf("builds/latest.json")+`?${Date.now()}`);s.id!==r?.id&&(t.hooks.callHook("app:manifest:update",s),e&&clearTimeout(e))}catch{}}hf(()=>{e=setTimeout(n,Up)})});function QS(t={}){const e=t.path||window.location.pathname;let n={};try{n=yc(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(t.force||n?.path!==e||n?.expires<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:e,expires:Date.now()+(t.ttl??1e4)}))}catch{}if(t.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:et().payload.state}))}catch{}window.location.pathname!==e?window.location.href=e:window.location.reload()}}const YS=Fn({name:"nuxt:chunk-reload",setup(t){const e=qt(),n=nl(),r=new Set;e.beforeEach(()=>{r.clear()}),t.hook("app:chunkError",({error:i})=>{r.add(i)});function s(i){const o=ef(n.app.baseURL,i.fullPath);QS({path:o,persistState:!0})}t.hook("app:manifest:update",()=>{e.beforeResolve(s)}),e.onError((i,o)=>{r.has(i)&&s(o)})}}),JS=Fn({name:"nuxt:global-components"}),Vr={coach:fc(()=>_t(()=>import("./CDbns43g.js"),__vite__mapDeps([32,33]),import.meta.url).then(t=>t.default||t)),dashboard:fc(()=>_t(()=>import("./BtWf204G.js"),__vite__mapDeps([34,5,35]),import.meta.url).then(t=>t.default||t))};function XS(t){if(t?.__asyncLoader&&!t.__asyncResolved)return t.__asyncLoader()}async function ZS(t,e=qt()){const{path:n,matched:r}=e.resolve(t);if(!r.length||(e._routePreloaded||=new Set,e._routePreloaded.has(n)))return;const s=e._preloadPromises||=[];if(s.length>4)return Promise.all(s).then(()=>ZS(t,e));e._routePreloaded.add(n);for(const i of r){const o=i.components?.default;if(typeof o!="function")continue;const a=Promise.resolve(o()).catch(()=>{}).finally(()=>s.splice(s.indexOf(a)));s.push(a)}await Promise.all(s)}const eC=Fn({name:"nuxt:prefetch",setup(t){const e=qt();t.hooks.hook("app:mounted",()=>{e.beforeEach(async n=>{const r=n?.meta?.layout;r&&typeof Vr[r]=="function"&&await Vr[r]()})}),t.hooks.hook("link:prefetch",n=>{if(Ls(n))return;const r=e.resolve(n);if(!r)return;const s=r.meta.layout;let i=uf(r.meta.middleware);i=i.filter(o=>typeof o=="string");for(const o of i)typeof eh[o]=="function"&&eh[o]();typeof s=="string"&&s in Vr&&XS(Vr[s])})}}),tC={mounted(t,e){t._clickOutside=n=>{t===n.target||t.contains(n.target)||e.value(n)},document.addEventListener("click",t._clickOutside)},unmounted(t){t._clickOutside&&document.removeEventListener("click",t._clickOutside)}},nC=Fn(t=>{t.vueApp.directive("click-outside",tC)}),rC=[s0,l0,WS,GS,KS,zS,YS,JS,eC,nC],sC=()=>{};var mm={};const lv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},iC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},uv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,h=i>>2,d=(i&3)<<4|a>>4;let p=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(p=64)),r.push(n[h],n[d],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||d==null)throw new oC;const p=i<<2|a>>4;if(r.push(p),u!==64){const g=a<<4&240|u>>2;if(r.push(g),d!==64){const E=u<<6&192|d;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aC=function(t){const e=lv(t);return uv.encodeByteArray(e,!0)},bc=function(t){return aC(t).replace(/\./g,"")},hv=function(t){try{return uv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function cC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const lC=()=>cC().__FIREBASE_DEFAULTS__,uC=()=>{if(typeof process>"u"||typeof mm>"u")return;const t=mm.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&hv(t[1]);return e&&JSON.parse(e)},ol=()=>{try{return sC()||lC()||uC()||hC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fv=t=>ol()?.emulatorHosts?.[t],fC=t=>{const e=fv(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},dv=()=>ol()?.config,pv=t=>ol()?.[`_${t}`];class dC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Vi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mv(t){return(await fetch(t,{credentials:"include"})).ok}function pC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[bc(JSON.stringify(n)),bc(JSON.stringify(o)),""].join(".")}const bo={};function mC(){const t={prod:[],emulator:[]};for(const e of Object.keys(bo))bo[e]?t.emulator.push(e):t.prod.push(e);return t}function gC(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let gm=!1;function gv(t,e){if(typeof window>"u"||typeof document>"u"||!Vi(window.location.host)||bo[t]===e||bo[t]||gm)return;bo[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=mC().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{gm=!0,o()},p}function h(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function d(){const p=gC(r),g=n("text"),E=document.getElementById(g)||document.createElement("span"),_=n("learnmore"),C=document.getElementById(_)||document.createElement("a"),S=n("preprendIcon"),b=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const y=p.element;a(y),h(C,_);const O=u();l(b,S),y.append(b,E,C,O),document.body.appendChild(y)}i?(E.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _C(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function yC(){const t=ol()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function EC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TC(){const t=Vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function IC(){return!yC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bC(){try{return typeof indexedDB=="object"}catch{return!1}}function AC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}const RC="FirebaseError";class dr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=RC,Object.setPrototypeOf(this,dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sa.prototype.create)}}class sa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?SC(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new dr(s,a,r)}}function SC(t,e){return t.replace(CC,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const CC=/\{\$([^}]+)}/g;function PC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Cs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(_m(i)&&_m(o)){if(!Cs(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function _m(t){return t!==null&&typeof t=="object"}function ia(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ho(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function fo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function kC(t,e){const n=new NC(t,e);return n.subscribe.bind(n)}class NC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");OC(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=du),s.error===void 0&&(s.error=du),s.complete===void 0&&(s.complete=du);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function du(){}function lt(t){return t&&t._delegate?t._delegate:t}class Ps{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ps="[DEFAULT]";class DC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new dC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xC(e))try{this.getOrInitializeService({instanceIdentifier:ps})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ps){return this.instances.has(e)}getOptions(e=ps){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ps){return this.component?this.component.multipleInstances?e:ps:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VC(t){return t===ps?void 0:t}function xC(t){return t.instantiationMode==="EAGER"}class MC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new DC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(be||(be={}));const LC={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},UC=be.INFO,FC={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},BC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=FC[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ff{constructor(e){this.name=e,this._logLevel=UC,this._logHandler=BC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const $C=(t,e)=>e.some(n=>t instanceof n);let ym,vm;function HC(){return ym||(ym=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jC(){return vm||(vm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _v=new WeakMap,th=new WeakMap,yv=new WeakMap,pu=new WeakMap,df=new WeakMap;function qC(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Fr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&_v.set(n,t)}).catch(()=>{}),df.set(e,t),e}function WC(t){if(th.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});th.set(t,e)}let nh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return th.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GC(t){nh=t(nh)}function KC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(mu(this),e,...n);return yv.set(r,e.sort?e.sort():[e]),Fr(r)}:jC().includes(t)?function(...e){return t.apply(mu(this),e),Fr(_v.get(this))}:function(...e){return Fr(t.apply(mu(this),e))}}function zC(t){return typeof t=="function"?KC(t):(t instanceof IDBTransaction&&WC(t),$C(t,HC())?new Proxy(t,nh):t)}function Fr(t){if(t instanceof IDBRequest)return qC(t);if(pu.has(t))return pu.get(t);const e=zC(t);return e!==t&&(pu.set(t,e),df.set(e,t)),e}const mu=t=>df.get(t);function QC(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Fr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Fr(o.result),l.oldVersion,l.newVersion,Fr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const YC=["get","getKey","getAll","getAllKeys","count"],JC=["put","add","delete","clear"],gu=new Map;function Em(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gu.get(e))return gu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=JC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||YC.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return gu.set(e,i),i}GC(t=>({...t,get:(e,n,r)=>Em(e,n)||t.get(e,n,r),has:(e,n)=>!!Em(e,n)||t.has(e,n)}));class XC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ZC(t){return t.getComponent()?.type==="VERSION"}const rh="@firebase/app",wm="0.14.6";const cr=new ff("@firebase/app"),eP="@firebase/app-compat",tP="@firebase/analytics-compat",nP="@firebase/analytics",rP="@firebase/app-check-compat",sP="@firebase/app-check",iP="@firebase/auth",oP="@firebase/auth-compat",aP="@firebase/database",cP="@firebase/data-connect",lP="@firebase/database-compat",uP="@firebase/functions",hP="@firebase/functions-compat",fP="@firebase/installations",dP="@firebase/installations-compat",pP="@firebase/messaging",mP="@firebase/messaging-compat",gP="@firebase/performance",_P="@firebase/performance-compat",yP="@firebase/remote-config",vP="@firebase/remote-config-compat",EP="@firebase/storage",wP="@firebase/storage-compat",TP="@firebase/firestore",IP="@firebase/ai",bP="@firebase/firestore-compat",AP="firebase",RP="12.6.0";const sh="[DEFAULT]",SP={[rh]:"fire-core",[eP]:"fire-core-compat",[nP]:"fire-analytics",[tP]:"fire-analytics-compat",[sP]:"fire-app-check",[rP]:"fire-app-check-compat",[iP]:"fire-auth",[oP]:"fire-auth-compat",[aP]:"fire-rtdb",[cP]:"fire-data-connect",[lP]:"fire-rtdb-compat",[uP]:"fire-fn",[hP]:"fire-fn-compat",[fP]:"fire-iid",[dP]:"fire-iid-compat",[pP]:"fire-fcm",[mP]:"fire-fcm-compat",[gP]:"fire-perf",[_P]:"fire-perf-compat",[yP]:"fire-rc",[vP]:"fire-rc-compat",[EP]:"fire-gcs",[wP]:"fire-gcs-compat",[TP]:"fire-fst",[bP]:"fire-fst-compat",[IP]:"fire-vertex","fire-js":"fire-js",[AP]:"fire-js-all"};const Fo=new Map,CP=new Map,ih=new Map;function Tm(t,e){try{t.container.addComponent(e)}catch(n){cr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ii(t){const e=t.name;if(ih.has(e))return cr.debug(`There were multiple attempts to register component ${e}.`),!1;ih.set(e,t);for(const n of Fo.values())Tm(n,t);for(const n of CP.values())Tm(n,t);return!0}function pf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function sn(t){return t==null?!1:t.settings!==void 0}const PP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Br=new sa("app","Firebase",PP);class kP{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}const xi=RP;function vv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:sh,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Br.create("bad-app-name",{appName:String(s)});if(n||(n=dv()),!n)throw Br.create("no-options");const i=Fo.get(s);if(i){if(Cs(n,i.options)&&Cs(r,i.config))return i;throw Br.create("duplicate-app",{appName:s})}const o=new MC(s);for(const l of ih.values())o.addComponent(l);const a=new kP(n,r,o);return Fo.set(s,a),a}function Ev(t=sh){const e=Fo.get(t);if(!e&&t===sh&&dv())return vv();if(!e)throw Br.create("no-app",{appName:t});return e}function Im(){return Array.from(Fo.values())}function $r(t,e,n){let r=SP[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cr.warn(o.join(" "));return}Ii(new Ps(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const NP="firebase-heartbeat-database",OP=1,Bo="firebase-heartbeat-store";let _u=null;function wv(){return _u||(_u=QC(NP,OP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Br.create("idb-open",{originalErrorMessage:t.message})})),_u}async function DP(t){try{const n=(await wv()).transaction(Bo),r=await n.objectStore(Bo).get(Tv(t));return await n.done,r}catch(e){if(e instanceof dr)cr.warn(e.message);else{const n=Br.create("idb-get",{originalErrorMessage:e?.message});cr.warn(n.message)}}}async function bm(t,e){try{const r=(await wv()).transaction(Bo,"readwrite");await r.objectStore(Bo).put(e,Tv(t)),await r.done}catch(n){if(n instanceof dr)cr.warn(n.message);else{const r=Br.create("idb-set",{originalErrorMessage:n?.message});cr.warn(r.message)}}}function Tv(t){return`${t.name}!${t.options.appId}`}const VP=1024,xP=30;class MP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Am();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>xP){const s=FP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){cr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Am(),{heartbeatsToSend:n,unsentEntries:r}=LP(this._heartbeatsCache.heartbeats),s=bc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return cr.warn(e),""}}}function Am(){return new Date().toISOString().substring(0,10)}function LP(t,e=VP){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Rm(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Rm(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class UP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bC()?AC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await DP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return bm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return bm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Rm(t){return bc(JSON.stringify({version:2,heartbeats:t})).length}function FP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function BP(t){Ii(new Ps("platform-logger",e=>new XC(e),"PRIVATE")),Ii(new Ps("heartbeat",e=>new MP(e),"PRIVATE")),$r(rh,wm,t),$r(rh,wm,"esm2020"),$r("fire-js","")}BP("");function Iv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $P=Iv,bv=new sa("auth","Firebase",Iv());const Ac=new ff("@firebase/auth");function HP(t,...e){Ac.logLevel<=be.WARN&&Ac.warn(`Auth (${xi}): ${t}`,...e)}function Ja(t,...e){Ac.logLevel<=be.ERROR&&Ac.error(`Auth (${xi}): ${t}`,...e)}function wn(t,...e){throw mf(t,...e)}function Dn(t,...e){return mf(t,...e)}function Av(t,e,n){const r={...$P(),[e]:n};return new sa("auth","Firebase",r).create(e,{appName:t.name})}function nr(t){return Av(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mf(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return bv.create(t,...e)}function fe(t,e,...n){if(!t)throw mf(e,...n)}function Yn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ja(e),new Error(e)}function lr(t,e){t||Yn(e)}function oh(){return typeof self<"u"&&self.location?.href||""}function jP(){return Sm()==="http:"||Sm()==="https:"}function Sm(){return typeof self<"u"&&self.location?.protocol||null}function qP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jP()||EC()||"connection"in navigator)?navigator.onLine:!0}function WP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class oa{constructor(e,n){this.shortDelay=e,this.longDelay=n,lr(n>e,"Short delay should be less than long delay!"),this.isMobile=_C()||wC()}get(){return qP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gf(t,e){lr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Rv{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const GP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const KP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zP=new oa(3e4,6e4);function pr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Bn(t,e,n,r,s={}){return Sv(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=ia({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...i};return vC()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Vi(t.emulatorConfig.host)&&(u.credentials="include"),Rv.fetch()(await Cv(t,t.config.apiHost,n,a),u)})}async function Sv(t,e,n){t._canInitEmulator=!1;const r={...GP,...e};try{const s=new YP(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ba(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ba(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ba(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ba(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Av(t,h,u);wn(t,h)}}catch(s){if(s instanceof dr)throw s;wn(t,"network-request-failed",{message:String(s)})}}async function aa(t,e,n,r,s={}){const i=await Bn(t,e,n,r,s);return"mfaPendingCredential"in i&&wn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function Cv(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?gf(t.config,s):`${t.config.apiScheme}://${s}`;return KP.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function QP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Dn(this.auth,"network-request-failed")),zP.get())})}}function Ba(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Dn(t,e,r);return s.customData._tokenResponse=n,s}function Cm(t){return t!==void 0&&t.enterprise!==void 0}class JP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return QP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function XP(t,e){return Bn(t,"GET","/v2/recaptchaConfig",pr(t,e))}async function ZP(t,e){return Bn(t,"POST","/v1/accounts:delete",e)}async function Rc(t,e){return Bn(t,"POST","/v1/accounts:lookup",e)}function Ao(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ek(t,e=!1){const n=lt(t),r=await n.getIdToken(e),s=_f(r);fe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i?.sign_in_provider;return{claims:s,token:r,authTime:Ao(yu(s.auth_time)),issuedAtTime:Ao(yu(s.iat)),expirationTime:Ao(yu(s.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function yu(t){return Number(t)*1e3}function _f(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ja("JWT malformed, contained fewer than 3 sections"),null;try{const s=hv(n);return s?JSON.parse(s):(Ja("Failed to decode base64 JWT payload"),null)}catch(s){return Ja("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Pm(t){const e=_f(t);return fe(e,"internal-error"),fe(typeof e.exp<"u","internal-error"),fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function bi(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof dr&&tk(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function tk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class nk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ah{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ao(this.lastLoginAt),this.creationTime=Ao(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Sc(t){const e=t.auth,n=await t.getIdToken(),r=await bi(t,Rc(e,{idToken:n}));fe(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=s.providerUserInfo?.length?Pv(s.providerUserInfo):[],o=sk(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!o?.length,u=a?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ah(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function rk(t){const e=lt(t);await Sc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sk(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Pv(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function ik(t,e){const n=await Sv(t,{},async()=>{const r=ia({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await Cv(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Vi(t.emulatorConfig.host)&&(l.credentials="include"),Rv.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ok(t,e){return Bn(t,"POST","/v2/accounts:revokeToken",pr(t,e))}class hi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fe(e.idToken,"internal-error"),fe(typeof e.idToken<"u","internal-error"),fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Pm(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){fe(e.length!==0,"internal-error");const n=Pm(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await ik(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new hi;return r&&(fe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(fe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(fe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hi,this.toJSON())}_performRefresh(){return Yn("not implemented")}}function Ir(t,e){fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new nk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ah(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await bi(this,this.stsTokenManager.getToken(this.auth,e));return fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ek(this,e)}reload(){return rk(this)}_assign(e){this!==e&&(fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Sc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sn(this.auth.app))return Promise.reject(nr(this.auth));const e=await this.getIdToken();return await bi(this,ZP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:d,emailVerified:p,isAnonymous:g,providerData:E,stsTokenManager:_}=n;fe(d&&_,e,"internal-error");const C=hi.fromJSON(this.name,_);fe(typeof d=="string",e,"internal-error"),Ir(r,e.name),Ir(s,e.name),fe(typeof p=="boolean",e,"internal-error"),fe(typeof g=="boolean",e,"internal-error"),Ir(i,e.name),Ir(o,e.name),Ir(a,e.name),Ir(l,e.name),Ir(u,e.name),Ir(h,e.name);const S=new fn({uid:d,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:C,createdAt:u,lastLoginAt:h});return E&&Array.isArray(E)&&(S.providerData=E.map(b=>({...b}))),l&&(S._redirectEventId=l),S}static async _fromIdTokenResponse(e,n,r=!1){const s=new hi;s.updateFromServerResponse(n);const i=new fn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Sc(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];fe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Pv(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!i?.length,a=new hi;a.updateFromIdToken(r);const l=new fn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new ah(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(l,u),l}}const km=new Map;function Jn(t){lr(t instanceof Function,"Expected a class definition");let e=km.get(t);return e?(lr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,km.set(t,e),e)}class kv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}kv.type="NONE";const Nm=kv;function Xa(t,e,n){return`firebase:${t}:${e}:${n}`}class fi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Xa(this.userKey,s.apiKey,i),this.fullPersistenceKey=Xa("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Rc(this.auth,{idToken:e}).catch(()=>{});return n?fn._fromGetAccountInfoResponse(this.auth,n,e):null}return fn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new fi(Jn(Nm),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Jn(Nm);const o=Xa(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){let d;if(typeof h=="string"){const p=await Rc(e,{idToken:h}).catch(()=>{});if(!p)break;d=await fn._fromGetAccountInfoResponse(e,p,h)}else d=fn._fromJSON(e,h);u!==i&&(a=d),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new fi(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new fi(i,e,r))}}function Om(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Vv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Nv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Mv(e))return"Blackberry";if(Lv(e))return"Webos";if(Ov(e))return"Safari";if((e.includes("chrome/")||Dv(e))&&!e.includes("edge/"))return"Chrome";if(xv(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Nv(t=Vt()){return/firefox\//i.test(t)}function Ov(t=Vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Dv(t=Vt()){return/crios\//i.test(t)}function Vv(t=Vt()){return/iemobile/i.test(t)}function xv(t=Vt()){return/android/i.test(t)}function Mv(t=Vt()){return/blackberry/i.test(t)}function Lv(t=Vt()){return/webos/i.test(t)}function yf(t=Vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ak(t=Vt()){return yf(t)&&!!window.navigator?.standalone}function ck(){return TC()&&document.documentMode===10}function Uv(t=Vt()){return yf(t)||xv(t)||Lv(t)||Mv(t)||/windows phone/i.test(t)||Vv(t)}function Fv(t,e=[]){let n;switch(t){case"Browser":n=Om(Vt());break;case"Worker":n=`${Om(Vt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xi}/${r}`}class lk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function uk(t,e={}){return Bn(t,"GET","/v2/passwordPolicy",pr(t,e))}const hk=6;class fk{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??hk,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class dk{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dm(this),this.idTokenSubscription=new Dm(this),this.beforeStateQueue=new lk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Jn(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fi.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Rc(this,{idToken:e}),r=await fn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(sn(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,o=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!i||i===o)&&a?.user&&(r=a.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sn(this.app))return Promise.reject(nr(this));const n=e?lt(e):null;return n&&fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sn(this.app)?Promise.reject(nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sn(this.app)?Promise.reject(nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Jn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uk(this),n=new fk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new sa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await ok(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Jn(e)||this._popupRedirectResolver;fe(n,this,"argument-error"),this.redirectPersistenceManager=await fi.create(this,[Jn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&HP(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Us(t){return lt(t)}class Dm{constructor(e){this.auth=e,this.observer=null,this.addObserver=kC(n=>this.observer=n)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let al={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pk(t){al=t}function Bv(t){return al.loadJS(t)}function mk(){return al.recaptchaEnterpriseScript}function gk(){return al.gapiScript}function _k(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class yk{constructor(){this.enterprise=new vk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class vk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Ek="recaptcha-enterprise",$v="NO_RECAPTCHA";class wk{constructor(e){this.type=Ek,this.auth=Us(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{XP(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new JP(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;Cm(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o($v)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yk().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Cm(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=mk();l.length!==0&&(l+=a),Bv(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Vm(t,e,n,r=!1,s=!1){const i=new wk(t);let o;if(s)o=$v;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function ch(t,e,n,r,s){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Vm(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Vm(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}function Tk(t,e){const n=pf(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Cs(i,e??{}))return s;wn(s,"already-initialized")}return n.initialize({options:e})}function Ik(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Jn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function bk(t,e,n){const r=Us(t);fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=Hv(e),{host:o,port:a}=Ak(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){fe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),fe(Cs(u,r.config.emulator)&&Cs(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Vi(o)?(mv(`${i}//${o}${l}`),gv("Auth",!0)):Rk()}function Hv(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Ak(t){const e=Hv(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:xm(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:xm(o)}}}function xm(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Rk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class vf{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yn("not implemented")}_getIdTokenResponse(e){return Yn("not implemented")}_linkToIdToken(e,n){return Yn("not implemented")}_getReauthenticationResolver(e){return Yn("not implemented")}}async function Sk(t,e){return Bn(t,"POST","/v1/accounts:signUp",e)}async function Ck(t,e){return aa(t,"POST","/v1/accounts:signInWithPassword",pr(t,e))}async function Pk(t,e){return Bn(t,"POST","/v1/accounts:sendOobCode",pr(t,e))}async function kk(t,e){return Pk(t,e)}async function Nk(t,e){return aa(t,"POST","/v1/accounts:signInWithEmailLink",pr(t,e))}async function Ok(t,e){return aa(t,"POST","/v1/accounts:signInWithEmailLink",pr(t,e))}class $o extends vf{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new $o(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new $o(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ch(e,n,"signInWithPassword",Ck);case"emailLink":return Nk(e,{email:this._email,oobCode:this._password});default:wn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ch(e,r,"signUpPassword",Sk);case"emailLink":return Ok(e,{idToken:n,email:this._email,oobCode:this._password});default:wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function di(t,e){return aa(t,"POST","/v1/accounts:signInWithIdp",pr(t,e))}const Dk="http://localhost";class ks extends vf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new ks(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return di(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,di(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,di(e,n)}buildRequest(){const e={requestUri:Dk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ia(n)}return e}}function Vk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xk(t){const e=ho(fo(t)).link,n=e?ho(fo(e)).deep_link_id:null,r=ho(fo(t)).deep_link_id;return(r?ho(fo(r)).link:null)||r||n||e||t}class Ef{constructor(e){const n=ho(fo(e)),r=n.apiKey??null,s=n.oobCode??null,i=Vk(n.mode??null);fe(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=xk(e);try{return new Ef(n)}catch{return null}}}class Mi{constructor(){this.providerId=Mi.PROVIDER_ID}static credential(e,n){return $o._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ef.parseLink(n);return fe(r,"argument-error"),$o._fromEmailAndCode(e,r.code,r.tenantId)}}Mi.PROVIDER_ID="password";Mi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class jv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ca extends jv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class kr extends ca{constructor(){super("facebook.com")}static credential(e){return ks._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";kr.PROVIDER_ID="facebook.com";class Nr extends ca{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ks._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Nr.credential(n,r)}catch{return null}}}Nr.GOOGLE_SIGN_IN_METHOD="google.com";Nr.PROVIDER_ID="google.com";class Or extends ca{constructor(){super("github.com")}static credential(e){return ks._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Or.credential(e.oauthAccessToken)}catch{return null}}}Or.GITHUB_SIGN_IN_METHOD="github.com";Or.PROVIDER_ID="github.com";class Dr extends ca{constructor(){super("twitter.com")}static credential(e,n){return ks._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Dr.credential(n,r)}catch{return null}}}Dr.TWITTER_SIGN_IN_METHOD="twitter.com";Dr.PROVIDER_ID="twitter.com";async function Mk(t,e){return aa(t,"POST","/v1/accounts:signUp",pr(t,e))}class Ns{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await fn._fromIdTokenResponse(e,r,s),o=Mm(r);return new Ns({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Mm(r);return new Ns({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Mm(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Cc extends dr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Cc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Cc(e,n,r,s)}}function qv(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Cc._fromErrorAndOperation(t,i,e,r):i})}async function Lk(t,e,n=!1){const r=await bi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ns._forOperation(t,"link",r)}async function Uk(t,e,n=!1){const{auth:r}=t;if(sn(r.app))return Promise.reject(nr(r));const s="reauthenticate";try{const i=await bi(t,qv(r,s,e,t),n);fe(i.idToken,r,"internal-error");const o=_f(i.idToken);fe(o,r,"internal-error");const{sub:a}=o;return fe(t.uid===a,r,"user-mismatch"),Ns._forOperation(t,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&wn(r,"user-mismatch"),i}}async function Wv(t,e,n=!1){if(sn(t.app))return Promise.reject(nr(t));const r="signIn",s=await qv(t,r,e),i=await Ns._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function Fk(t,e){return Wv(Us(t),e)}async function Gv(t){const e=Us(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Bk(t,e,n){if(sn(t.app))return Promise.reject(nr(t));const r=Us(t),o=await ch(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Mk).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Gv(t),l}),a=await Ns._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function $k(t,e,n){return sn(t.app)?Promise.reject(nr(t)):Fk(lt(t),Mi.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Gv(t),r})}async function Lm(t,e){const n=lt(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:i}=await kk(n.auth,s);i!==t.email&&await t.reload()}async function Hk(t,e){return Bn(t,"POST","/v1/accounts:update",e)}async function jk(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=lt(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await bi(r,Hk(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function qk(t,e,n,r){return lt(t).onIdTokenChanged(e,n,r)}function Wk(t,e,n){return lt(t).beforeAuthStateChanged(e,n)}function Gk(t,e,n,r){return lt(t).onAuthStateChanged(e,n,r)}function Kk(t){return lt(t).signOut()}const Pc="__sak";class Kv{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Pc,"1"),this.storage.removeItem(Pc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const zk=1e3,Qk=10;class zv extends Kv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Uv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);ck()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Qk):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},zk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zv.type="LOCAL";const Yk=zv;class Qv extends Kv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Qv.type="SESSION";const Yv=Qv;function Jk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class cl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new cl(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await Jk(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cl.receivers=[];function wf(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class Xk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=wf("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const p=d;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function Vn(){return window}function Zk(t){Vn().location.href=t}function Jv(){return typeof Vn().WorkerGlobalScope<"u"&&typeof Vn().importScripts=="function"}async function e1(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function t1(){return navigator?.serviceWorker?.controller||null}function n1(){return Jv()?self:null}const Xv="firebaseLocalStorageDb",r1=1,kc="firebaseLocalStorage",Zv="fbase_key";class la{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ll(t,e){return t.transaction([kc],e?"readwrite":"readonly").objectStore(kc)}function s1(){const t=indexedDB.deleteDatabase(Xv);return new la(t).toPromise()}function lh(){const t=indexedDB.open(Xv,r1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(kc,{keyPath:Zv})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(kc)?e(r):(r.close(),await s1(),e(await lh()))})})}async function Um(t,e,n){const r=ll(t,!0).put({[Zv]:e,value:n});return new la(r).toPromise()}async function i1(t,e){const n=ll(t,!1).get(e),r=await new la(n).toPromise();return r===void 0?null:r.value}function Fm(t,e){const n=ll(t,!0).delete(e);return new la(n).toPromise()}const o1=800,a1=3;class eE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>a1)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Jv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cl._getInstance(n1()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await e1(),!this.activeServiceWorker)return;this.sender=new Xk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||t1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lh();return await Um(e,Pc,"1"),await Fm(e,Pc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Um(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>i1(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fm(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ll(s,!1).getAll();return new la(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),o1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eE.type="LOCAL";const c1=eE;new oa(3e4,6e4);function l1(t,e){return e?Jn(e):(fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Tf extends vf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return di(e,this._buildIdpRequest())}_linkToIdToken(e,n){return di(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return di(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function u1(t){return Wv(t.auth,new Tf(t),t.bypassAuthState)}function h1(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),Uk(n,new Tf(t),t.bypassAuthState)}async function f1(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),Lk(n,new Tf(t),t.bypassAuthState)}class tE{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return u1;case"linkViaPopup":case"linkViaRedirect":return f1;case"reauthViaPopup":case"reauthViaRedirect":return h1;default:wn(this.auth,"internal-error")}}resolve(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const d1=new oa(2e3,1e4);class ti extends tE{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ti.currentPopupAction&&ti.currentPopupAction.cancel(),ti.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return fe(e,this.auth,"internal-error"),e}async onExecution(){lr(this.filter.length===1,"Popup operations only handle one event");const e=wf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Dn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ti.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,d1.get())};e()}}ti.currentPopupAction=null;const p1="pendingRedirect",Za=new Map;class m1 extends tE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Za.get(this.auth._key());if(!e){try{const r=await g1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Za.set(this.auth._key(),e)}return this.bypassAuthState||Za.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function g1(t,e){const n=v1(e),r=y1(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function _1(t,e){Za.set(t._key(),e)}function y1(t){return Jn(t._redirectPersistence)}function v1(t){return Xa(p1,t.config.apiKey,t.name)}async function E1(t,e,n=!1){if(sn(t.app))return Promise.reject(nr(t));const r=Us(t),s=l1(r,e),o=await new m1(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}const w1=600*1e3;class T1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!I1(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!nE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Dn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=w1&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bm(e))}saveEventToCache(e){this.cachedEventUids.add(Bm(e)),this.lastProcessedEventTime=Date.now()}}function Bm(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function nE({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function I1(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nE(t);default:return!1}}async function b1(t,e={}){return Bn(t,"GET","/v1/projects",e)}const A1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,R1=/^https?/;async function S1(t){if(t.config.emulator)return;const{authorizedDomains:e}=await b1(t);for(const n of e)try{if(C1(n))return}catch{}wn(t,"unauthorized-domain")}function C1(t){const e=oh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!R1.test(n))return!1;if(A1.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const P1=new oa(3e4,6e4);function $m(){const t=Vn().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function k1(t){return new Promise((e,n)=>{function r(){$m(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$m(),n(Dn(t,"network-request-failed"))},timeout:P1.get()})}if(Vn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Vn().gapi?.load)r();else{const s=_k("iframefcb");return Vn()[s]=()=>{gapi.load?r():n(Dn(t,"network-request-failed"))},Bv(`${gk()}?onload=${s}`).catch(i=>n(i))}}).catch(e=>{throw ec=null,e})}let ec=null;function N1(t){return ec=ec||k1(t),ec}const O1=new oa(5e3,15e3),D1="__/auth/iframe",V1="emulator/auth/iframe",x1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},M1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function L1(t){const e=t.config;fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?gf(e,V1):`https://${t.config.authDomain}/${D1}`,r={apiKey:e.apiKey,appName:t.name,v:xi},s=M1.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${ia(r).slice(1)}`}async function U1(t){const e=await N1(t),n=Vn().gapi;return fe(n,t,"internal-error"),e.open({where:document.body,url:L1(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:x1,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Dn(t,"network-request-failed"),a=Vn().setTimeout(()=>{i(o)},O1.get());function l(){Vn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}const F1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},B1=500,$1=600,H1="_blank",j1="http://localhost";class Hm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function q1(t,e,n,r=B1,s=$1){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...F1,width:r.toString(),height:s.toString(),top:i,left:o},u=Vt().toLowerCase();n&&(a=Dv(u)?H1:n),Nv(u)&&(e=e||j1,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[g,E])=>`${p}${g}=${E},`,"");if(ak(u)&&a!=="_self")return W1(e||"",a),new Hm(null);const d=window.open(e||"",a,h);fe(d,t,"popup-blocked");try{d.focus()}catch{}return new Hm(d)}function W1(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const G1="__/auth/handler",K1="emulator/auth/handler",z1=encodeURIComponent("fac");async function jm(t,e,n,r,s,i){fe(t.config.authDomain,t,"auth-domain-config-required"),fe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xi,eventId:s};if(e instanceof jv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",PC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof ca){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${z1}=${encodeURIComponent(l)}`:"";return`${Q1(t)}?${ia(a).slice(1)}${u}`}function Q1({config:t}){return t.emulator?gf(t,K1):`https://${t.authDomain}/${G1}`}const vu="webStorageSupport";class Y1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yv,this._completeRedirectFn=E1,this._overrideRedirectResult=_1}async _openPopup(e,n,r,s){lr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await jm(e,n,r,oh(),s);return q1(e,i,wf())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await jm(e,n,r,oh(),s);return Zk(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(lr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await U1(e),r=new T1(e);return n.register("authEvent",s=>(fe(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vu,{type:vu},s=>{const i=s?.[0]?.[vu];i!==void 0&&n(!!i),wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=S1(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Uv()||Ov()||yf()}}const J1=Y1;var qm="@firebase/auth",Wm="1.12.0";class X1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Z1(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eN(t){Ii(new Ps("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;fe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fv(t)},u=new dk(r,s,i,l);return Ik(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ii(new Ps("auth-internal",e=>{const n=Us(e.getProvider("auth").getImmediate());return(r=>new X1(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$r(qm,Wm,Z1(t)),$r(qm,Wm,"esm2020")}const tN=300,nN=pv("authIdTokenMaxAge")||tN;let Gm=null;const rN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>nN)return;const s=n?.token;Gm!==s&&(Gm=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function sN(t=Ev()){const e=pf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Tk(t,{popupRedirectResolver:J1,persistence:[c1,Yk,Yv]}),r=pv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=rN(i.toString());Wk(n,o,()=>o(n.currentUser)),qk(n,a=>o(a))}}const s=fv("auth");return s&&bk(n,`http://${s}`),n}function iN(){return document.getElementsByTagName("head")?.[0]??document}pk({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Dn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",iN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eN("Browser");var Km=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Hr,rE;(function(){var t;function e(I,w){function v(){}v.prototype=w.prototype,I.F=w.prototype,I.prototype=new v,I.prototype.constructor=I,I.D=function(R,k,N){for(var A=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)A[ce-2]=arguments[ce];return w.prototype[k].apply(R,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,w,v){v||(v=0);const R=Array(16);if(typeof w=="string")for(var k=0;k<16;++k)R[k]=w.charCodeAt(v++)|w.charCodeAt(v++)<<8|w.charCodeAt(v++)<<16|w.charCodeAt(v++)<<24;else for(k=0;k<16;++k)R[k]=w[v++]|w[v++]<<8|w[v++]<<16|w[v++]<<24;w=I.g[0],v=I.g[1],k=I.g[2];let N=I.g[3],A;A=w+(N^v&(k^N))+R[0]+3614090360&4294967295,w=v+(A<<7&4294967295|A>>>25),A=N+(k^w&(v^k))+R[1]+3905402710&4294967295,N=w+(A<<12&4294967295|A>>>20),A=k+(v^N&(w^v))+R[2]+606105819&4294967295,k=N+(A<<17&4294967295|A>>>15),A=v+(w^k&(N^w))+R[3]+3250441966&4294967295,v=k+(A<<22&4294967295|A>>>10),A=w+(N^v&(k^N))+R[4]+4118548399&4294967295,w=v+(A<<7&4294967295|A>>>25),A=N+(k^w&(v^k))+R[5]+1200080426&4294967295,N=w+(A<<12&4294967295|A>>>20),A=k+(v^N&(w^v))+R[6]+2821735955&4294967295,k=N+(A<<17&4294967295|A>>>15),A=v+(w^k&(N^w))+R[7]+4249261313&4294967295,v=k+(A<<22&4294967295|A>>>10),A=w+(N^v&(k^N))+R[8]+1770035416&4294967295,w=v+(A<<7&4294967295|A>>>25),A=N+(k^w&(v^k))+R[9]+2336552879&4294967295,N=w+(A<<12&4294967295|A>>>20),A=k+(v^N&(w^v))+R[10]+4294925233&4294967295,k=N+(A<<17&4294967295|A>>>15),A=v+(w^k&(N^w))+R[11]+2304563134&4294967295,v=k+(A<<22&4294967295|A>>>10),A=w+(N^v&(k^N))+R[12]+1804603682&4294967295,w=v+(A<<7&4294967295|A>>>25),A=N+(k^w&(v^k))+R[13]+4254626195&4294967295,N=w+(A<<12&4294967295|A>>>20),A=k+(v^N&(w^v))+R[14]+2792965006&4294967295,k=N+(A<<17&4294967295|A>>>15),A=v+(w^k&(N^w))+R[15]+1236535329&4294967295,v=k+(A<<22&4294967295|A>>>10),A=w+(k^N&(v^k))+R[1]+4129170786&4294967295,w=v+(A<<5&4294967295|A>>>27),A=N+(v^k&(w^v))+R[6]+3225465664&4294967295,N=w+(A<<9&4294967295|A>>>23),A=k+(w^v&(N^w))+R[11]+643717713&4294967295,k=N+(A<<14&4294967295|A>>>18),A=v+(N^w&(k^N))+R[0]+3921069994&4294967295,v=k+(A<<20&4294967295|A>>>12),A=w+(k^N&(v^k))+R[5]+3593408605&4294967295,w=v+(A<<5&4294967295|A>>>27),A=N+(v^k&(w^v))+R[10]+38016083&4294967295,N=w+(A<<9&4294967295|A>>>23),A=k+(w^v&(N^w))+R[15]+3634488961&4294967295,k=N+(A<<14&4294967295|A>>>18),A=v+(N^w&(k^N))+R[4]+3889429448&4294967295,v=k+(A<<20&4294967295|A>>>12),A=w+(k^N&(v^k))+R[9]+568446438&4294967295,w=v+(A<<5&4294967295|A>>>27),A=N+(v^k&(w^v))+R[14]+3275163606&4294967295,N=w+(A<<9&4294967295|A>>>23),A=k+(w^v&(N^w))+R[3]+4107603335&4294967295,k=N+(A<<14&4294967295|A>>>18),A=v+(N^w&(k^N))+R[8]+1163531501&4294967295,v=k+(A<<20&4294967295|A>>>12),A=w+(k^N&(v^k))+R[13]+2850285829&4294967295,w=v+(A<<5&4294967295|A>>>27),A=N+(v^k&(w^v))+R[2]+4243563512&4294967295,N=w+(A<<9&4294967295|A>>>23),A=k+(w^v&(N^w))+R[7]+1735328473&4294967295,k=N+(A<<14&4294967295|A>>>18),A=v+(N^w&(k^N))+R[12]+2368359562&4294967295,v=k+(A<<20&4294967295|A>>>12),A=w+(v^k^N)+R[5]+4294588738&4294967295,w=v+(A<<4&4294967295|A>>>28),A=N+(w^v^k)+R[8]+2272392833&4294967295,N=w+(A<<11&4294967295|A>>>21),A=k+(N^w^v)+R[11]+1839030562&4294967295,k=N+(A<<16&4294967295|A>>>16),A=v+(k^N^w)+R[14]+4259657740&4294967295,v=k+(A<<23&4294967295|A>>>9),A=w+(v^k^N)+R[1]+2763975236&4294967295,w=v+(A<<4&4294967295|A>>>28),A=N+(w^v^k)+R[4]+1272893353&4294967295,N=w+(A<<11&4294967295|A>>>21),A=k+(N^w^v)+R[7]+4139469664&4294967295,k=N+(A<<16&4294967295|A>>>16),A=v+(k^N^w)+R[10]+3200236656&4294967295,v=k+(A<<23&4294967295|A>>>9),A=w+(v^k^N)+R[13]+681279174&4294967295,w=v+(A<<4&4294967295|A>>>28),A=N+(w^v^k)+R[0]+3936430074&4294967295,N=w+(A<<11&4294967295|A>>>21),A=k+(N^w^v)+R[3]+3572445317&4294967295,k=N+(A<<16&4294967295|A>>>16),A=v+(k^N^w)+R[6]+76029189&4294967295,v=k+(A<<23&4294967295|A>>>9),A=w+(v^k^N)+R[9]+3654602809&4294967295,w=v+(A<<4&4294967295|A>>>28),A=N+(w^v^k)+R[12]+3873151461&4294967295,N=w+(A<<11&4294967295|A>>>21),A=k+(N^w^v)+R[15]+530742520&4294967295,k=N+(A<<16&4294967295|A>>>16),A=v+(k^N^w)+R[2]+3299628645&4294967295,v=k+(A<<23&4294967295|A>>>9),A=w+(k^(v|~N))+R[0]+4096336452&4294967295,w=v+(A<<6&4294967295|A>>>26),A=N+(v^(w|~k))+R[7]+1126891415&4294967295,N=w+(A<<10&4294967295|A>>>22),A=k+(w^(N|~v))+R[14]+2878612391&4294967295,k=N+(A<<15&4294967295|A>>>17),A=v+(N^(k|~w))+R[5]+4237533241&4294967295,v=k+(A<<21&4294967295|A>>>11),A=w+(k^(v|~N))+R[12]+1700485571&4294967295,w=v+(A<<6&4294967295|A>>>26),A=N+(v^(w|~k))+R[3]+2399980690&4294967295,N=w+(A<<10&4294967295|A>>>22),A=k+(w^(N|~v))+R[10]+4293915773&4294967295,k=N+(A<<15&4294967295|A>>>17),A=v+(N^(k|~w))+R[1]+2240044497&4294967295,v=k+(A<<21&4294967295|A>>>11),A=w+(k^(v|~N))+R[8]+1873313359&4294967295,w=v+(A<<6&4294967295|A>>>26),A=N+(v^(w|~k))+R[15]+4264355552&4294967295,N=w+(A<<10&4294967295|A>>>22),A=k+(w^(N|~v))+R[6]+2734768916&4294967295,k=N+(A<<15&4294967295|A>>>17),A=v+(N^(k|~w))+R[13]+1309151649&4294967295,v=k+(A<<21&4294967295|A>>>11),A=w+(k^(v|~N))+R[4]+4149444226&4294967295,w=v+(A<<6&4294967295|A>>>26),A=N+(v^(w|~k))+R[11]+3174756917&4294967295,N=w+(A<<10&4294967295|A>>>22),A=k+(w^(N|~v))+R[2]+718787259&4294967295,k=N+(A<<15&4294967295|A>>>17),A=v+(N^(k|~w))+R[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(k+(A<<21&4294967295|A>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+N&4294967295}r.prototype.v=function(I,w){w===void 0&&(w=I.length);const v=w-this.blockSize,R=this.C;let k=this.h,N=0;for(;N<w;){if(k==0)for(;N<=v;)s(this,I,N),N+=this.blockSize;if(typeof I=="string"){for(;N<w;)if(R[k++]=I.charCodeAt(N++),k==this.blockSize){s(this,R),k=0;break}}else for(;N<w;)if(R[k++]=I[N++],k==this.blockSize){s(this,R),k=0;break}}this.h=k,this.o+=w},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var v=I.length-8;v<I.length;++v)I[v]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,v=0;v<4;++v)for(let R=0;R<32;R+=8)I[w++]=this.g[v]>>>R&255;return I};function i(I,w){var v=a;return Object.prototype.hasOwnProperty.call(v,I)?v[I]:v[I]=w(I)}function o(I,w){this.h=w;const v=[];let R=!0;for(let k=I.length-1;k>=0;k--){const N=I[k]|0;R&&N==w||(v[k]=N,R=!1)}this.g=v}var a={};function l(I){return-128<=I&&I<128?i(I,function(w){return new o([w|0],w<0?-1:0)}):new o([I|0],I<0?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return d;if(I<0)return C(u(-I));const w=[];let v=1;for(let R=0;I>=v;R++)w[R]=I/v|0,v*=4294967296;return new o(w,0)}function h(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return C(h(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const v=u(Math.pow(w,8));let R=d;for(let N=0;N<I.length;N+=8){var k=Math.min(8,I.length-N);const A=parseInt(I.substring(N,N+k),w);k<8?(k=u(Math.pow(w,k)),R=R.j(k).add(u(A))):(R=R.j(v),R=R.add(u(A)))}return R}var d=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-C(this).m();let I=0,w=1;for(let v=0;v<this.g.length;v++){const R=this.i(v);I+=(R>=0?R:4294967296+R)*w,w*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(E(this))return"0";if(_(this))return"-"+C(this).toString(I);const w=u(Math.pow(I,6));var v=this;let R="";for(;;){const k=O(v,w).g;v=S(v,k.j(w));let N=((v.g.length>0?v.g[0]:v.h)>>>0).toString(I);if(v=k,E(v))return N+R;for(;N.length<6;)N="0"+N;R=N+R}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function E(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function _(I){return I.h==-1}t.l=function(I){return I=S(this,I),_(I)?-1:E(I)?0:1};function C(I){const w=I.g.length,v=[];for(let R=0;R<w;R++)v[R]=~I.g[R];return new o(v,~I.h).add(p)}t.abs=function(){return _(this)?C(this):this},t.add=function(I){const w=Math.max(this.g.length,I.g.length),v=[];let R=0;for(let k=0;k<=w;k++){let N=R+(this.i(k)&65535)+(I.i(k)&65535),A=(N>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);R=A>>>16,N&=65535,A&=65535,v[k]=A<<16|N}return new o(v,v[v.length-1]&-2147483648?-1:0)};function S(I,w){return I.add(C(w))}t.j=function(I){if(E(this)||E(I))return d;if(_(this))return _(I)?C(this).j(C(I)):C(C(this).j(I));if(_(I))return C(this.j(C(I)));if(this.l(g)<0&&I.l(g)<0)return u(this.m()*I.m());const w=this.g.length+I.g.length,v=[];for(var R=0;R<2*w;R++)v[R]=0;for(R=0;R<this.g.length;R++)for(let k=0;k<I.g.length;k++){const N=this.i(R)>>>16,A=this.i(R)&65535,ce=I.i(k)>>>16,Te=I.i(k)&65535;v[2*R+2*k]+=A*Te,b(v,2*R+2*k),v[2*R+2*k+1]+=N*Te,b(v,2*R+2*k+1),v[2*R+2*k+1]+=A*ce,b(v,2*R+2*k+1),v[2*R+2*k+2]+=N*ce,b(v,2*R+2*k+2)}for(I=0;I<w;I++)v[I]=v[2*I+1]<<16|v[2*I];for(I=w;I<2*w;I++)v[I]=0;return new o(v,0)};function b(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function y(I,w){this.g=I,this.h=w}function O(I,w){if(E(w))throw Error("division by zero");if(E(I))return new y(d,d);if(_(I))return w=O(C(I),w),new y(C(w.g),C(w.h));if(_(w))return w=O(I,C(w)),new y(C(w.g),w.h);if(I.g.length>30){if(_(I)||_(w))throw Error("slowDivide_ only works with positive integers.");for(var v=p,R=w;R.l(I)<=0;)v=V(v),R=V(R);var k=U(v,1),N=U(R,1);for(R=U(R,2),v=U(v,2);!E(R);){var A=N.add(R);A.l(I)<=0&&(k=k.add(v),N=A),R=U(R,1),v=U(v,1)}return w=S(I,k.j(w)),new y(k,w)}for(k=d;I.l(w)>=0;){for(v=Math.max(1,Math.floor(I.m()/w.m())),R=Math.ceil(Math.log(v)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),N=u(v),A=N.j(w);_(A)||A.l(I)>0;)v-=R,N=u(v),A=N.j(w);E(N)&&(N=p),k=k.add(N),I=S(I,A)}return new y(k,I)}t.B=function(I){return O(this,I).h},t.and=function(I){const w=Math.max(this.g.length,I.g.length),v=[];for(let R=0;R<w;R++)v[R]=this.i(R)&I.i(R);return new o(v,this.h&I.h)},t.or=function(I){const w=Math.max(this.g.length,I.g.length),v=[];for(let R=0;R<w;R++)v[R]=this.i(R)|I.i(R);return new o(v,this.h|I.h)},t.xor=function(I){const w=Math.max(this.g.length,I.g.length),v=[];for(let R=0;R<w;R++)v[R]=this.i(R)^I.i(R);return new o(v,this.h^I.h)};function V(I){const w=I.g.length+1,v=[];for(let R=0;R<w;R++)v[R]=I.i(R)<<1|I.i(R-1)>>>31;return new o(v,I.h)}function U(I,w){const v=w>>5;w%=32;const R=I.g.length-v,k=[];for(let N=0;N<R;N++)k[N]=w>0?I.i(N+v)>>>w|I.i(N+v+1)<<32-w:I.i(N+v);return new o(k,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,rE=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Hr=o}).apply(typeof Km<"u"?Km:typeof self<"u"?self:typeof window<"u"?window:{});var $a=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sE,po,iE,tc,uh,oE,aE,cE;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof $a=="object"&&$a];for(var f=0;f<c.length;++f){var m=c[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function s(c,f){if(f)e:{var m=r;c=c.split(".");for(var T=0;T<c.length-1;T++){var x=c[T];if(!(x in m))break e;m=m[x]}c=c[c.length-1],T=m[c],f=f(T),f!=T&&f!=null&&e(m,c,{configurable:!0,writable:!0,value:f})}}s("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(c){return c||function(f){var m=[],T;for(T in f)Object.prototype.hasOwnProperty.call(f,T)&&m.push([T,f[T]]);return m}});var i=i||{},o=this||self;function a(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function l(c,f,m){return c.call.apply(c.bind,arguments)}function u(c,f,m){return u=l,u.apply(null,arguments)}function h(c,f){var m=Array.prototype.slice.call(arguments,1);return function(){var T=m.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function d(c,f){function m(){}m.prototype=f.prototype,c.Z=f.prototype,c.prototype=new m,c.prototype.constructor=c,c.Ob=function(T,x,L){for(var Y=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)Y[Ee-2]=arguments[Ee];return f.prototype[x].apply(T,Y)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function g(c){const f=c.length;if(f>0){const m=Array(f);for(let T=0;T<f;T++)m[T]=c[T];return m}return[]}function E(c,f){for(let T=1;T<arguments.length;T++){const x=arguments[T];var m=typeof x;if(m=m!="object"?m:x?Array.isArray(x)?"array":m:"null",m=="array"||m=="object"&&typeof x.length=="number"){m=c.length||0;const L=x.length||0;c.length=m+L;for(let Y=0;Y<L;Y++)c[m+Y]=x[Y]}else c.push(x)}}class _{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function C(c){o.setTimeout(()=>{throw c},0)}function S(){var c=I;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class b{constructor(){this.h=this.g=null}add(f,m){const T=y.get();T.set(f,m),this.h?this.h.next=T:this.g=T,this.h=T}}var y=new _(()=>new O,c=>c.reset());class O{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let V,U=!1,I=new b,w=()=>{const c=Promise.resolve(void 0);V=()=>{c.then(v)}};function v(){for(var c;c=S();){try{c.h.call(c.g)}catch(m){C(m)}var f=y;f.j(c),f.h<100&&(f.h++,c.next=f.g,f.g=c)}U=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var N=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const m=()=>{};o.addEventListener("test",m,f),o.removeEventListener("test",m,f)}catch{}return c})();function A(c){return/^[\s\xa0]*$/.test(c)}function ce(c,f){k.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,f)}d(ce,k),ce.prototype.init=function(c,f){const m=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget,f||(m=="mouseover"?f=c.fromElement:m=="mouseout"&&(f=c.toElement)),this.relatedTarget=f,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ce.Z.h.call(this)},ce.prototype.h=function(){ce.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Te="closure_listenable_"+(Math.random()*1e6|0),re=0;function me(c,f,m,T,x){this.listener=c,this.proxy=null,this.src=f,this.type=m,this.capture=!!T,this.ha=x,this.key=++re,this.da=this.fa=!1}function ee(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ne(c,f,m){for(const T in c)f.call(m,c[T],T,c)}function An(c,f){for(const m in c)f.call(void 0,c[m],m,c)}function Wt(c){const f={};for(const m in c)f[m]=c[m];return f}const Tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $n(c,f){let m,T;for(let x=1;x<arguments.length;x++){T=arguments[x];for(m in T)c[m]=T[m];for(let L=0;L<Tt.length;L++)m=Tt[L],Object.prototype.hasOwnProperty.call(T,m)&&(c[m]=T[m])}}function ln(c){this.src=c,this.g={},this.h=0}ln.prototype.add=function(c,f,m,T,x){const L=c.toString();c=this.g[L],c||(c=this.g[L]=[],this.h++);const Y=St(c,f,T,x);return Y>-1?(f=c[Y],m||(f.fa=!1)):(f=new me(f,this.src,L,!!T,x),f.fa=m,c.push(f)),f};function un(c,f){const m=f.type;if(m in c.g){var T=c.g[m],x=Array.prototype.indexOf.call(T,f,void 0),L;(L=x>=0)&&Array.prototype.splice.call(T,x,1),L&&(ee(f),c.g[m].length==0&&(delete c.g[m],c.h--))}}function St(c,f,m,T){for(let x=0;x<c.length;++x){const L=c[x];if(!L.da&&L.listener==f&&L.capture==!!m&&L.ha==T)return x}return-1}var $="closure_lm_"+(Math.random()*1e6|0),te={};function J(c,f,m,T,x){if(Array.isArray(f)){for(let L=0;L<f.length;L++)J(c,f[L],m,T,x);return null}return m=W(m),c&&c[Te]?c.J(f,m,a(T)?!!T.capture:!1,x):oe(c,f,m,!1,T,x)}function oe(c,f,m,T,x,L){if(!f)throw Error("Invalid event type");const Y=a(x)?!!x.capture:!!x;let Ee=q(c);if(Ee||(c[$]=Ee=new ln(c)),m=Ee.add(f,m,T,Y,L),m.proxy)return m;if(T=we(),m.proxy=T,T.src=c,T.listener=m,c.addEventListener)N||(x=Y),x===void 0&&(x=!1),c.addEventListener(f.toString(),T,x);else if(c.attachEvent)c.attachEvent(D(f.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return m}function we(){function c(m){return f.call(c.src,c.listener,m)}const f=M;return c}function Ue(c,f,m,T,x){if(Array.isArray(f))for(var L=0;L<f.length;L++)Ue(c,f[L],m,T,x);else T=a(T)?!!T.capture:!!T,m=W(m),c&&c[Te]?(c=c.i,L=String(f).toString(),L in c.g&&(f=c.g[L],m=St(f,m,T,x),m>-1&&(ee(f[m]),Array.prototype.splice.call(f,m,1),f.length==0&&(delete c.g[L],c.h--)))):c&&(c=q(c))&&(f=c.g[f.toString()],c=-1,f&&(c=St(f,m,T,x)),(m=c>-1?f[c]:null)&&P(m))}function P(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[Te])un(f.i,c);else{var m=c.type,T=c.proxy;f.removeEventListener?f.removeEventListener(m,T,c.capture):f.detachEvent?f.detachEvent(D(m),T):f.addListener&&f.removeListener&&f.removeListener(T),(m=q(f))?(un(m,c),m.h==0&&(m.src=null,f[$]=null)):ee(c)}}}function D(c){return c in te?te[c]:te[c]="on"+c}function M(c,f){if(c.da)c=!0;else{f=new ce(f,this);const m=c.listener,T=c.ha||c.src;c.fa&&P(c),c=m.call(T,f)}return c}function q(c){return c=c[$],c instanceof ln?c:null}var F="__closure_events_fn_"+(Math.random()*1e9>>>0);function W(c){return typeof c=="function"?c:(c[F]||(c[F]=function(f){return c.handleEvent(f)}),c[F])}function z(){R.call(this),this.i=new ln(this),this.M=this,this.G=null}d(z,R),z.prototype[Te]=!0,z.prototype.removeEventListener=function(c,f,m,T){Ue(this,c,f,m,T)};function K(c,f){var m,T=c.G;if(T)for(m=[];T;T=T.G)m.push(T);if(c=c.M,T=f.type||f,typeof f=="string")f=new k(f,c);else if(f instanceof k)f.target=f.target||c;else{var x=f;f=new k(T,c),$n(f,x)}x=!0;let L,Y;if(m)for(Y=m.length-1;Y>=0;Y--)L=f.g=m[Y],x=Q(L,T,!0,f)&&x;if(L=f.g=c,x=Q(L,T,!0,f)&&x,x=Q(L,T,!1,f)&&x,m)for(Y=0;Y<m.length;Y++)L=f.g=m[Y],x=Q(L,T,!1,f)&&x}z.prototype.N=function(){if(z.Z.N.call(this),this.i){var c=this.i;for(const f in c.g){const m=c.g[f];for(let T=0;T<m.length;T++)ee(m[T]);delete c.g[f],c.h--}}this.G=null},z.prototype.J=function(c,f,m,T){return this.i.add(String(c),f,!1,m,T)},z.prototype.K=function(c,f,m,T){return this.i.add(String(c),f,!0,m,T)};function Q(c,f,m,T){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();let x=!0;for(let L=0;L<f.length;++L){const Y=f[L];if(Y&&!Y.da&&Y.capture==m){const Ee=Y.listener,ft=Y.ha||Y.src;Y.fa&&un(c.i,Y),x=Ee.call(ft,T)!==!1&&x}}return x&&!T.defaultPrevented}function G(c,f){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=u(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:o.setTimeout(c,f||0)}function ue(c){c.g=G(()=>{c.g=null,c.i&&(c.i=!1,ue(c))},c.l);const f=c.h;c.h=null,c.m.apply(null,f)}class Z extends R{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:ue(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function se(c){R.call(this),this.h=c,this.g={}}d(se,R);var ge=[];function Ie(c){Ne(c.g,function(f,m){this.g.hasOwnProperty(m)&&P(f)},c),c.g={}}se.prototype.N=function(){se.Z.N.call(this),Ie(this)},se.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oe=o.JSON.stringify,ke=o.JSON.parse,Ct=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function ut(){}function Ft(){}var ht={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Hn(){k.call(this,"d")}d(Hn,k);function Hs(){k.call(this,"c")}d(Hs,k);var tt={},Gt=null;function ts(){return Gt=Gt||new z}tt.Ia="serverreachability";function ji(c){k.call(this,tt.Ia,c)}d(ji,k);function qi(c){const f=ts();K(f,new ji(f))}tt.STAT_EVENT="statevent";function sd(c,f){k.call(this,tt.STAT_EVENT,c),this.stat=f}d(sd,k);function xt(c){const f=ts();K(f,new sd(f,c))}tt.Ja="timingevent";function id(c,f){k.call(this,tt.Ja,c),this.size=f}d(id,k);function Wi(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},f)}function Gi(){this.g=!0}Gi.prototype.ua=function(){this.g=!1};function $w(c,f,m,T,x,L){c.info(function(){if(c.g)if(L){var Y="",Ee=L.split("&");for(let Fe=0;Fe<Ee.length;Fe++){var ft=Ee[Fe].split("=");if(ft.length>1){const mt=ft[0];ft=ft[1];const Sn=mt.split("_");Y=Sn.length>=2&&Sn[1]=="type"?Y+(mt+"="+ft+"&"):Y+(mt+"=redacted&")}}}else Y=null;else Y=L;return"XMLHTTP REQ ("+T+") [attempt "+x+"]: "+f+`
`+m+`
`+Y})}function Hw(c,f,m,T,x,L,Y){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+x+"]: "+f+`
`+m+`
`+L+" "+Y})}function js(c,f,m,T){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+qw(c,m)+(T?" "+T:"")})}function jw(c,f){c.info(function(){return"TIMEOUT: "+f})}Gi.prototype.info=function(){};function qw(c,f){if(!c.g)return f;if(!f)return null;try{const L=JSON.parse(f);if(L){for(c=0;c<L.length;c++)if(Array.isArray(L[c])){var m=L[c];if(!(m.length<2)){var T=m[1];if(Array.isArray(T)&&!(T.length<1)){var x=T[0];if(x!="noop"&&x!="stop"&&x!="close")for(let Y=1;Y<T.length;Y++)T[Y]=""}}}}return Oe(L)}catch{return f}}var va={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},od={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ad;function kl(){}d(kl,ut),kl.prototype.g=function(){return new XMLHttpRequest},ad=new kl;function Ki(c){return encodeURIComponent(String(c))}function Ww(c){var f=1;c=c.split(":");const m=[];for(;f>0&&c.length;)m.push(c.shift()),f--;return c.length&&m.push(c.join(":")),m}function mr(c,f,m,T){this.j=c,this.i=f,this.l=m,this.S=T||1,this.V=new se(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new cd}function cd(){this.i=null,this.g="",this.h=!1}var ld={},Nl={};function Ol(c,f,m){c.M=1,c.A=wa(Rn(f)),c.u=m,c.R=!0,ud(c,null)}function ud(c,f){c.F=Date.now(),Ea(c),c.B=Rn(c.A);var m=c.B,T=c.S;Array.isArray(T)||(T=[String(T)]),Id(m.i,"t",T),c.C=0,m=c.j.L,c.h=new cd,c.g=$d(c.j,m?f:null,!c.u),c.P>0&&(c.O=new Z(u(c.Y,c,c.g),c.P)),f=c.V,m=c.g,T=c.ba;var x="readystatechange";Array.isArray(x)||(x&&(ge[0]=x.toString()),x=ge);for(let L=0;L<x.length;L++){const Y=J(m,x[L],T||f.handleEvent,!1,f.h||f);if(!Y)break;f.g[Y.key]=Y}f=c.J?Wt(c.J):{},c.u?(c.v||(c.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,f)):(c.v="GET",c.g.ea(c.B,c.v,null,f)),qi(),$w(c.i,c.v,c.B,c.l,c.S,c.u)}mr.prototype.ba=function(c){c=c.target;const f=this.O;f&&yr(c)==3?f.j():this.Y(c)},mr.prototype.Y=function(c){try{if(c==this.g)e:{const Ee=yr(this.g),ft=this.g.ya(),Fe=this.g.ca();if(!(Ee<3)&&(Ee!=3||this.g&&(this.h.h||this.g.la()||kd(this.g)))){this.K||Ee!=4||ft==7||(ft==8||Fe<=0?qi(3):qi(2)),Dl(this);var f=this.g.ca();this.X=f;var m=Gw(this);if(this.o=f==200,Hw(this.i,this.v,this.B,this.l,this.S,Ee,f),this.o){if(this.U&&!this.L){t:{if(this.g){var T,x=this.g;if((T=x.g?x.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(T)){var L=T;break t}}L=null}if(c=L)js(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Vl(this,c);else{this.o=!1,this.m=3,xt(12),ns(this),zi(this);break e}}if(this.R){c=!0;let mt;for(;!this.K&&this.C<m.length;)if(mt=Kw(this,m),mt==Nl){Ee==4&&(this.m=4,xt(14),c=!1),js(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==ld){this.m=4,xt(15),js(this.i,this.l,m,"[Invalid Chunk]"),c=!1;break}else js(this.i,this.l,mt,null),Vl(this,mt);if(hd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||m.length!=0||this.h.h||(this.m=1,xt(16),c=!1),this.o=this.o&&c,!c)js(this.i,this.l,m,"[Invalid Chunked Response]"),ns(this),zi(this);else if(m.length>0&&!this.W){this.W=!0;var Y=this.j;Y.g==this&&Y.aa&&!Y.P&&(Y.j.info("Great, no buffering proxy detected. Bytes received: "+m.length),Hl(Y),Y.P=!0,xt(11))}}else js(this.i,this.l,m,null),Vl(this,m);Ee==4&&ns(this),this.o&&!this.K&&(Ee==4?Ld(this.j,this):(this.o=!1,Ea(this)))}else aT(this.g),f==400&&m.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),ns(this),zi(this)}}}catch{}};function Gw(c){if(!hd(c))return c.g.la();const f=kd(c.g);if(f==="")return"";let m="";const T=f.length,x=yr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return ns(c),zi(c),"";c.h.i=new o.TextDecoder}for(let L=0;L<T;L++)c.h.h=!0,m+=c.h.i.decode(f[L],{stream:!(x&&L==T-1)});return f.length=0,c.h.g+=m,c.C=0,c.h.g}function hd(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Kw(c,f){var m=c.C,T=f.indexOf(`
`,m);return T==-1?Nl:(m=Number(f.substring(m,T)),isNaN(m)?ld:(T+=1,T+m>f.length?Nl:(f=f.slice(T,T+m),c.C=T+m,f)))}mr.prototype.cancel=function(){this.K=!0,ns(this)};function Ea(c){c.T=Date.now()+c.H,fd(c,c.H)}function fd(c,f){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Wi(u(c.aa,c),f)}function Dl(c){c.D&&(o.clearTimeout(c.D),c.D=null)}mr.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(jw(this.i,this.B),this.M!=2&&(qi(),xt(17)),ns(this),this.m=2,zi(this)):fd(this,this.T-c)};function zi(c){c.j.I==0||c.K||Ld(c.j,c)}function ns(c){Dl(c);var f=c.O;f&&typeof f.dispose=="function"&&f.dispose(),c.O=null,Ie(c.V),c.g&&(f=c.g,c.g=null,f.abort(),f.dispose())}function Vl(c,f){try{var m=c.j;if(m.I!=0&&(m.g==c||xl(m.h,c))){if(!c.L&&xl(m.h,c)&&m.I==3){try{var T=m.Ba.g.parse(f)}catch{T=null}if(Array.isArray(T)&&T.length==3){var x=T;if(x[0]==0){e:if(!m.v){if(m.g)if(m.g.F+3e3<c.F)Ra(m),ba(m);else break e;$l(m),xt(18)}}else m.xa=x[1],0<m.xa-m.K&&x[2]<37500&&m.F&&m.A==0&&!m.C&&(m.C=Wi(u(m.Va,m),6e3));md(m.h)<=1&&m.ta&&(m.ta=void 0)}else ss(m,11)}else if((c.L||m.g==c)&&Ra(m),!A(f))for(x=m.Ba.g.parse(f),f=0;f<x.length;f++){let Fe=x[f];const mt=Fe[0];if(!(mt<=m.K))if(m.K=mt,Fe=Fe[1],m.I==2)if(Fe[0]=="c"){m.M=Fe[1],m.ba=Fe[2];const Sn=Fe[3];Sn!=null&&(m.ka=Sn,m.j.info("VER="+m.ka));const is=Fe[4];is!=null&&(m.za=is,m.j.info("SVER="+m.za));const vr=Fe[5];vr!=null&&typeof vr=="number"&&vr>0&&(T=1.5*vr,m.O=T,m.j.info("backChannelRequestTimeoutMs_="+T)),T=m;const Er=c.g;if(Er){const Ca=Er.g?Er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ca){var L=T.h;L.g||Ca.indexOf("spdy")==-1&&Ca.indexOf("quic")==-1&&Ca.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Ml(L,L.h),L.h=null))}if(T.G){const jl=Er.g?Er.g.getResponseHeader("X-HTTP-Session-Id"):null;jl&&(T.wa=jl,qe(T.J,T.G,jl))}}m.I=3,m.l&&m.l.ra(),m.aa&&(m.T=Date.now()-c.F,m.j.info("Handshake RTT: "+m.T+"ms")),T=m;var Y=c;if(T.na=Bd(T,T.L?T.ba:null,T.W),Y.L){gd(T.h,Y);var Ee=Y,ft=T.O;ft&&(Ee.H=ft),Ee.D&&(Dl(Ee),Ea(Ee)),T.g=Y}else xd(T);m.i.length>0&&Aa(m)}else Fe[0]!="stop"&&Fe[0]!="close"||ss(m,7);else m.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?ss(m,7):Bl(m):Fe[0]!="noop"&&m.l&&m.l.qa(Fe),m.A=0)}}qi(4)}catch{}}var zw=class{constructor(c,f){this.g=c,this.map=f}};function dd(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function pd(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function md(c){return c.h?1:c.g?c.g.size:0}function xl(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function Ml(c,f){c.g?c.g.add(f):c.h=f}function gd(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}dd.prototype.cancel=function(){if(this.i=_d(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function _d(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let f=c.i;for(const m of c.g.values())f=f.concat(m.G);return f}return g(c.i)}var yd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qw(c,f){if(c){c=c.split("&");for(let m=0;m<c.length;m++){const T=c[m].indexOf("=");let x,L=null;T>=0?(x=c[m].substring(0,T),L=c[m].substring(T+1)):x=c[m],f(x,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function gr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;c instanceof gr?(this.l=c.l,Qi(this,c.j),this.o=c.o,this.g=c.g,Yi(this,c.u),this.h=c.h,Ll(this,bd(c.i)),this.m=c.m):c&&(f=String(c).match(yd))?(this.l=!1,Qi(this,f[1]||"",!0),this.o=Ji(f[2]||""),this.g=Ji(f[3]||"",!0),Yi(this,f[4]),this.h=Ji(f[5]||"",!0),Ll(this,f[6]||"",!0),this.m=Ji(f[7]||"")):(this.l=!1,this.i=new Zi(null,this.l))}gr.prototype.toString=function(){const c=[];var f=this.j;f&&c.push(Xi(f,vd,!0),":");var m=this.g;return(m||f=="file")&&(c.push("//"),(f=this.o)&&c.push(Xi(f,vd,!0),"@"),c.push(Ki(m).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.u,m!=null&&c.push(":",String(m))),(m=this.h)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(Xi(m,m.charAt(0)=="/"?Xw:Jw,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",Xi(m,eT)),c.join("")},gr.prototype.resolve=function(c){const f=Rn(this);let m=!!c.j;m?Qi(f,c.j):m=!!c.o,m?f.o=c.o:m=!!c.g,m?f.g=c.g:m=c.u!=null;var T=c.h;if(m)Yi(f,c.u);else if(m=!!c.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var x=f.h.lastIndexOf("/");x!=-1&&(T=f.h.slice(0,x+1)+T)}if(x=T,x==".."||x==".")T="";else if(x.indexOf("./")!=-1||x.indexOf("/.")!=-1){T=x.lastIndexOf("/",0)==0,x=x.split("/");const L=[];for(let Y=0;Y<x.length;){const Ee=x[Y++];Ee=="."?T&&Y==x.length&&L.push(""):Ee==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),T&&Y==x.length&&L.push("")):(L.push(Ee),T=!0)}T=L.join("/")}else T=x}return m?f.h=T:m=c.i.toString()!=="",m?Ll(f,bd(c.i)):m=!!c.m,m&&(f.m=c.m),f};function Rn(c){return new gr(c)}function Qi(c,f,m){c.j=m?Ji(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function Yi(c,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);c.u=f}else c.u=null}function Ll(c,f,m){f instanceof Zi?(c.i=f,tT(c.i,c.l)):(m||(f=Xi(f,Zw)),c.i=new Zi(f,c.l))}function qe(c,f,m){c.i.set(f,m)}function wa(c){return qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ji(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Xi(c,f,m){return typeof c=="string"?(c=encodeURI(c).replace(f,Yw),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Yw(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var vd=/[#\/\?@]/g,Jw=/[#\?:]/g,Xw=/[#\?]/g,Zw=/[#\?@]/g,eT=/#/g;function Zi(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function rs(c){c.g||(c.g=new Map,c.h=0,c.i&&Qw(c.i,function(f,m){c.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=Zi.prototype,t.add=function(c,f){rs(this),this.i=null,c=qs(this,c);let m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(f),this.h+=1,this};function Ed(c,f){rs(c),f=qs(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function wd(c,f){return rs(c),f=qs(c,f),c.g.has(f)}t.forEach=function(c,f){rs(this),this.g.forEach(function(m,T){m.forEach(function(x){c.call(f,x,T,this)},this)},this)};function Td(c,f){rs(c);let m=[];if(typeof f=="string")wd(c,f)&&(m=m.concat(c.g.get(qs(c,f))));else for(c=Array.from(c.g.values()),f=0;f<c.length;f++)m=m.concat(c[f]);return m}t.set=function(c,f){return rs(this),this.i=null,c=qs(this,c),wd(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},t.get=function(c,f){return c?(c=Td(this,c),c.length>0?String(c[0]):f):f};function Id(c,f,m){Ed(c,f),m.length>0&&(c.i=null,c.g.set(qs(c,f),g(m)),c.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],f=Array.from(this.g.keys());for(let T=0;T<f.length;T++){var m=f[T];const x=Ki(m);m=Td(this,m);for(let L=0;L<m.length;L++){let Y=x;m[L]!==""&&(Y+="="+Ki(m[L])),c.push(Y)}}return this.i=c.join("&")};function bd(c){const f=new Zi;return f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),f}function qs(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function tT(c,f){f&&!c.j&&(rs(c),c.i=null,c.g.forEach(function(m,T){const x=T.toLowerCase();T!=x&&(Ed(this,T),Id(this,x,m))},c)),c.j=f}function nT(c,f){const m=new Gi;if(o.Image){const T=new Image;T.onload=h(_r,m,"TestLoadImage: loaded",!0,f,T),T.onerror=h(_r,m,"TestLoadImage: error",!1,f,T),T.onabort=h(_r,m,"TestLoadImage: abort",!1,f,T),T.ontimeout=h(_r,m,"TestLoadImage: timeout",!1,f,T),o.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else f(!1)}function rT(c,f){const m=new Gi,T=new AbortController,x=setTimeout(()=>{T.abort(),_r(m,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:T.signal}).then(L=>{clearTimeout(x),L.ok?_r(m,"TestPingServer: ok",!0,f):_r(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(x),_r(m,"TestPingServer: error",!1,f)})}function _r(c,f,m,T,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),T(m)}catch{}}function sT(){this.g=new Ct}function Ul(c){this.i=c.Sb||null,this.h=c.ab||!1}d(Ul,ut),Ul.prototype.g=function(){return new Ta(this.i,this.h)};function Ta(c,f){z.call(this),this.H=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(Ta,z),t=Ta.prototype,t.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=f,this.readyState=1,to(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(f.body=c),(this.H||o).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,eo(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,to(this)),this.g&&(this.readyState=3,to(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ad(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ad(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?eo(this):to(this),this.readyState==3&&Ad(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,eo(this))},t.Na=function(c){this.g&&(this.response=c,eo(this))},t.ga=function(){this.g&&eo(this)};function eo(c){c.readyState=4,c.l=null,c.j=null,c.B=null,to(c)}t.setRequestHeader=function(c,f){this.A.append(c,f)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=f.next();return c.join(`\r
`)};function to(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Rd(c){let f="";return Ne(c,function(m,T){f+=T,f+=":",f+=m,f+=`\r
`}),f}function Fl(c,f,m){e:{for(T in m){var T=!1;break e}T=!0}T||(m=Rd(m),typeof c=="string"?m!=null&&Ki(m):qe(c,f,m))}function Qe(c){z.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(Qe,z);var iT=/^https?$/i,oT=["POST","PUT"];t=Qe.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,f,m,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ad.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(L){Sd(this,L);return}if(c=m||"",m=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var x in T)m.set(x,T[x]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const L of T.keys())m.set(L,T.get(L));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(m.keys()).find(L=>L.toLowerCase()=="content-type"),x=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(oT,f,void 0)>=0)||T||x||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,Y]of m)this.g.setRequestHeader(L,Y);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(L){Sd(this,L)}};function Sd(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.o=5,Cd(c),Ia(c)}function Cd(c){c.A||(c.A=!0,K(c,"complete"),K(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,K(this,"complete"),K(this,"abort"),Ia(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ia(this,!0)),Qe.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Pd(this):this.Xa())},t.Xa=function(){Pd(this)};function Pd(c){if(c.h&&typeof i<"u"){if(c.v&&yr(c)==4)setTimeout(c.Ca.bind(c),0);else if(K(c,"readystatechange"),yr(c)==4){c.h=!1;try{const L=c.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var T;if(T=L===0){let Y=String(c.D).match(yd)[1]||null;!Y&&o.self&&o.self.location&&(Y=o.self.location.protocol.slice(0,-1)),T=!iT.test(Y?Y.toLowerCase():"")}m=T}if(m)K(c,"complete"),K(c,"success");else{c.o=6;try{var x=yr(c)>2?c.g.statusText:""}catch{x=""}c.l=x+" ["+c.ca()+"]",Cd(c)}}finally{Ia(c)}}}}function Ia(c,f){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const m=c.g;c.g=null,f||K(c,"ready");try{m.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function yr(c){return c.g?c.g.readyState:0}t.ca=function(){try{return yr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),ke(f)}};function kd(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function aT(c){const f={};c=(c.g&&yr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(A(c[T]))continue;var m=Ww(c[T]);const x=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const L=f[x]||[];f[x]=L,L.push(m)}An(f,function(T){return T.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function no(c,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||f}function Nd(c){this.za=0,this.i=[],this.j=new Gi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=no("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=no("baseRetryDelayMs",5e3,c),this.Za=no("retryDelaySeedMs",1e4,c),this.Ta=no("forwardChannelMaxRetries",2,c),this.va=no("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new dd(c&&c.concurrentRequestLimit),this.Ba=new sT,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Nd.prototype,t.ka=8,t.I=1,t.connect=function(c,f,m,T){xt(0),this.W=c,this.H=f||{},m&&T!==void 0&&(this.H.OSID=m,this.H.OAID=T),this.F=this.X,this.J=Bd(this,null,this.W),Aa(this)};function Bl(c){if(Od(c),c.I==3){var f=c.V++,m=Rn(c.J);if(qe(m,"SID",c.M),qe(m,"RID",f),qe(m,"TYPE","terminate"),ro(c,m),f=new mr(c,c.j,f),f.M=2,f.A=wa(Rn(m)),m=!1,o.navigator&&o.navigator.sendBeacon)try{m=o.navigator.sendBeacon(f.A.toString(),"")}catch{}!m&&o.Image&&(new Image().src=f.A,m=!0),m||(f.g=$d(f.j,null),f.g.ea(f.A)),f.F=Date.now(),Ea(f)}Fd(c)}function ba(c){c.g&&(Hl(c),c.g.cancel(),c.g=null)}function Od(c){ba(c),c.v&&(o.clearTimeout(c.v),c.v=null),Ra(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function Aa(c){if(!pd(c.h)&&!c.m){c.m=!0;var f=c.Ea;V||w(),U||(V(),U=!0),I.add(f,c),c.D=0}}function cT(c,f){return md(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=f.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Wi(u(c.Ea,c,f),Ud(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const x=new mr(this,this.j,c);let L=this.o;if(this.U&&(L?(L=Wt(L),$n(L,this.U)):L=this.U),this.u!==null||this.R||(x.J=L,L=null),this.S)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var T=this.i[m];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(f+=T,f>4096){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=Vd(this,x,f),m=Rn(this.J),qe(m,"RID",c),qe(m,"CVER",22),this.G&&qe(m,"X-HTTP-Session-Id",this.G),ro(this,m),L&&(this.R?f="headers="+Ki(Rd(L))+"&"+f:this.u&&Fl(m,this.u,L)),Ml(this.h,x),this.Ra&&qe(m,"TYPE","init"),this.S?(qe(m,"$req",f),qe(m,"SID","null"),x.U=!0,Ol(x,m,null)):Ol(x,m,f),this.I=2}}else this.I==3&&(c?Dd(this,c):this.i.length==0||pd(this.h)||Dd(this))};function Dd(c,f){var m;f?m=f.l:m=c.V++;const T=Rn(c.J);qe(T,"SID",c.M),qe(T,"RID",m),qe(T,"AID",c.K),ro(c,T),c.u&&c.o&&Fl(T,c.u,c.o),m=new mr(c,c.j,m,c.D+1),c.u===null&&(m.J=c.o),f&&(c.i=f.G.concat(c.i)),f=Vd(c,m,1e3),m.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ml(c.h,m),Ol(m,T,f)}function ro(c,f){c.H&&Ne(c.H,function(m,T){qe(f,T,m)}),c.l&&Ne({},function(m,T){qe(f,T,m)})}function Vd(c,f,m){m=Math.min(c.i.length,m);const T=c.l?u(c.l.Ka,c.l,c):null;e:{var x=c.i;let Ee=-1;for(;;){const ft=["count="+m];Ee==-1?m>0?(Ee=x[0].g,ft.push("ofs="+Ee)):Ee=0:ft.push("ofs="+Ee);let Fe=!0;for(let mt=0;mt<m;mt++){var L=x[mt].g;const Sn=x[mt].map;if(L-=Ee,L<0)Ee=Math.max(0,x[mt].g-100),Fe=!1;else try{L="req"+L+"_"||"";try{var Y=Sn instanceof Map?Sn:Object.entries(Sn);for(const[is,vr]of Y){let Er=vr;a(vr)&&(Er=Oe(vr)),ft.push(L+is+"="+encodeURIComponent(Er))}}catch(is){throw ft.push(L+"type="+encodeURIComponent("_badmap")),is}}catch{T&&T(Sn)}}if(Fe){Y=ft.join("&");break e}}Y=void 0}return c=c.i.splice(0,m),f.G=c,Y}function xd(c){if(!c.g&&!c.v){c.Y=1;var f=c.Da;V||w(),U||(V(),U=!0),I.add(f,c),c.A=0}}function $l(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Wi(u(c.Da,c),Ud(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,Md(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Wi(u(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),ba(this),Md(this))};function Hl(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function Md(c){c.g=new mr(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var f=Rn(c.na);qe(f,"RID","rpc"),qe(f,"SID",c.M),qe(f,"AID",c.K),qe(f,"CI",c.F?"0":"1"),!c.F&&c.ia&&qe(f,"TO",c.ia),qe(f,"TYPE","xmlhttp"),ro(c,f),c.u&&c.o&&Fl(f,c.u,c.o),c.O&&(c.g.H=c.O);var m=c.g;c=c.ba,m.M=1,m.A=wa(Rn(f)),m.u=null,m.R=!0,ud(m,c)}t.Va=function(){this.C!=null&&(this.C=null,ba(this),$l(this),xt(19))};function Ra(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function Ld(c,f){var m=null;if(c.g==f){Ra(c),Hl(c),c.g=null;var T=2}else if(xl(c.h,f))m=f.G,gd(c.h,f),T=1;else return;if(c.I!=0){if(f.o)if(T==1){m=f.u?f.u.length:0,f=Date.now()-f.F;var x=c.D;T=ts(),K(T,new id(T,m)),Aa(c)}else xd(c);else if(x=f.m,x==3||x==0&&f.X>0||!(T==1&&cT(c,f)||T==2&&$l(c)))switch(m&&m.length>0&&(f=c.h,f.i=f.i.concat(m)),x){case 1:ss(c,5);break;case 4:ss(c,10);break;case 3:ss(c,6);break;default:ss(c,2)}}}function Ud(c,f){let m=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(m*=2),m*f}function ss(c,f){if(c.j.info("Error code "+f),f==2){var m=u(c.bb,c),T=c.Ua;const x=!T;T=new gr(T||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Qi(T,"https"),wa(T),x?nT(T.toString(),m):rT(T.toString(),m)}else xt(2);c.I=0,c.l&&c.l.pa(f),Fd(c),Od(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function Fd(c){if(c.I=0,c.ja=[],c.l){const f=_d(c.h);(f.length!=0||c.i.length!=0)&&(E(c.ja,f),E(c.ja,c.i),c.h.i.length=0,g(c.i),c.i.length=0),c.l.oa()}}function Bd(c,f,m){var T=m instanceof gr?Rn(m):new gr(m);if(T.g!="")f&&(T.g=f+"."+T.g),Yi(T,T.u);else{var x=o.location;T=x.protocol,f=f?f+"."+x.hostname:x.hostname,x=+x.port;const L=new gr(null);T&&Qi(L,T),f&&(L.g=f),x&&Yi(L,x),m&&(L.h=m),T=L}return m=c.G,f=c.wa,m&&f&&qe(T,m,f),qe(T,"VER",c.ka),ro(c,T),T}function $d(c,f,m){if(f&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Aa&&!c.ma?new Qe(new Ul({ab:m})):new Qe(c.ma),f.Fa(c.L),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hd(){}t=Hd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Sa(){}Sa.prototype.g=function(c,f){return new Kt(c,f)};function Kt(c,f){z.call(this),this.g=new Nd(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(c?c["X-WebChannel-Client-Profile"]=f.sa:c={"X-WebChannel-Client-Profile":f.sa}),this.g.U=c,(c=f&&f.Qb)&&!A(c)&&(this.g.u=c),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!A(f)&&(this.g.G=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new Ws(this)}d(Kt,z),Kt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Kt.prototype.close=function(){Bl(this.g)},Kt.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.v&&(m={},m.__data__=Oe(c),c=m);f.i.push(new zw(f.Ya++,c)),f.I==3&&Aa(f)},Kt.prototype.N=function(){this.g.l=null,delete this.j,Bl(this.g),delete this.g,Kt.Z.N.call(this)};function jd(c){Hn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(const m in f){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}d(jd,Hn);function qd(){Hs.call(this),this.status=1}d(qd,Hs);function Ws(c){this.g=c}d(Ws,Hd),Ws.prototype.ra=function(){K(this.g,"a")},Ws.prototype.qa=function(c){K(this.g,new jd(c))},Ws.prototype.pa=function(c){K(this.g,new qd)},Ws.prototype.oa=function(){K(this.g,"b")},Sa.prototype.createWebChannel=Sa.prototype.g,Kt.prototype.send=Kt.prototype.o,Kt.prototype.open=Kt.prototype.m,Kt.prototype.close=Kt.prototype.close,cE=function(){return new Sa},aE=function(){return ts()},oE=tt,uh={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},va.NO_ERROR=0,va.TIMEOUT=8,va.HTTP_ERROR=6,tc=va,od.COMPLETE="complete",iE=od,Ft.EventType=ht,ht.OPEN="a",ht.CLOSE="b",ht.ERROR="c",ht.MESSAGE="d",z.prototype.listen=z.prototype.J,po=Ft,Qe.prototype.listenOnce=Qe.prototype.K,Qe.prototype.getLastError=Qe.prototype.Ha,Qe.prototype.getLastErrorCode=Qe.prototype.ya,Qe.prototype.getStatus=Qe.prototype.ca,Qe.prototype.getResponseJson=Qe.prototype.La,Qe.prototype.getResponseText=Qe.prototype.la,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Fa,sE=Qe}).apply(typeof $a<"u"?$a:typeof self<"u"?self:typeof window<"u"?window:{});const zm="@firebase/firestore",Qm="4.9.3";class Nt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");let Li="12.7.0";const Os=new ff("@firebase/firestore");function Ys(){return Os.logLevel}function ne(t,...e){if(Os.logLevel<=be.DEBUG){const n=e.map(If);Os.debug(`Firestore (${Li}): ${t}`,...n)}}function ur(t,...e){if(Os.logLevel<=be.ERROR){const n=e.map(If);Os.error(`Firestore (${Li}): ${t}`,...n)}}function Ds(t,...e){if(Os.logLevel<=be.WARN){const n=e.map(If);Os.warn(`Firestore (${Li}): ${t}`,...n)}}function If(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function pe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,lE(t,r,n)}function lE(t,e,n){let r=`FIRESTORE (${Li}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ur(r),new Error(r)}function xe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||lE(e,s,r)}function ve(t,e){return t}const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends dr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class rr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class uE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Nt.UNAUTHENTICATED)))}shutdown(){}}class oN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class aN{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xe(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new rr,e.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const l=i;e.enqueueRetryable((async()=>{await l.promise,await s(this.currentUser)}))},a=l=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((l=>a(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new rr)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string",31837,{l:r}),new uE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string",2055,{h:e}),new Nt(e)}}class cN{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class lN{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new cN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Nt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ym{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xe(this.o===void 0,3512);const r=i=>{i.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ym(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ym(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function hN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class ul{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=hN(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ae(t,e){return t<e?-1:t>e?1:0}function hh(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Eu(s)===Eu(i)?Ae(s,i):Eu(s)?1:-1}return Ae(t.length,e.length)}const fN=55296,dN=57343;function Eu(t){const e=t.charCodeAt(0);return e>=fN&&e<=dN}function Ai(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}const Jm="__name__";class kn{constructor(e,n,r){n===void 0?n=0:n>e.length&&pe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&pe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return kn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof kn?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=kn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ae(e.length,n.length)}static compareSegments(e,n){const r=kn.isNumericId(e),s=kn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?kn.extractNumericId(e).compare(kn.extractNumericId(n)):hh(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hr.fromString(e.substring(4,e.length-2))}}class He extends kn{construct(e,n,r){return new He(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new He(n)}static emptyPath(){return new He([])}}const pN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends kn{construct(e,n,r){return new vt(e,n,r)}static isValidIdentifier(e){return pN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jm}static keyField(){return new vt([Jm])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new X(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new X(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new X(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vt(n)}static emptyPath(){return new vt([])}}class ae{constructor(e){this.path=e}static fromPath(e){return new ae(He.fromString(e))}static fromName(e){return new ae(He.fromString(e).popFirst(5))}static empty(){return new ae(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new He(e.slice()))}}function fE(t,e,n){if(!n)throw new X(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function dE(t,e,n,r){if(e===!0&&r===!0)throw new X(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Xm(t){if(!ae.isDocumentKey(t))throw new X(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Zm(t){if(ae.isDocumentKey(t))throw new X(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function pE(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function hl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pe(12329,{type:typeof t})}function Tn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hl(t);throw new X(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function at(t,e){const n={typeString:t};return e&&(n.value=e),n}function ua(t,e){if(!pE(t))throw new X(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new X(B.INVALID_ARGUMENT,n);return!0}const eg=-62135596800,tg=1e6;class je{static now(){return je.fromMillis(Date.now())}static fromDate(e){return je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*tg);return new je(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<eg)throw new X(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tg}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ua(e,je._jsonSchema))return new je(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-eg;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}je._jsonSchemaVersion="firestore/timestamp/1.0",je._jsonSchema={type:at("string",je._jsonSchemaVersion),seconds:at("number"),nanoseconds:at("number")};class ye{static fromTimestamp(e){return new ye(e)}static min(){return new ye(new je(0,0))}static max(){return new ye(new je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ho=-1;function mN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ye.fromTimestamp(r===1e9?new je(n+1,0):new je(n,r));return new Wr(s,ae.empty(),e)}function gN(t){return new Wr(t.readTime,t.key,Ho)}class Wr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Wr(ye.min(),ae.empty(),Ho)}static max(){return new Wr(ye.max(),ae.empty(),Ho)}}function _N(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:Ae(t.largestBatchId,e.largestBatchId))}const yN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ui(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==yN)throw t;ne("LocalStore","Unexpectedly lost primary lease")}class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):j.reject(n)}static resolve(e){return new j(((n,r)=>{n(e)}))}static reject(e){return new j(((n,r)=>{r(e)}))}static waitFor(e){return new j(((n,r)=>{let s=0,i=0,o=!1;e.forEach((a=>{++s,a.next((()=>{++i,o&&i===s&&n()}),(l=>r(l)))})),o=!0,i===s&&n()}))}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next((s=>s?j.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new j(((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next((h=>{o[u]=h,++a,a===i&&r(o)}),(h=>s(h)))}}))}static doWhile(e,n){return new j(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}function EN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fi(t){return t.name==="IndexedDbTransactionError"}class fl{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}fl.ce=-1;const bf=-1;function dl(t){return t==null}function Nc(t){return t===0&&1/t==-1/0}function wN(t){return typeof t=="number"&&Number.isInteger(t)&&!Nc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const mE="";function TN(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ng(e)),e=IN(t.get(n),e);return ng(e)}function IN(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case mE:n+="";break;default:n+=i}}return n}function ng(t){return t+mE+""}function rg(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class ze{constructor(e,n){this.comparator=e,this.root=n||It.EMPTY}insert(e,n){return new ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,It.BLACK,null,null))}remove(e){return new ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,It.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ha(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ha(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ha(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ha(this.root,e,this.comparator,!0)}}class Ha{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class It{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??It.RED,this.left=s??It.EMPTY,this.right=i??It.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new It(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return It.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return It.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pe(27949);return e+(this.isRed()?0:1)}}It.EMPTY=null,It.RED=!0,It.BLACK=!1;It.EMPTY=new class{constructor(){this.size=0}get key(){throw pe(57766)}get value(){throw pe(16141)}get color(){throw pe(16727)}get left(){throw pe(29726)}get right(){throw pe(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new It(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pt{constructor(e){this.comparator=e,this.data=new ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sg(this.data.getIterator())}getIteratorFrom(e){return new sg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new pt(this.comparator);return n.data=e,n}}class sg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xt{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new Xt([])}unionWith(e){let n=new pt(vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ai(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class _E extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new _E("Invalid base64 string: "+i):i}})(e);return new wt(n)}static fromUint8Array(e){const n=(function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i})(e);return new wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wt.EMPTY_BYTE_STRING=new wt("");const bN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gr(t){if(xe(!!t,39018),typeof t=="string"){let e=0;const n=bN.exec(t);if(xe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nt(t.seconds),nanos:nt(t.nanos)}}function nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Kr(t){return typeof t=="string"?wt.fromBase64String(t):wt.fromUint8Array(t)}const yE="server_timestamp",vE="__type__",EE="__previous_value__",wE="__local_write_time__";function Af(t){return(t?.mapValue?.fields||{})[vE]?.stringValue===yE}function pl(t){const e=t.mapValue.fields[EE];return Af(e)?pl(e):e}function jo(t){const e=Gr(t.mapValue.fields[wE].timestampValue);return new je(e.seconds,e.nanos)}class AN{constructor(e,n,r,s,i,o,a,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=h}}const Oc="(default)";class Ri{constructor(e,n){this.projectId=e,this.database=n||Oc}static empty(){return new Ri("","")}get isDefaultDatabase(){return this.database===Oc}isEqual(e){return e instanceof Ri&&e.projectId===this.projectId&&e.database===this.database}}const TE="__type__",RN="__max__",ja={mapValue:{}},IE="__vector__",Dc="value";function zr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Af(t)?4:CN(t)?9007199254740991:SN(t)?10:11:pe(28295,{value:t})}function Un(t,e){if(t===e)return!0;const n=zr(t);if(n!==zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jo(t).isEqual(jo(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Gr(s.timestampValue),a=Gr(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,i){return Kr(s.bytesValue).isEqual(Kr(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,i){return nt(s.geoPointValue.latitude)===nt(i.geoPointValue.latitude)&&nt(s.geoPointValue.longitude)===nt(i.geoPointValue.longitude)})(t,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return nt(s.integerValue)===nt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=nt(s.doubleValue),a=nt(i.doubleValue);return o===a?Nc(o)===Nc(a):isNaN(o)&&isNaN(a)}return!1})(t,e);case 9:return Ai(t.arrayValue.values||[],e.arrayValue.values||[],Un);case 10:case 11:return(function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(rg(o)!==rg(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Un(o[l],a[l])))return!1;return!0})(t,e);default:return pe(52216,{left:t})}}function qo(t,e){return(t.values||[]).find((n=>Un(n,e)))!==void 0}function Si(t,e){if(t===e)return 0;const n=zr(t),r=zr(e);if(n!==r)return Ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ae(t.booleanValue,e.booleanValue);case 2:return(function(i,o){const a=nt(i.integerValue||i.doubleValue),l=nt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1})(t,e);case 3:return ig(t.timestampValue,e.timestampValue);case 4:return ig(jo(t),jo(e));case 5:return hh(t.stringValue,e.stringValue);case 6:return(function(i,o){const a=Kr(i),l=Kr(o);return a.compareTo(l)})(t.bytesValue,e.bytesValue);case 7:return(function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=Ae(a[u],l[u]);if(h!==0)return h}return Ae(a.length,l.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,o){const a=Ae(nt(i.latitude),nt(o.latitude));return a!==0?a:Ae(nt(i.longitude),nt(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return og(t.arrayValue,e.arrayValue);case 10:return(function(i,o){const a=i.fields||{},l=o.fields||{},u=a[Dc]?.arrayValue,h=l[Dc]?.arrayValue,d=Ae(u?.values?.length||0,h?.values?.length||0);return d!==0?d:og(u,h)})(t.mapValue,e.mapValue);case 11:return(function(i,o){if(i===ja.mapValue&&o===ja.mapValue)return 0;if(i===ja.mapValue)return 1;if(o===ja.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const p=hh(l[d],h[d]);if(p!==0)return p;const g=Si(a[l[d]],u[h[d]]);if(g!==0)return g}return Ae(l.length,h.length)})(t.mapValue,e.mapValue);default:throw pe(23264,{he:n})}}function ig(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ae(t,e);const n=Gr(t),r=Gr(e),s=Ae(n.seconds,r.seconds);return s!==0?s:Ae(n.nanos,r.nanos)}function og(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Si(n[s],r[s]);if(i)return i}return Ae(n.length,r.length)}function Ci(t){return fh(t)}function fh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Gr(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Kr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ae.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=fh(i);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${fh(n.fields[o])}`;return s+"}"})(t.mapValue):pe(61005,{value:t})}function nc(t){switch(zr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pl(t);return e?16+nc(e):16;case 5:return 2*t.stringValue.length;case 6:return Kr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+nc(i)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return Xr(r.fields,((i,o)=>{s+=i.length+nc(o)})),s})(t.mapValue);default:throw pe(13486,{value:t})}}function ag(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dh(t){return!!t&&"integerValue"in t}function Rf(t){return!!t&&"arrayValue"in t}function cg(t){return!!t&&"nullValue"in t}function lg(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rc(t){return!!t&&"mapValue"in t}function SN(t){return(t?.mapValue?.fields||{})[TE]?.stringValue===IE}function Ro(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Xr(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Ro(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ro(t.arrayValue.values[n]);return e}return{...t}}function CN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===RN}class Ht{constructor(e){this.value=e}static empty(){return new Ht({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ro(n)}setAll(e){let n=vt.emptyPath(),r={},s=[];e.forEach(((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ro(o):s.push(a.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());rc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Un(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];rc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Xr(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new Ht(Ro(this.value))}}function bE(t){const e=[];return Xr(t.fields,((n,r)=>{const s=new vt([n]);if(rc(r)){const i=bE(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)})),new Xt(e)}class Dt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Dt(e,0,ye.min(),ye.min(),ye.min(),Ht.empty(),0)}static newFoundDocument(e,n,r,s){return new Dt(e,1,n,ye.min(),r,s,0)}static newNoDocument(e,n){return new Dt(e,2,n,ye.min(),ye.min(),Ht.empty(),0)}static newUnknownDocument(e,n){return new Dt(e,3,n,ye.min(),ye.min(),Ht.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ht.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ht.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Vc{constructor(e,n){this.position=e,this.inclusive=n}}function ug(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),n.key):r=Si(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function hg(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Un(t.position[n],e.position[n]))return!1;return!0}class Wo{constructor(e,n="asc"){this.field=e,this.dir=n}}function PN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class AE{}class ot extends AE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new NN(e,n,r):n==="array-contains"?new VN(e,r):n==="in"?new xN(e,r):n==="not-in"?new MN(e,r):n==="array-contains-any"?new LN(e,r):new ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ON(e,r):new DN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Si(n,this.value)):n!==null&&zr(this.value)===zr(n)&&this.matchesComparison(Si(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class In extends AE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new In(e,n)}matches(e){return RE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function RE(t){return t.op==="and"}function SE(t){return kN(t)&&RE(t)}function kN(t){for(const e of t.filters)if(e instanceof In)return!1;return!0}function ph(t){if(t instanceof ot)return t.field.canonicalString()+t.op.toString()+Ci(t.value);if(SE(t))return t.filters.map((e=>ph(e))).join(",");{const e=t.filters.map((n=>ph(n))).join(",");return`${t.op}(${e})`}}function CE(t,e){return t instanceof ot?(function(r,s){return s instanceof ot&&r.op===s.op&&r.field.isEqual(s.field)&&Un(r.value,s.value)})(t,e):t instanceof In?(function(r,s){return s instanceof In&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,o,a)=>i&&CE(o,s.filters[a])),!0):!1})(t,e):void pe(19439)}function PE(t){return t instanceof ot?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ci(n.value)}`})(t):t instanceof In?(function(n){return n.op.toString()+" {"+n.getFilters().map(PE).join(" ,")+"}"})(t):"Filter"}class NN extends ot{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class ON extends ot{constructor(e,n){super(e,"in",n),this.keys=kE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class DN extends ot{constructor(e,n){super(e,"not-in",n),this.keys=kE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function kE(t,e){return(e.arrayValue?.values||[]).map((n=>ae.fromName(n.referenceValue)))}class VN extends ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rf(n)&&qo(n.arrayValue,this.value)}}class xN extends ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qo(this.value.arrayValue,n)}}class MN extends ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!qo(this.value.arrayValue,n)}}class LN extends ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rf(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>qo(this.value.arrayValue,r)))}}class UN{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function fg(t,e=null,n=[],r=[],s=null,i=null,o=null){return new UN(t,e,n,r,s,i,o)}function Sf(t){const e=ve(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>ph(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),dl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Ci(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Ci(r))).join(",")),e.Te=n}return e.Te}function Cf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!PN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!CE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!hg(t.startAt,e.startAt)&&hg(t.endAt,e.endAt)}function mh(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Bi{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function FN(t,e,n,r,s,i,o,a){return new Bi(t,e,n,r,s,i,o,a)}function Pf(t){return new Bi(t)}function dg(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function NE(t){return t.collectionGroup!==null}function So(t){const e=ve(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new pt(vt.comparator);return o.filters.forEach((l=>{l.getFlattenedFilters().forEach((u=>{u.isInequality()&&(a=a.add(u.field))}))})),a})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Wo(i,r))})),n.has(vt.keyField().canonicalString())||e.Ie.push(new Wo(vt.keyField(),r))}return e.Ie}function xn(t){const e=ve(t);return e.Ee||(e.Ee=BN(e,So(t))),e.Ee}function BN(t,e){if(t.limitType==="F")return fg(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Wo(s.field,i)}));const n=t.endAt?new Vc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vc(t.startAt.position,t.startAt.inclusive):null;return fg(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function gh(t,e){const n=t.filters.concat([e]);return new Bi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function _h(t,e,n){return new Bi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ml(t,e){return Cf(xn(t),xn(e))&&t.limitType===e.limitType}function OE(t){return`${Sf(xn(t))}|lt:${t.limitType}`}function Js(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>PE(s))).join(", ")}]`),dl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>Ci(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>Ci(s))).join(",")),`Target(${r})`})(xn(t))}; limitType=${t.limitType})`}function gl(t,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ae.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(t,e)&&(function(r,s){for(const i of So(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(o,a,l){const u=ug(o,a,l);return o.inclusive?u<=0:u<0})(r.startAt,So(r),s)||r.endAt&&!(function(o,a,l){const u=ug(o,a,l);return o.inclusive?u>=0:u>0})(r.endAt,So(r),s))})(t,e)}function $N(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DE(t){return(e,n)=>{let r=!1;for(const s of So(t)){const i=HN(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function HN(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):(function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?Si(l,u):pe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pe(19790,{direction:t.dir})}}class Fs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Xr(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return gE(this.inner)}size(){return this.innerSize}}const jN=new ze(ae.comparator);function hr(){return jN}const VE=new ze(ae.comparator);function mo(...t){let e=VE;for(const n of t)e=e.insert(n.key,n);return e}function xE(t){let e=VE;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function _s(){return Co()}function ME(){return Co()}function Co(){return new Fs((t=>t.toString()),((t,e)=>t.isEqual(e)))}const qN=new ze(ae.comparator),WN=new pt(ae.comparator);function Re(...t){let e=WN;for(const n of t)e=e.add(n);return e}const GN=new pt(Ae);function KN(){return GN}function kf(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nc(e)?"-0":e}}function LE(t){return{integerValue:""+t}}function zN(t,e){return wN(e)?LE(e):kf(t,e)}class _l{constructor(){this._=void 0}}function QN(t,e,n){return t instanceof Go?(function(s,i){const o={fields:{[vE]:{stringValue:yE},[wE]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Af(i)&&(i=pl(i)),i&&(o.fields[EE]=i),{mapValue:o}})(n,e):t instanceof Ko?FE(t,e):t instanceof zo?BE(t,e):(function(s,i){const o=UE(s,i),a=pg(o)+pg(s.Ae);return dh(o)&&dh(s.Ae)?LE(a):kf(s.serializer,a)})(t,e)}function YN(t,e,n){return t instanceof Ko?FE(t,e):t instanceof zo?BE(t,e):n}function UE(t,e){return t instanceof xc?(function(r){return dh(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class Go extends _l{}class Ko extends _l{constructor(e){super(),this.elements=e}}function FE(t,e){const n=$E(e);for(const r of t.elements)n.some((s=>Un(s,r)))||n.push(r);return{arrayValue:{values:n}}}class zo extends _l{constructor(e){super(),this.elements=e}}function BE(t,e){let n=$E(e);for(const r of t.elements)n=n.filter((s=>!Un(s,r)));return{arrayValue:{values:n}}}class xc extends _l{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function pg(t){return nt(t.integerValue||t.doubleValue)}function $E(t){return Rf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class JN{constructor(e,n){this.field=e,this.transform=n}}function XN(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof Ko&&s instanceof Ko||r instanceof zo&&s instanceof zo?Ai(r.elements,s.elements,Un):r instanceof xc&&s instanceof xc?Un(r.Ae,s.Ae):r instanceof Go&&s instanceof Go})(t.transform,e.transform)}class ZN{constructor(e,n){this.version=e,this.transformResults=n}}class pn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pn}static exists(e){return new pn(void 0,e)}static updateTime(e){return new pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yl{}function HE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Nf(t.key,pn.none()):new ha(t.key,t.data,pn.none());{const n=t.data,r=Ht.empty();let s=new pt(vt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Zr(t.key,r,new Xt(s.toArray()),pn.none())}}function eO(t,e,n){t instanceof ha?(function(s,i,o){const a=s.value.clone(),l=gg(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()})(t,e,n):t instanceof Zr?(function(s,i,o){if(!sc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=gg(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(jE(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):(function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Po(t,e,n,r){return t instanceof ha?(function(i,o,a,l){if(!sc(i.precondition,o))return a;const u=i.value.clone(),h=_g(i.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null})(t,e,n,r):t instanceof Zr?(function(i,o,a,l){if(!sc(i.precondition,o))return a;const u=_g(i.fieldTransforms,l,o),h=o.data;return h.setAll(jE(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((d=>d.field)))})(t,e,n,r):(function(i,o,a){return sc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a})(t,e,n)}function tO(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=UE(r.transform,s||null);i!=null&&(n===null&&(n=Ht.empty()),n.set(r.field,i))}return n||null}function mg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ai(r,s,((i,o)=>XN(i,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ha extends yl{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Zr extends yl{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function jE(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function gg(t,e,n){const r=new Map;xe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,YN(o,a,n[s]))}return r}function _g(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,QN(i,o,e))}return r}class Nf extends yl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nO extends yl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rO{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&eO(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Po(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Po(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ME();return this.mutations.forEach((s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=HE(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ye.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Re())}isEqual(e){return this.batchId===e.batchId&&Ai(this.mutations,e.mutations,((n,r)=>mg(n,r)))&&Ai(this.baseMutations,e.baseMutations,((n,r)=>mg(n,r)))}}class Of{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){xe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return qN})();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Of(e,n,r,s)}}class sO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class iO{constructor(e,n){this.count=e,this.unchangedNames=n}}var st,Se;function oO(t){switch(t){case B.OK:return pe(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return pe(15467,{code:t})}}function qE(t){if(t===void 0)return ur("GRPC error has no .code"),B.UNKNOWN;switch(t){case st.OK:return B.OK;case st.CANCELLED:return B.CANCELLED;case st.UNKNOWN:return B.UNKNOWN;case st.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case st.INTERNAL:return B.INTERNAL;case st.UNAVAILABLE:return B.UNAVAILABLE;case st.UNAUTHENTICATED:return B.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case st.NOT_FOUND:return B.NOT_FOUND;case st.ALREADY_EXISTS:return B.ALREADY_EXISTS;case st.PERMISSION_DENIED:return B.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case st.ABORTED:return B.ABORTED;case st.OUT_OF_RANGE:return B.OUT_OF_RANGE;case st.UNIMPLEMENTED:return B.UNIMPLEMENTED;case st.DATA_LOSS:return B.DATA_LOSS;default:return pe(39323,{code:t})}}(Se=st||(st={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";function aO(){return new TextEncoder}const cO=new Hr([4294967295,4294967295],0);function yg(t){const e=aO().encode(t),n=new rE;return n.update(e),new Uint8Array(n.digest())}function vg(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Hr([n,r],0),new Hr([s,i],0)]}class Df{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new go(`Invalid padding: ${n}`);if(r<0)throw new go(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new go(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new go(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Hr.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Hr.fromNumber(r)));return s.compare(cO)===1&&(s=new Hr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=yg(e),[r,s]=vg(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Df(i,s,n);return r.forEach((a=>o.insert(a))),o}insert(e){if(this.ge===0)return;const n=yg(e),[r,s]=vg(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class go extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vl{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,fa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new vl(ye.min(),s,new ze(Ae),hr(),Re())}}class fa{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new fa(r,n,Re(),Re(),Re())}}class ic{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class WE{constructor(e,n){this.targetId=e,this.Ce=n}}class GE{constructor(e,n,r=wt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Eg{constructor(){this.ve=0,this.Fe=wg(),this.Me=wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Re(),n=Re(),r=Re();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:pe(38017,{changeType:i})}})),new fa(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=wg()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lO{constructor(e){this.Ge=e,this.ze=new Map,this.je=hr(),this.Je=qa(),this.He=qa(),this.Ye=new ze(Ae)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:pe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(mh(i))if(r===0){const o=new ae(i.path);this.et(n,o,Dt.newNoDocument(o,ye.min()))}else xe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Kr(r).toUint8Array()}catch(l){if(l instanceof _E)return Ds("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Df(o,s,i)}catch(l){return Ds(l instanceof go?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,o)=>{const a=this.ot(o);if(a){if(i.current&&mh(a.target)){const l=new ae(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Dt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}}));let r=Re();this.He.forEach(((i,o)=>{let a=!0;o.forEachWhile((l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)})),a&&(r=r.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(e)));const s=new vl(e,n,this.Ye,this.je,r);return this.je=hr(),this.Je=qa(),this.He=qa(),this.Ye=new ze(Ae),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Eg,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new pt(Ae),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new pt(Ae),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Eg),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function qa(){return new ze(ae.comparator)}function wg(){return new ze(ae.comparator)}const uO={asc:"ASCENDING",desc:"DESCENDING"},hO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fO={and:"AND",or:"OR"};class dO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yh(t,e){return t.useProto3Json||dl(e)?e:{value:e}}function Mc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pO(t,e){return Mc(t,e.toTimestamp())}function Mn(t){return xe(!!t,49232),ye.fromTimestamp((function(n){const r=Gr(n);return new je(r.seconds,r.nanos)})(t))}function Vf(t,e){return vh(t,e).canonicalString()}function vh(t,e){const n=(function(s){return new He(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function zE(t){const e=He.fromString(t);return xe(ZE(e),10190,{key:e.toString()}),e}function Eh(t,e){return Vf(t.databaseId,e.path)}function wu(t,e){const n=zE(e);if(n.get(1)!==t.databaseId.projectId)throw new X(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(YE(n))}function QE(t,e){return Vf(t.databaseId,e)}function mO(t){const e=zE(t);return e.length===4?He.emptyPath():YE(e)}function wh(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YE(t){return xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Tg(t,e,n){return{name:Eh(t,e),fields:n.value.mapValue.fields}}function gO(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:pe(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(u,h){return u.useProto3Json?(xe(h===void 0||typeof h=="string",58123),wt.fromBase64String(h||"")):(xe(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),wt.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&(function(u){const h=u.code===void 0?B.UNKNOWN:qE(u.code);return new X(h,u.message||"")})(o);n=new GE(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=wu(t,r.document.name),i=Mn(r.document.updateTime),o=r.document.createTime?Mn(r.document.createTime):ye.min(),a=new Ht({mapValue:{fields:r.document.fields}}),l=Dt.newFoundDocument(s,i,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new ic(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=wu(t,r.document),i=r.readTime?Mn(r.readTime):ye.min(),o=Dt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new ic([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=wu(t,r.document),i=r.removedTargetIds||[];n=new ic([],i,s,null)}else{if(!("filter"in e))return pe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new iO(s,i),a=r.targetId;n=new WE(a,o)}}return n}function _O(t,e){let n;if(e instanceof ha)n={update:Tg(t,e.key,e.value)};else if(e instanceof Nf)n={delete:Eh(t,e.key)};else if(e instanceof Zr)n={update:Tg(t,e.key,e.data),updateMask:RO(e.fieldMask)};else{if(!(e instanceof nO))return pe(16599,{Vt:e.type});n={verify:Eh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(i,o){const a=o.transform;if(a instanceof Go)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ko)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof zo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof xc)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw pe(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:pO(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:pe(27497)})(t,e.precondition)),n}function yO(t,e){return t&&t.length>0?(xe(e!==void 0,14353),t.map((n=>(function(s,i){let o=s.updateTime?Mn(s.updateTime):Mn(i);return o.isEqual(ye.min())&&(o=Mn(i)),new ZN(o,s.transformResults||[])})(n,e)))):[]}function vO(t,e){return{documents:[QE(t,e.path)]}}function EO(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=QE(t,s);const i=(function(u){if(u.length!==0)return XE(In.create(u,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const o=(function(u){if(u.length!==0)return u.map((h=>(function(p){return{field:Xs(p.field),direction:IO(p.dir)}})(h)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=yh(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{ft:n,parent:s}}function wO(t){let e=mO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){xe(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=(function(d){const p=JE(d);return p instanceof In&&SE(p)?p.getFilters():[p]})(n.where));let o=[];n.orderBy&&(o=(function(d){return d.map((p=>(function(E){return new Wo(Zs(E.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(p)))})(n.orderBy));let a=null;n.limit&&(a=(function(d){let p;return p=typeof d=="object"?d.value:d,dl(p)?null:p})(n.limit));let l=null;n.startAt&&(l=(function(d){const p=!!d.before,g=d.values||[];return new Vc(g,p)})(n.startAt));let u=null;return n.endAt&&(u=(function(d){const p=!d.before,g=d.values||[];return new Vc(g,p)})(n.endAt)),FN(e,s,o,i,a,"F",l,u)}function TO(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JE(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Zs(n.unaryFilter.field);return ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Zs(n.unaryFilter.field);return ot.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Zs(n.unaryFilter.field);return ot.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Zs(n.unaryFilter.field);return ot.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pe(61313);default:return pe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return ot.create(Zs(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pe(58110);default:return pe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return In.create(n.compositeFilter.filters.map((r=>JE(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return pe(1026)}})(n.compositeFilter.op))})(t):pe(30097,{filter:t})}function IO(t){return uO[t]}function bO(t){return hO[t]}function AO(t){return fO[t]}function Xs(t){return{fieldPath:t.canonicalString()}}function Zs(t){return vt.fromServerFormat(t.fieldPath)}function XE(t){return t instanceof ot?(function(n){if(n.op==="=="){if(lg(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NAN"}};if(cg(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(lg(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NOT_NAN"}};if(cg(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xs(n.field),op:bO(n.op),value:n.value}}})(t):t instanceof In?(function(n){const r=n.getFilters().map((s=>XE(s)));return r.length===1?r[0]:{compositeFilter:{op:AO(n.op),filters:r}}})(t):pe(54877,{filter:t})}function RO(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function ZE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class xr{constructor(e,n,r,s,i=ye.min(),o=ye.min(),a=wt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class SO{constructor(e){this.yt=e}}function CO(t){const e=wO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_h(e,e.limit,"L"):e}class PO{constructor(){this.Cn=new kO}addToCollectionParentIndex(e,n){return this.Cn.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(Wr.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(Wr.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class kO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new pt(He.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new pt(He.comparator)).toArray()}}const Ig={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ew=41943040;class $t{static withCacheSize(e){return new $t(e,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}$t.DEFAULT_COLLECTION_PERCENTILE=10,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$t.DEFAULT=new $t(ew,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$t.DISABLED=new $t(-1,0,0);class Pi{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Pi(0)}static cr(){return new Pi(-1)}}const bg="LruGarbageCollector",NO=1048576;function Ag([t,e],[n,r]){const s=Ae(t,n);return s===0?Ae(e,r):s}class OO{constructor(e){this.Ir=e,this.buffer=new pt(Ag),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Ag(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DO{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ne(bg,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Fi(n)?ne(bg,"Ignoring IndexedDB error during garbage collection: ",n):await Ui(n)}await this.Vr(3e5)}))}}class VO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return j.resolve(fl.ce);const r=new OO(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(Ig)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ig):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((d=>(d>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),s=this.params.maximumSequenceNumbersToCollect):s=d,o=Date.now(),this.nthSequenceNumber(e,s)))).next((d=>(r=d,a=Date.now(),this.removeTargets(e,r,n)))).next((d=>(i=d,l=Date.now(),this.removeOrphanedDocuments(e,r)))).next((d=>(u=Date.now(),Ys()<=be.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:d}))))}}function xO(t,e){return new VO(t,e)}class MO{constructor(){this.changes=new Fs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class LO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class UO{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Po(r.mutation,s,Xt.empty(),je.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Re()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Re()){const s=_s();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let o=mo();return i.forEach(((a,l)=>{o=o.insert(a,l.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=_s();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Re())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((o,a)=>{n.set(o,a)}))}))}computeViews(e,n,r,s){let i=hr();const o=Co(),a=(function(){return Co()})();return n.forEach(((l,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof Zr)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Po(h.mutation,u,h.mutation.getFieldMask(),je.now())):o.set(u.key,Xt.empty())})),this.recalculateAndSaveOverlays(e,i).next((l=>(l.forEach(((u,h)=>o.set(u,h))),n.forEach(((u,h)=>a.set(u,new LO(h,o.get(u)??null)))),a)))}recalculateAndSaveOverlays(e,n){const r=Co();let s=new ze(((o,a)=>o-a)),i=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const a of o)a.keys().forEach((l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||Xt.empty();h=a.applyToLocalView(u,h),r.set(l,h);const d=(s.get(a.batchId)||Re()).add(l);s=s.insert(a.batchId,d)}))})).next((()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,d=ME();h.forEach((p=>{if(!i.has(p)){const g=HE(n.get(p),r.get(p));g!==null&&d.set(p,g),i=i.add(p)}})),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return j.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(o){return ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):NE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):j.resolve(_s());let a=Ho,l=i;return o.next((u=>j.forEach(u,((h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(h)?j.resolve():this.remoteDocumentCache.getEntry(e,h).next((p=>{l=l.insert(h,p)}))))).next((()=>this.populateOverlays(e,u,i))).next((()=>this.computeViews(e,l,u,Re()))).next((h=>({batchId:a,changes:xE(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next((r=>{let s=mo();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=mo();return this.indexManager.getCollectionParents(e,i).next((a=>j.forEach(a,(l=>{const u=(function(d,p){return new Bi(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)})(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next((h=>{h.forEach(((d,p)=>{o=o.insert(d,p)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((o=>{i.forEach(((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Dt.newInvalidDocument(h)))}));let a=mo();return o.forEach(((l,u)=>{const h=i.get(l);h!==void 0&&Po(h.mutation,u,Xt.empty(),je.now()),gl(n,u)&&(a=a.insert(l,u))})),a}))}}class FO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return j.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Mn(s.createTime)}})(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:CO(s.bundledQuery),readTime:Mn(s.readTime)}})(n)),j.resolve()}}class BO{constructor(){this.overlays=new ze(ae.comparator),this.qr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_s();return j.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.St(e,n,i)})),j.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const s=_s(),i=n.length+1,o=new ae(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return j.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new ze(((u,h)=>u-h));const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=_s(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=_s(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((u,h)=>a.set(u,h))),!(a.size()>=s)););return j.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new sO(n,r));let i=this.qr.get(n);i===void 0&&(i=Re(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}class $O{constructor(){this.sessionToken=wt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}class xf{constructor(){this.Qr=new pt(yt.$r),this.Ur=new pt(yt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new yt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new yt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ae(new He([])),r=new yt(n,e),s=new yt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],(o=>{this.Gr(o),i.push(o.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ae(new He([])),r=new yt(n,e),s=new yt(n,e+1);let i=Re();return this.Ur.forEachInRange([r,s],(o=>{i=i.add(o.key)})),i}containsKey(e){const n=new yt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ae.comparator(e.key,n.key)||Ae(e.Yr,n.Yr)}static Kr(e,n){return Ae(e.Yr,n.Yr)||ae.comparator(e.key,n.key)}}class HO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new pt(yt.$r)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new rO(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new yt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return j.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?bf:this.tr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yt(n,0),s=new yt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(o=>{const a=this.Xr(o.Yr);i.push(a)})),j.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pt(Ae);return n.forEach((s=>{const i=new yt(s,0),o=new yt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],(a=>{r=r.add(a.Yr)}))})),j.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ae.isDocumentKey(i)||(i=i.child(""));const o=new yt(new ae(i),0);let a=new pt(Ae);return this.Zr.forEachWhile((l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Yr)),!0)}),o),j.resolve(this.ti(a))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return j.forEach(n.mutations,(s=>{const i=new yt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new yt(n,0),s=this.Zr.firstAfterOrEqual(r);return j.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class jO{constructor(e){this.ri=e,this.docs=(function(){return new ze(ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():Dt.newInvalidDocument(n))}getEntries(e,n){let r=hr();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Dt.newInvalidDocument(s))})),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=hr();const o=n.path,a=new ae(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||_N(gN(h),r)<=0||(s.has(h.key)||gl(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return j.resolve(i)}getAllFromCollectionGroup(e,n,r,s){pe(9500)}ii(e,n){return j.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new qO(this)}getSize(e){return j.resolve(this.size)}}class qO extends MO{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),j.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class WO{constructor(e){this.persistence=e,this.si=new Fs((n=>Sf(n)),Cf),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.oi=0,this._i=new xf,this.targetCount=0,this.ai=Pi.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),j.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Pi(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Pr(n),j.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach(((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)})),j.waitFor(i).next((()=>s))}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((o=>{i.push(s.markPotentiallyOrphaned(e,o))})),j.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this._i.containsKey(n))}}class tw{constructor(e,n){this.ui={},this.overlays={},this.ci=new fl(0),this.li=!1,this.li=!0,this.hi=new $O,this.referenceDelegate=e(this),this.Pi=new WO(this),this.indexManager=new PO,this.remoteDocumentCache=(function(s){return new jO(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new SO(n),this.Ii=new FO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new BO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new HO(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ne("MemoryPersistence","Starting transaction:",e);const s=new GO(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,n){return j.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class GO extends vN{constructor(e){super(),this.currentSequenceNumber=e}}class Mf{constructor(e){this.persistence=e,this.Ri=new xf,this.Vi=null}static mi(e){return new Mf(e)}get fi(){if(this.Vi)return this.Vi;throw pe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),j.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.fi,(r=>{const s=ae.fromPath(r);return this.gi(e,s).next((i=>{i||n.removeEntry(s,ye.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return j.or([()=>j.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Lc{constructor(e,n){this.persistence=e,this.pi=new Fs((r=>TN(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=xO(this,n)}static mi(e,n){return new Lc(e,n)}Ei(){}di(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return j.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?j.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(o=>this.br(e,o,n).next((a=>{a||(r++,i.removeEntry(o,ye.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),j.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nc(e.data.value)),n}br(e,n,r){return j.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return j.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Lf{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Re(),s=Re();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Lf(e,n.fromCache,r,s)}}class KO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class zO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return IC()?8:EN(Vt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ws(e,n,s,r).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new KO;return this.Ss(e,n,o).next((a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)}))})).next((()=>i.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(Ys()<=be.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",Js(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),j.resolve()):(Ys()<=be.DEBUG&&ne("QueryEngine","Query:",Js(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Ys()<=be.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",Js(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xn(n))):j.resolve())}ys(e,n){if(dg(n))return j.resolve(null);let r=xn(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=_h(n,null,"F"),r=xn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const o=Re(...i);return this.ps.getDocuments(e,o).next((a=>this.indexManager.getMinOffset(e,r).next((l=>{const u=this.Ds(n,a);return this.Cs(n,u,o,l.readTime)?this.ys(e,_h(n,null,"F")):this.vs(e,u,n,l)}))))})))))}ws(e,n,r,s){return dg(n)||s.isEqual(ye.min())?j.resolve(null):this.ps.getDocuments(e,r).next((i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?j.resolve(null):(Ys()<=be.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Js(n)),this.vs(e,o,n,mN(s,Ho)).next((a=>a)))}))}Ds(e,n){let r=new pt(DE(e));return n.forEach(((s,i)=>{gl(e,i)&&(r=r.add(i))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Ys()<=be.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",Js(n)),this.ps.getDocumentsMatchingQuery(e,n,Wr.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((o=>{i=i.insert(o.key,o)})),i)))}}const Uf="LocalStore",QO=3e8;class YO{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new ze(Ae),this.xs=new Fs((i=>Sf(i)),Cf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function JO(t,e,n,r){return new YO(t,e,n,r)}async function nw(t,e){const n=ve(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const o=[],a=[];let l=Re();for(const u of s){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of i){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next((u=>({Ls:u,removedBatchIds:o,addedBatchIds:a})))}))}))}function XO(t,e){const n=ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(a,l,u,h){const d=u.batch,p=d.keys();let g=j.resolve();return p.forEach((E=>{g=g.next((()=>h.getEntry(l,E))).next((_=>{const C=u.docVersions.get(E);xe(C!==null,48541),_.version.compareTo(C)<0&&(d.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),h.addEntry(_)))}))})),g.next((()=>a.mutationQueue.removeMutationBatch(l,d)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let l=Re();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function rw(t){const e=ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function ZO(t,e){const n=ve(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach(((h,d)=>{const p=s.get(d);if(!p)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,d).next((()=>n.Pi.addMatchingKeys(i,h.addedDocuments,d))));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(wt.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(d,g),(function(_,C,S){return _.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=QO?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0})(p,g,h)&&a.push(n.Pi.updateTargetData(i,g))}));let l=hr(),u=Re();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))})),a.push(eD(i,o,e.documentUpdates).next((h=>{l=h.ks,u=h.qs}))),!r.isEqual(ye.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next((d=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));a.push(h)}return j.waitFor(a).next((()=>o.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,l,u))).next((()=>l))})).then((i=>(n.Ms=s,i)))}function eD(t,e,n){let r=Re(),s=Re();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let o=hr();return n.forEach(((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ye.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ne(Uf,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)})),{ks:o,qs:s}}))}function tD(t,e){const n=ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=bf),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function nD(t,e){const n=ve(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((i=>i?(s=i,j.resolve(s)):n.Pi.allocateTargetId(r).next((o=>(s=new xr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Th(t,e,n){const r=ve(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!Fi(o))throw o;ne(Uf,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function Rg(t,e,n){const r=ve(t);let s=ye.min(),i=Re();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(l,u,h){const d=ve(l),p=d.xs.get(h);return p!==void 0?j.resolve(d.Ms.get(p)):d.Pi.getTargetData(u,h)})(r,o,xn(e)).next((a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next((l=>{i=l}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ye.min(),n?i:Re()))).next((a=>(rD(r,$N(e),a),{documents:a,Qs:i})))))}function rD(t,e,n){let r=t.Os.get(e)||ye.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Os.set(e,r)}class Sg{constructor(){this.activeTargetIds=KN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sD{constructor(){this.Mo=new Sg,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Sg,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class iD{Oo(e){}shutdown(){}}const Cg="ConnectivityMonitor";class Pg{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ne(Cg,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ne(Cg,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Wa=null;function Ih(){return Wa===null?Wa=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wa++,"0x"+Wa.toString(16)}const Tu="RestConnection",oD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Oc?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Ih(),a=this.zo(e,n.toUriEncodedString());ne(Tu,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:u}=new URL(a),h=Vi(u);return this.Jo(e,a,l,r,h).then((d=>(ne(Tu,`Received RPC '${e}' ${o}: `,d),d)),(d=>{throw Ds(Tu,`RPC '${e}' ${o} failed with error: `,d,"url: ",a,"request:",r),d}))}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Li})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,n){const r=oD[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class cD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Pt="WebChannelConnection";class lD extends aD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Ih();return new Promise(((a,l)=>{const u=new sE;u.setWithCredentials(!0),u.listenOnce(iE.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case tc.NO_ERROR:const d=u.getResponseJson();ne(Pt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case tc.TIMEOUT:ne(Pt,`RPC '${e}' ${o} timed out`),l(new X(B.DEADLINE_EXCEEDED,"Request time out"));break;case tc.HTTP_ERROR:const p=u.getStatus();if(ne(Pt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const E=g?.error;if(E&&E.status&&E.message){const _=(function(S){const b=S.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(b)>=0?b:B.UNKNOWN})(E.status);l(new X(_,E.message))}else l(new X(B.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new X(B.UNAVAILABLE,"Connection failed."));break;default:pe(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ne(Pt,`RPC '${e}' ${o} completed.`)}}));const h=JSON.stringify(s);ne(Pt,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",h,r,15)}))}T_(e,n,r){const s=Ih(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=cE(),a=aE(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");ne(Pt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const d=o.createWebChannel(h,l);this.I_(d);let p=!1,g=!1;const E=new cD({Yo:C=>{g?ne(Pt,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(p||(ne(Pt,`Opening RPC '${e}' stream ${s} transport.`),d.open(),p=!0),ne(Pt,`RPC '${e}' stream ${s} sending:`,C),d.send(C))},Zo:()=>d.close()}),_=(C,S,b)=>{C.listen(S,(y=>{try{b(y)}catch(O){setTimeout((()=>{throw O}),0)}}))};return _(d,po.EventType.OPEN,(()=>{g||(ne(Pt,`RPC '${e}' stream ${s} transport opened.`),E.o_())})),_(d,po.EventType.CLOSE,(()=>{g||(g=!0,ne(Pt,`RPC '${e}' stream ${s} transport closed`),E.a_(),this.E_(d))})),_(d,po.EventType.ERROR,(C=>{g||(g=!0,Ds(Pt,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),E.a_(new X(B.UNAVAILABLE,"The operation could not be completed")))})),_(d,po.EventType.MESSAGE,(C=>{if(!g){const S=C.data[0];xe(!!S,16349);const b=S,y=b?.error||b[0]?.error;if(y){ne(Pt,`RPC '${e}' stream ${s} received error:`,y);const O=y.status;let V=(function(w){const v=st[w];if(v!==void 0)return qE(v)})(O),U=y.message;V===void 0&&(V=B.INTERNAL,U="Unknown error status: "+O+" with message "+y.message),g=!0,E.a_(new X(V,U)),d.close()}else ne(Pt,`RPC '${e}' stream ${s} received:`,S),E.u_(S)}})),_(a,oE.STAT_EVENT,(C=>{C.stat===uh.PROXY?ne(Pt,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===uh.NOPROXY&&ne(Pt,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Iu(){return typeof document<"u"?document:null}function El(t){return new dO(t,!0)}class sw{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&ne("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const kg="PersistentStream";class iw{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(ur(n.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new X(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ne(kg,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ne(kg,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uD extends iw{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=gO(this.serializer,e),r=(function(i){if(!("targetChange"in i))return ye.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ye.min():o.readTime?Mn(o.readTime):ye.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=wh(this.serializer),n.addTarget=(function(i,o){let a;const l=o.target;if(a=mh(l)?{documents:vO(i,l)}:{query:EO(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=KE(i,o.resumeToken);const u=yh(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ye.min())>0){a.readTime=Mc(i,o.snapshotVersion.toTimestamp());const u=yh(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a})(this.serializer,e);const r=TO(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=wh(this.serializer),n.removeTarget=e,this.q_(n)}}class hD extends iw{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=yO(e.writeResults,e.commitTime),r=Mn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=wh(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>_O(this.serializer,r)))};this.q_(n)}}class fD{}class dD extends fD{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new X(B.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Go(e,vh(n,r),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X(B.UNKNOWN,i.toString())}))}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Ho(e,vh(n,r),s,o,a,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(B.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class pD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ur(n),this.aa=!1):ne("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Vs="RemoteStore";class mD{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Bs(this)&&(ne(Vs,"Restarting streams for network reachability change."),await(async function(l){const u=ve(l);u.Ea.add(4),await da(u),u.Ra.set("Unknown"),u.Ea.delete(4),await wl(u)})(this))}))})),this.Ra=new pD(r,s)}}async function wl(t){if(Bs(t))for(const e of t.da)await e(!0)}async function da(t){for(const e of t.da)await e(!1)}function ow(t,e){const n=ve(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Hf(n)?$f(n):$i(n).O_()&&Bf(n,e))}function Ff(t,e){const n=ve(t),r=$i(n);n.Ia.delete(e),r.O_()&&aw(n,e),n.Ia.size===0&&(r.O_()?r.L_():Bs(n)&&n.Ra.set("Unknown"))}function Bf(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$i(t).Y_(e)}function aw(t,e){t.Va.Ue(e),$i(t).Z_(e)}function $f(t){t.Va=new lO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),$i(t).start(),t.Ra.ua()}function Hf(t){return Bs(t)&&!$i(t).x_()&&t.Ia.size>0}function Bs(t){return ve(t).Ea.size===0}function cw(t){t.Va=void 0}async function gD(t){t.Ra.set("Online")}async function _D(t){t.Ia.forEach(((e,n)=>{Bf(t,e)}))}async function yD(t,e){cw(t),Hf(t)?(t.Ra.ha(e),$f(t)):t.Ra.set("Unknown")}async function vD(t,e,n){if(t.Ra.set("Online"),e instanceof GE&&e.state===2&&e.cause)try{await(async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))})(t,e)}catch(r){ne(Vs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Uc(t,r)}else if(e instanceof ic?t.Va.Ze(e):e instanceof WE?t.Va.st(e):t.Va.tt(e),!n.isEqual(ye.min()))try{const r=await rw(t.localStore);n.compareTo(r)>=0&&await(function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach(((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ia.get(u);h&&i.Ia.set(u,h.withResumeToken(l.resumeToken,o))}})),a.targetMismatches.forEach(((l,u)=>{const h=i.Ia.get(l);if(!h)return;i.Ia.set(l,h.withResumeToken(wt.EMPTY_BYTE_STRING,h.snapshotVersion)),aw(i,l);const d=new xr(h.target,l,u,h.sequenceNumber);Bf(i,d)})),i.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){ne(Vs,"Failed to raise snapshot:",r),await Uc(t,r)}}async function Uc(t,e,n){if(!Fi(e))throw e;t.Ea.add(1),await da(t),t.Ra.set("Offline"),n||(n=()=>rw(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ne(Vs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await wl(t)}))}function lw(t,e){return e().catch((n=>Uc(t,n,e)))}async function Tl(t){const e=ve(t),n=Qr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:bf;for(;ED(e);)try{const s=await tD(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,wD(e,s)}catch(s){await Uc(e,s)}uw(e)&&hw(e)}function ED(t){return Bs(t)&&t.Ta.length<10}function wD(t,e){t.Ta.push(e);const n=Qr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function uw(t){return Bs(t)&&!Qr(t).x_()&&t.Ta.length>0}function hw(t){Qr(t).start()}async function TD(t){Qr(t).ra()}async function ID(t){const e=Qr(t);for(const n of t.Ta)e.ea(n.mutations)}async function bD(t,e,n){const r=t.Ta.shift(),s=Of.from(r,e,n);await lw(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Tl(t)}async function AD(t,e){e&&Qr(t).X_&&await(async function(r,s){if((function(o){return oO(o)&&o!==B.ABORTED})(s.code)){const i=r.Ta.shift();Qr(r).B_(),await lw(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await Tl(r)}})(t,e),uw(t)&&hw(t)}async function Ng(t,e){const n=ve(t);n.asyncQueue.verifyOperationInProgress(),ne(Vs,"RemoteStore received new credentials");const r=Bs(n);n.Ea.add(3),await da(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await wl(n)}async function RD(t,e){const n=ve(t);e?(n.Ea.delete(2),await wl(n)):e||(n.Ea.add(2),await da(n),n.Ra.set("Unknown"))}function $i(t){return t.ma||(t.ma=(function(n,r,s){const i=ve(n);return i.sa(),new uD(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:gD.bind(null,t),t_:_D.bind(null,t),r_:yD.bind(null,t),H_:vD.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Hf(t)?$f(t):t.Ra.set("Unknown")):(await t.ma.stop(),cw(t))}))),t.ma}function Qr(t){return t.fa||(t.fa=(function(n,r,s){const i=ve(n);return i.sa(),new hD(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:TD.bind(null,t),r_:AD.bind(null,t),ta:ID.bind(null,t),na:bD.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Tl(t)):(await t.fa.stop(),t.Ta.length>0&&(ne(Vs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class jf{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new jf(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qf(t,e){if(ur("AsyncQueue",`${e}: ${t}`),Fi(t))return new X(B.UNAVAILABLE,`${e}: ${t}`);throw t}class pi{static emptySet(e){return new pi(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=mo(),this.sortedSet=new ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new pi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Og{constructor(){this.ga=new ze(ae.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):pe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class ki{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach((a=>{o.push({type:0,doc:a})})),new ki(e,n,pi.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ml(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}class SD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class CD{constructor(){this.queries=Dg(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ve(n),i=s.queries;s.queries=Dg(),i.forEach(((o,a)=>{for(const l of a.Sa)l.onError(r)}))})(this,new X(B.ABORTED,"Firestore shutting down"))}}function Dg(){return new Fs((t=>OE(t)),ml)}async function fw(t,e){const n=ve(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new SD,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=qf(o,`Initialization of query '${Js(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Wf(n)}async function dw(t,e){const n=ve(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function PD(t,e){const n=ve(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Wf(n)}function kD(t,e,n){const r=ve(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Wf(t){t.Ca.forEach((e=>{e.next()}))}var bh,Vg;(Vg=bh||(bh={})).Ma="default",Vg.Cache="cache";class pw{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ki(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ki.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==bh.Cache}}class mw{constructor(e){this.key=e}}class gw{constructor(e){this.key=e}}class ND{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Re(),this.mutatedKeys=Re(),this.eu=DE(e),this.tu=new pi(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Og,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((h,d)=>{const p=s.get(h),g=gl(this.query,d)?d:null,E=!!p&&this.mutatedKeys.has(p.key),_=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let C=!1;p&&g?p.data.isEqual(g.data)?E!==_&&(r.track({type:3,doc:g}),C=!0):this.su(p,g)||(r.track({type:2,doc:g}),C=!0,(l&&this.eu(g,l)>0||u&&this.eu(g,u)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),C=!0):p&&!g&&(r.track({type:1,doc:p}),C=!0,(l||u)&&(a=!0)),C&&(g?(o=o.add(g),i=_?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((h,d)=>(function(g,E){const _=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe(20277,{Rt:C})}};return _(g)-_(E)})(h.type,d.type)||this.eu(h.doc,d.doc))),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new ki(this.query,e.tu,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Og,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Re(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new gw(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new mw(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Re();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ki.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Gf="SyncEngine";class OD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class DD{constructor(e){this.key=e,this.hu=!1}}class VD{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Fs((a=>OE(a)),ml),this.Iu=new Map,this.Eu=new Set,this.du=new ze(ae.comparator),this.Au=new Map,this.Ru=new xf,this.Vu={},this.mu=new Map,this.fu=Pi.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xD(t,e,n=!0){const r=Tw(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await _w(r,e,n,!0),s}async function MD(t,e){const n=Tw(t);await _w(n,e,!0,!1)}async function _w(t,e,n,r){const s=await nD(t.localStore,xn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await LD(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&ow(t.remoteStore,s),a}async function LD(t,e,n,r,s){t.pu=(d,p,g)=>(async function(_,C,S,b){let y=C.view.ru(S);y.Cs&&(y=await Rg(_.localStore,C.query,!1).then((({documents:I})=>C.view.ru(I,y))));const O=b&&b.targetChanges.get(C.targetId),V=b&&b.targetMismatches.get(C.targetId)!=null,U=C.view.applyChanges(y,_.isPrimaryClient,O,V);return Mg(_,C.targetId,U.au),U.snapshot})(t,d,p,g);const i=await Rg(t.localStore,e,!0),o=new ND(e,i.Qs),a=o.ru(i.documents),l=fa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);Mg(t,n,u.au);const h=new OD(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function UD(t,e,n){const r=ve(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((o=>!ml(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Th(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Ff(r.remoteStore,s.targetId),Ah(r,s.targetId)})).catch(Ui)):(Ah(r,s.targetId),await Th(r.localStore,s.targetId,!0))}async function FD(t,e){const n=ve(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ff(n.remoteStore,r.targetId))}async function BD(t,e,n){const r=KD(t);try{const s=await(function(o,a){const l=ve(o),u=je.now(),h=a.reduce(((g,E)=>g.add(E.key)),Re());let d,p;return l.persistence.runTransaction("Locally write mutations","readwrite",(g=>{let E=hr(),_=Re();return l.Ns.getEntries(g,h).next((C=>{E=C,E.forEach(((S,b)=>{b.isValidDocument()||(_=_.add(S))}))})).next((()=>l.localDocuments.getOverlayedDocuments(g,E))).next((C=>{d=C;const S=[];for(const b of a){const y=tO(b,d.get(b.key).overlayedDocument);y!=null&&S.push(new Zr(b.key,y,bE(y.value.mapValue),pn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,S,a)})).next((C=>{p=C;const S=C.applyToLocalDocumentSet(d,_);return l.documentOverlayCache.saveOverlays(g,C.batchId,S)}))})).then((()=>({batchId:p.batchId,changes:xE(d)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new ze(Ae)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u})(r,s.batchId,n),await pa(r,s.changes),await Tl(r.remoteStore)}catch(s){const i=qf(s,"Failed to persist write");n.reject(i)}}async function yw(t,e){const n=ve(t);try{const r=await ZO(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const o=n.Au.get(i);o&&(xe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?xe(o.hu,14607):s.removedDocuments.size>0&&(xe(o.hu,42227),o.hu=!1))})),await pa(n,r,e)}catch(r){await Ui(r)}}function xg(t,e,n){const r=ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)})),(function(o,a){const l=ve(o);l.onlineState=a;let u=!1;l.queries.forEach(((h,d)=>{for(const p of d.Sa)p.va(a)&&(u=!0)})),u&&Wf(l)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $D(t,e,n){const r=ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new ze(ae.comparator);o=o.insert(i,Dt.newNoDocument(i,ye.min()));const a=Re().add(i),l=new vl(ye.min(),new Map,new ze(Ae),o,a);await yw(r,l),r.du=r.du.remove(i),r.Au.delete(e),Kf(r)}else await Th(r.localStore,e,!1).then((()=>Ah(r,e,n))).catch(Ui)}async function HD(t,e){const n=ve(t),r=e.batch.batchId;try{const s=await XO(n.localStore,e);Ew(n,r,null),vw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await pa(n,s)}catch(s){await Ui(s)}}async function jD(t,e,n){const r=ve(t);try{const s=await(function(o,a){const l=ve(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next((d=>(xe(d!==null,37113),h=d.keys(),l.mutationQueue.removeMutationBatch(u,d)))).next((()=>l.mutationQueue.performConsistencyCheck(u))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h))).next((()=>l.localDocuments.getDocuments(u,h)))}))})(r.localStore,e);Ew(r,e,n),vw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await pa(r,s)}catch(s){await Ui(s)}}function vw(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Ew(t,e,n){const r=ve(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Ah(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||ww(t,r)}))}function ww(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Ff(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Kf(t))}function Mg(t,e,n){for(const r of n)r instanceof mw?(t.Ru.addReference(r.key,e),qD(t,r)):r instanceof gw?(ne(Gf,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||ww(t,r.key)):pe(19791,{wu:r})}function qD(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ne(Gf,"New document in limbo: "+n),t.Eu.add(r),Kf(t))}function Kf(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ae(He.fromString(e)),r=t.fu.next();t.Au.set(r,new DD(n)),t.du=t.du.insert(n,r),ow(t.remoteStore,new xr(xn(Pf(n.path)),r,"TargetPurposeLimboResolution",fl.ce))}}async function pa(t,e,n){const r=ve(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((a,l)=>{o.push(r.pu(l,e,n).then((u=>{if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:n?.targetChanges.get(l.targetId)?.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){s.push(u);const h=Lf.As(l.targetId,u);i.push(h)}})))})),await Promise.all(o),r.Pu.H_(s),await(async function(l,u){const h=ve(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(d=>j.forEach(u,(p=>j.forEach(p.Es,(g=>h.persistence.referenceDelegate.addReference(d,p.targetId,g))).next((()=>j.forEach(p.ds,(g=>h.persistence.referenceDelegate.removeReference(d,p.targetId,g)))))))))}catch(d){if(!Fi(d))throw d;ne(Uf,"Failed to update sequence numbers: "+d)}for(const d of u){const p=d.targetId;if(!d.fromCache){const g=h.Ms.get(p),E=g.snapshotVersion,_=g.withLastLimboFreeSnapshotVersion(E);h.Ms=h.Ms.insert(p,_)}}})(r.localStore,i))}async function WD(t,e){const n=ve(t);if(!n.currentUser.isEqual(e)){ne(Gf,"User change. New user:",e.toKey());const r=await nw(n.localStore,e);n.currentUser=e,(function(i,o){i.mu.forEach((a=>{a.forEach((l=>{l.reject(new X(B.CANCELLED,o))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await pa(n,r.Ls)}}function GD(t,e){const n=ve(t),r=n.Au.get(e);if(r&&r.hu)return Re().add(r.key);{let s=Re();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function Tw(t){const e=ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$D.bind(null,e),e.Pu.H_=PD.bind(null,e.eventManager),e.Pu.yu=kD.bind(null,e.eventManager),e}function KD(t){const e=ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jD.bind(null,e),e}class Fc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=El(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return JO(this.persistence,new zO,e.initialUser,this.serializer)}Cu(e){return new tw(Mf.mi,this.serializer)}Du(e){return new sD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fc.provider={build:()=>new Fc};class zD extends Fc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){xe(this.persistence.referenceDelegate instanceof Lc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new DO(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?$t.withCacheSize(this.cacheSizeBytes):$t.DEFAULT;return new tw((r=>Lc.mi(r,n)),this.serializer)}}class Rh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=WD.bind(null,this.syncEngine),await RD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new CD})()}createDatastore(e){const n=El(e.databaseInfo.databaseId),r=(function(i){return new lD(i)})(e.databaseInfo);return(function(i,o,a,l){return new dD(i,o,a,l)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,i,o,a){return new mD(r,s,i,o,a)})(this.localStore,this.datastore,e.asyncQueue,(n=>xg(this.syncEngine,n,0)),(function(){return Pg.v()?new Pg:new iD})())}createSyncEngine(e,n){return(function(s,i,o,a,l,u,h){const d=new VD(s,i,o,a,l,u);return h&&(d.gu=!0),d})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=ve(n);ne(Vs,"RemoteStore shutting down."),r.Ea.add(5),await da(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rh.provider={build:()=>new Rh};class Iw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Yr="FirestoreClient";class QD{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Nt.UNAUTHENTICATED,this.clientId=ul.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async o=>{ne(Yr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(ne(Yr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=qf(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function bu(t,e){t.asyncQueue.verifyOperationInProgress(),ne(Yr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await nw(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Lg(t,e){t.asyncQueue.verifyOperationInProgress();const n=await YD(t);ne(Yr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>Ng(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>Ng(e.remoteStore,s))),t._onlineComponents=e}async function YD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne(Yr,"Using user provided OfflineComponentProvider");try{await bu(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;Ds("Error using user provided cache. Falling back to memory cache: "+n),await bu(t,new Fc)}}else ne(Yr,"Using default OfflineComponentProvider"),await bu(t,new zD(void 0));return t._offlineComponents}async function bw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne(Yr,"Using user provided OnlineComponentProvider"),await Lg(t,t._uninitializedComponentsProvider._online)):(ne(Yr,"Using default OnlineComponentProvider"),await Lg(t,new Rh))),t._onlineComponents}function JD(t){return bw(t).then((e=>e.syncEngine))}async function Aw(t){const e=await bw(t),n=e.eventManager;return n.onListen=xD.bind(null,e.syncEngine),n.onUnlisten=UD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=MD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=FD.bind(null,e.syncEngine),n}function XD(t,e,n={}){const r=new rr;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,a,l,u){const h=new Iw({next:p=>{h.Nu(),o.enqueueAndForget((()=>dw(i,d)));const g=p.docs.has(a);!g&&p.fromCache?u.reject(new X(B.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?u.reject(new X(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new pw(Pf(a.path),h,{includeMetadataChanges:!0,qa:!0});return fw(i,d)})(await Aw(t),t.asyncQueue,e,n,r))),r.promise}function ZD(t,e,n={}){const r=new rr;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,a,l,u){const h=new Iw({next:p=>{h.Nu(),o.enqueueAndForget((()=>dw(i,d))),p.fromCache&&l.source==="server"?u.reject(new X(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new pw(a,h,{includeMetadataChanges:!0,qa:!0});return fw(i,d)})(await Aw(t),t.asyncQueue,e,n,r))),r.promise}function Rw(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const Ug=new Map;const Sw="firestore.googleapis.com",Fg=!0;class Bg{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new X(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Sw,this.ssl=Fg}else this.host=e.host,this.ssl=e.ssl??Fg;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ew;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NO)throw new X(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Rw(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new X(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new X(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new X(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Il{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new hE;switch(r.type){case"firstParty":return new lN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Ug.get(n);r&&(ne("ComponentProvider","Removing Datastore"),Ug.delete(n),r.terminate())})(this),Promise.resolve()}}function Cw(t,e,n,r={}){t=Tn(t,Il);const s=Vi(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(mv(`https://${a}`),gv("Firestore",!0)),i.host!==Sw&&i.host!==a&&Ds("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!Cs(l,o)&&(t._setSettings(l),r.mockUserToken)){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=Nt.MOCK_USER;else{u=pC(r.mockUserToken,t._app?.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new X(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Nt(d)}t._authCredentials=new oN(new uE(u,h))}}class es{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new es(this.firestore,e,this._query)}}class Ze{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ze(this.firestore,e,this._key)}toJSON(){return{type:Ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ua(n,Ze._jsonSchema))return new Ze(e,r||null,new ae(He.fromString(n.referencePath)))}}Ze._jsonSchemaVersion="firestore/documentReference/1.0",Ze._jsonSchema={type:at("string",Ze._jsonSchemaVersion),referencePath:at("string")};class sr extends es{constructor(e,n,r){super(e,n,Pf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ze(this.firestore,null,new ae(e))}withConverter(e){return new sr(this.firestore,e,this._path)}}function Bc(t,e,...n){if(t=lt(t),fE("collection","path",e),t instanceof Il){const r=He.fromString(e,...n);return Zm(r),new sr(t,null,r)}{if(!(t instanceof Ze||t instanceof sr))throw new X(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return Zm(r),new sr(t.firestore,null,r)}}function Xn(t,e,...n){if(t=lt(t),arguments.length===1&&(e=ul.newId()),fE("doc","path",e),t instanceof Il){const r=He.fromString(e,...n);return Xm(r),new Ze(t,null,new ae(r))}{if(!(t instanceof Ze||t instanceof sr))throw new X(B.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return Xm(r),new Ze(t.firestore,t instanceof sr?t.converter:null,new ae(r))}}const $g="AsyncQueue";class Hg{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sw(this,"async_queue_retry"),this._c=()=>{const r=Iu();r&&ne($g,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Iu();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Iu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new rr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Fi(e))throw e;ne($g,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ur("INTERNAL UNHANDLED ERROR: ",jg(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=jf.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&pe(47125,{Pc:jg(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function jg(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class $s extends Il{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Hg,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Hg(e),this._firestoreClient=void 0,await e}}}function Pw(t,e){const n=typeof t=="object"?t:Ev(),r=typeof t=="string"?t:Oc,s=pf(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=fC("firestore");i&&Cw(s,...i)}return s}function bl(t){if(t._terminated)throw new X(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||eV(t),t._firestoreClient}function eV(t){const e=t._freezeSettings(),n=(function(s,i,o,a){return new AN(s,i,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,Rw(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new QD(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(t._componentsProvider))}class Yt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yt(wt.fromBase64String(e))}catch(n){throw new X(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yt(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ua(e,Yt._jsonSchema))return Yt.fromBase64String(e.bytes)}}Yt._jsonSchemaVersion="firestore/bytes/1.0",Yt._jsonSchema={type:at("string",Yt._jsonSchemaVersion),bytes:at("string")};class ma{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ga{constructor(e){this._methodName=e}}class mn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:mn._jsonSchemaVersion}}static fromJSON(e){if(ua(e,mn._jsonSchema))return new mn(e.latitude,e.longitude)}}mn._jsonSchemaVersion="firestore/geoPoint/1.0",mn._jsonSchema={type:at("string",mn._jsonSchemaVersion),latitude:at("number"),longitude:at("number")};class gn{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:gn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ua(e,gn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new gn(e.vectorValues);throw new X(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gn._jsonSchemaVersion="firestore/vectorValue/1.0",gn._jsonSchema={type:at("string",gn._jsonSchemaVersion),vectorValues:at("object")};const tV=/^__.*__$/;class nV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Zr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ha(e,this.data,n,this.fieldTransforms)}}class kw{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Zr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Nw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe(40011,{Ac:t})}}class zf{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new zf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return $c(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Nw(this.Ac)&&tV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class rV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||El(e)}Cc(e,n,r,s=!1){return new zf({Ac:e,methodName:n,Dc:r,path:vt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qf(t){const e=t._freezeSettings(),n=El(t._databaseId);return new rV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sV(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);Jf("Data must be an object, but it was:",o,r);const a=Ow(r,o);let l,u;if(i.merge)l=new Xt(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const d of i.mergeFields){const p=Sh(e,d,n);if(!o.contains(p))throw new X(B.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Vw(h,p)||h.push(p)}l=new Xt(h),u=o.fieldTransforms.filter((d=>l.covers(d.field)))}else l=null,u=o.fieldTransforms;return new nV(new Ht(a),l,u)}class Al extends ga{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Al}}class Yf extends ga{_toFieldTransform(e){return new JN(e.path,new Go)}isEqual(e){return e instanceof Yf}}function iV(t,e,n,r){const s=t.Cc(1,e,n);Jf("Data must be an object, but it was:",s,r);const i=[],o=Ht.empty();Xr(r,((l,u)=>{const h=Xf(e,l,n);u=lt(u);const d=s.yc(h);if(u instanceof Al)i.push(h);else{const p=_a(u,d);p!=null&&(i.push(h),o.set(h,p))}}));const a=new Xt(i);return new kw(o,a,s.fieldTransforms)}function oV(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[Sh(e,r,n)],l=[s];if(i.length%2!=0)throw new X(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(Sh(e,i[p])),l.push(i[p+1]);const u=[],h=Ht.empty();for(let p=a.length-1;p>=0;--p)if(!Vw(u,a[p])){const g=a[p];let E=l[p];E=lt(E);const _=o.yc(g);if(E instanceof Al)u.push(g);else{const C=_a(E,_);C!=null&&(u.push(g),h.set(g,C))}}const d=new Xt(u);return new kw(h,d,o.fieldTransforms)}function aV(t,e,n,r=!1){return _a(n,t.Cc(r?4:3,e))}function _a(t,e){if(Dw(t=lt(t)))return Jf("Unsupported field value:",e,t),Ow(t,e);if(t instanceof ga)return(function(r,s){if(!Nw(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let o=0;for(const a of r){let l=_a(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}})(t,e)}return(function(r,s){if((r=lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return zN(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=je.fromDate(r);return{timestampValue:Mc(s.serializer,i)}}if(r instanceof je){const i=new je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mc(s.serializer,i)}}if(r instanceof mn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yt)return{bytesValue:KE(s.serializer,r._byteString)};if(r instanceof Ze){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Vf(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof gn)return(function(o,a){return{mapValue:{fields:{[TE]:{stringValue:IE},[Dc]:{arrayValue:{values:o.toArray().map((u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return kf(a.serializer,u)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${hl(r)}`)})(t,e)}function Ow(t,e){const n={};return gE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xr(t,((r,s)=>{const i=_a(s,e.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function Dw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof je||t instanceof mn||t instanceof Yt||t instanceof Ze||t instanceof ga||t instanceof gn)}function Jf(t,e,n){if(!Dw(n)||!pE(n)){const r=hl(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Sh(t,e,n){if((e=lt(e))instanceof ma)return e._internalPath;if(typeof e=="string")return Xf(t,e);throw $c("Field path arguments must be of type string or ",t,!1,void 0,n)}const cV=new RegExp("[~\\*/\\[\\]]");function Xf(t,e,n){if(e.search(cV)>=0)throw $c(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ma(...e.split("."))._internalPath}catch{throw $c(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $c(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new X(B.INVALID_ARGUMENT,a+t+l)}function Vw(t,e){return t.some((n=>n.isEqual(e)))}class xw{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Rl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lV extends xw{data(){return super.data()}}function Rl(t,e){return typeof e=="string"?Xf(t,e):e instanceof ma?e._internalPath:e._delegate._internalPath}function uV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zf{}class ed extends Zf{}function Ch(t,e,...n){let r=[];e instanceof Zf&&r.push(e),r=r.concat(n),(function(i){const o=i.filter((l=>l instanceof Sl)).length,a=i.filter((l=>l instanceof ya)).length;if(o>1||o>0&&a>0)throw new X(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class ya extends ed{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ya(e,n,r)}_apply(e){const n=this._parse(e);return Mw(e._query,n),new es(e.firestore,e.converter,gh(e._query,n))}_parse(e){const n=Qf(e.firestore);return(function(i,o,a,l,u,h,d){let p;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new X(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Wg(d,h);const E=[];for(const _ of d)E.push(qg(l,i,_));p={arrayValue:{values:E}}}else p=qg(l,i,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Wg(d,h),p=aV(a,o,d,h==="in"||h==="not-in");return ot.create(u,h,p)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function hV(t,e,n){const r=e,s=Rl("where",t);return ya._create(s,r,n)}class Sl extends Zf{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Sl(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:In.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)Mw(o,l),o=gh(o,l)})(e._query,n),new es(e.firestore,e.converter,gh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Cl extends ed{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Cl(e,n)}_apply(e){const n=(function(s,i,o){if(s.startAt!==null)throw new X(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new X(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wo(i,o)})(e._query,this._field,this._direction);return new es(e.firestore,e.converter,(function(s,i){const o=s.explicitOrderBy.concat([i]);return new Bi(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function Ph(t,e="asc"){const n=e,r=Rl("orderBy",t);return Cl._create(r,n)}function qg(t,e,n){if(typeof(n=lt(n))=="string"){if(n==="")throw new X(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NE(e)&&n.indexOf("/")!==-1)throw new X(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(He.fromString(n));if(!ae.isDocumentKey(r))throw new X(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ag(t,new ae(r))}if(n instanceof Ze)return ag(t,n._key);throw new X(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hl(n)}.`)}function Wg(t,e){if(!Array.isArray(t)||t.length===0)throw new X(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Mw(t,e){const n=(function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new X(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Lw{convertValue(e,n="none"){switch(zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw pe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xr(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){const n=e.fields?.[Dc].arrayValue?.values?.map((r=>nt(r.doubleValue)));return new gn(n)}convertGeoPoint(e){return new mn(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pl(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(jo(e));default:return null}}convertTimestamp(e){const n=Gr(e);return new je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=He.fromString(e);xe(ZE(r),9688,{name:e});const s=new Ri(r.get(1),r.get(3)),i=new ae(r.popFirst(5));return s.isEqual(n)||ur(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}function fV(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class ni{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jr extends xw{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ko(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Rl("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new X(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=jr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}jr._jsonSchemaVersion="firestore/documentSnapshot/1.0",jr._jsonSchema={type:at("string",jr._jsonSchemaVersion),bundleSource:at("string","DocumentSnapshot"),bundleName:at("string"),bundle:at("string")};class ko extends jr{data(e={}){return super.data(e)}}class Ts{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ni(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new ko(this._firestore,this._userDataWriter,r.key,r,new ni(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map((a=>{const l=new ko(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ni(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}}))}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((a=>i||a.type!==3)).map((a=>{const l=new ko(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ni(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:dV(a.type),doc:l,oldIndex:u,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new X(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ts._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ul.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe(61501,{type:t})}}function Qo(t){t=Tn(t,Ze);const e=Tn(t.firestore,$s);return XD(bl(e),t._key).then((n=>mV(e,t,n)))}Ts._jsonSchemaVersion="firestore/querySnapshot/1.0",Ts._jsonSchema={type:at("string",Ts._jsonSchemaVersion),bundleSource:at("string","QuerySnapshot"),bundleName:at("string"),bundle:at("string")};class Uw extends Lw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ze(this.firestore,null,n)}}function No(t){t=Tn(t,es);const e=Tn(t.firestore,$s),n=bl(e),r=new Uw(e);return uV(t._query),ZD(n,t._query).then((s=>new Ts(e,r,t,s)))}function mi(t,e,n){t=Tn(t,Ze);const r=Tn(t.firestore,$s),s=fV(t.converter,e);return Pl(r,[sV(Qf(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,pn.none())])}function pV(t,e,n,...r){t=Tn(t,Ze);const s=Tn(t.firestore,$s),i=Qf(s);let o;return o=typeof(e=lt(e))=="string"||e instanceof ma?oV(i,"updateDoc",t._key,e,n,r):iV(i,"updateDoc",t._key,e),Pl(s,[o.toMutation(t._key,pn.exists(!0))])}function Fw(t){return Pl(Tn(t.firestore,$s),[new Nf(t._key,pn.none())])}function Pl(t,e){return(function(r,s){const i=new rr;return r.asyncQueue.enqueueAndForget((async()=>BD(await JD(r),s,i))),i.promise})(bl(t),e)}function mV(t,e,n){const r=n.docs.get(e._key),s=new Uw(t);return new jr(t,s,e._key,r,new ni(n.hasPendingWrites,n.fromCache),e.converter)}function kh(){return new Yf("serverTimestamp")}(function(e,n=!0){(function(s){Li=s})(xi),Ii(new Ps("firestore",((r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new $s(new aN(r.getProvider("auth-internal")),new uN(o,r.getProvider("app-check-internal")),(function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ri(u.options.projectId,h)})(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),$r(zm,Qm,e),$r(zm,Qm,"esm2020")})();const gV=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:Lw,Bytes:Yt,CollectionReference:sr,DocumentReference:Ze,DocumentSnapshot:jr,FieldPath:ma,FieldValue:ga,Firestore:$s,FirestoreError:X,GeoPoint:mn,Query:es,QueryCompositeFilterConstraint:Sl,QueryConstraint:ed,QueryDocumentSnapshot:ko,QueryFieldFilterConstraint:ya,QueryOrderByConstraint:Cl,QuerySnapshot:Ts,SnapshotMetadata:ni,Timestamp:je,VectorValue:gn,_AutoId:ul,_ByteString:wt,_DatabaseId:Ri,_DocumentKey:ae,_EmptyAuthCredentialsProvider:hE,_FieldPath:vt,_cast:Tn,_logWarn:Ds,_validateIsNotUsedTogether:dE,collection:Bc,connectFirestoreEmulator:Cw,deleteDoc:Fw,doc:Xn,ensureFirestoreConfigured:bl,executeWrite:Pl,getDoc:Qo,getDocs:No,getFirestore:Pw,orderBy:Ph,query:Ch,serverTimestamp:kh,setDoc:mi,updateDoc:pV,where:hV},Symbol.toStringTag,{value:"Module"}));var _V="firebase",yV="12.7.0";$r(_V,yV,"app");const vV={apiKey:"AIzaSyCx092q7up_BXFgK2e13A-IQ3uDjwf6J5A",authDomain:"accsuite117.firebaseapp.com",projectId:"accsuite117",storageBucket:"accsuite117.firebasestorage.app",messagingSenderId:"352958845592",appId:"1:352958845592:web:bb6a7fbe04f6181707f6ed"};let Yo,ms,Jt;Im().length?Yo=Im()[0]:Yo=vv(vV);ms=sN(Yo);Jt=Pw(Yo);const EV=Object.freeze(Object.defineProperty({__proto__:null,get app(){return Yo},get auth(){return ms},get db(){return Jt}},Symbol.toStringTag,{value:"Module"})),nn=ie(null),us=ie("pilot"),Gg=ie(!0),hs=ie(null);let Kg=!1;function Hi(){const t=Ge(()=>!!nn.value),e=Ge(()=>nn.value?.emailVerified??!1),n=Ge(()=>nn.value?.email??""),r=Ge(()=>nn.value?.displayName??""),s=Ge(()=>us.value==="coach"),i=async E=>{try{const _=Xn(Jt,"users",E.uid),C=await Qo(_);if(!C.exists())await mi(_,{email:E.email,nickname:E.displayName||"Utente",role:"pilot",createdAt:new Date().toISOString(),emailVerified:E.emailVerified}),us.value="pilot",console.log("[AUTH] Created missing user profile");else{const S=C.data();us.value=S.role||"pilot"}}catch(_){console.error("[AUTH] Failed to ensure user document:",_),us.value="pilot"}},o=()=>{Kg||(Kg=!0,Gk(ms,async E=>{nn.value=E,E?await i(E):us.value="pilot",Gg.value=!1,console.log("[AUTH] State changed:",E?.email??"logged out","| Role:",us.value)}))},a=async(E,_,C,S="",b="")=>{hs.value=null;try{const O=(await Bk(ms,E,_)).user;return await jk(O,{displayName:C}),await mi(Xn(Jt,"users",O.uid),{firstName:S,lastName:b,nickname:C,email:E,role:"pilot",coachId:null,createdAt:new Date().toISOString(),emailVerified:!1}),await Lm(O),console.log("[AUTH] Registered:",E,"Verification email sent"),{success:!0,user:O}}catch(y){return console.error("[AUTH] Register error:",y.code),hs.value=g(y.code),{success:!1,error:hs.value}}},l=async(E,_)=>{hs.value=null;try{const C=await $k(ms,E,_);return console.log("[AUTH] Logged in:",E),{success:!0,user:C.user}}catch(C){return console.error("[AUTH] Login error:",C.code),hs.value=g(C.code),{success:!1,error:hs.value}}},u=async()=>{try{return await Kk(ms),console.log("[AUTH] Logged out"),{success:!0}}catch(E){return console.error("[AUTH] Logout error:",E),{success:!1,error:E.message}}},h=async()=>{if(!nn.value)return{success:!1,error:"Utente non autenticato"};try{return await Lm(nn.value),console.log("[AUTH] Verification email resent"),{success:!0}}catch(E){return console.error("[AUTH] Resend error:",E.code),{success:!1,error:g(E.code)}}},d=async()=>{if(!nn.value)return{verified:!1,error:"Utente non autenticato"};try{await nn.value.reload(),nn.value=ms.currentUser;const E=nn.value?.emailVerified??!1;return console.log("[AUTH] Email verified check:",E),{verified:E,error:null}}catch(E){return console.error("[AUTH] Check verification error:",E),{verified:!1,error:E.message}}},p=async E=>{try{const _=await Qo(Xn(Jt,"users",E));return _.exists()?_.data():null}catch(_){return console.error("[AUTH] Get profile error:",_),null}},g=E=>({"auth/email-already-in-use":"Email gi registrata","auth/weak-password":"Password troppo debole (min. 6 caratteri)","auth/invalid-email":"Email non valida","auth/user-not-found":"Utente non trovato","auth/wrong-password":"Password errata","auth/invalid-credential":"Credenziali non valide","auth/too-many-requests":"Troppi tentativi, riprova pi tardi","auth/network-request-failed":"Errore di rete, controlla la connessione"})[E]||"Errore di autenticazione";return o(),{currentUser:nn,isLoading:Gg,authError:hs,isAuthenticated:t,isEmailVerified:e,userEmail:n,userDisplayName:r,register:a,login:l,logout:u,resendVerificationEmail:h,checkEmailVerified:d,getUserProfile:p,userRole:us,isCoach:s}}const br={RACE:0,QUALIFY:1,PRACTICE:2};function pM(t){switch(t){case 0:return"race";case 1:return"qualify";default:return"practice"}}function mM(t){if(!t||t<=0)return"--:--.---";const e=Math.round(t),n=Math.floor(e/6e4),r=Math.floor(e%6e4/1e3),s=e%1e3;return`${n}:${r.toString().padStart(2,"0")}.${s.toString().padStart(3,"0")}`}function gM(t){return t?t.split("_").map((e,n)=>e.match(/^gt\d$/i)||e.length<=2?e.toUpperCase():e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" "):"Unknown"}function _M(t){return t?t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" "):"Unknown"}function yM(t){if(!t)return"-";const e=new Date(t);return`${e.getDate()} ${["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"][e.getMonth()]} ${e.getFullYear()}`}function vM(t){if(!t)return"-";const e=new Date(t);return`${e.getDate()} ${["GENNAIO","FEBBRAIO","MARZO","APRILE","MAGGIO","GIUGNO","LUGLIO","AGOSTO","SETTEMBRE","OTTOBRE","NOVEMBRE","DICEMBRE"][e.getMonth()]} ${e.getFullYear()}`}function EM(t){if(!t)return"-";const e=new Date(t);return`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`}function wV(){const t=ie([]),e=ie(!1),n=ie(null),{currentUser:r}=Hi();async function s(E){const _=E||r.value?.uid;if(!_)return console.warn("[TELEMETRY] No user ID provided"),[];e.value=!0,n.value=null;try{const C=Bc(Jt,`users/${_}/sessions`);let S;try{const b=Ch(C,Ph("uploadedAt","desc"));S=await No(b)}catch{console.warn("[TELEMETRY] orderBy failed, fetching without order"),S=await No(C)}return t.value=S.docs.map(b=>{const y=b.data();return{sessionId:b.id,fileHash:y.fileHash||null,fileName:y.fileName||null,uploadedAt:y.uploadedAt||null,meta:y.meta||{},summary:y.summary||{},rawChunkCount:y.rawChunkCount||0,rawSizeBytes:y.rawSizeBytes||0}}),t.value.sort((b,y)=>(y.meta.date_start||"").localeCompare(b.meta.date_start||"")),console.log(`[TELEMETRY] Loaded ${t.value.length} sessions for user ${_}`),t.value}catch(C){return console.error("[TELEMETRY] Error loading sessions:",C),n.value=C.message,[]}finally{e.value=!1}}async function i(E,_){const C=_||r.value?.uid;if(!C)return null;try{const S=Xn(Jt,`users/${C}/sessions/${E}`),b=await Qo(S);if(!b.exists()||(b.data().rawChunkCount||0)===0)return null;const V=Bc(Jt,`users/${C}/sessions/${E}/rawChunks`),U=Ch(V,Ph("idx","asc")),I=await No(U),w=[];I.forEach(R=>{const k=R.data();w.push({idx:k.idx,chunk:k.chunk})}),w.sort((R,k)=>R.idx-k.idx);const v=w.map(R=>R.chunk).join("");return JSON.parse(v)}catch(S){return console.error("[TELEMETRY] Error fetching full session:",S),null}}const o=Ge(()=>t.value.length===0?null:t.value[0]),a=Ge(()=>o.value?.meta.car||null),l=Ge(()=>o.value?.meta.track||null),u=Ge(()=>{const E=["Flood","Wet","Damp","Greasy","Green","Fast","Optimum"],_={};for(const C of t.value){const S=(C.meta.track||"unknown").toLowerCase(),b=C.summary;if(!_[S]){const I={};E.forEach(w=>{I[w]={bestQualy:null,bestQualyTemp:null,bestRace:null,bestRaceTemp:null,bestAvgRace:null,bestAvgRaceTemp:null}}),_[S]={track:C.meta.track,sessions:0,lastSession:C.meta.date_start,bestQualy:null,bestQualyConditions:null,bestRace:null,bestRaceConditions:null,bestAvgRace:null,bestAvgRaceConditions:null,bestByGrip:I}}_[S].sessions++,C.meta.date_start>_[S].lastSession&&(_[S].lastSession=C.meta.date_start);const y=b?.best_by_grip;if(y)for(const I of E){const w=y[I];if(!w)continue;const v=_[S].bestByGrip[I];v&&(w.bestQualy&&(!v.bestQualy||w.bestQualy<v.bestQualy)&&(v.bestQualy=w.bestQualy,v.bestQualyTemp=w.bestQualyTemp),w.bestRace&&(!v.bestRace||w.bestRace<v.bestRace)&&(v.bestRace=w.bestRace,v.bestRaceTemp=w.bestRaceTemp),w.bestAvgRace&&(!v.bestAvgRace||w.bestAvgRace<v.bestAvgRace)&&(v.bestAvgRace=w.bestAvgRace,v.bestAvgRaceTemp=w.bestAvgRaceTemp))}const O=b?.best_qualy_ms;O?(!_[S].bestQualy||O<_[S].bestQualy)&&(_[S].bestQualy=O,_[S].bestQualyConditions=b.best_qualy_conditions||null):C.meta.session_type===br.QUALIFY&&b?.bestLap&&(!_[S].bestQualy||b.bestLap<_[S].bestQualy)&&(_[S].bestQualy=b.bestLap,_[S].bestQualyConditions=null);const V=b?.best_race_ms;V?(!_[S].bestRace||V<_[S].bestRace)&&(_[S].bestRace=V,_[S].bestRaceConditions=b.best_race_conditions||null):C.meta.session_type===br.RACE&&b?.bestLap&&(!_[S].bestRace||b.bestLap<_[S].bestRace)&&(_[S].bestRace=b.bestLap,_[S].bestRaceConditions=null);const U=b?.best_avg_race_ms;U&&(!_[S].bestAvgRace||U<_[S].bestAvgRace)&&(_[S].bestAvgRace=U,_[S].bestAvgRaceConditions=b.best_avg_race_conditions||null)}return Object.values(_).sort((C,S)=>(S.lastSession||"").localeCompare(C.lastSession||""))});function h(E){return t.value.filter(_=>(_.meta.track||"").toLowerCase()===E.toLowerCase())}function d(E){return t.value.find(_=>_.sessionId===E)}function p(E=7){const _=new Date,C=["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],S=[];for(let b=E-1;b>=0;b--){const y=new Date(_.getTime()-b*24*60*60*1e3),O=y.toISOString().split("T")[0]||"",V=t.value.filter(v=>v.meta.date_start?.startsWith(O));let U=0,I=0,w=0;for(const v of V){const R=v.summary?.totalTime||0,k=Math.round(R/6e4);switch(v.meta.session_type){case br.PRACTICE:U+=k;break;case br.QUALIFY:I+=k;break;case br.RACE:w+=k;break}}S.push({day:C[y.getDay()]||"N/A",practice:U,qualify:I,race:w})}return S}const g=Ge(()=>{const E=new Date,_=new Date(E.getTime()-10080*60*1e3);let C=0,S=0,b=0,y=0,O=0,V=0;for(const U of t.value){if(new Date(U.meta.date_start)<_)continue;const w=U.summary?.totalTime||0,v=Math.round(w/6e4);switch(U.meta.session_type){case br.PRACTICE:C+=v,S++;break;case br.QUALIFY:b+=v,y++;break;case br.RACE:O+=v,V++;break}}return{practice:{minutes:C,sessions:S},qualify:{minutes:b,sessions:y},race:{minutes:O,sessions:V}}});return{sessions:t,isLoading:e,error:n,loadSessions:s,fetchSessionFull:i,getSessionsForTrack:h,getSession:d,getActivityData:p,lastSession:o,lastUsedCar:a,lastUsedTrack:l,trackStats:u,activityTotals:g}}const TV=4e5;function IV(){const{currentUser:t}=Hi(),{loadSessions:e}=wV(),n=ie(!1),r=ie(0),s=ie([]),i=ie(null),o=Ge(()=>typeof window>"u"?!1:!!window.electronAPI);async function a(C){const S=new TextEncoder().encode(C),b=await crypto.subtle.digest("SHA-256",S);return Array.from(new Uint8Array(b)).map(O=>O.toString(16).padStart(2,"0")).join("")}function l(C,S){return`${C}_${S}`.replace(/[^a-zA-Z0-9]/g,"_").substring(0,100)}async function u(C,S){const b=Xn(Jt,`users/${C}/sessions/${S}`),y=await Qo(b);return y.exists()?{id:S,...y.data()}:null}async function h(C,S){try{const b=Bc(Jt,`users/${C}/sessions/${S}/rawChunks`),O=(await No(b)).docs.map(V=>Fw(V.ref));await Promise.all(O)}catch(b){console.warn("[SYNC] Error deleting old chunks:",b.message)}}function d(C){const S=C.session_info||{},b={track:S.track||C.track||"Unknown",date_start:S.date_start||C.date||new Date().toISOString(),date_end:S.date_end||null,car:S.car_model||S.car||C.car||null,session_type:S.session_type??null,driver:S.driver||null},y={laps:S.laps_total||C.laps?.length||0,lapsValid:S.laps_valid||0,bestLap:S.session_best_lap||C.bestLap||null,avgCleanLap:S.avg_clean_lap||null,totalTime:S.total_drive_time_ms||0,stintCount:C.stints?.length||0};return{meta:b,summary:y}}function p(C,S){const b=[];for(let y=0;y<C.length;y+=S)b.push(C.slice(y,y+S));return b}async function g(C,S,b,y){try{const O=C.ownerId||null;if(O&&O!==y)return console.log(`[SYNC] Skipped ${b}: owner mismatch (file: ${O}, current: ${y})`),{status:"skipped",fileName:b,reason:"owner_mismatch"};O||console.log(`[SYNC] Warning: ${b} has no ownerId (pre-login session)`);const{meta:V,summary:U}=d(C),I=l(V.date_start,V.track),w=await a(S),v=await u(y,I);let R=!1;if(v){if(v.fileHash===w)return{status:"unchanged",fileName:b,sessionId:I};R=!0,await h(y,I)}const k=p(S,TV),N=Xn(Jt,`users/${y}/sessions/${I}`);await mi(N,{fileHash:w,fileName:b,uploadedAt:kh(),meta:V,summary:U,rawChunkCount:k.length,rawSizeBytes:S.length,rawEncoding:"json-string",version:(v?.version||0)+1});const A=Xn(Jt,`users/${y}/uploads/${w}`);await mi(A,{fileName:b,uploadedAt:kh(),sessionId:I});for(let ce=0;ce<k.length;ce++){const Te=Xn(Jt,`users/${y}/sessions/${I}/rawChunks/${ce}`);await mi(Te,{idx:ce,chunk:k[ce]})}return console.log(`[SYNC] ${R?"Updated":"Created"}: ${b} -> ${I}`),{status:R?"updated":"created",fileName:b,sessionId:I}}catch(O){return console.error("[SYNC] Error:",O),{status:"error",fileName:b,error:O.message}}}async function E(){if(!o.value)return console.log("[SYNC] Not running in Electron, skipping sync"),[];if(!t.value)return console.log("[SYNC] No user logged in, skipping sync"),[];if(n.value)return console.log("[SYNC] Already syncing, skipping"),[];n.value=!0,r.value=0,s.value=[];const C=t.value.uid,S=window.electronAPI,b=[];try{const y=await S.getTelemetryFiles();if(console.log(`[SYNC] Found ${y.length} files to process`),y.length===0)return n.value=!1,[];for(let v=0;v<y.length;v++){const R=y[v];r.value=Math.round(v/y.length*100);try{const k=await S.readFile(R.path);if(!k){b.push({status:"error",fileName:R.name,error:"Could not read file"});continue}const N=JSON.stringify(k),A=await g(k,N,R.name,C);b.push(A),(A.status==="created"||A.status==="updated")&&await S.updateRegistry(R.name,{uploadedBy:C,sessionId:A.sessionId,uploadedAt:new Date().toISOString()})}catch(k){console.error(`[SYNC] Error processing ${R.name}:`,k),b.push({status:"error",fileName:R.name,error:k.message})}}r.value=100,s.value=b,i.value=new Date;const O=b.filter(v=>v.status==="created").length,V=b.filter(v=>v.status==="updated").length,U=b.filter(v=>v.status==="unchanged").length,I=b.filter(v=>v.status==="skipped").length,w=b.filter(v=>v.status==="error").length;return console.log(`[SYNC] Complete: ${O} created, ${V} updated, ${U} unchanged, ${I} skipped, ${w} errors`),(O>0||V>0)&&(console.log("[SYNC] Refreshing dashboard data..."),await e()),b}catch(y){return console.error("[SYNC] Sync failed:",y),[{status:"error",fileName:"sync",error:y.message}]}finally{n.value=!1}}function _(){if(!o.value)return;const C=window.electronAPI;C.onFilesChanged(S=>{(S.new.length>0||S.modified.length>0)&&(console.log(`[SYNC] Files changed: ${S.new.length} new, ${S.modified.length} modified`),E())}),C.onInitialFiles(S=>{console.log(`[SYNC] Initial files: ${S.files.length}`)}),console.log("[SYNC] Auto-sync setup complete")}return{isElectron:o,isSyncing:n,syncProgress:r,syncResults:s,lastSyncTime:i,syncTelemetryFiles:E,setupAutoSync:_}}const bV={key:0,class:"electron-titlebar"},AV={class:"titlebar-buttons-left"},RV=["title","disabled"],SV=rt({__name:"ElectronTitlebar",setup(t){const e=ie(!1),n=ie(!1),{isSyncing:r,syncTelemetryFiles:s,setupAutoSync:i}=IV();qr(async()=>{if(e.value=!!window.electronAPI,e.value){try{n.value=await window.electronAPI.windowIsMaximized()}catch{console.log("[TITLEBAR] Could not get maximized state")}i()}});const o=()=>{window.electronAPI?.pageRefresh()},a=async()=>{console.log("[TITLEBAR] Manual sync triggered");const d=await s();console.log("[TITLEBAR] Sync complete:",d)},l=()=>{window.electronAPI?.windowMinimize()},u=async()=>{const d=await window.electronAPI?.windowMaximize();n.value=d},h=()=>{window.electronAPI?.windowClose()};return(d,p)=>e.value?(_e(),Ce("div",bV,[p[5]||(p[5]=H("div",{class:"titlebar-drag-region"},[H("span",{class:"titlebar-title"},"ACC Telemetry Dashboard")],-1)),H("div",AV,[H("button",{class:"titlebar-btn",title:"Aggiorna pagina (F5)",onClick:o},[...p[0]||(p[0]=[H("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[H("path",{d:"M21 12a9 9 0 11-9-9c2.52 0 4.93 1 6.74 2.74L21 8"}),H("path",{d:"M21 3v5h-5"})],-1)])]),H("button",{class:Zt(["titlebar-btn",{syncing:Me(r)}]),title:Me(r)?"Sincronizzazione in corso...":"Sincronizza file",disabled:Me(r),onClick:a},[...p[1]||(p[1]=[H("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[H("path",{d:"M23 4v6h-6"}),H("path",{d:"M1 20v-6h6"}),H("path",{d:"M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15"})],-1)])],10,RV)]),H("div",{class:"titlebar-buttons-right"},[H("button",{class:"titlebar-btn",title:"Minimizza",onClick:l},[...p[2]||(p[2]=[H("svg",{width:"12",height:"12",viewBox:"0 0 12 12"},[H("rect",{y:"5",width:"12",height:"2",fill:"currentColor"})],-1)])]),H("button",{class:"titlebar-btn",title:"Massimizza",onClick:u},[...p[3]||(p[3]=[H("svg",{width:"12",height:"12",viewBox:"0 0 12 12"},[H("rect",{x:"1",y:"1",width:"10",height:"10",stroke:"currentColor","stroke-width":"2",fill:"none"})],-1)])]),H("button",{class:"titlebar-btn titlebar-close",title:"Chiudi",onClick:h},[...p[4]||(p[4]=[H("svg",{width:"12",height:"12",viewBox:"0 0 12 12"},[H("path",{d:"M1 1l10 10M11 1L1 11",stroke:"currentColor","stroke-width":"2"})],-1)])])])])):Rs("",!0)}}),bn=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},CV=Object.assign(bn(SV,[["__scopeId","data-v-b849727c"]]),{__name:"ElectronTitlebar"}),Ga="<div></div>",Au=new WeakMap;function PV(t){if(Au.has(t))return Au.get(t);const e={...t};return e.render?e.render=(n,r,s,i,o,a)=>{if(i.mounted$??n.mounted$){const l=t.render?.bind(n)(n,r,s,i,o,a);return l.children===null||typeof l.children=="string"?an(l):Xe(l)}return fu(n._.vnode.el,Ga)}:e.template&&=`
      <template v-if="mounted$">${t.template}</template>
      <template v-else>${Ga}</template>
    `,e.setup=(n,r)=>{const s=et(),i=ar(s.isHydrating===!1),o=Ms();if(s.isHydrating){const l={...o.attrs},u=kV(o);for(const h in l)delete o.attrs[h];qr(()=>{Object.assign(o.attrs,l),o.vnode.dirs=u})}qr(()=>{i.value=!0});const a=t.setup?.(n,r)||{};return Vh(a)?Promise.resolve(a).then(l=>typeof l!="function"?(l||={},l.mounted$=i,l):(...u)=>{if(i.value||!s.isHydrating){const h=l(...u);return h.children===null||typeof h.children=="string"?an(h):Xe(h)}return fu(o?.vnode.el,Ga)}):typeof a=="function"?(...l)=>{if(i.value){const u=a(...l),h=e.inheritAttrs!==!1?r.attrs:void 0;return u.children===null||typeof u.children=="string"?an(u,h):Xe(u,h)}return fu(o?.vnode.el,Ga)}:Object.assign(a,{mounted$:i})},Au.set(t,e),e}function kV(t){if(!t||!t.vnode.dirs)return null;const e=t.vnode.dirs;return t.vnode.dirs=null,e}function NV(t={}){const e=ar(""),n=ar(t.politeness||"polite"),r=Hy();function s(u="",h="polite"){e.value=u,n.value=h}function i(u){return s(u,"polite")}function o(u){return s(u,"assertive")}function a(){s(document?.title?.trim(),n.value)}function l(){r?.hooks?.removeHook("dom:rendered",a)}return a(),r?.hooks?.hook("dom:rendered",()=>{a()}),{_cleanup:l,message:e,politeness:n,set:s,polite:i,assertive:o}}function OV(t={}){const e=et(),n=e._routeAnnouncer||=NV(t);return t.politeness!==n.politeness.value&&(n.politeness.value=t.politeness||"polite"),Mh()&&(e._routeAnnouncerDeps||=0,e._routeAnnouncerDeps++,IT(()=>{e._routeAnnouncerDeps--,e._routeAnnouncerDeps===0&&(n._cleanup(),delete e._routeAnnouncer)})),n}const DV=rt({name:"NuxtRouteAnnouncer",props:{atomic:{type:Boolean,default:!1},politeness:{type:String,default:"polite"}},setup(t,{slots:e,expose:n}){const{set:r,polite:s,assertive:i,message:o,politeness:a}=OV({politeness:t.politeness});return n({set:r,polite:s,assertive:i,message:o,politeness:a}),()=>Xe("span",{class:"nuxt-route-announcer",style:{position:"absolute"}},Xe("span",{role:"alert","aria-live":a.value,"aria-atomic":t.atomic,style:{border:"0",clip:"rect(0 0 0 0)","clip-path":"inset(50%)",height:"1px",width:"1px",overflow:"hidden",position:"absolute","white-space":"nowrap","word-wrap":"normal",margin:"-1px",padding:"0"}},e.default?e.default({message:o.value}):o.value))}}),VV=["type","value","placeholder","autocomplete","maxlength","disabled"],xV=rt({__name:"BaseInput",props:{modelValue:{},type:{default:"text"},placeholder:{default:""},autocomplete:{default:"off"},maxlength:{},error:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,{emit:e}){const n=e,r=s=>{const i=s.target;n("update:modelValue",i.value)};return(s,i)=>(_e(),Ce("input",{type:t.type,value:t.modelValue,placeholder:t.placeholder,autocomplete:t.autocomplete,maxlength:t.maxlength,disabled:t.disabled,class:Zt(["form-input",{"form-input--error":t.error}]),onInput:r},null,42,VV))}}),td=Object.assign(bn(xV,[["__scopeId","data-v-91b986db"]]),{__name:"UiBaseInput"}),MV={key:0,class:"form-error"},LV=rt({__name:"FormError",props:{message:{},visible:{type:Boolean,default:!1}},setup(t){return(e,n)=>t.visible&&t.message?(_e(),Ce("div",MV,Is(t.message),1)):Rs("",!0)}}),nd=Object.assign(bn(LV,[["__scopeId","data-v-75d4b223"]]),{__name:"UiFormError"}),UV=["type","disabled"],FV=rt({__name:"BaseButton",props:{variant:{default:"primary"},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},type:{default:"button"}},emits:["click"],setup(t,{emit:e}){const n=t,r=e,s=i=>{!n.loading&&!n.disabled&&r("click",i)};return(i,o)=>(_e(),Ce("button",{type:t.type,class:Zt(["btn",`btn--${t.variant}`,{"btn--loading":t.loading}]),disabled:t.disabled||t.loading,onClick:s},[SI(i.$slots,"default",{},void 0)],10,UV))}}),rd=Object.assign(bn(FV,[["__scopeId","data-v-d54604fc"]]),{__name:"UiBaseButton"}),BV=rt({__name:"LoginForm",emits:["submit","forgotPassword"],setup(t,{expose:e,emit:n}){const r=ie(""),s=ie(""),i=ie(""),o=ie(!1),a=n,l=()=>{if(i.value="",!r.value.trim()){i.value="Inserisci la tua email.";return}if(!s.value){i.value="Inserisci la password.";return}a("submit",{email:r.value.trim(),password:s.value})},u=()=>{i.value=""};return e({setError:h=>{i.value=h},setLoading:h=>{o.value=h},reset:()=>{r.value="",s.value="",i.value="",o.value=!1}}),(h,d)=>{const p=td,g=nd,E=rd;return _e(),Ce("form",{class:"auth-form",onSubmit:Xh(l,["prevent"])},[he(p,{modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=_=>r.value=_),type:"email",placeholder:"Email",autocomplete:"email",error:!!i.value&&i.value.includes("email"),onInput:u},null,8,["modelValue","error"]),he(p,{modelValue:s.value,"onUpdate:modelValue":d[1]||(d[1]=_=>s.value=_),type:"password",placeholder:"Password",autocomplete:"current-password",error:!!i.value&&i.value.includes("password"),onInput:u},null,8,["modelValue","error"]),he(g,{message:i.value,visible:!!i.value},null,8,["message","visible"]),he(E,{type:"submit",variant:"primary",loading:o.value},{default:on(()=>[...d[3]||(d[3]=[Je(" ACCEDI ",-1)])]),_:1},8,["loading"]),he(E,{variant:"link",onClick:d[2]||(d[2]=_=>a("forgotPassword"))},{default:on(()=>[...d[4]||(d[4]=[Je(" Password dimenticata? ",-1)])]),_:1})],32)}}}),$V=Object.assign(bn(BV,[["__scopeId","data-v-5927dcd2"]]),{__name:"AuthLoginForm"}),HV={class:"name-row"},jV=rt({__name:"RegisterForm",emits:["submit"],setup(t,{expose:e,emit:n}){const r=ie(""),s=ie(""),i=ie(""),o=ie(""),a=ie(""),l=ie(""),u=ie(""),h=ie(!1),d=n,p=()=>{if(u.value="",!r.value.trim()){u.value="Inserisci il tuo nome.";return}if(!s.value.trim()){u.value="Inserisci il tuo cognome.";return}if(!i.value.trim()){u.value="Scegli un nickname.";return}if(i.value.trim().length<3){u.value="Il nickname deve essere di almeno 3 caratteri.";return}if(!o.value.trim()){u.value="Inserisci la tua email.";return}if(!a.value){u.value="Inserisci una password.";return}if(a.value.length<6){u.value="La password deve essere di almeno 6 caratteri.";return}if(!l.value){u.value="Conferma la password.";return}if(a.value!==l.value){u.value="Le password non coincidono.";return}d("submit",{firstName:r.value.trim(),lastName:s.value.trim(),nickname:i.value.trim(),email:o.value.trim(),password:a.value})},g=()=>{u.value=""};return e({setError:E=>{u.value=E},setLoading:E=>{h.value=E},reset:()=>{r.value="",s.value="",i.value="",o.value="",a.value="",l.value="",u.value="",h.value=!1}}),(E,_)=>{const C=td,S=nd,b=rd;return _e(),Ce("form",{class:"auth-form",onSubmit:Xh(p,["prevent"])},[H("div",HV,[he(C,{modelValue:r.value,"onUpdate:modelValue":_[0]||(_[0]=y=>r.value=y),type:"text",placeholder:"Nome",autocomplete:"given-name",onInput:g},null,8,["modelValue"]),he(C,{modelValue:s.value,"onUpdate:modelValue":_[1]||(_[1]=y=>s.value=y),type:"text",placeholder:"Cognome",autocomplete:"family-name",onInput:g},null,8,["modelValue"])]),he(C,{modelValue:i.value,"onUpdate:modelValue":_[2]||(_[2]=y=>i.value=y),type:"text",placeholder:"Nickname (visibile agli altri)",autocomplete:"username",maxlength:20,onInput:g},null,8,["modelValue"]),he(C,{modelValue:o.value,"onUpdate:modelValue":_[3]||(_[3]=y=>o.value=y),type:"email",placeholder:"Email",autocomplete:"email",onInput:g},null,8,["modelValue"]),he(C,{modelValue:a.value,"onUpdate:modelValue":_[4]||(_[4]=y=>a.value=y),type:"password",placeholder:"Password (min. 6 caratteri)",autocomplete:"new-password",onInput:g},null,8,["modelValue"]),he(C,{modelValue:l.value,"onUpdate:modelValue":_[5]||(_[5]=y=>l.value=y),type:"password",placeholder:"Conferma Password",autocomplete:"new-password",onInput:g},null,8,["modelValue"]),he(S,{message:u.value,visible:!!u.value},null,8,["message","visible"]),he(b,{type:"submit",variant:"primary",loading:h.value},{default:on(()=>[..._[6]||(_[6]=[Je(" REGISTRATI ",-1)])]),_:1},8,["loading"])],32)}}}),qV=Object.assign(bn(jV,[["__scopeId","data-v-d0f96507"]]),{__name:"AuthRegisterForm"}),WV={class:"reset-form"},GV={key:0,class:"reset-success"},KV=rt({__name:"ResetPasswordForm",emits:["submit","back"],setup(t,{expose:e,emit:n}){const r=ie(""),s=ie(""),i=ie(!1),o=ie(!1),a=n,l=()=>{if(s.value="",!r.value.trim()){s.value="Inserisci la tua email.";return}a("submit",r.value.trim())},u=()=>{s.value=""};return e({setError:h=>{s.value=h},setLoading:h=>{o.value=h},setSuccess:h=>{i.value=h},reset:()=>{r.value="",s.value="",i.value=!1,o.value=!1}}),(h,d)=>{const p=rd,g=td,E=nd;return _e(),Ce("div",WV,[i.value?(_e(),Ce("div",GV,[d[4]||(d[4]=H("span",{class:"reset-success__icon"},"",-1)),d[5]||(d[5]=H("p",{class:"reset-success__text"}," Email inviata! Controlla la tua casella di posta (anche spam). ",-1)),he(p,{variant:"link",onClick:d[0]||(d[0]=_=>a("back"))},{default:on(()=>[...d[3]||(d[3]=[Je("  Torna al login ",-1)])]),_:1})])):(_e(),Ce("form",{key:1,class:"auth-form",onSubmit:Xh(l,["prevent"])},[d[8]||(d[8]=H("h3",{class:"reset-form__title"},"Recupera Password",-1)),d[9]||(d[9]=H("p",{class:"reset-form__description"},[Je(" Inserisci la tua email. Ti invieremo un link per reimpostare la password. "),H("br"),H("small",null,"Controlla anche la cartella spam.")],-1)),he(g,{modelValue:r.value,"onUpdate:modelValue":d[1]||(d[1]=_=>r.value=_),type:"email",placeholder:"Email",autocomplete:"email",onInput:u},null,8,["modelValue"]),he(E,{message:s.value,visible:!!s.value},null,8,["message","visible"]),he(p,{type:"submit",variant:"primary",loading:o.value},{default:on(()=>[...d[6]||(d[6]=[Je(" INVIA LINK ",-1)])]),_:1},8,["loading"]),he(p,{variant:"link",onClick:d[2]||(d[2]=_=>a("back"))},{default:on(()=>[...d[7]||(d[7]=[Je("  Torna al login ",-1)])]),_:1})],32))])}}}),zV=Object.assign(bn(KV,[["__scopeId","data-v-17ef1ec5"]]),{__name:"AuthResetPasswordForm"}),QV={class:"auth-overlay"},YV={class:"auth-card__body"},JV={key:0,class:"auth-nav"},XV={class:"auth-form-container"},ZV=rt({__name:"AuthOverlay",emits:["login-success","register-success"],setup(t,{emit:e}){const n=ie("login"),r=ie("login"),s=ie(),i=ie(),o=ie(),{login:a,register:l}=Hi(),u=ie(!1),h=e,d=Ge(()=>{switch(r.value){case"register":return"form-height--register";case"reset":return"form-height--reset";default:return"form-height--login"}}),p=b=>{n.value=b,r.value=b},g=()=>{r.value="reset"},E=()=>{r.value="login",n.value="login",o.value?.reset()},_=async b=>{u.value=!0;const y=await a(b.email,b.password);u.value=!1,y.success?h("login-success",b.email):s.value?.setError(y.error)},C=async b=>{u.value=!0;const y=await l(b.email,b.password,b.nickname,b.firstName,b.lastName);u.value=!1,y.success?h("register-success",b.email):i.value?.setError(y.error)},S=b=>{console.log("[AUTH] Reset:",b),o.value?.setSuccess(!0)};return(b,y)=>{const O=$V,V=qV,U=zV;return _e(),Ce("div",QV,[y[4]||(y[4]=H("div",{class:"auth-overlay__ambient"},[H("div",{class:"ambient-glow ambient-glow--red"}),H("div",{class:"ambient-glow ambient-glow--gold"})],-1)),H("div",{class:Zt(["auth-card",d.value])},[y[3]||(y[3]=H("div",{class:"auth-card__glow"},null,-1)),H("div",YV,[y[2]||(y[2]=H("header",{class:"auth-header"},[H("div",{class:"brand"},[H("span",{class:"brand__badge"},"ACC"),H("span",{class:"brand__name"},"TELEMETRY")])],-1)),r.value!=="reset"?(_e(),Ce("nav",JV,[H("button",{class:Zt(["auth-nav__item",{"is-active":n.value==="login"}]),onClick:y[0]||(y[0]=I=>p("login"))}," Login ",2),H("button",{class:Zt(["auth-nav__item",{"is-active":n.value==="register"}]),onClick:y[1]||(y[1]=I=>p("register"))}," Registrati ",2)])):Rs("",!0),H("div",XV,[he(tl,{name:"liquid",mode:"out-in"},{default:on(()=>[r.value==="login"?(_e(),Qt(O,{key:"login",ref_key:"loginFormRef",ref:s,onSubmit:_,onForgotPassword:g},null,512)):r.value==="register"?(_e(),Qt(V,{key:"register",ref_key:"registerFormRef",ref:i,onSubmit:C},null,512)):(_e(),Qt(U,{key:"reset",ref_key:"resetFormRef",ref:o,onSubmit:S,onBack:E},null,512))]),_:1})])])],2)])}}}),ex=Object.assign(bn(ZV,[["__scopeId","data-v-e0e84998"]]),{__name:"AuthOverlay"}),tx={class:"email-verification"},nx={class:"verify-email"},rx={key:0,class:"error-message"},sx={key:1,class:"error-message resend-error"},ix=["disabled"],ox=["disabled"],ax=rt({__name:"RegistrationSuccess",props:{email:{},requireEmailVerification:{type:Boolean}},emits:["goToDashboard","resendEmail"],setup(t,{emit:e}){const n=e,{checkEmailVerified:r,resendVerificationEmail:s}=Hi(),i=ie(!1),o=ie(!1),a=ie(null),l=ie(!1),u=ie(!1),h=async()=>{i.value=!0,a.value=null,u.value=!1;const p=await s();i.value=!1,p.success?(o.value=!0,setTimeout(()=>o.value=!1,3e3)):a.value=p.error||"Errore invio email",n("resendEmail")},d=async()=>{l.value=!0,u.value=!1;const p=await r();l.value=!1,p.verified?n("goToDashboard"):u.value=!0};return(p,g)=>(_e(),Ce("div",tx,[g[2]||(g[2]=H("div",{class:"verify-icon"},"",-1)),g[3]||(g[3]=H("h2",{class:"verify-title"},"Verifica la tua email",-1)),H("p",nx,Is(t.email),1),g[4]||(g[4]=H("div",{class:"verify-box"},[H("p",{class:"verify-text"},"Clicca il link nell'email per attivare l'account."),H("p",{class:"verify-hint"},"Controlla anche Spam")],-1)),u.value?(_e(),Ce("div",rx," Email non verificata ")):Rs("",!0),a.value?(_e(),Ce("div",sx,Is(a.value),1)):Rs("",!0),H("button",{class:Zt(["verify-btn",{"verify-btn--loading":l.value}]),disabled:l.value,onClick:d},[l.value?(_e(),Ce(We,{key:0},[g[0]||(g[0]=H("span",{class:"spinner"},null,-1)),g[1]||(g[1]=Je(" Controllo... ",-1))],64)):(_e(),Ce(We,{key:1},[Je(" Ho confermato l'email ")],64))],10,ix),H("button",{class:"resend-btn",disabled:i.value||o.value,onClick:h},[i.value?(_e(),Ce(We,{key:0},[Je("Invio in corso...")],64)):o.value?(_e(),Ce(We,{key:1},[Je(" Email inviata")],64)):(_e(),Ce(We,{key:2},[Je("Rinvia email di verifica")],64))],8,ox)]))}}),cx=Object.assign(bn(ax,[["__scopeId","data-v-f958603b"]]),{__name:"AuthRegistrationSuccess"}),Bw=(t="RouteProvider")=>rt({name:t,props:{route:{type:Object,required:!0},vnode:Object,vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(e){const n=e.renderKey,r=e.route,s={};for(const i in e.route)Object.defineProperty(s,i,{get:()=>n===e.renderKey?e.route[i]:r[i],enumerable:!0});return Zn(Ss,Nn(s)),()=>e.vnode?Xe(e.vnode,{ref:e.vnodeRef}):e.vnode}}),lx=Bw(),zg=new WeakMap,ux=rt({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(t,{attrs:e,slots:n,expose:r}){const s=et(),i=ie(),o=Rt(Ss,null);let a;r({pageRef:i});const l=Rt(xy,null);let u;const h=s.deferHydration();if(s.isHydrating){const p=s.hooks.hookOnce("app:error",h);qt().beforeEach(p)}t.pageKey&&Ur(()=>t.pageKey,(p,g)=>{p!==g&&s.callHook("page:loading:start")});let d=!1;{const p=qt().beforeResolve(()=>{d=!1});ta(()=>{p()})}return()=>Xe(sv,{name:t.name,route:t.route,...e},{default:p=>{const g=fx(o,p.route,p.Component),E=o&&o.matched.length===p.route.matched.length;if(!p.Component){if(u&&!E)return u;h();return}if(u&&l&&!l.isCurrent(p.route))return u;if(g&&o&&(!l||l?.isCurrent(o)))return E?u:null;const _=Zu(p,t.pageKey),C=dx(o,p.route,p.Component);!s.isHydrating&&a===_&&!C&&bs(()=>{d=!0,s.callHook("page:loading:end")}),a=_;const S=!!(t.transition??p.route.meta.pageTransition??Mp),b=S&&hx([t.transition,p.route.meta.pageTransition,Mp,{onAfterLeave(){delete s._runningTransition,s.callHook("page:transition:finish",p.Component)}}]),y=t.keepalive??p.route.meta.keepalive??JA;return u=ov(S&&b,vS(y,Xe(Yh,{suspensible:!0,onPending:()=>{S&&(s._runningTransition=!0),s.callHook("page:start",p.Component)},onResolve:async()=>{await bs();try{s._route.sync?.(),await s.callHook("page:finish",p.Component),delete s._runningTransition,!d&&!C&&(d=!0,await s.callHook("page:loading:end"))}finally{h()}}},{default:()=>{const O={key:_||void 0,vnode:n.default?px(n.default,p):p.Component,route:p.route,renderKey:_||void 0,trackRootNodes:S,vnodeRef:i};if(!y)return Xe(lx,O);const V=p.Component.type,U=V;let I=zg.get(U);return I||(I=Bw(V.name||V.__name),zg.set(U,I)),Xe(I,O)}}))).default(),u}})}});function hx(t){const e=[];for(const n of t)n&&e.push({...n,onAfterLeave:n.onAfterLeave?uf(n.onAfterLeave):void 0});return Dy(...e)}function fx(t,e,n){if(!t)return!1;const r=e.matched.findIndex(s=>s.components?.default===n?.type);return!r||r===-1?!1:e.matched.slice(0,r).some((s,i)=>s.components?.default!==t.matched[i]?.components?.default)||n&&Zu({route:e,Component:n})!==Zu({route:t,Component:n})}function dx(t,e,n){return t?e.matched.findIndex(s=>s.components?.default===n?.type)<e.matched.length-1:!1}function px(t,e){const n=t(e);return n.length===1?Xe(n[0]):Xe(We,void 0,n)}const mx=rt({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},setup(t,e){return()=>Xe(Vr[t.name],t.layoutProps,e.slots)}}),gx={name:{type:[String,Boolean,Object],default:null},fallback:{type:[String,Object],default:null}},_x=rt({name:"NuxtLayout",inheritAttrs:!1,props:gx,setup(t,e){const n=et(),r=Rt(Ss),i=!r||r===ra()?iv():r,o=Ge(()=>{let h=Me(t.name)??i?.meta.layout??"default";return h&&!(h in Vr)&&t.fallback&&(h=Me(t.fallback)),h}),a=ar();e.expose({layoutRef:a});const l=n.deferHydration();if(n.isHydrating){const h=n.hooks.hookOnce("app:error",l);qt().beforeEach(h)}let u;return()=>{const h=o.value&&o.value in Vr,d=i?.meta.layoutTransition??YA,p=u;return u=o.value,ov(h&&d,{default:()=>Xe(Yh,{suspensible:!0,onResolve:()=>{bs(l)}},{default:()=>Xe(yx,{layoutProps:hy(e.attrs,{ref:a}),key:o.value||void 0,name:o.value,shouldProvide:!t.name,isRenderingNewLayout:g=>g!==p&&g===o.value,hasTransition:!!d},e.slots)})}).default()}}}),yx=rt({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean},isRenderingNewLayout:{type:Function,required:!0}},setup(t,e){const n=t.name;t.shouldProvide&&Zn(xy,{isCurrent:i=>n===(i.meta.layout??"default")});const r=Rt(Ss);if(r&&r===ra()){const i=iv(),o={};for(const a in i){const l=a;Object.defineProperty(o,l,{enumerable:!0,get:()=>t.isRenderingNewLayout(t.name)?i[l]:r[l]})}Zn(Ss,Nn(o))}return()=>!n||typeof n=="string"&&!(n in Vr)?e.slots.default?.():Xe(mx,{key:n,layoutProps:t.layoutProps,name:n},e.slots)}}),vx={class:"user-dropdown"},Ex={class:"user-name"},wx={key:0,class:"dropdown-menu"},Tx=rt({__name:"UserDropdown",props:{userName:{}},emits:["logout","goToProfile"],setup(t,{emit:e}){const n=e,r=ie(!1),s=()=>{r.value=!r.value},i=()=>{r.value=!1},o=()=>{i(),n("goToProfile")},a=()=>{n("logout"),i()};return(l,u)=>{const h=RI("click-outside");return co((_e(),Ce("div",vx,[H("button",{class:"dropdown-trigger",onClick:s},[H("span",Ex,Is(t.userName),1),(_e(),Ce("svg",{class:Zt(["arrow-icon",{"arrow-icon--open":r.value}]),width:"12",height:"12",viewBox:"0 0 12 12",fill:"none"},[...u[0]||(u[0]=[H("path",{d:"M3 4.5L6 7.5L9 4.5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])],2))]),he(tl,{name:"dropdown"},{default:on(()=>[r.value?(_e(),Ce("div",wx,[H("button",{class:"dropdown-item",onClick:o},[...u[1]||(u[1]=[H("svg",{class:"item-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},[H("circle",{cx:"8",cy:"5",r:"3",stroke:"currentColor","stroke-width":"1.5"}),H("path",{d:"M2 14c0-3 2.5-5 6-5s6 2 6 5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"})],-1),Je(" Profilo ",-1)])]),u[3]||(u[3]=H("button",{class:"dropdown-item dropdown-item--disabled",disabled:""},[H("svg",{class:"item-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},[H("circle",{cx:"8",cy:"8",r:"6",stroke:"currentColor","stroke-width":"1.5"}),H("path",{d:"M8 5v3l2 2",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"})]),Je(" Impostazioni ")],-1)),u[4]||(u[4]=H("div",{class:"dropdown-divider"},null,-1)),H("button",{class:"dropdown-item dropdown-item--danger",onClick:a},[...u[2]||(u[2]=[H("svg",{class:"item-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},[H("path",{d:"M6 2H4a2 2 0 00-2 2v8a2 2 0 002 2h2M11 11l3-3-3-3M14 8H6",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1),Je(" Logout ",-1)])])])):Rs("",!0)]),_:1})])),[[h,i]])}}}),Ix=Object.assign(bn(Tx,[["__scopeId","data-v-a926000c"]]),{__name:"UiUserDropdown"}),bx={class:"profile-page"},Ax={class:"profile-header"},Rx={class:"header-inner"},Sx={class:"header-right"},Cx={class:"profile-main"},Px={class:"profile-container"},kx={class:"profile-grid"},Nx={class:"profile-sidebar"},Ox={class:"user-info"},Dx={class:"user-nickname"},Vx={class:"user-email"},xx={class:"profile-content"},Mx={class:"profile-card"},Lx={class:"equipment-form"},Ux={class:"form-group"},Fx={class:"form-group"},Bx={class:"form-group"},$x={class:"form-group"},Hx=["disabled"],jx=rt({__name:"ProfilePage",props:{userEmail:{},userNickname:{}},emits:["logout","back"],setup(t,{emit:e}){const n=t,r=e,{currentUser:s,getUserProfile:i}=Hi(),o=Ge(()=>n.userNickname?n.userNickname:n.userEmail?n.userEmail.split("@")[0]??"Utente":"Utente"),a=ie({volante:"",corona:"",pedaliera:"",struttura:""}),l=ie(!1),u=ie(!1);qr(async()=>{if(s.value){const E=await i(s.value.uid);E?.equipment&&(a.value={...a.value,...E.equipment})}});const h=async()=>{if(s.value){l.value=!0;try{const{doc:E,updateDoc:_}=await _t(async()=>{const{doc:S,updateDoc:b}=await Promise.resolve().then(()=>gV);return{doc:S,updateDoc:b}},void 0,import.meta.url),{db:C}=await _t(async()=>{const{db:S}=await Promise.resolve().then(()=>EV);return{db:S}},void 0,import.meta.url);await _(E(C,"users",s.value.uid),{equipment:a.value}),u.value=!0,setTimeout(()=>u.value=!1,2e3)}catch(E){console.error("[PROFILE] Save error:",E)}finally{l.value=!1}}},d=()=>r("logout"),p=()=>{},g=()=>{r("back")};return(E,_)=>{const C=Ix;return _e(),Ce("div",bx,[H("header",Ax,[H("div",Rx,[H("div",{class:"header-left"},[H("button",{class:"back-btn",onClick:g},[..._[4]||(_[4]=[H("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},[H("path",{d:"M12 4L6 10L12 16",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),Je(" Dashboard ",-1)])])]),_[5]||(_[5]=H("div",{class:"header-brand"},[H("span",{class:"brand-badge"},"ACC"),H("span",{class:"brand-name"},"TELEMETRY")],-1)),H("div",Sx,[he(C,{"user-name":o.value,onLogout:d,onGoToProfile:p},null,8,["user-name"])])])]),H("main",Cx,[H("div",Px,[_[12]||(_[12]=H("h1",{class:"page-title"},"Profilo Pilota",-1)),H("div",kx,[H("div",Nx,[_[6]||(_[6]=uy('<div class="avatar-container" data-v-e186b73a><svg class="avatar-helmet" viewBox="0 0 100 100" fill="none" data-v-e186b73a><defs data-v-e186b73a><linearGradient id="helmetGrad" x1="0%" y1="0%" x2="100%" y2="100%" data-v-e186b73a><stop offset="0%" stop-color="#e10600" data-v-e186b73a></stop><stop offset="100%" stop-color="#ff6b00" data-v-e186b73a></stop></linearGradient></defs><path d="M50 10C30 10 15 25 15 45V60C15 75 25 85 40 88L45 90H55L60 88C75 85 85 75 85 60V45C85 25 70 10 50 10Z" stroke="url(#helmetGrad)" stroke-width="3" fill="none" data-v-e186b73a></path><path d="M20 45H80C80 45 78 55 50 55C22 55 20 45 20 45Z" stroke="url(#helmetGrad)" stroke-width="2" fill="rgba(225,6,0,0.1)" data-v-e186b73a></path><line x1="50" y1="15" x2="50" y2="85" stroke="url(#helmetGrad)" stroke-width="1.5" data-v-e186b73a></line></svg></div>',1)),H("div",Ox,[H("h2",Dx,Is(o.value),1),H("p",Vx,Is(t.userEmail),1)])]),H("div",xx,[H("div",Mx,[_[11]||(_[11]=H("h3",{class:"card-title"},[H("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[H("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2"}),H("circle",{cx:"12",cy:"12",r:"4",stroke:"currentColor","stroke-width":"2"})]),Je(" Attrezzatura Sim Racing ")],-1)),H("div",Lx,[H("div",Ux,[_[7]||(_[7]=H("label",{class:"form-label"},"Volante / Base",-1)),co(H("input",{"onUpdate:modelValue":_[0]||(_[0]=S=>a.value.volante=S),type:"text",class:"form-input",placeholder:"Es. Fanatec CSL DD 8Nm"},null,512),[[La,a.value.volante]])]),H("div",Fx,[_[8]||(_[8]=H("label",{class:"form-label"},"Corona / Rim",-1)),co(H("input",{"onUpdate:modelValue":_[1]||(_[1]=S=>a.value.corona=S),type:"text",class:"form-input",placeholder:"Es. ClubSport Formula V2"},null,512),[[La,a.value.corona]])]),H("div",Bx,[_[9]||(_[9]=H("label",{class:"form-label"},"Pedaliera",-1)),co(H("input",{"onUpdate:modelValue":_[2]||(_[2]=S=>a.value.pedaliera=S),type:"text",class:"form-input",placeholder:"Es. CSL Pedals + Load Cell"},null,512),[[La,a.value.pedaliera]])]),H("div",$x,[_[10]||(_[10]=H("label",{class:"form-label"},"Struttura / Rig",-1)),co(H("input",{"onUpdate:modelValue":_[3]||(_[3]=S=>a.value.struttura=S),type:"text",class:"form-input",placeholder:"Es. Next Level Racing 2.0"},null,512),[[La,a.value.struttura]])]),H("button",{class:Zt(["save-btn",{"save-btn--success":u.value}]),disabled:l.value,onClick:h},[l.value?(_e(),Ce(We,{key:0},[Je("Salvataggio...")],64)):u.value?(_e(),Ce(We,{key:1},[Je(" Salvato")],64)):(_e(),Ce(We,{key:2},[Je("Salva Modifiche")],64))],10,Hx)])])])])])])])}}}),qx=Object.assign(bn(jx,[["__scopeId","data-v-e186b73a"]]),{__name:"ProfilePage"}),Wx=PV(DV),Gx={id:"app"},Kx={key:"initializing",class:"initializing-screen"},zx={key:"register-success",class:"auth-wrapper"},Qx={class:"auth-card-standalone"},Yx={key:"loading",class:"loading-screen"},Jx={key:"dashboard",class:"dashboard-wrapper"},Xx={key:"profile",class:"profile-wrapper"},Zx="dissolve-fade-zoom",eM=rt({__name:"app",setup(t){ra();const e=qt();qr(()=>{const S=sessionStorage.getItem("spa-redirect-path");S&&(sessionStorage.removeItem("spa-redirect-path"),setTimeout(()=>{e.push(S)},100))});const{currentUser:n,isLoading:r,logout:s}=Hi(),i=ie("initializing"),o=ie("login"),a=ie(""),l=ie(!1),u=ie(!1);Ur(r,S=>{!S&&!l.value&&(l.value=!0,n.value?(a.value=n.value.email||"",u.value&&!n.value.emailVerified?(i.value="auth",o.value="register-success"):i.value="dashboard"):i.value="auth")},{immediate:!0}),Ur(n,(S,b)=>{l.value&&(S?(a.value=S.email||"",u.value&&!S.emailVerified?(i.value!=="auth"||o.value!=="register-success")&&(i.value="auth",o.value="register-success"):i.value==="auth"&&o.value!=="register-success"&&(i.value="loading",setTimeout(()=>{i.value="dashboard"},1e3))):b&&(i.value="auth",o.value="login"))});const h=S=>{if(a.value=S,u.value&&n.value&&!n.value.emailVerified){o.value="register-success";return}i.value="loading",setTimeout(()=>{i.value="dashboard",e.push("/panoramica")},1500)},d=S=>{a.value=S,u.value?o.value="register-success":(i.value="loading",setTimeout(()=>{i.value="dashboard",e.push("/panoramica")},1500))},p=()=>{i.value="loading",setTimeout(()=>{i.value="dashboard",e.push("/panoramica")},1500)},g=()=>{console.log("[AUTH] Resending verification email to:",a.value)},E=async()=>{await s(),a.value="",o.value="login",i.value="auth"},_=()=>{i.value="profile"},C=()=>{i.value="dashboard"};return Zn("goToProfile",_),(S,b)=>{const y=CV,O=Wx,V=ex,U=cx,I=ux,w=_x,v=qx;return _e(),Ce("div",Gx,[he(y),he(O),he(tl,{name:Zx,mode:"out-in"},{default:on(()=>[i.value==="initializing"?(_e(),Ce("div",Kx,[...b[0]||(b[0]=[H("div",{class:"initializing-content"},[H("div",{class:"initializing-spinner"})],-1)])])):i.value==="auth"&&o.value!=="register-success"?(_e(),Qt(V,{key:"auth",onLoginSuccess:h,onRegisterSuccess:d})):i.value==="auth"&&o.value==="register-success"?(_e(),Ce("div",zx,[H("div",Qx,[he(U,{email:a.value,"require-email-verification":u.value,onGoToDashboard:p,onResendEmail:g},null,8,["email","require-email-verification"])])])):i.value==="loading"?(_e(),Ce("div",Yx,[...b[1]||(b[1]=[H("div",{class:"loading-content"},[H("div",{class:"loading-spinner"}),H("p",{class:"loading-text"},"Caricamento Dashboard...")],-1)])])):i.value==="dashboard"?(_e(),Ce("div",Jx,[he(w,null,{default:on(()=>[he(I)]),_:1})])):i.value==="profile"?(_e(),Ce("div",Xx,[he(v,{onBack:C,onLogout:E})])):Rs("",!0)]),_:1})])}}}),tM={__name:"nuxt-error-page",props:{error:Object},setup(t){const n=t.error,r=Number(n.statusCode||500),s=r===404,i=n.statusMessage??(s?"Page Not Found":"Internal Server Error"),o=n.message||n.toString(),a=void 0,h=s?fc(()=>_t(()=>import("./BNa8fwzy.js"),__vite__mapDeps([36,5,37]),import.meta.url)):fc(()=>_t(()=>import("./BKWgOMts.js"),__vite__mapDeps([38,39]),import.meta.url));return(d,p)=>(_e(),Qt(Me(h),yT(ly({statusCode:Me(r),statusMessage:Me(i),description:Me(o),stack:Me(a)})),null,16))}},nM={key:0},Qg={__name:"nuxt-root",setup(t){const e=()=>null,n=et(),r=n.deferHydration();if(n.isHydrating){const u=n.hooks.hookOnce("app:error",r);qt().beforeEach(u)}const s=!1;Zn(Ss,ra()),n.hooks.callHookWith(u=>u.map(h=>h()),"vue:setup");const i=rl(),o=!1,a=/bot\b|chrome-lighthouse|facebookexternalhit|google\b/i;U_((u,h,d)=>{if(n.hooks.callHook("vue:error",u,h,d).catch(p=>console.error("[nuxt] Error in `vue:error` hook",p)),a.test(navigator.userAgent))return n.hooks.callHook("app:error",u),console.error(`[nuxt] Not rendering error page for bot with user agent \`${navigator.userAgent}\`:`,u),!1;if(Ly(u)&&(u.fatal||u.unhandled))return n.runWithContext(()=>ds(u)),!1});const l=!1;return(u,h)=>(_e(),Qt(Yh,{onResolve:Me(r)},{default:on(()=>[Me(o)?(_e(),Ce("div",nM)):Me(i)?(_e(),Qt(Me(tM),{key:1,error:Me(i)},null,8,["error"])):Me(l)?(_e(),Qt(Me(e),{key:2,context:Me(l)},null,8,["context"])):Me(s)?(_e(),Qt(AI(Me(s)),{key:3})):(_e(),Qt(Me(eM),{key:4}))]),_:1},8,["onResolve"]))}};let Yg;{let t;Yg=async function(){if(t)return t;const n=!!(window.__NUXT__?.serverRendered??document.getElementById("__NUXT_DATA__")?.dataset.ssr==="true"),r=n?qb(Qg):jb(Qg),s=tR({vueApp:r});async function i(o){await s.callHook("app:error",o),s.payload.error||=ws(o)}r.config.errorHandler=i,s.hook("app:suspense:resolve",()=>{r.config.errorHandler===i&&(r.config.errorHandler=void 0)}),!n&&Lp.id&&s.hook("app:suspense:resolve",()=>{document.getElementById(Lp.id)?.remove()});try{await sR(s,rC)}catch(o){i(o)}try{await s.hooks.callHook("app:created",r),await s.hooks.callHook("app:beforeMount",r),r.mount(XA),await s.hooks.callHook("app:mounted",r),await bs()}catch(o){i(o)}return r},t=Yg().catch(e=>{throw console.error("Error while mounting app:",e),e})}export{wV as $,cM as A,hM as B,Ce as C,_e as D,H as E,Is as F,he as G,on as H,Je as I,Qt as J,Me as K,qx as L,ra as M,Rs as N,We as O,sM as P,Xn as Q,Jt as R,mi as S,kh as T,Bc as U,No as V,Fw as W,Qo as X,Kc as Y,Zt as Z,bn as _,Hi as a,_M as a0,mM as a1,pM as a2,gM as a3,co as a4,oM as a5,La as a6,uy as a7,Ch as a8,hV as a9,EM as aa,br as ab,Ix as ac,SI as ad,db as ae,L_ as af,Pe as ag,bs as ah,Qc as ai,Rt as aj,Zn as ak,Xh as al,tl as am,vM as an,iM as ao,yM as ap,rt as b,qt as c,lM as d,ui as e,et as f,hf as g,ta as h,Xe as i,rM as j,pR as k,ZS as l,Ge as m,uM as n,qr as o,Ey as p,Ls as q,ie as r,ar as s,ef as t,nl as u,gA as v,Ur as w,Ec as x,pm as y,fM as z};
