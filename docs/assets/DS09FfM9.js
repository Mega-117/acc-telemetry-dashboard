import{b as U,C as o,D as n,E as a,X as C,M as x,a1 as I,F as l,_ as S,ae as sa,r as la,o as V,m as s,N as F,O as G,I as N,J as ra,H as na,K as h,G as w,n as oa}from"./CTuHB7ni.js";import{u as ia,a as ca,e as da,b as M,f as $,_ as ua}from"./BGgmpFgd.js";const va={class:"car-image-container"},ma={key:0,class:"car-placeholder",viewBox:"0 0 400 200",fill:"none"},fa={class:"car-info"},pa={class:"car-name"},ga={class:"car-meta"},_a={class:"car-subtitle"},ka={key:0,class:"car-date"},ya=U({__name:"FeaturedCarCard",props:{carName:{},carImage:{},subtitle:{},date:{}},setup(r){return(d,t)=>(n(),o("div",{class:"featured-car",onClick:t[0]||(t[0]=v=>d.$emit("click"))},[a("div",va,[a("div",{class:"car-image",style:C(r.carImage?{backgroundImage:`url(${r.carImage})`}:{})},[r.carImage?x("",!0):(n(),o("svg",ma,[...t[1]||(t[1]=[I('<defs data-v-02124ef2><linearGradient id="carGrad" x1="0%" y1="0%" x2="100%" y2="100%" data-v-02124ef2><stop offset="0%" stop-color="#e10600" stop-opacity="0.3" data-v-02124ef2></stop><stop offset="100%" stop-color="#ff6b00" stop-opacity="0.1" data-v-02124ef2></stop></linearGradient></defs><path d="M50 140 L80 120 L120 115 L150 100 L200 95 L280 95 L320 100 L350 115 L380 130 L380 150 L50 150 Z" fill="url(#carGrad)" stroke="#e10600" stroke-width="1.5" data-v-02124ef2></path><circle cx="110" cy="150" r="20" fill="#1a1a22" stroke="#e10600" stroke-width="1.5" data-v-02124ef2></circle><circle cx="110" cy="150" r="10" fill="none" stroke="#e10600" stroke-width="1" data-v-02124ef2></circle><circle cx="310" cy="150" r="20" fill="#1a1a22" stroke="#e10600" stroke-width="1.5" data-v-02124ef2></circle><circle cx="310" cy="150" r="10" fill="none" stroke="#e10600" stroke-width="1" data-v-02124ef2></circle><path d="M160 100 L200 92 L260 92 L290 100 L280 110 L170 110 Z" fill="rgba(255,255,255,0.05)" stroke="#e10600" stroke-width="1" data-v-02124ef2></path>',7)])]))],4),t[2]||(t[2]=a("div",{class:"image-overlay"},null,-1))]),a("div",fa,[a("h2",pa,l(r.carName||"MUSTANG GT3"),1),a("div",ga,[a("span",_a,l(r.subtitle||"Ultima auto utilizzata"),1),r.date?(n(),o("span",ka,l(r.date),1)):x("",!0)])]),t[3]||(t[3]=a("div",{class:"accent-glow"},null,-1))]))}}),La=Object.assign(S(ya,[["__scopeId","data-v-02124ef2"]]),{__name:"CardsFeaturedCarCard"}),ba={class:"track-layout"},Ca={class:"track-left"},xa={class:"track-info-overlay"},ha={class:"track-name"},wa={class:"title-badge"},$a={class:"track-right"},Ta={class:"stat-box"},Ia={class:"stat-value-row"},Ua={class:"stat-time"},Sa={class:"stat-box"},qa={class:"stat-value-row"},Aa={class:"stat-time"},Na={class:"stat-box stat-box--subtle"},Da={class:"stat-value-row"},Ea={class:"stat-time"},za=U({__name:"TrackPerformanceCard",props:{title:{},trackName:{},trackImage:{},bestQualy:{},bestRace:{},avgTime:{}},setup(r){return(d,t)=>(n(),o("div",{class:"track-card",onClick:t[1]||(t[1]=v=>d.$emit("click"))},[a("div",ba,[a("div",Ca,[a("div",{class:"track-image",style:C({backgroundImage:`url(${r.trackImage})`})},null,4),t[2]||(t[2]=a("div",{class:"track-image-overlay"},null,-1)),a("div",xa,[a("h2",ha,l(r.trackName),1),a("span",wa,l(r.title),1)])]),a("div",$a,[a("div",Ta,[t[4]||(t[4]=a("span",{class:"stat-label"},"BEST QUALY",-1)),a("div",Ia,[a("span",Ua,l(r.bestQualy||"--:--.---"),1),t[3]||(t[3]=I('<svg class="medal-svg medal-gold" viewBox="0 0 48 56" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-f3725e29><path d="M18 0L24 16L30 0H36L28 20L24 28L20 20L12 0H18Z" fill="#E53935" data-v-f3725e29></path><path d="M24 16L30 0H36L28 20L24 28" fill="#C62828" data-v-f3725e29></path><circle cx="24" cy="38" r="16" fill="#FFD54F" data-v-f3725e29></circle><circle cx="24" cy="38" r="16" fill="url(#goldGradient)" data-v-f3725e29></circle><circle cx="24" cy="38" r="13" stroke="#FFC107" stroke-width="2" fill="none" data-v-f3725e29></circle><path d="M24 28L26.5 34H33L28 38L30 45L24 41L18 45L20 38L15 34H21.5L24 28Z" fill="#FFC107" data-v-f3725e29></path><defs data-v-f3725e29><linearGradient id="goldGradient" x1="8" y1="22" x2="40" y2="54" gradientUnits="userSpaceOnUse" data-v-f3725e29><stop stop-color="#FFE082" data-v-f3725e29></stop><stop offset="1" stop-color="#FFB300" data-v-f3725e29></stop></linearGradient></defs></svg>',1))])]),a("div",Sa,[t[6]||(t[6]=a("span",{class:"stat-label"},"BEST RACE",-1)),a("div",qa,[a("span",Aa,l(r.bestRace||"--:--.---"),1),t[5]||(t[5]=I('<svg class="medal-svg medal-silver" viewBox="0 0 48 56" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-f3725e29><path d="M18 0L24 16L30 0H36L28 20L24 28L20 20L12 0H18Z" fill="#1E88E5" data-v-f3725e29></path><path d="M24 16L30 0H36L28 20L24 28" fill="#1565C0" data-v-f3725e29></path><circle cx="24" cy="38" r="16" fill="#E0E0E0" data-v-f3725e29></circle><circle cx="24" cy="38" r="16" fill="url(#silverGradient)" data-v-f3725e29></circle><circle cx="24" cy="38" r="13" stroke="#BDBDBD" stroke-width="2" fill="none" data-v-f3725e29></circle><text x="24" y="43" text-anchor="middle" font-size="14" font-weight="bold" fill="#757575" data-v-f3725e29>2</text><defs data-v-f3725e29><linearGradient id="silverGradient" x1="8" y1="22" x2="40" y2="54" gradientUnits="userSpaceOnUse" data-v-f3725e29><stop stop-color="#F5F5F5" data-v-f3725e29></stop><stop offset="1" stop-color="#9E9E9E" data-v-f3725e29></stop></linearGradient></defs></svg>',1))])]),a("div",Na,[t[8]||(t[8]=a("span",{class:"stat-label"},"AVG TIME",-1)),a("div",Da,[a("span",Ea,l(r.avgTime||"--:--.---"),1),t[7]||(t[7]=I('<svg class="medal-svg medal-bronze" viewBox="0 0 48 56" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-f3725e29><path d="M18 0L24 16L30 0H36L28 20L24 28L20 20L12 0H18Z" fill="#8D6E63" data-v-f3725e29></path><path d="M24 16L30 0H36L28 20L24 28" fill="#6D4C41" data-v-f3725e29></path><circle cx="24" cy="38" r="16" fill="#BCAAA4" data-v-f3725e29></circle><circle cx="24" cy="38" r="16" fill="url(#bronzeGradient)" data-v-f3725e29></circle><circle cx="24" cy="38" r="13" stroke="#A1887F" stroke-width="2" fill="none" data-v-f3725e29></circle><text x="24" y="43" text-anchor="middle" font-size="14" font-weight="bold" fill="#5D4037" data-v-f3725e29>3</text><defs data-v-f3725e29><linearGradient id="bronzeGradient" x1="8" y1="22" x2="40" y2="54" gradientUnits="userSpaceOnUse" data-v-f3725e29><stop stop-color="#D7CCC8" data-v-f3725e29></stop><stop offset="1" stop-color="#8D6E63" data-v-f3725e29></stop></linearGradient></defs></svg>',1))])]),a("button",{class:"cta-button",title:"Vedi sessioni",onClick:t[0]||(t[0]=sa(v=>d.$emit("cta-click"),["stop"]))},[...t[9]||(t[9]=[a("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[a("path",{d:"M5 12h14"}),a("path",{d:"M12 5l7 7-7 7"})],-1)])])])]),t[10]||(t[10]=a("div",{class:"accent-glow"},null,-1))]))}}),Ba=Object.assign(S(za,[["__scopeId","data-v-f3725e29"]]),{__name:"CardsTrackPerformanceCard"}),Fa={class:"activity-card"},Ga={class:"card-content"},Ma={class:"chart-area"},Ra={class:"y-axis"},Ha={class:"bars-container"},Pa={class:"bar-stack"},Qa={class:"day-label"},Va={class:"legend"},Oa={class:"legend-item legend-item--practice"},ja={class:"legend-text"},Za={class:"legend-value"},Ka={class:"legend-sessions"},Wa={class:"legend-item legend-item--qualify"},Ya={class:"legend-text"},Ja={class:"legend-value"},Xa={class:"legend-sessions"},at={class:"legend-item legend-item--race"},tt={class:"legend-text"},et={class:"legend-value"},st={class:"legend-sessions"},lt=U({__name:"ActivityCard",props:{data:{},practiceTotal:{},qualifyTotal:{},raceTotal:{}},setup(r){const d=r,t=la(!1);V(()=>{setTimeout(()=>{t.value=!0},100)});const v=s(()=>d.data||[{day:"Lun",practice:45,qualify:0,race:0},{day:"Mar",practice:0,qualify:0,race:0},{day:"Mer",practice:25,qualify:15,race:0},{day:"Gio",practice:12,qualify:0,race:95},{day:"Ven",practice:35,qualify:8,race:0},{day:"Sab",practice:0,qualify:0,race:38},{day:"Dom",practice:20,qualify:0,race:0}]),_=s(()=>{const m=v.value.map(e=>e.practice+e.qualify+e.race);return Math.max(...m,60)}),q=s(()=>{const m=_.value;return[0,Math.round(m/2),m]}),g=s(()=>d.practiceTotal||{minutes:137,sessions:5}),y=s(()=>d.qualifyTotal||{minutes:23,sessions:3}),L=s(()=>d.raceTotal||{minutes:133,sessions:2}),b=m=>"sess.";return(m,e)=>(n(),o("div",Fa,[e[9]||(e[9]=a("h2",{class:"card-title"},"AttivitÃ  (ultimi 7 giorni)",-1)),a("div",Ga,[a("div",Ma,[a("div",Ra,[(n(!0),o(F,null,G(q.value.slice().reverse(),i=>(n(),o("span",{key:i},l(i),1))),128))]),a("div",Ha,[(n(!0),o(F,null,G(v.value,(i,k)=>(n(),o("div",{key:i.day,class:"bar-column"},[a("div",Pa,[i.race>0?(n(),o("div",{key:0,class:"bar bar--race",style:C({height:t.value?`${i.race/_.value*100}%`:"0%",transitionDelay:`${k*40+200}ms`})},null,4)):x("",!0),i.qualify>0?(n(),o("div",{key:1,class:"bar bar--qualify",style:C({height:t.value?`${i.qualify/_.value*100}%`:"0%",transitionDelay:`${k*40+100}ms`})},null,4)):x("",!0),i.practice>0?(n(),o("div",{key:2,class:"bar bar--practice",style:C({height:t.value?`${i.practice/_.value*100}%`:"0%",transitionDelay:`${k*40}ms`})},null,4)):x("",!0)]),a("span",Qa,l(i.day),1)]))),128))])]),a("div",Va,[a("div",Oa,[e[2]||(e[2]=a("span",{class:"legend-dot"},null,-1)),a("div",ja,[e[1]||(e[1]=a("span",{class:"legend-label"},"PRACTICE",-1)),a("span",Za,[N(l(g.value.minutes),1),e[0]||(e[0]=a("small",null,"min",-1))]),a("span",Ka,l(g.value.sessions)+" "+l(b(g.value.sessions)),1)])]),a("div",Wa,[e[5]||(e[5]=a("span",{class:"legend-dot"},null,-1)),a("div",Ya,[e[4]||(e[4]=a("span",{class:"legend-label"},"QUALIFY",-1)),a("span",Ja,[N(l(y.value.minutes),1),e[3]||(e[3]=a("small",null,"min",-1))]),a("span",Xa,l(y.value.sessions)+" "+l(b(y.value.sessions)),1)])]),a("div",at,[e[8]||(e[8]=a("span",{class:"legend-dot"},null,-1)),a("div",tt,[e[7]||(e[7]=a("span",{class:"legend-label"},"RACE",-1)),a("span",et,[N(l(L.value.minutes),1),e[6]||(e[6]=a("small",null,"min",-1))]),a("span",st,l(L.value.sessions)+" "+l(b(L.value.sessions)),1)])])])]),e[10]||(e[10]=a("div",{class:"accent-glow"},null,-1))]))}}),rt=Object.assign(S(lt,[["__scopeId","data-v-44f7baed"]]),{__name:"CardsActivityCard"}),R=""+new URL("mustang_gt3.DdC5zVl9.png",import.meta.url).href,T=""+new URL("aston_martin_gt3.C7QgKu8Z.png",import.meta.url).href,H=""+new URL("ferrari_296_gt3.Crj5-Idz.png",import.meta.url).href,D=""+new URL("bmw_m4_gt3.BUssi1fv.png",import.meta.url).href,P=""+new URL("mclaren_720s_gt3.C3x6HAQW.png",import.meta.url).href,Q=""+new URL("default_gt3.Dh0cUdN5.png",import.meta.url).href,nt=""+new URL("spa.eyW79qze.jpg",import.meta.url).href,ot=""+new URL("monza.Bfqq58V6.jpg",import.meta.url).href,it={key:0,class:"loading-state"},ct={key:1,class:"panoramica-grid"},dt=U({__name:"PanoramicaPage",setup(r){const d={mustang:R,ford_mustang:R,amr:T,aston:T,aston_martin:T,v8_vantage:T,ferrari_296:H,"296_gt3":H,bmw:D,m4:D,m4_gt3:D,mclaren:P,"720s":P},{lastSession:t,lastUsedCar:v,trackStats:_,getActivityData:q,activityTotals:g,isLoading:y,loadSessions:L}=ia(),b=s(()=>q(7));V(async()=>{await L()});const m=s(()=>{if(!v.value)return Q;const u=v.value.toLowerCase();for(const[c,A]of Object.entries(d))if(u.includes(c))return A;return Q}),e=s(()=>v.value?ca(v.value).toUpperCase():"NESSUNA AUTO"),i=s(()=>t.value?da(t.value.meta.date_start):"-"),k=s(()=>[..._.value].sort((u,c)=>(c.lastSession||"").localeCompare(u.lastSession||""))),f=s(()=>k.value[0]||null),O=s(()=>f.value?M(f.value.track).toUpperCase():"NESSUNA PISTA"),j=s(()=>f.value?.bestQualy?$(f.value.bestQualy):"--:--.---"),Z=s(()=>f.value?.bestRace?$(f.value.bestRace):"--:--.---"),p=s(()=>k.value[1]||null),K=s(()=>p.value?M(p.value.track).toUpperCase():"NESSUNA PISTA"),W=s(()=>p.value?.bestQualy?$(p.value.bestQualy):"--:--.---"),Y=s(()=>p.value?.bestRace?$(p.value.bestRace):"--:--.---"),E={spa:"/tracks/track_spa.png",monza:"/tracks/track_monza.png",donington:"/tracks/track_donington.png",suzuka:"/tracks/track_suzuka.png",valencia:"/tracks/track_valencia.png"},J=s(()=>{const u=f.value?.track.toLowerCase().replace(/[^a-z0-9]/g,"_")||"";return E[u]||nt}),X=s(()=>{const u=p.value?.track.toLowerCase().replace(/[^a-z0-9]/g,"_")||"";return E[u]||ot}),z=u=>{if(!u)return;const c=u.track.toLowerCase().replace(/[^a-z0-9]/g,"_");oa(`/piste/${c}`)};return(u,c)=>{const A=La,B=Ba,aa=rt,ta=ua;return n(),ra(ta,null,{default:na(()=>[h(y)?(n(),o("div",it,[...c[2]||(c[2]=[a("p",null,"Caricamento dati...",-1)])])):(n(),o("div",ct,[w(A,{"car-name":e.value,"car-image":m.value,subtitle:"Ultima auto utilizzata",date:i.value},null,8,["car-name","car-image","date"]),w(B,{title:"Ultima pista","track-name":O.value,"track-image":J.value,"best-qualy":j.value,"best-race":Z.value,"avg-time":"--:--.---",onClick:c[0]||(c[0]=ea=>z(f.value))},null,8,["track-name","track-image","best-qualy","best-race"]),w(aa,{data:b.value,"practice-total":h(g).practice,"qualify-total":h(g).qualify,"race-total":h(g).race},null,8,["data","practice-total","qualify-total","race-total"]),w(B,{title:"Penultima pista","track-name":K.value,"track-image":X.value,"best-qualy":W.value,"best-race":Y.value,"avg-time":"--:--.---",onClick:c[1]||(c[1]=ea=>z(p.value))},null,8,["track-name","track-image","best-qualy","best-race"])]))]),_:1})}}}),mt=Object.assign(S(dt,[["__scopeId","data-v-7f115503"]]),{__name:"PagesPanoramicaPage"});export{mt as _};
