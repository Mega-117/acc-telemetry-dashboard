import{_ as O}from"./DnoIRUWj.js";import{_ as B}from"./zZe5Kl3A.js";import{b as N,r as g,m as y,w as L,J as U,D as i,H as j,E as t,C as l,G as H,T as r,U as S,Q as v,R as m,F as o,a0 as D,_ as Y}from"./BBedeHSb.js";const J={class:"filters"},Z={class:"filters-left"},K={class:"filter-group"},W={class:"segmented-control"},X={class:"filter-group"},tt=["value"],et={class:"filter-group"},st=["value"],at={class:"filter-group"},it={class:"segmented-control segmented-control--compact"},nt={class:"filters-right"},lt={class:"view-toggle"},ot={key:0,class:"no-results"},ct={class:"day-header"},rt={class:"day-date"},dt={class:"day-count"},ut={class:"sessions-list"},pt=["onClick"],gt={class:"row-left"},yt={class:"session-time"},vt={class:"session-track"},mt={class:"session-car"},bt={class:"row-right"},kt={class:"stat-chips"},_t={class:"stat-chip"},ft={class:"stat-chip"},Mt={class:"time-slot"},Tt={key:0,class:"time-badge time-badge--qualy"},ht={key:1,class:"time-badge time-badge--qualy time-badge--empty"},Gt={class:"time-slot"},Rt={key:0,class:"time-badge time-badge--race"},Qt={key:1,class:"time-badge time-badge--race time-badge--empty"},Ft={key:2,class:"day-cards"},Vt={class:"card-header"},Ct={class:"card-header-info"},wt={class:"card-date"},St={class:"card-count"},Dt={class:"card-sessions"},Pt=["onClick"],xt={class:"card-session-time"},At={class:"card-session-track"},$t={class:"card-session-car"},It={class:"card-stat-chips"},qt={class:"stat-chip"},zt={class:"stat-chip"},Et={class:"card-time-slot"},Ot={key:0,class:"time-badge time-badge--qualy"},Bt={key:1,class:"time-badge time-badge--qualy time-badge--empty"},Nt={class:"card-time-slot"},Lt={key:0,class:"time-badge time-badge--race"},Ut={key:1,class:"time-badge time-badge--race time-badge--empty"},R=20,jt=N({__name:"SessioniPage",emits:["go-to-session"],setup(Ht,{emit:P}){const x=P,d=g("all"),b=g("all"),k=g("all"),c=g("all"),_=g("list"),M=[{id:"s1",date:"2026-01-13",time:"19:34",type:"practice",track:"Donington",car:"Ford Mustang GT3",laps:18,stints:2,bestQualy:"1:29.456"},{id:"s2",date:"2026-01-13",time:"18:22",type:"practice",track:"Valencia",car:"Ford Mustang GT3",laps:12,stints:1,bestQualy:"1:31.890"},{id:"s3",date:"2026-01-10",time:"20:15",type:"race",track:"Spa",car:"AMR V8 Vantage GT3",laps:18,stints:2,bestRace:"2:17.890"},{id:"s4",date:"2026-01-10",time:"18:45",type:"practice",track:"Spa",car:"AMR V8 Vantage GT3",laps:24,stints:3,bestQualy:"2:16.543",bestRace:"2:18.234"},{id:"s5",date:"2026-01-10",time:"15:30",type:"qualify",track:"Spa",car:"AMR V8 Vantage GT3",laps:8,stints:1,bestQualy:"2:16.874"},{id:"s6",date:"2026-01-06",time:"21:00",type:"race",track:"Monza",car:"Ford Mustang GT3",laps:22,stints:2,bestRace:"1:48.345"},{id:"s7",date:"2026-01-06",time:"19:12",type:"qualify",track:"Monza",car:"Ford Mustang GT3",laps:6,stints:1,bestQualy:"1:47.234"},{id:"s8",date:"2026-01-06",time:"17:45",type:"practice",track:"Monza",car:"Ford Mustang GT3",laps:32,stints:3,bestQualy:"1:47.890",bestRace:"1:48.567"},{id:"s9",date:"2026-01-06",time:"15:30",type:"practice",track:"Monza",car:"Ford Mustang GT3",laps:28,stints:2,bestQualy:"1:48.234"},{id:"s10",date:"2026-01-06",time:"13:00",type:"race",track:"Monza",car:"Ford Mustang GT3",laps:20,stints:2,bestRace:"1:48.567",bestQualy:"1:47.890"},{id:"s11",date:"2026-01-06",time:"11:30",type:"qualify",track:"Monza",car:"Ford Mustang GT3",laps:5,stints:1,bestQualy:"1:47.678"},{id:"s12",date:"2026-01-06",time:"09:00",type:"race",track:"Monza",car:"Ford Mustang GT3",laps:18,stints:2,bestRace:"1:48.123"},{id:"s13",date:"2026-01-03",time:"20:30",type:"race",track:"Monza",car:"Ford Mustang GT3",laps:16,stints:2,bestRace:"1:49.234"},{id:"s14",date:"2026-01-03",time:"18:00",type:"practice",track:"Monza",car:"Ford Mustang GT3",laps:24,stints:2,bestQualy:"1:48.567"},{id:"s15",date:"2026-01-03",time:"16:30",type:"qualify",track:"Monza",car:"Ford Mustang GT3",laps:6,stints:1,bestQualy:"1:48.012",bestRace:"1:49.890"},{id:"s16",date:"2025-12-31",time:"22:00",type:"practice",track:"Paul Ricard",car:"Ford Mustang GT3",laps:20,stints:2,bestQualy:"1:54.234"},{id:"s17",date:"2025-12-31",time:"19:30",type:"practice",track:"Donington",car:"Ford Mustang GT3",laps:18,stints:2,bestQualy:"1:29.890"},{id:"s18",date:"2025-12-30",time:"21:15",type:"practice",track:"Donington",car:"Ford Mustang GT3",laps:27,stints:3,bestQualy:"1:29.123"},{id:"s19",date:"2025-12-30",time:"18:00",type:"practice",track:"Paul Ricard",car:"Ford Mustang GT3",laps:22,stints:2,bestQualy:"1:54.567"},{id:"s20",date:"2025-12-30",time:"15:30",type:"practice",track:"Donington",car:"AMR V8 Vantage GT3",laps:16,stints:2,bestQualy:"1:30.234"},{id:"s21",date:"2025-12-30",time:"12:00",type:"practice",track:"Donington",car:"Ford Mustang GT3",laps:30,stints:3,bestQualy:"1:29.456",bestRace:"1:30.890"},{id:"s22",date:"2025-12-28",time:"20:00",type:"race",track:"Spa",car:"Ford Mustang GT3",laps:20,stints:2,bestRace:"2:18.456"},{id:"s23",date:"2025-12-28",time:"18:30",type:"qualify",track:"Spa",car:"Ford Mustang GT3",laps:8,stints:1,bestQualy:"2:17.890"},{id:"s24",date:"2025-12-28",time:"16:00",type:"practice",track:"Spa",car:"Ford Mustang GT3",laps:24,stints:2,bestQualy:"2:18.234"},{id:"s25",date:"2025-12-25",time:"15:00",type:"practice",track:"Monza",car:"AMR V8 Vantage GT3",laps:18,stints:2,bestQualy:"1:49.123"},{id:"s26",date:"2025-12-25",time:"12:00",type:"race",track:"Monza",car:"AMR V8 Vantage GT3",laps:16,stints:2,bestRace:"1:49.890"},{id:"s27",date:"2025-12-22",time:"21:00",type:"practice",track:"Valencia",car:"Ford Mustang GT3",laps:22,stints:2,bestQualy:"1:32.456"},{id:"s28",date:"2025-12-22",time:"19:00",type:"qualify",track:"Valencia",car:"Ford Mustang GT3",laps:6,stints:1,bestQualy:"1:31.890"},{id:"s29",date:"2025-12-22",time:"17:00",type:"race",track:"Valencia",car:"Ford Mustang GT3",laps:18,stints:2,bestRace:"1:32.234"},{id:"s30",date:"2025-12-20",time:"20:30",type:"practice",track:"Donington",car:"Ford Mustang GT3",laps:28,stints:3,bestQualy:"1:28.890"},{id:"s31",date:"2025-12-20",time:"18:00",type:"practice",track:"Donington",car:"Ford Mustang GT3",laps:20,stints:2,bestQualy:"1:29.234"},{id:"s32",date:"2025-12-20",time:"15:30",type:"qualify",track:"Donington",car:"Ford Mustang GT3",laps:5,stints:1,bestQualy:"1:28.567"},{id:"s33",date:"2025-12-20",time:"13:00",type:"race",track:"Donington",car:"Ford Mustang GT3",laps:16,stints:2,bestRace:"1:29.123"},{id:"s34",date:"2025-12-18",time:"21:30",type:"practice",track:"Paul Ricard",car:"AMR V8 Vantage GT3",laps:24,stints:2,bestQualy:"1:55.234"},{id:"s35",date:"2025-12-18",time:"19:00",type:"practice",track:"Paul Ricard",car:"AMR V8 Vantage GT3",laps:20,stints:2,bestQualy:"1:55.890"},{id:"s36",date:"2025-12-15",time:"20:00",type:"race",track:"Monza",car:"Ford Mustang GT3",laps:22,stints:2,bestRace:"1:47.890"},{id:"s37",date:"2025-12-15",time:"18:00",type:"qualify",track:"Monza",car:"Ford Mustang GT3",laps:6,stints:1,bestQualy:"1:47.234"},{id:"s38",date:"2025-12-15",time:"16:00",type:"practice",track:"Monza",car:"Ford Mustang GT3",laps:28,stints:3,bestQualy:"1:47.567",bestRace:"1:48.123"},{id:"s39",date:"2025-12-12",time:"21:00",type:"practice",track:"Spa",car:"Ford Mustang GT3",laps:20,stints:2,bestQualy:"2:17.456"},{id:"s40",date:"2025-12-12",time:"19:00",type:"practice",track:"Spa",car:"Ford Mustang GT3",laps:18,stints:2,bestQualy:"2:18.123"},{id:"s41",date:"2025-12-12",time:"17:00",type:"race",track:"Spa",car:"Ford Mustang GT3",laps:16,stints:2,bestRace:"2:18.567"},{id:"s42",date:"2025-12-10",time:"20:30",type:"practice",track:"Donington",car:"AMR V8 Vantage GT3",laps:22,stints:2,bestQualy:"1:30.456"},{id:"s43",date:"2025-12-10",time:"18:00",type:"qualify",track:"Donington",car:"AMR V8 Vantage GT3",laps:6,stints:1,bestQualy:"1:30.123"},{id:"s44",date:"2025-12-10",time:"15:30",type:"race",track:"Donington",car:"AMR V8 Vantage GT3",laps:18,stints:2,bestRace:"1:30.890"},{id:"s45",date:"2025-12-08",time:"21:00",type:"practice",track:"Valencia",car:"Ford Mustang GT3",laps:24,stints:2,bestQualy:"1:32.789"},{id:"s46",date:"2025-12-08",time:"18:30",type:"practice",track:"Valencia",car:"Ford Mustang GT3",laps:20,stints:2,bestQualy:"1:33.123"}],A=y(()=>[...new Set(M.map(n=>n.track))].sort()),$=y(()=>[...new Set(M.map(n=>n.car))].sort()),T=y(()=>M.filter(n=>{if(d.value!=="all"&&n.type!==d.value||b.value!=="all"&&n.track!==b.value||k.value!=="all"&&n.car!==k.value)return!1;if(c.value!=="all"){const e=new Date("2026-01-13"),u=new Date(n.date),p=Math.floor((e.getTime()-u.getTime())/(1e3*60*60*24));if(c.value==="today"&&p>0||c.value==="7d"&&p>7||c.value==="30d"&&p>30)return!1}return!0}));y(()=>{const n={};for(const e of T.value)n[e.date]||(n[e.date]=[]),n[e.date].push(e);return Object.entries(n).sort(([e],[u])=>u.localeCompare(e)).map(([e,u])=>({date:e,sessions:u}))});const f=g(1),Q=y(()=>T.value.length),I=y(()=>Math.max(1,Math.ceil(Q.value/R))),h=y(()=>{const n=(f.value-1)*R,e=n+R,u=T.value.slice(n,e),p={};for(const s of u)p[s.date]||(p[s.date]=[]),p[s.date].push(s);return Object.entries(p).sort(([s],[a])=>a.localeCompare(s)).map(([s,a])=>({date:s,sessions:a}))});function q(){f.value=1}L([d,b,k,c],q);const F=g(null),G=g(!1);function z(){G.value=!0}function V(n){const e=new Date(n),u=e.getDate(),s=["GENNAIO","FEBBRAIO","MARZO","APRILE","MAGGIO","GIUGNO","LUGLIO","AGOSTO","SETTEMBRE","OTTOBRE","NOVEMBRE","DICEMBRE"][e.getMonth()],a=e.getFullYear();return`${u} ${s} ${a}`}function C(n){return{practice:"PRACTICE",qualify:"QUALIFY",race:"RACE"}[n]}function w(n){x("go-to-session",n)}return(n,e)=>{const u=O,p=B;return i(),U(p,null,{default:j(()=>[e[21]||(e[21]=t("h1",{class:"page-title"},"SESSIONI",-1)),t("div",J,[t("div",Z,[t("div",K,[t("div",W,[t("button",{class:r(["seg-btn",{"seg-btn--active":d.value==="all"}]),onClick:e[0]||(e[0]=s=>d.value="all")},"Tutto",2),t("button",{class:r(["seg-btn","seg-btn--practice",{"seg-btn--active":d.value==="practice"}]),onClick:e[1]||(e[1]=s=>d.value="practice")},"Practice",2),t("button",{class:r(["seg-btn","seg-btn--qualify",{"seg-btn--active":d.value==="qualify"}]),onClick:e[2]||(e[2]=s=>d.value="qualify")},"Qualify",2),t("button",{class:r(["seg-btn","seg-btn--race",{"seg-btn--active":d.value==="race"}]),onClick:e[3]||(e[3]=s=>d.value="race")},"Race",2)])]),t("div",X,[S(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>b.value=s),class:"filter-select"},[e[14]||(e[14]=t("option",{value:"all"},"Tutte le piste",-1)),(i(!0),l(v,null,m(A.value,s=>(i(),l("option",{key:s,value:s},o(s),9,tt))),128))],512),[[D,b.value]])]),t("div",et,[S(t("select",{"onUpdate:modelValue":e[5]||(e[5]=s=>k.value=s),class:"filter-select"},[e[15]||(e[15]=t("option",{value:"all"},"Tutte le auto",-1)),(i(!0),l(v,null,m($.value,s=>(i(),l("option",{key:s,value:s},o(s),9,st))),128))],512),[[D,k.value]])]),t("div",at,[t("div",it,[t("button",{class:r(["seg-btn",{"seg-btn--active":c.value==="today"}]),onClick:e[6]||(e[6]=s=>c.value="today")},"Oggi",2),t("button",{class:r(["seg-btn",{"seg-btn--active":c.value==="7d"}]),onClick:e[7]||(e[7]=s=>c.value="7d")},"7g",2),t("button",{class:r(["seg-btn",{"seg-btn--active":c.value==="30d"}]),onClick:e[8]||(e[8]=s=>c.value="30d")},"30g",2),t("button",{class:r(["seg-btn",{"seg-btn--active":c.value==="all"}]),onClick:e[9]||(e[9]=s=>c.value="all")},"Tutto",2)])])]),t("div",nt,[t("div",lt,[t("button",{class:r(["view-btn",{"view-btn--active":_.value==="list"}]),onClick:e[10]||(e[10]=s=>_.value="list"),title:"Vista lista"},[...e[16]||(e[16]=[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01"})],-1)])],2),t("button",{class:r(["view-btn",{"view-btn--active":_.value==="card"}]),onClick:e[11]||(e[11]=s=>_.value="card"),title:"Vista card"},[...e[17]||(e[17]=[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("rect",{x:"3",y:"3",width:"7",height:"7",rx:"1"}),t("rect",{x:"14",y:"3",width:"7",height:"7",rx:"1"}),t("rect",{x:"3",y:"14",width:"7",height:"7",rx:"1"}),t("rect",{x:"14",y:"14",width:"7",height:"7",rx:"1"})],-1)])],2)])])]),h.value.length===0?(i(),l("div",ot,[...e[18]||(e[18]=[t("p",null,"Nessuna sessione trovata con i filtri selezionati.",-1)])])):_.value==="list"?(i(),l("div",{key:1,ref_key:"sessionsRef",ref:F,class:r(["day-groups",{"day-groups--fading":G.value}]),onTransitionend:e[12]||(e[12]=s=>G.value=!1)},[(i(!0),l(v,null,m(h.value,s=>(i(),l("div",{key:s.date,class:"day-group"},[t("div",ct,[t("span",rt,o(V(s.date)),1),t("span",dt,o(s.sessions.length)+" sessioni",1)]),t("div",ut,[(i(!0),l(v,null,m(s.sessions,a=>(i(),l("div",{key:a.id,class:"session-row",onClick:E=>w(a.id)},[t("div",gt,[t("span",{class:r(["session-chip",`session-chip--${a.type}`])},o(C(a.type)),3),t("span",yt,o(a.time),1),t("span",vt,o(a.track),1),t("span",mt,o(a.car),1)]),t("div",bt,[t("div",kt,[t("span",_t,"GIRI "+o(a.laps),1),t("span",ft,"STINT "+o(a.stints),1)]),t("div",Mt,[a.bestQualy?(i(),l("span",Tt," Q "+o(a.bestQualy),1)):(i(),l("span",ht," Q — "))]),t("div",Gt,[a.bestRace?(i(),l("span",Rt," R "+o(a.bestRace),1)):(i(),l("span",Qt," R — "))]),e[19]||(e[19]=t("span",{class:"session-cta"},[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M9 18l6-6-6-6"})])],-1))])],8,pt))),128))])]))),128))],34)):(i(),l("div",Ft,[(i(!0),l(v,null,m(h.value,s=>(i(),l("div",{key:s.date,class:"day-card"},[t("div",Vt,[t("div",Ct,[t("span",wt,o(V(s.date)),1),t("span",St,o(s.sessions.length)+" sessioni",1)])]),t("div",Dt,[(i(!0),l(v,null,m(s.sessions,a=>(i(),l("div",{key:a.id,class:"card-session-row",onClick:E=>w(a.id)},[t("span",{class:r(["session-chip",`session-chip--${a.type}`])},o(C(a.type)),3),t("span",xt,o(a.time),1),t("span",At,o(a.track),1),t("span",$t,o(a.car),1),t("div",It,[t("span",qt,"GIRI "+o(a.laps),1),t("span",zt,"STINT "+o(a.stints),1)]),t("div",Et,[a.bestQualy?(i(),l("span",Ot," Q "+o(a.bestQualy),1)):(i(),l("span",Bt," Q — "))]),t("div",Nt,[a.bestRace?(i(),l("span",Lt," R "+o(a.bestRace),1)):(i(),l("span",Ut," R — "))]),e[20]||(e[20]=t("span",{class:"session-cta"},[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M9 18l6-6-6-6"})])],-1))],8,Pt))),128))])]))),128))])),H(u,{currentPage:f.value,"onUpdate:currentPage":e[13]||(e[13]=s=>f.value=s),"total-pages":I.value,"total-items":Q.value,"scroll-target":F.value,"item-label":"sessioni",onPageChange:z},null,8,["currentPage","total-pages","total-items","scroll-target"])]),_:1})}}}),Kt=Object.assign(Y(jt,[["__scopeId","data-v-bdaf1e7b"]]),{__name:"PagesSessioniPage"});export{Kt as _};
