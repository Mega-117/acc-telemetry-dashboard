import{_ as V}from"./B1tr0lWw.js";import{_ as H}from"./DI7hZavl.js";import{C as J,a as W,L as Y,P as j,b as K,p as X,c as Z,d as tt,i as st,e as et}from"./D3hSbbKL.js";import{d as I,r as u,k as b,G as L,z as r,D as at,A as t,E as f,B as a,C as S,H as G,M as w,y as d,K as it,L as ot,J as M,_ as nt,U as lt,q as rt}from"./5e6YxTzV.js";const ct={class:"track-header"},dt={class:"track-header-image"},ut=["src","alt"],pt={class:"track-header-info"},mt={class:"track-country-badge"},bt={class:"track-title"},gt={class:"track-fullname"},vt={class:"track-meta"},yt={class:"meta-item"},_t={class:"meta-item"},ft={class:"meta-item"},kt={class:"page-layout"},Tt={class:"main-content"},ht={class:"section"},Rt={class:"chart-container"},Ct={class:"chart-wrapper"},Mt=["onClick"],Qt={class:"row-left"},Gt={class:"session-time"},Ft={class:"session-date"},xt={class:"session-car"},At={class:"row-right"},Pt={class:"stat-chips"},Bt={class:"stat-chip"},St={class:"stat-chip"},wt={class:"time-slot"},It={key:0,class:"time-badge time-badge--qualy"},Lt={key:1,class:"time-badge time-badge--qualy time-badge--empty"},qt={class:"time-slot"},Dt={key:0,class:"time-badge time-badge--race"},$t={key:1,class:"time-badge time-badge--race time-badge--empty"},zt={class:"sidebar"},Nt={class:"sidebar-section"},Ot={class:"best-times-stack"},Et={class:"best-time-card best-time-card--qualy"},Ut={class:"time-value"},Vt={key:0,class:"time-conditions"},Ht={class:"best-time-card best-time-card--race"},Jt={class:"time-value"},Wt={key:0,class:"time-conditions"},Yt={class:"best-time-card best-time-card--avg"},jt={class:"time-value"},Kt={key:0,class:"time-conditions"},Xt={class:"sidebar-section"},Zt={class:"activity-stack"},ts={class:"activity-item"},ss={class:"activity-value"},es={class:"activity-item"},as={class:"activity-value"},is={class:"activity-label"},os={class:"activity-item"},ns={class:"activity-value"},ls={class:"activity-item"},rs={class:"activity-value"},Q=20,cs=I({__name:"TrackDetailPage",props:{trackId:{}},emits:["back"],setup(F,{emit:k}){J.register(W,Y,j,K,X,Z,tt,st);const T=F,y=k,i=u({id:T.trackId,name:"Monza",fullName:"Autodromo Nazionale Monza",country:"Italia",countryCode:"IT",length:"5.793 km",turns:11,image:"/tracks/track_monza.png",sessions:12,lastSession:"2026-01-06",bestQualy:"1:47.234",bestQualyConditions:{airTemp:22,trackTemp:28,grip:"Optimum"},bestRace:"1:48.123",bestRaceConditions:{airTemp:19,trackTemp:24,grip:"Fast"},bestAvgRace:"1:48.890",bestAvgRaceConditions:{airTemp:21,trackTemp:26,grip:"Optimum"}}),g=u({qualy:{pro:"1:46.500",amateur:"1:48.000",rookie:"1:50.000"},race:{pro:"1:47.500",amateur:"1:49.000",rookie:"1:51.000"},avgRace:{pro:"1:48.000",amateur:"1:49.500",rookie:"1:51.500"}});function _(o,s){if(!o)return"rookie";const n=p(o),c=p(s.pro),e=p(s.amateur);return n<=c?"pro":n<=e?"amateur":"rookie"}b(()=>({qualy:_(i.value.bestQualy,g.value.qualy),race:_(i.value.bestRace,g.value.race),avgRace:_(i.value.bestAvgRace,g.value.avgRace)}));const v=u({totalLaps:127,validLaps:98,validPercentage:77,timeOnTrack:"3h 42m",sessionsCount:5,lastActivity:"2026-01-06"}),h=u([{id:"1",date:"2026-01-06",time:"21:00",type:"race",car:"Ford Mustang GT3",laps:22,stints:2,bestRace:"1:48.123"},{id:"2",date:"2026-01-06",time:"19:12",type:"qualify",car:"Ford Mustang GT3",laps:6,stints:1,bestQualy:"1:47.234"},{id:"3",date:"2026-01-06",time:"17:45",type:"practice",car:"Ford Mustang GT3",laps:32,stints:3,bestQualy:"1:47.890",bestRace:"1:48.567"},{id:"4",date:"2026-01-03",time:"20:30",type:"race",car:"Ford Mustang GT3",laps:16,stints:2,bestRace:"1:49.234"},{id:"5",date:"2026-01-03",time:"18:00",type:"practice",car:"Ford Mustang GT3",laps:24,stints:2,bestQualy:"1:48.567"},{id:"6",date:"2025-12-28",time:"21:15",type:"practice",car:"Ford Mustang GT3",laps:20,stints:2,bestQualy:"1:48.890"},{id:"7",date:"2025-12-28",time:"19:00",type:"qualify",car:"Ford Mustang GT3",laps:5,stints:1,bestQualy:"1:48.234"},{id:"8",date:"2025-12-20",time:"20:30",type:"race",car:"Ford Mustang GT3",laps:18,stints:2,bestRace:"1:49.567"},{id:"9",date:"2025-12-20",time:"18:00",type:"practice",car:"Ford Mustang GT3",laps:28,stints:3,bestQualy:"1:48.123",bestRace:"1:49.234"},{id:"10",date:"2025-12-12",time:"21:00",type:"practice",car:"Ford Mustang GT3",laps:22,stints:2,bestQualy:"1:49.567"},{id:"11",date:"2025-12-12",time:"19:00",type:"qualify",car:"Ford Mustang GT3",laps:6,stints:1,bestQualy:"1:49.123"},{id:"12",date:"2025-12-05",time:"20:00",type:"race",car:"Ford Mustang GT3",laps:20,stints:2,bestRace:"1:50.234"},{id:"13",date:"2025-12-05",time:"18:00",type:"practice",car:"Ford Mustang GT3",laps:26,stints:2,bestQualy:"1:49.890"},{id:"14",date:"2025-11-28",time:"21:30",type:"practice",car:"Ford Mustang GT3",laps:24,stints:2,bestQualy:"1:50.567"},{id:"15",date:"2025-11-28",time:"19:15",type:"race",car:"Ford Mustang GT3",laps:16,stints:2,bestRace:"1:51.234"},{id:"16",date:"2025-11-20",time:"20:00",type:"practice",car:"Ford Mustang GT3",laps:22,stints:2,bestQualy:"1:51.890"},{id:"17",date:"2025-11-20",time:"18:00",type:"qualify",car:"Ford Mustang GT3",laps:5,stints:1,bestQualy:"1:51.234"},{id:"18",date:"2025-11-15",time:"21:00",type:"race",car:"Ford Mustang GT3",laps:18,stints:2,bestRace:"1:52.567"},{id:"19",date:"2025-11-15",time:"19:00",type:"practice",car:"Ford Mustang GT3",laps:28,stints:3,bestQualy:"1:52.123"},{id:"20",date:"2025-11-10",time:"20:30",type:"practice",car:"Ford Mustang GT3",laps:20,stints:2,bestQualy:"1:52.890"},{id:"21",date:"2025-11-10",time:"18:00",type:"qualify",car:"Ford Mustang GT3",laps:6,stints:1,bestQualy:"1:52.456"},{id:"22",date:"2025-11-05",time:"21:00",type:"race",car:"Ford Mustang GT3",laps:16,stints:2,bestRace:"1:53.234"},{id:"23",date:"2025-11-05",time:"19:00",type:"practice",car:"Ford Mustang GT3",laps:24,stints:2,bestQualy:"1:53.890"},{id:"24",date:"2025-10-28",time:"20:00",type:"practice",car:"Ford Mustang GT3",laps:22,stints:2,bestQualy:"1:54.123"},{id:"25",date:"2025-10-28",time:"18:00",type:"race",car:"Ford Mustang GT3",laps:18,stints:2,bestRace:"1:54.567"}]),R=u(1),q=b(()=>Math.max(1,Math.ceil(h.value.length/Q))),D=b(()=>{const o=(R.value-1)*Q,s=o+Q;return h.value.slice(o,s)}),x=u(null),C=u(!1);function $(){C.value=!0}const A=u([{date:"2025-11-15",bestQualy:"1:52.456",bestRace:"1:53.890"},{date:"2025-11-28",bestQualy:"1:51.234",bestRace:"1:52.567"},{date:"2025-12-05",bestQualy:"1:50.123",bestRace:"1:51.234"},{date:"2025-12-12",bestQualy:"1:49.567",bestRace:"1:50.890"},{date:"2025-12-20",bestQualy:"1:48.890",bestRace:"1:49.567"},{date:"2025-12-28",bestQualy:"1:48.234",bestRace:"1:49.123"},{date:"2026-01-03",bestQualy:"1:47.890",bestRace:"1:48.890"},{date:"2026-01-06",bestQualy:"1:47.234",bestRace:"1:48.123"}]);function p(o){if(!o||!o.includes(":"))return 0;const s=o.split(":"),n=parseInt(s[0]||"0"),e=(s[1]||"0.000").split("."),m=parseInt(e[0]||"0"),l=parseInt(e[1]||"0");return n*60+m+l/1e3}function P(o){const s=Math.floor(o/60),n=(o%60).toFixed(3);return`${s}:${n.padStart(6,"0")}`}const z=b(()=>{const o=A.value,s=o.map(e=>new Date(e.date).toLocaleDateString("it-IT",{day:"2-digit",month:"short"})),n=o.map(e=>e.bestQualy?p(e.bestQualy):null),c=o.map(e=>e.bestRace?p(e.bestRace):null);return{labels:s,datasets:[{label:"Best Qualifying",data:n,borderColor:"#f0b400",backgroundColor:"rgba(240, 180, 0, 0.1)",borderWidth:2.5,pointRadius:5,pointHoverRadius:7,pointBackgroundColor:"#f0b400",pointBorderColor:"#f0b400",tension:.3,fill:!1},{label:"Best Race",data:c,borderColor:"#ff6464",backgroundColor:"rgba(255, 100, 100, 0.1)",borderWidth:2.5,pointRadius:5,pointHoverRadius:7,pointBackgroundColor:"#ff6464",pointBorderColor:"#ff6464",tension:.3,fill:!1}]}}),N=b(()=>{const o=A.value,s=o.filter(l=>l.bestQualy).map(l=>p(l.bestQualy)),n=o.filter(l=>l.bestRace).map(l=>p(l.bestRace)),c=[...s,...n],e=Math.min(...c)-.5,m=Math.max(...c)+.5;return{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},plugins:{legend:{display:!0,position:"bottom",labels:{color:"rgba(255, 255, 255, 0.7)",usePointStyle:!0,padding:20,font:{family:"'Inter', sans-serif",size:12}}},tooltip:{enabled:!0,backgroundColor:"rgba(20, 20, 30, 0.95)",titleColor:"#fff",bodyColor:"rgba(255, 255, 255, 0.8)",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,cornerRadius:8,padding:12,callbacks:{label:function(l){const B=l.parsed.y;return B===null?"":`${l.dataset.label}: ${P(B)}`}}}},scales:{x:{grid:{color:"rgba(255, 255, 255, 0.06)",drawBorder:!1},ticks:{color:"rgba(255, 255, 255, 0.5)",font:{family:"'Inter', sans-serif",size:11}}},y:{min:e,max:m,grid:{color:"rgba(255, 255, 255, 0.06)",drawBorder:!1},ticks:{color:"rgba(255, 255, 255, 0.5)",font:{family:"'JetBrains Mono', monospace",size:11},callback:function(l){return P(l)}}}}}});function O(o){const s=new Date(o),n=s.getDate(),e=["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"][s.getMonth()],m=s.getFullYear();return`${n} ${e} ${m}`}function E(o){return{practice:"PRACTICE",qualify:"QUALIFY",race:"RACE"}[o]}function U(o){console.log("Navigate to session:",o)}return(o,s)=>{const n=V,c=H;return r(),L(c,null,{default:at(()=>[t("button",{class:"back-button",onClick:s[0]||(s[0]=e=>y("back"))},[...s[3]||(s[3]=[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M19 12H5M12 19l-7-7 7-7"})],-1),f(" Torna alle piste ",-1)])]),t("div",ct,[t("div",dt,[t("img",{src:i.value.image,alt:i.value.name},null,8,ut)]),t("div",pt,[t("span",mt,a(i.value.countryCode),1),t("h1",bt,a(i.value.name),1),t("p",gt,a(i.value.fullName),1),t("div",vt,[t("span",yt,[s[4]||(s[4]=t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),t("path",{d:"M2 17l10 5 10-5"}),t("path",{d:"M2 12l10 5 10-5"})],-1)),f(" "+a(i.value.length),1)]),t("span",_t,[s[5]||(s[5]=t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),t("path",{d:"M9 12l2 2 4-4"})],-1)),f(" "+a(i.value.turns)+" curve ",1)]),t("span",ft,[s[6]||(s[6]=t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),t("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),t("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),t("line",{x1:"3",y1:"10",x2:"21",y2:"10"})],-1)),f(" "+a(i.value.sessions)+" sessioni ",1)])])])]),t("div",kt,[t("div",Tt,[t("div",ht,[s[7]||(s[7]=t("h2",{class:"section-title"},"Storico Tempi",-1)),t("div",Rt,[t("div",Ct,[S(G(et),{data:z.value,options:N.value},null,8,["data","options"])])])]),t("div",{ref_key:"sessionsRef",ref:x,class:"section"},[s[9]||(s[9]=t("h2",{class:"section-title"},"Sessioni Recenti",-1)),t("div",{class:w(["sessions-list",{"sessions-list--fading":C.value}]),onTransitionend:s[1]||(s[1]=e=>C.value=!1)},[(r(!0),d(it,null,ot(D.value,e=>(r(),d("div",{key:e.id,class:"session-row",onClick:m=>U(e.id)},[t("div",Qt,[t("span",{class:w(["session-chip",`session-chip--${e.type}`])},a(E(e.type)),3),t("span",Gt,a(e.time),1),t("span",Ft,a(O(e.date)),1),t("span",xt,a(e.car),1)]),t("div",At,[t("div",Pt,[t("span",Bt,"GIRI "+a(e.laps),1),t("span",St,"STINT "+a(e.stints),1)]),t("div",wt,[e.bestQualy?(r(),d("span",It," Q "+a(e.bestQualy),1)):(r(),d("span",Lt," Q — "))]),t("div",qt,[e.bestRace?(r(),d("span",Dt," R "+a(e.bestRace),1)):(r(),d("span",$t," R — "))]),s[8]||(s[8]=t("span",{class:"session-cta"},[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M9 18l6-6-6-6"})])],-1))])],8,Mt))),128))],34)],512),S(n,{currentPage:R.value,"onUpdate:currentPage":s[2]||(s[2]=e=>R.value=e),"total-pages":q.value,"total-items":h.value.length,"scroll-target":x.value,"item-label":"sessioni",onPageChange:$},null,8,["currentPage","total-pages","total-items","scroll-target"])]),t("aside",zt,[t("div",Nt,[s[19]||(s[19]=t("h2",{class:"section-title"},"Migliori Tempi",-1)),t("div",Ot,[t("div",Et,[s[12]||(s[12]=t("span",{class:"time-label"},"Best Qualifying",-1)),t("span",Ut,a(i.value.bestQualy||"—:—.---"),1),i.value.bestQualyConditions?(r(),d("span",Vt,[t("span",null,"Aria "+a(i.value.bestQualyConditions.airTemp)+"°C",1),s[10]||(s[10]=t("span",{class:"condition-separator"},"·",-1)),t("span",null,"Asfalto "+a(i.value.bestQualyConditions.trackTemp)+"°C",1),s[11]||(s[11]=t("span",{class:"condition-separator"},"·",-1)),t("span",null,a(i.value.bestQualyConditions.grip),1)])):M("",!0)]),t("div",Ht,[s[15]||(s[15]=t("span",{class:"time-label"},"Best Race",-1)),t("span",Jt,a(i.value.bestRace||"—:—.---"),1),i.value.bestRaceConditions?(r(),d("span",Wt,[t("span",null,"Aria "+a(i.value.bestRaceConditions.airTemp)+"°C",1),s[13]||(s[13]=t("span",{class:"condition-separator"},"·",-1)),t("span",null,"Asfalto "+a(i.value.bestRaceConditions.trackTemp)+"°C",1),s[14]||(s[14]=t("span",{class:"condition-separator"},"·",-1)),t("span",null,a(i.value.bestRaceConditions.grip),1)])):M("",!0)]),t("div",Yt,[s[18]||(s[18]=t("span",{class:"time-label"},"Best Average Race",-1)),t("span",jt,a(i.value.bestAvgRace||"—:—.---"),1),i.value.bestAvgRaceConditions?(r(),d("span",Kt,[t("span",null,"Aria "+a(i.value.bestAvgRaceConditions.airTemp)+"°C",1),s[16]||(s[16]=t("span",{class:"condition-separator"},"·",-1)),t("span",null,"Asfalto "+a(i.value.bestAvgRaceConditions.trackTemp)+"°C",1),s[17]||(s[17]=t("span",{class:"condition-separator"},"·",-1)),t("span",null,a(i.value.bestAvgRaceConditions.grip),1)])):M("",!0)])])]),t("div",Xt,[s[23]||(s[23]=t("h2",{class:"section-title"},"Attività Ultimi 7 Giorni",-1)),t("div",Zt,[t("div",ts,[t("span",ss,a(v.value.totalLaps),1),s[20]||(s[20]=t("span",{class:"activity-label"},"Giri Totali",-1))]),t("div",es,[t("span",as,a(v.value.validLaps),1),t("span",is,"Giri Validi ("+a(v.value.validPercentage)+"%)",1)]),t("div",os,[t("span",ns,a(v.value.timeOnTrack),1),s[21]||(s[21]=t("span",{class:"activity-label"},"Tempo in Pista",-1))]),t("div",ls,[t("span",rs,a(v.value.sessionsCount),1),s[22]||(s[22]=t("span",{class:"activity-label"},"Sessioni",-1))])])])])])]),_:1})}}}),ds=Object.assign(nt(cs,[["__scopeId","data-v-20d0ed14"]]),{__name:"PagesTrackDetailPage"}),gs=I({__name:"[id]",setup(F){const k=lt(),T=b(()=>k.params.id);return(y,i)=>{const g=ds;return r(),L(g,{"track-id":G(T),onBack:i[0]||(i[0]=_=>("navigateTo"in y?y.navigateTo:G(rt))("/piste"))},null,8,["track-id"])}}});export{gs as default};
