import{_ as G}from"./DMjwSxBY.js";import{_ as M}from"./D3cWULwe.js";import{_ as $}from"./DDarNpKC.js";import{_ as E}from"./D80Um9qZ.js";import{_ as L}from"./BPlL82aG.js";import{_ as V}from"./CVQ4P-JJ.js";import{b as z,O as D,r as c,o as A,Z as H,S as O,T as R,t as F,E as t,F as e,G as o,P as d,I as p,J,K as k,H as f,Q as g,R as K,L as P,a0 as Q,_ as Z}from"./BtVV03O3.js";import{p as j}from"./6jWmhFls.js";import"./DHnQj81a.js";import"./BB2bT6Yu.js";import"./DOkxFcrS.js";import"./COp__Y4E.js";const q={class:"pilot-view"},U={class:"pilot-header"},W={class:"viewing-badge"},X={key:0,class:"pilot-tabs"},Y=["onClick"],oo={key:1,class:"detail-back-bar"},eo={class:"pilot-content"},to={key:0,class:"loading"},ao={key:0,class:"tab-content"},so={key:1,class:"tab-content"},no={key:2,class:"tab-content"},io=z({__name:"[id]",setup(lo){const h=D().params.id;j(h);const l=c(null),T=c(!0),n=c("panoramica"),i=c("none"),r=c(null),u=c(null),x=[{id:"panoramica",label:"PANORAMICA"},{id:"sessioni",label:"SESSIONI"},{id:"piste",label:"PISTE"}];A(async()=>{try{const a=await H(O(R,"users",h));a.exists()&&(l.value=a.data())}catch(a){console.error("Error loading pilot:",a)}finally{T.value=!1}});const y=F(()=>l.value?.firstName&&l.value?.lastName?`${l.value.firstName} ${l.value.lastName}`:l.value?.nickname||"Pilota");function v(a){r.value=a,u.value=null,i.value="track"}function b(a){u.value=a,r.value=null,i.value="session"}function m(){i.value="none",r.value=null,u.value=null}return(a,s)=>{const w=G,S=M,C=$,N=E,B=L,I=V;return e(),t("div",q,[o("div",U,[p(w,{to:"/piloti",class:"back-link"},{default:J(()=>[...s[0]||(s[0]=[o("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("path",{d:"M19 12H5M12 19l-7-7 7-7"})],-1),k(" Torna ai piloti ",-1)])]),_:1}),o("div",W,[s[2]||(s[2]=o("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),o("circle",{cx:"12",cy:"12",r:"3"})],-1)),o("span",null,[s[1]||(s[1]=k("Stai visualizzando: ",-1)),o("strong",null,f(y.value),1)])])]),i.value==="none"?(e(),t("nav",X,[(e(),t(g,null,K(x,_=>o("button",{key:_.id,class:Q(["pilot-tab",{"pilot-tab--active":n.value===_.id}]),onClick:ro=>n.value=_.id},f(_.label),11,Y)),64))])):d("",!0),i.value!=="none"?(e(),t("div",oo,[o("button",{class:"detail-back-btn",onClick:m},[s[3]||(s[3]=o("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("path",{d:"M19 12H5M12 19l-7-7 7-7"})],-1)),k(" Torna a "+f(n.value==="panoramica"?"Panoramica":n.value==="sessioni"?"Sessioni":"Piste"),1)])])):d("",!0),o("div",eo,[T.value?(e(),t("div",to,"Caricamento...")):(e(),t(g,{key:1},[i.value==="track"&&r.value?(e(),P(S,{key:0,"track-id":r.value,onBack:m,onGoToSession:b},null,8,["track-id"])):i.value==="session"&&u.value?(e(),P(C,{key:1,"session-id":u.value,onBack:m,onGoToTrack:v},null,8,["session-id"])):(e(),t(g,{key:2},[n.value==="panoramica"?(e(),t("div",ao,[p(N,{onGoToTrack:v})])):d("",!0),n.value==="sessioni"?(e(),t("div",so,[p(B,{onGoToSession:b})])):d("",!0),n.value==="piste"?(e(),t("div",no,[p(I,{onGoToTrack:v})])):d("",!0)],64))],64))])])}}}),xo=Z(io,[["__scopeId","data-v-d734ba47"]]);export{xo as default};
