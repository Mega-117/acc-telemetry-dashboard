import{b as N,E as u,F as i,G as a,$ as R,P as U,ab as q,H as l,_ as E,r as ra,o as na,t as n,Q as Z,R as W,K as F,a2 as Ca,a6 as xa,ao as Ia,a3 as Y,w as Ta,a4 as C,c as $a,L as Ra,J as Ua,M as B,I as S}from"./n-h4XRH2.js";import{_ as Aa}from"./BmRGI7wq.js";import{u as Ba}from"./CNvh1sRF.js";import{u as Sa}from"./Cl7xkSWa.js";const za={class:"featured-car"},Da={class:"car-image-container"},qa={key:0,class:"car-placeholder",viewBox:"0 0 400 200",fill:"none"},Na={class:"car-info"},Ea={class:"car-name"},Fa={class:"car-meta"},Ga={class:"car-subtitle"},Pa={key:0,class:"car-date"},Ma=N({__name:"FeaturedCarCard",props:{carName:{},carImage:{},subtitle:{},date:{}},setup(c){return(p,e)=>(i(),u("div",za,[a("div",Da,[a("div",{class:"car-image",style:R(c.carImage?{backgroundImage:`url(${c.carImage})`}:{})},[c.carImage?U("",!0):(i(),u("svg",qa,[...e[0]||(e[0]=[q('<defs data-v-ed41f108><linearGradient id="carGrad" x1="0%" y1="0%" x2="100%" y2="100%" data-v-ed41f108><stop offset="0%" stop-color="#e10600" stop-opacity="0.3" data-v-ed41f108></stop><stop offset="100%" stop-color="#ff6b00" stop-opacity="0.1" data-v-ed41f108></stop></linearGradient></defs><path d="M50 140 L80 120 L120 115 L150 100 L200 95 L280 95 L320 100 L350 115 L380 130 L380 150 L50 150 Z" fill="url(#carGrad)" stroke="#e10600" stroke-width="1.5" data-v-ed41f108></path><circle cx="110" cy="150" r="20" fill="#1a1a22" stroke="#e10600" stroke-width="1.5" data-v-ed41f108></circle><circle cx="110" cy="150" r="10" fill="none" stroke="#e10600" stroke-width="1" data-v-ed41f108></circle><circle cx="310" cy="150" r="20" fill="#1a1a22" stroke="#e10600" stroke-width="1.5" data-v-ed41f108></circle><circle cx="310" cy="150" r="10" fill="none" stroke="#e10600" stroke-width="1" data-v-ed41f108></circle><path d="M160 100 L200 92 L260 92 L290 100 L280 110 L170 110 Z" fill="rgba(255,255,255,0.05)" stroke="#e10600" stroke-width="1" data-v-ed41f108></path>',7)])]))],4),e[1]||(e[1]=a("div",{class:"image-overlay"},null,-1))]),a("div",Na,[a("h2",Ea,l(c.carName||"MUSTANG GT3"),1),a("div",Fa,[a("span",Ga,l(c.subtitle||"Ultima auto utilizzata"),1),c.date?(i(),u("span",Pa,l(c.date),1)):U("",!0)])]),e[2]||(e[2]=a("div",{class:"accent-glow"},null,-1))]))}}),Qa=Object.assign(E(Ma,[["__scopeId","data-v-ed41f108"]]),{__name:"CardsFeaturedCarCard"}),Oa={class:"track-layout"},Va={class:"track-left"},Ha={class:"track-info-overlay"},ja={class:"track-name"},Ka={class:"title-badge"},Za={class:"track-right"},Wa={class:"stat-box"},Ya={class:"stat-value-row"},Ja={class:"stat-time"},Xa={class:"stat-box"},at={class:"stat-value-row"},tt={class:"stat-time"},et={class:"stat-box stat-box--subtle"},st={class:"stat-value-row"},rt={class:"stat-time"},nt=N({__name:"TrackPerformanceCard",props:{title:{},trackName:{},trackImage:{},bestQualy:{},bestRace:{},avgTime:{}},setup(c){return(p,e)=>(i(),u("div",{class:"track-card",onClick:e[0]||(e[0]=b=>p.$emit("click"))},[a("div",Oa,[a("div",Va,[a("div",{class:"track-image",style:R({backgroundImage:`url(${c.trackImage})`})},null,4),e[1]||(e[1]=a("div",{class:"track-image-overlay"},null,-1)),a("div",Ha,[a("h2",ja,l(c.trackName),1),a("span",Ka,l(c.title),1)])]),a("div",Za,[a("div",Wa,[e[3]||(e[3]=a("span",{class:"stat-label"},"BEST QUALY",-1)),a("div",Ya,[a("span",Ja,l(c.bestQualy||"--:--.---"),1),e[2]||(e[2]=q('<svg class="medal-svg medal-gold" viewBox="0 0 48 56" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-011d9960><path d="M18 0L24 16L30 0H36L28 20L24 28L20 20L12 0H18Z" fill="#E53935" data-v-011d9960></path><path d="M24 16L30 0H36L28 20L24 28" fill="#C62828" data-v-011d9960></path><circle cx="24" cy="38" r="16" fill="#FFD54F" data-v-011d9960></circle><circle cx="24" cy="38" r="16" fill="url(#goldGradient)" data-v-011d9960></circle><circle cx="24" cy="38" r="13" stroke="#FFC107" stroke-width="2" fill="none" data-v-011d9960></circle><path d="M24 28L26.5 34H33L28 38L30 45L24 41L18 45L20 38L15 34H21.5L24 28Z" fill="#FFC107" data-v-011d9960></path><defs data-v-011d9960><linearGradient id="goldGradient" x1="8" y1="22" x2="40" y2="54" gradientUnits="userSpaceOnUse" data-v-011d9960><stop stop-color="#FFE082" data-v-011d9960></stop><stop offset="1" stop-color="#FFB300" data-v-011d9960></stop></linearGradient></defs></svg>',1))])]),a("div",Xa,[e[5]||(e[5]=a("span",{class:"stat-label"},"BEST RACE",-1)),a("div",at,[a("span",tt,l(c.bestRace||"--:--.---"),1),e[4]||(e[4]=q('<svg class="medal-svg medal-silver" viewBox="0 0 48 56" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-011d9960><path d="M18 0L24 16L30 0H36L28 20L24 28L20 20L12 0H18Z" fill="#1E88E5" data-v-011d9960></path><path d="M24 16L30 0H36L28 20L24 28" fill="#1565C0" data-v-011d9960></path><circle cx="24" cy="38" r="16" fill="#E0E0E0" data-v-011d9960></circle><circle cx="24" cy="38" r="16" fill="url(#silverGradient)" data-v-011d9960></circle><circle cx="24" cy="38" r="13" stroke="#BDBDBD" stroke-width="2" fill="none" data-v-011d9960></circle><text x="24" y="43" text-anchor="middle" font-size="14" font-weight="bold" fill="#757575" data-v-011d9960>2</text><defs data-v-011d9960><linearGradient id="silverGradient" x1="8" y1="22" x2="40" y2="54" gradientUnits="userSpaceOnUse" data-v-011d9960><stop stop-color="#F5F5F5" data-v-011d9960></stop><stop offset="1" stop-color="#9E9E9E" data-v-011d9960></stop></linearGradient></defs></svg>',1))])]),a("div",et,[e[7]||(e[7]=a("span",{class:"stat-label"},"AVG TIME",-1)),a("div",st,[a("span",rt,l(c.avgTime||"--:--.---"),1),e[6]||(e[6]=q('<svg class="medal-svg medal-bronze" viewBox="0 0 48 56" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-011d9960><path d="M18 0L24 16L30 0H36L28 20L24 28L20 20L12 0H18Z" fill="#8D6E63" data-v-011d9960></path><path d="M24 16L30 0H36L28 20L24 28" fill="#6D4C41" data-v-011d9960></path><circle cx="24" cy="38" r="16" fill="#BCAAA4" data-v-011d9960></circle><circle cx="24" cy="38" r="16" fill="url(#bronzeGradient)" data-v-011d9960></circle><circle cx="24" cy="38" r="13" stroke="#A1887F" stroke-width="2" fill="none" data-v-011d9960></circle><text x="24" y="43" text-anchor="middle" font-size="14" font-weight="bold" fill="#5D4037" data-v-011d9960>3</text><defs data-v-011d9960><linearGradient id="bronzeGradient" x1="8" y1="22" x2="40" y2="54" gradientUnits="userSpaceOnUse" data-v-011d9960><stop stop-color="#D7CCC8" data-v-011d9960></stop><stop offset="1" stop-color="#8D6E63" data-v-011d9960></stop></linearGradient></defs></svg>',1))])])])]),e[8]||(e[8]=a("div",{class:"accent-glow"},null,-1))]))}}),lt=Object.assign(E(nt,[["__scopeId","data-v-011d9960"]]),{__name:"CardsTrackPerformanceCard"}),ct={class:"activity-card"},ot={class:"card-content"},it={class:"chart-area"},dt={class:"y-axis"},ut={class:"bars-container"},mt={class:"bar-stack"},vt={class:"day-label"},gt={class:"legend"},pt={class:"legend-item legend-item--practice"},_t={class:"legend-text"},kt={class:"legend-value"},ft={class:"legend-sessions"},yt={class:"legend-item legend-item--qualify"},ht={class:"legend-text"},bt={class:"legend-value"},Lt={class:"legend-sessions"},wt={class:"legend-item legend-item--race"},Ct={class:"legend-text"},xt={class:"legend-value"},It={class:"legend-sessions"},Tt=N({__name:"ActivityCard",props:{data:{},practiceTotal:{},qualifyTotal:{},raceTotal:{}},setup(c){const p=c,e=ra(!1);na(()=>{setTimeout(()=>{e.value=!0},100)});const b=n(()=>p.data||[{day:"Lun",practice:45,qualify:0,race:0},{day:"Mar",practice:0,qualify:0,race:0},{day:"Mer",practice:25,qualify:15,race:0},{day:"Gio",practice:12,qualify:0,race:95},{day:"Ven",practice:35,qualify:8,race:0},{day:"Sab",practice:0,qualify:0,race:38},{day:"Dom",practice:20,qualify:0,race:0}]),k=n(()=>{const d=b.value.map(r=>r.practice+r.qualify+r.race);return Math.max(...d,60)}),A=n(()=>{const d=k.value;return[0,Math.round(d/2),d]}),_=n(()=>p.practiceTotal||{minutes:137,sessions:5}),L=n(()=>p.qualifyTotal||{minutes:23,sessions:3}),w=n(()=>p.raceTotal||{minutes:133,sessions:2}),h=d=>"sess.",f=d=>{if(d>=60){const r=Math.floor(d/60),o=d%60;return o===0?{value:`${r}`,unit:"h"}:{value:`${r}h ${o.toString().padStart(2,"0")}`,unit:""}}return{value:`${d}`,unit:"min"}};return(d,r)=>(i(),u("div",ct,[r[6]||(r[6]=a("h2",{class:"card-title"},"Attività (ultimi 7 giorni)",-1)),a("div",ot,[a("div",it,[a("div",dt,[(i(!0),u(Z,null,W(A.value.slice().reverse(),o=>(i(),u("span",{key:o},l(o),1))),128))]),a("div",ut,[(i(!0),u(Z,null,W(b.value,(o,x)=>(i(),u("div",{key:o.day,class:"bar-column"},[a("div",mt,[o.race>0?(i(),u("div",{key:0,class:"bar bar--race",style:R({height:e.value?`${o.race/k.value*100}%`:"0%",transitionDelay:`${x*40+200}ms`})},null,4)):U("",!0),o.qualify>0?(i(),u("div",{key:1,class:"bar bar--qualify",style:R({height:e.value?`${o.qualify/k.value*100}%`:"0%",transitionDelay:`${x*40+100}ms`})},null,4)):U("",!0),o.practice>0?(i(),u("div",{key:2,class:"bar bar--practice",style:R({height:e.value?`${o.practice/k.value*100}%`:"0%",transitionDelay:`${x*40}ms`})},null,4)):U("",!0)]),a("span",vt,l(o.day),1)]))),128))])]),a("div",gt,[a("div",pt,[r[1]||(r[1]=a("span",{class:"legend-dot"},null,-1)),a("div",_t,[r[0]||(r[0]=a("span",{class:"legend-label"},"PRACTICE",-1)),a("span",kt,[F(l(f(_.value.minutes).value),1),a("small",null,l(f(_.value.minutes).unit),1)]),a("span",ft,l(_.value.sessions)+" "+l(h(_.value.sessions)),1)])]),a("div",yt,[r[3]||(r[3]=a("span",{class:"legend-dot"},null,-1)),a("div",ht,[r[2]||(r[2]=a("span",{class:"legend-label"},"QUALIFY",-1)),a("span",bt,[F(l(f(L.value.minutes).value),1),a("small",null,l(f(L.value.minutes).unit),1)]),a("span",Lt,l(L.value.sessions)+" "+l(h(L.value.sessions)),1)])]),a("div",wt,[r[5]||(r[5]=a("span",{class:"legend-dot"},null,-1)),a("div",Ct,[r[4]||(r[4]=a("span",{class:"legend-label"},"RACE",-1)),a("span",xt,[F(l(f(w.value.minutes).value),1),a("small",null,l(f(w.value.minutes).unit),1)]),a("span",It,l(w.value.sessions)+" "+l(h(w.value.sessions)),1)])])])]),r[7]||(r[7]=a("div",{class:"accent-glow"},null,-1))]))}}),$t=Object.assign(E(Tt,[["__scopeId","data-v-85e59ded"]]),{__name:"CardsActivityCard"}),J=""+new URL("mustang_gt3.DdC5zVl9.png",import.meta.url).href,T=""+new URL("aston_martin_gt3.C7QgKu8Z.png",import.meta.url).href,X=""+new URL("ferrari_296_gt3.Crj5-Idz.png",import.meta.url).href,G=""+new URL("ferrari_488_gt3.BRaN14KV.png",import.meta.url).href,$=""+new URL("bmw_m4_gt3.BUssi1fv.png",import.meta.url).href,P=""+new URL("mclaren_720s_gt3.C3x6HAQW.png",import.meta.url).href,M=""+new URL("audi_r8_gt3.Ba_F7OtO.png",import.meta.url).href,aa=""+new URL("bentley_continental_gt3.Q_dbVOmB.png",import.meta.url).href,ta=""+new URL("honda_nsx_gt3.Cnb1Zyps.png",import.meta.url).href,Q=""+new URL("lamborghini_huracan_gt3.BdVrgxzY.png",import.meta.url).href,O=""+new URL("mercedes_amg_gt3.Delb_tx1.png",import.meta.url).href,z=""+new URL("porsche_911_gt3.BepnLlTq.png",import.meta.url).href,D=""+new URL("nissan_gtr_gt3.CC-42WGe.png",import.meta.url).href,V=""+new URL("lexus_rcf_gt3.DKITE67Z.png",import.meta.url).href,ea=""+new URL("jaguar_gt3.DByDBVZz.png",import.meta.url).href,sa=""+new URL("default_gt3.Dh0cUdN5.png",import.meta.url).href,Rt=""+new URL("spa.eyW79qze.jpg",import.meta.url).href,Ut=""+new URL("monza.Bfqq58V6.jpg",import.meta.url).href,At={key:0,class:"loading-state"},Bt={key:1,class:"panoramica-grid"},St=N({__name:"PanoramicaPage",emits:["go-to-track"],setup(c,{emit:p}){const e={mustang:J,ford_mustang:J,amr:T,aston:T,aston_martin:T,v8_vantage:T,v12_vantage:T,ferrari_296:X,"296_gt3":X,ferrari_488:G,"488_gt3":G,488:G,bmw:$,m4:$,m4_gt3:$,m6:$,m6_gt3:$,mclaren:P,"720s":P,"650s":P,audi:M,r8:M,r8_lms:M,bentley:aa,continental:aa,honda:ta,nsx:ta,lamborghini:Q,huracan:Q,huracán:Q,mercedes:O,amg:O,amg_gt:O,porsche:z,911:z,991:z,992:z,nissan:D,gtr:D,"gt-r":D,nismo:D,lexus:V,rcf:V,rc_f:V,jaguar:ea,emil_frey:ea},{getPublicPath:b}=Ba(),k=Sa(),{lastSession:A,lastUsedCar:_,trackStats:L,getActivityData:w,activityTotals:h,isLoading:f,loadSessions:d,getBestTimesForGrip:r,isPrefetchComplete:o}=Ca(),x=n(()=>w(7)),y=ra({});na(async()=>{await d(k.value||void 0)});const la=n(()=>{if(!_.value)return sa;const s=_.value.toLowerCase();for(const[t,I]of Object.entries(e))if(s.includes(t))return I;return sa}),ca=n(()=>_.value?xa(_.value).toUpperCase():"NESSUNA AUTO"),oa=n(()=>A.value?Ia(A.value.meta.date_start):"-"),H=n(()=>[...L.value].sort((s,t)=>(t.lastSession||"").localeCompare(s.lastSession||""))),m=n(()=>H.value[0]||null),ia=n(()=>m.value?Y(m.value.track).toUpperCase():"NESSUNA PISTA"),v=n(()=>H.value[1]||null),da=n(()=>v.value?Y(v.value.track).toUpperCase():"NESSUNA PISTA");Ta([m,v,o],async([s,t,I])=>{if(!I){console.log("[PANORAMICA] Waiting for prefetch to complete...");return}if(s?.track){const g=await r(s.track,"Optimum",k.value||void 0);y.value[s.track.toLowerCase()]={bestQualy:g.bestQualy,bestRace:g.bestRace,bestAvgRace:g.bestAvgRace}}if(t?.track){const g=await r(t.track,"Optimum",k.value||void 0);y.value[t.track.toLowerCase()]={bestQualy:g.bestQualy,bestRace:g.bestRace,bestAvgRace:g.bestAvgRace}}},{immediate:!0});const ua=n(()=>{if(!m.value?.track)return"--:--.---";const s=m.value.track.toLowerCase(),t=y.value[s]?.bestQualy;return t?C(t):"--:--.---"}),ma=n(()=>{if(!m.value?.track)return"--:--.---";const s=m.value.track.toLowerCase(),t=y.value[s]?.bestRace;return t?C(t):"--:--.---"}),va=n(()=>{if(!m.value?.track)return"--:--.---";const s=m.value.track.toLowerCase(),t=y.value[s]?.bestAvgRace;return t?C(t):"--:--.---"}),ga=n(()=>{if(!v.value?.track)return"--:--.---";const s=v.value.track.toLowerCase(),t=y.value[s]?.bestQualy;return t?C(t):"--:--.---"}),pa=n(()=>{if(!v.value?.track)return"--:--.---";const s=v.value.track.toLowerCase(),t=y.value[s]?.bestRace;return t?C(t):"--:--.---"}),_a=n(()=>{if(!v.value?.track)return"--:--.---";const s=v.value.track.toLowerCase(),t=y.value[s]?.bestAvgRace;return t?C(t):"--:--.---"}),j={monza:"/tracks/track_monza.png",donington:"/tracks/track_donington.png",spa:"/tracks/track_spa.png",paul_ricard:"/tracks/track_paul_ricard.png",valencia:"/tracks/track_valencia.png",barcelona:"/tracks/track_barcelona.png",brands_hatch:"/tracks/track_brands_hatch.png",hungaroring:"/tracks/track_hungaroring.png",imola:"/tracks/track_imola.png",kyalami:"/tracks/track_kyalami.png",laguna_seca:"/tracks/track_laguna_seca.png",misano:"/tracks/track_misano.png",mount_panorama:"/tracks/track_mount_panorama.png",nurburgring:"/tracks/track_nurburgring.png",oulton_park:"/tracks/track_oulton_park.png",silverstone:"/tracks/track_silverstone.png",snetterton:"/tracks/track_snetterton.png",suzuka:"/tracks/track_suzuka.png",watkins_glen:"/tracks/track_watkins_glen.png",zandvoort:"/tracks/track_zandvoort.png",zolder:"/tracks/track_zolder.png",cota:"/tracks/track_cota.png",indianapolis:"/tracks/track_indianapolis.png",red_bull_ring:"/tracks/track_red_bull_ring.png"},ka=n(()=>{const s=m.value?.track.toLowerCase().replace(/[^a-z0-9]/g,"_")||"",t=j[s];return t?b(t):Rt}),fa=n(()=>{const s=v.value?.track.toLowerCase().replace(/[^a-z0-9]/g,"_")||"",t=j[s];return t?b(t):Ut}),ya=p,ha=$a(),K=s=>{if(!s)return;const t=s.track.toLowerCase().replace(/[^a-z0-9]/g,"_");ya("go-to-track",t),ha.push(`/piste/${t}`)};return(s,t)=>{const I=Qa,g=lt,ba=$t,La=Aa;return i(),Ra(La,null,{default:Ua(()=>[B(f)?(i(),u("div",At,[...t[2]||(t[2]=[a("p",null,"Caricamento dati...",-1)])])):(i(),u("div",Bt,[S(I,{"car-name":ca.value,"car-image":la.value,subtitle:"Ultima auto utilizzata",date:oa.value},null,8,["car-name","car-image","date"]),S(g,{title:"Ultima pista","track-name":ia.value,"track-image":ka.value,"best-qualy":ua.value,"best-race":ma.value,"avg-time":va.value,onClick:t[0]||(t[0]=wa=>K(m.value))},null,8,["track-name","track-image","best-qualy","best-race","avg-time"]),S(ba,{data:x.value,"practice-total":B(h).practice,"qualify-total":B(h).qualify,"race-total":B(h).race},null,8,["data","practice-total","qualify-total","race-total"]),S(g,{title:"Penultima pista","track-name":da.value,"track-image":fa.value,"best-qualy":ga.value,"best-race":pa.value,"avg-time":_a.value,onClick:t[1]||(t[1]=wa=>K(v.value))},null,8,["track-name","track-image","best-qualy","best-race","avg-time"])]))]),_:1})}}}),Et=Object.assign(E(St,[["__scopeId","data-v-8c5fa124"]]),{__name:"PagesPanoramicaPage"});export{Et as _};
