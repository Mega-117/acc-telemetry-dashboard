import{b as h,a as g,m as b,C as _,D as u,E as a,S as C,K as v,W as L,G as d,a2 as $,n as T,_ as f,M as x,Q as B,R as I,T as P,H as k,I as E,F as R,c as S,aa as A,a1 as w}from"./BBedeHSb.js";import{_ as M}from"./B83gYLgo.js";const V={class:"topbar"},D={class:"topbar__inner"},G={class:"topbar__user"},O=h({__name:"TopBar",props:{userName:{}},emits:["logout","goToProfile"],setup(p,{emit:e}){const s=p,n=e,{isCoach:r}=g(),c=b(()=>s.userName??"Utente"),l=()=>{T("/piloti")};return(o,t)=>{const m=$;return u(),_("header",V,[a("div",D,[t[3]||(t[3]=a("div",{class:"topbar__brand"},[a("span",{class:"brand-badge"},"ACC"),a("span",{class:"brand-name"},"TELEMETRY")],-1)),t[4]||(t[4]=a("div",{class:"topbar__spacer"},null,-1)),v(r)?(u(),_("button",{key:0,class:"coach-button",onClick:l,title:"I miei piloti"},[...t[2]||(t[2]=[L('<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-v-c79e1bc2><circle cx="9" cy="7" r="4" data-v-c79e1bc2></circle><path d="M3 21v-2a4 4 0 014-4h4a4 4 0 014 4v2" data-v-c79e1bc2></path><path d="M16 3.13a4 4 0 010 7.75" data-v-c79e1bc2></path><path d="M21 21v-2a4 4 0 00-3-3.85" data-v-c79e1bc2></path></svg>',1)])])):C("",!0),a("div",G,[d(m,{"user-name":c.value,onLogout:t[0]||(t[0]=i=>n("logout")),onGoToProfile:t[1]||(t[1]=i=>n("goToProfile"))},null,8,["user-name"])])])])}}}),U=Object.assign(f(O,[["__scopeId","data-v-c79e1bc2"]]),{__name:"LayoutTopBar"}),W={class:"tabsbar"},j={class:"tabsbar__inner"},F=h({__name:"TabsBarRouter",setup(p){const e=x(),s=[{id:"panoramica",label:"PANORAMICA",to:"/panoramica"},{id:"sessioni",label:"SESSIONI",to:"/sessioni"},{id:"piste",label:"PISTE",to:"/piste"}],n=r=>e.path.startsWith(r);return(r,c)=>{const l=M;return u(),_("nav",W,[a("div",j,[(u(),_(B,null,I(s,o=>d(l,{key:o.id,to:o.to,class:P(["tab",{"tab--active":n(o.to)}])},{default:k(()=>[E(R(o.label),1)]),_:2},1032,["to","class"])),64))])])}}}),z=Object.assign(f(F,[["__scopeId","data-v-eaf9ddd4"]]),{__name:"LayoutTabsBarRouter"}),H={class:"dashboard-layout"},K={class:"main-content"},Q=h({__name:"dashboard",setup(p){const{userDisplayName:e,userEmail:s,logout:n}=g(),r=x();S();const c=A("goToProfile"),l=b(()=>{const i=r.path;return i.startsWith("/sessioni")?"sessioni":i.startsWith("/piste")?"piste":"panoramica"}),o=b(()=>e.value?e.value:s.value?s.value.split("@")[0]:"Utente"),t=async()=>{await n(),T("/")},m=()=>{c&&c()};return(i,Y)=>{const y=U,N=z;return u(),_("div",H,[d(y,{"user-name":v(o),onLogout:t,onGoToProfile:m},null,8,["user-name"]),d(N,{"active-tab":v(l)},null,8,["active-tab"]),a("main",K,[w(i.$slots,"default",{},void 0)])])}}}),X=f(Q,[["__scopeId","data-v-64b88201"]]);export{X as default};
