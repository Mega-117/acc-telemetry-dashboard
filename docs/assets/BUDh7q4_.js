import{b as v,a as T,t as b,E as l,F as u,G as a,P as L,M as d,a0 as y,ad as B,I as p,ai as P,n as x,_ as h,O as N,Q as k,R as I,J as A,K as E,H as R,c as S,i as w,ah as M}from"./RDT9ORhv.js";import{_ as G}from"./Ck2NS5kW.js";const O={class:"topbar"},V={class:"topbar__inner"},U=["title"],j={class:"topbar__user"},D=v({__name:"TopBar",props:{userName:{}},emits:["logout","goToProfile"],setup(m,{emit:e}){const n=m,r=e,{isCoach:i,isAdmin:s}=T(),_=b(()=>n.userName??"Utente"),o=()=>{x("/piloti")};return(f,t)=>{const c=P;return u(),l("header",O,[a("div",V,[t[3]||(t[3]=a("div",{class:"topbar__brand"},[a("span",{class:"brand-badge"},"ACC"),a("span",{class:"brand-name"},"TELEMETRY")],-1)),t[4]||(t[4]=a("div",{class:"topbar__spacer"},null,-1)),d(i)||d(s)?(u(),l("button",{key:0,class:y(["coach-button",{"coach-button--admin":d(s)}]),onClick:o,title:d(s)?"Gestione utenti":"I miei piloti"},[...t[2]||(t[2]=[B('<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-v-a640716d><circle cx="9" cy="7" r="4" data-v-a640716d></circle><path d="M3 21v-2a4 4 0 014-4h4a4 4 0 014 4v2" data-v-a640716d></path><path d="M16 3.13a4 4 0 010 7.75" data-v-a640716d></path><path d="M21 21v-2a4 4 0 00-3-3.85" data-v-a640716d></path></svg>',1)])],10,U)):L("",!0),a("div",j,[p(c,{"user-name":_.value,onLogout:t[0]||(t[0]=g=>r("logout")),onGoToProfile:t[1]||(t[1]=g=>r("goToProfile"))},null,8,["user-name"])])])])}}}),F=Object.assign(h(D,[["__scopeId","data-v-a640716d"]]),{__name:"LayoutTopBar"}),W={class:"tabsbar"},z={class:"tabsbar__inner"},H=v({__name:"TabsBarRouter",setup(m){const e=N(),n=[{id:"panoramica",label:"PANORAMICA",to:"/panoramica"},{id:"sessioni",label:"SESSIONI",to:"/sessioni"},{id:"piste",label:"PISTE",to:"/piste"}],r=i=>e.path.startsWith(i);return(i,s)=>{const _=G;return u(),l("nav",W,[a("div",z,[(u(),l(k,null,I(n,o=>p(_,{key:o.id,to:o.to,class:y(["tab",{"tab--active":r(o.to)}])},{default:A(()=>[E(R(o.label),1)]),_:2},1032,["to","class"])),64))])])}}}),J=Object.assign(h(H,[["__scopeId","data-v-db7e86c1"]]),{__name:"LayoutTabsBarRouter"}),K={class:"dashboard-layout"},Q={class:"dashboard-sticky-header"},Y={class:"main-content"},q=v({__name:"dashboard",setup(m){const{userDisplayName:e,userEmail:n,logout:r}=T(),i=N();S();const s=w("goToProfile"),_=b(()=>{const c=i.path;return c.startsWith("/sessioni")?"sessioni":c.startsWith("/piste")?"piste":"panoramica"}),o=b(()=>e.value?e.value:n.value?n.value.split("@")[0]:"Utente"),f=async()=>{await r(),x("/")},t=()=>{s&&s()};return(c,g)=>{const $=F,C=J;return u(),l("div",K,[a("div",Q,[p($,{"user-name":d(o),onLogout:f,onGoToProfile:t},null,8,["user-name"]),p(C,{"active-tab":d(_)},null,8,["active-tab"])]),a("main",Y,[M(c.$slots,"default",{},void 0)])])}}}),tt=h(q,[["__scopeId","data-v-7e64c1bf"]]);export{tt as default};
