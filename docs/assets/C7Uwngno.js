import{d as b,l as m,y as c,z as u,A as a,C as l,Z as y,_ as f,K as L,L as N,M as $,D as x,E as B,B as P,F as E,U as C,a as I,$ as R,H as v,N as A,q as S}from"./CpYqbRI5.js";import{_ as U}from"./IOg7rJBE.js";const k={class:"topbar"},D={class:"topbar__inner"},O={class:"topbar__user"},j=b({__name:"TopBar",props:{userName:{}},emits:["logout","goToProfile"],setup(i,{emit:o}){const e=i,n=o,r=m(()=>e.userName??"Utente");return(t,s)=>{const p=y;return u(),c("header",k,[a("div",D,[s[2]||(s[2]=a("div",{class:"topbar__brand"},[a("span",{class:"brand-badge"},"ACC"),a("span",{class:"brand-name"},"TELEMETRY")],-1)),s[3]||(s[3]=a("div",{class:"topbar__spacer"},null,-1)),a("div",O,[l(p,{"user-name":r.value,onLogout:s[0]||(s[0]=d=>n("logout")),onGoToProfile:s[1]||(s[1]=d=>n("goToProfile"))},null,8,["user-name"])])])])}}}),w=Object.assign(f(j,[["__scopeId","data-v-2f973bfa"]]),{__name:"LayoutTopBar"}),F={class:"tabsbar"},G={class:"tabsbar__inner"},M=b({__name:"TabsBarRouter",props:{activeTab:{}},setup(i){const o=[{id:"panoramica",label:"PANORAMICA",to:"/panoramica"},{id:"sessioni",label:"SESSIONI",to:"/sessioni"},{id:"piste",label:"PISTE",to:"/piste"}];return(e,n)=>{const r=U;return u(),c("nav",F,[a("div",G,[(u(),c(L,null,N(o,t=>l(r,{key:t.id,to:t.to,class:$(["tab",{"tab--active":i.activeTab===t.id}])},{default:x(()=>[B(P(t.label),1)]),_:2},1032,["to","class"])),64))])])}}}),V=Object.assign(f(M,[["__scopeId","data-v-072caa6b"]]),{__name:"LayoutTabsBarRouter"}),z={class:"dashboard-layout"},W={class:"main-content"},q=b({__name:"dashboard",setup(i){const{userDisplayName:o,userEmail:e,logout:n}=E(),r=C();I();const t=R("goToProfile"),s=m(()=>{const _=r.path;return _.startsWith("/sessioni")?"sessioni":_.startsWith("/piste")?"piste":"panoramica"}),p=m(()=>o.value?o.value:e.value?e.value.split("@")[0]:"Utente"),d=async()=>{await n(),S("/")},T=()=>{t&&t()};return(_,H)=>{const g=w,h=V;return u(),c("div",z,[l(g,{"user-name":v(p),onLogout:d,onGoToProfile:T},null,8,["user-name"]),l(h,{"active-tab":v(s)},null,8,["active-tab"]),a("main",W,[A(_.$slots,"default",{},void 0)])])}}}),Z=f(q,[["__scopeId","data-v-64b88201"]]);export{Z as default};
