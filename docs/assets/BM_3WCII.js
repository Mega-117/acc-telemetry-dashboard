import{b as $,C as o,D as r,E as a,X as _,M as L,a1 as w,ad as N,F as l,_ as h,r as j,o as z,m as s,N as q,O as A,I as S,J as Z,H as Y,K as B,G as x,n as J}from"./D0g2xLIp.js";import{u as K,a as W,e as X,b as M,f as C,_ as aa}from"./ApLwZRIX.js";const ta={class:"car-image-container"},ea={key:0,class:"car-placeholder",viewBox:"0 0 400 200",fill:"none"},sa={class:"car-info"},la={class:"car-name"},na={class:"car-meta"},ra={class:"car-subtitle"},oa={key:0,class:"car-date"},ia=$({__name:"FeaturedCarCard",props:{carName:{},carImage:{},subtitle:{},date:{}},setup(n){return(i,t)=>(r(),o("div",{class:"featured-car",onClick:t[1]||(t[1]=g=>i.$emit("click"))},[a("div",ta,[a("div",{class:"car-image",style:_(n.carImage?{backgroundImage:`url(${n.carImage})`}:{})},[n.carImage?L("",!0):(r(),o("svg",ea,[...t[2]||(t[2]=[w('<defs data-v-1b2fbc93><linearGradient id="carGrad" x1="0%" y1="0%" x2="100%" y2="100%" data-v-1b2fbc93><stop offset="0%" stop-color="#e10600" stop-opacity="0.3" data-v-1b2fbc93></stop><stop offset="100%" stop-color="#ff6b00" stop-opacity="0.1" data-v-1b2fbc93></stop></linearGradient></defs><path d="M50 140 L80 120 L120 115 L150 100 L200 95 L280 95 L320 100 L350 115 L380 130 L380 150 L50 150 Z" fill="url(#carGrad)" stroke="#e10600" stroke-width="1.5" data-v-1b2fbc93></path><circle cx="110" cy="150" r="20" fill="#1a1a22" stroke="#e10600" stroke-width="1.5" data-v-1b2fbc93></circle><circle cx="110" cy="150" r="10" fill="none" stroke="#e10600" stroke-width="1" data-v-1b2fbc93></circle><circle cx="310" cy="150" r="20" fill="#1a1a22" stroke="#e10600" stroke-width="1.5" data-v-1b2fbc93></circle><circle cx="310" cy="150" r="10" fill="none" stroke="#e10600" stroke-width="1" data-v-1b2fbc93></circle><path d="M160 100 L200 92 L260 92 L290 100 L280 110 L170 110 Z" fill="rgba(255,255,255,0.05)" stroke="#e10600" stroke-width="1" data-v-1b2fbc93></path>',7)])]))],4),t[4]||(t[4]=a("div",{class:"image-overlay"},null,-1)),a("button",{class:"cta-button",title:"Vedi dettagli",onClick:t[0]||(t[0]=N(g=>i.$emit("cta-click"),["stop"]))},[...t[3]||(t[3]=[a("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[a("path",{d:"M5 12h14"}),a("path",{d:"M12 5l7 7-7 7"})],-1)])])]),a("div",sa,[a("h2",la,l(n.carName||"MUSTANG GT3"),1),a("div",na,[a("span",ra,l(n.subtitle||"Ultima auto utilizzata"),1),n.date?(r(),o("span",oa,l(n.date),1)):L("",!0)])]),t[5]||(t[5]=a("div",{class:"accent-glow"},null,-1))]))}}),ca=Object.assign(h(ia,[["__scopeId","data-v-1b2fbc93"]]),{__name:"CardsFeaturedCarCard"}),da={class:"track-image-container"},ua={class:"title-badge"},va={class:"track-info"},ma={class:"track-name"},pa={class:"stats-row"},ga={class:"stat-box"},fa={class:"stat-value-row"},ka={class:"stat-time"},ba={class:"stat-box"},ya={class:"stat-value-row"},_a={class:"stat-time"},La={class:"stat-box stat-box--subtle"},xa={class:"stat-value-row"},Ca={class:"stat-time"},wa=$({__name:"TrackPerformanceCard",props:{title:{},trackName:{},trackImage:{},bestQualy:{},bestRace:{},avgTime:{}},setup(n){return(i,t)=>(r(),o("div",{class:"track-card",onClick:t[1]||(t[1]=g=>i.$emit("click"))},[a("div",da,[a("div",{class:"track-image",style:_({backgroundImage:`url(${n.trackImage})`})},null,4),t[3]||(t[3]=a("div",{class:"image-overlay"},null,-1)),a("span",ua,l(n.title),1),a("button",{class:"cta-button",title:"Vedi sessioni",onClick:t[0]||(t[0]=N(g=>i.$emit("cta-click"),["stop"]))},[...t[2]||(t[2]=[a("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[a("path",{d:"M5 12h14"}),a("path",{d:"M12 5l7 7-7 7"})],-1)])])]),a("div",va,[a("h2",ma,l(n.trackName),1),a("div",pa,[a("div",ga,[t[5]||(t[5]=a("span",{class:"stat-label"},"BEST QUALY",-1)),a("div",fa,[a("span",ka,l(n.bestQualy||"--:--.---"),1),t[4]||(t[4]=w('<svg class="medal-svg medal-gold" viewBox="0 0 48 56" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-00d25e74><path d="M18 0L24 16L30 0H36L28 20L24 28L20 20L12 0H18Z" fill="#E53935" data-v-00d25e74></path><path d="M24 16L30 0H36L28 20L24 28" fill="#C62828" data-v-00d25e74></path><circle cx="24" cy="38" r="16" fill="#FFD54F" data-v-00d25e74></circle><circle cx="24" cy="38" r="16" fill="url(#goldGradient)" data-v-00d25e74></circle><circle cx="24" cy="38" r="13" stroke="#FFC107" stroke-width="2" fill="none" data-v-00d25e74></circle><path d="M24 28L26.5 34H33L28 38L30 45L24 41L18 45L20 38L15 34H21.5L24 28Z" fill="#FFC107" data-v-00d25e74></path><defs data-v-00d25e74><linearGradient id="goldGradient" x1="8" y1="22" x2="40" y2="54" gradientUnits="userSpaceOnUse" data-v-00d25e74><stop stop-color="#FFE082" data-v-00d25e74></stop><stop offset="1" stop-color="#FFB300" data-v-00d25e74></stop></linearGradient></defs></svg>',1))])]),a("div",ba,[t[7]||(t[7]=a("span",{class:"stat-label"},"BEST RACE",-1)),a("div",ya,[a("span",_a,l(n.bestRace||"--:--.---"),1),t[6]||(t[6]=w('<svg class="medal-svg medal-silver" viewBox="0 0 48 56" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-00d25e74><path d="M18 0L24 16L30 0H36L28 20L24 28L20 20L12 0H18Z" fill="#1E88E5" data-v-00d25e74></path><path d="M24 16L30 0H36L28 20L24 28" fill="#1565C0" data-v-00d25e74></path><circle cx="24" cy="38" r="16" fill="#E0E0E0" data-v-00d25e74></circle><circle cx="24" cy="38" r="16" fill="url(#silverGradient)" data-v-00d25e74></circle><circle cx="24" cy="38" r="13" stroke="#BDBDBD" stroke-width="2" fill="none" data-v-00d25e74></circle><text x="24" y="43" text-anchor="middle" font-size="14" font-weight="bold" fill="#757575" data-v-00d25e74>2</text><defs data-v-00d25e74><linearGradient id="silverGradient" x1="8" y1="22" x2="40" y2="54" gradientUnits="userSpaceOnUse" data-v-00d25e74><stop stop-color="#F5F5F5" data-v-00d25e74></stop><stop offset="1" stop-color="#9E9E9E" data-v-00d25e74></stop></linearGradient></defs></svg>',1))])]),a("div",La,[t[9]||(t[9]=a("span",{class:"stat-label"},"AVG TIME",-1)),a("div",xa,[a("span",Ca,l(n.avgTime||"--:--.---"),1),t[8]||(t[8]=w('<svg class="medal-svg medal-bronze" viewBox="0 0 48 56" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-00d25e74><path d="M18 0L24 16L30 0H36L28 20L24 28L20 20L12 0H18Z" fill="#8D6E63" data-v-00d25e74></path><path d="M24 16L30 0H36L28 20L24 28" fill="#6D4C41" data-v-00d25e74></path><circle cx="24" cy="38" r="16" fill="#BCAAA4" data-v-00d25e74></circle><circle cx="24" cy="38" r="16" fill="url(#bronzeGradient)" data-v-00d25e74></circle><circle cx="24" cy="38" r="13" stroke="#A1887F" stroke-width="2" fill="none" data-v-00d25e74></circle><text x="24" y="43" text-anchor="middle" font-size="14" font-weight="bold" fill="#5D4037" data-v-00d25e74>3</text><defs data-v-00d25e74><linearGradient id="bronzeGradient" x1="8" y1="22" x2="40" y2="54" gradientUnits="userSpaceOnUse" data-v-00d25e74><stop stop-color="#D7CCC8" data-v-00d25e74></stop><stop offset="1" stop-color="#8D6E63" data-v-00d25e74></stop></linearGradient></defs></svg>',1))])])])]),t[10]||(t[10]=a("div",{class:"accent-glow"},null,-1))]))}}),$a=Object.assign(h(wa,[["__scopeId","data-v-00d25e74"]]),{__name:"CardsTrackPerformanceCard"}),ha={class:"activity-card"},Ta={class:"card-content"},Sa={class:"chart-area"},Ia={class:"y-axis"},Ea={class:"bars-container"},Ua={class:"bar-stack"},qa={class:"day-label"},Aa={class:"legend"},Ba={class:"legend-item legend-item--practice"},Ma={class:"legend-text"},Na={class:"legend-value"},za={class:"legend-sessions"},Fa={class:"legend-item legend-item--qualify"},Ga={class:"legend-text"},Da={class:"legend-value"},Ra={class:"legend-sessions"},Pa={class:"legend-item legend-item--race"},Ha={class:"legend-text"},Va={class:"legend-value"},Qa={class:"legend-sessions"},Oa=$({__name:"ActivityCard",props:{data:{},practiceTotal:{},qualifyTotal:{},raceTotal:{}},setup(n){const i=n,t=j(!1);z(()=>{setTimeout(()=>{t.value=!0},100)});const g=s(()=>i.data||[{day:"Lun",practice:45,qualify:0,race:0},{day:"Mar",practice:0,qualify:0,race:0},{day:"Mer",practice:25,qualify:15,race:0},{day:"Gio",practice:12,qualify:0,race:95},{day:"Ven",practice:35,qualify:8,race:0},{day:"Sab",practice:0,qualify:0,race:38},{day:"Dom",practice:20,qualify:0,race:0}]),f=s(()=>{const m=g.value.map(e=>e.practice+e.qualify+e.race);return Math.max(...m,60)}),T=s(()=>{const m=f.value;return[0,Math.round(m/2),m]}),b=s(()=>i.practiceTotal||{minutes:137,sessions:5}),y=s(()=>i.qualifyTotal||{minutes:23,sessions:3}),k=s(()=>i.raceTotal||{minutes:133,sessions:2}),d=m=>"sess.";return(m,e)=>(r(),o("div",ha,[e[9]||(e[9]=a("h2",{class:"card-title"},"AttivitÃ  (ultimi 7 giorni)",-1)),a("div",Ta,[a("div",Sa,[a("div",Ia,[(r(!0),o(q,null,A(T.value.slice().reverse(),c=>(r(),o("span",{key:c},l(c),1))),128))]),a("div",Ea,[(r(!0),o(q,null,A(g.value,(c,u)=>(r(),o("div",{key:c.day,class:"bar-column"},[a("div",Ua,[c.race>0?(r(),o("div",{key:0,class:"bar bar--race",style:_({height:t.value?`${c.race/f.value*100}%`:"0%",transitionDelay:`${u*40+200}ms`})},null,4)):L("",!0),c.qualify>0?(r(),o("div",{key:1,class:"bar bar--qualify",style:_({height:t.value?`${c.qualify/f.value*100}%`:"0%",transitionDelay:`${u*40+100}ms`})},null,4)):L("",!0),c.practice>0?(r(),o("div",{key:2,class:"bar bar--practice",style:_({height:t.value?`${c.practice/f.value*100}%`:"0%",transitionDelay:`${u*40}ms`})},null,4)):L("",!0)]),a("span",qa,l(c.day),1)]))),128))])]),a("div",Aa,[a("div",Ba,[e[2]||(e[2]=a("span",{class:"legend-dot"},null,-1)),a("div",Ma,[e[1]||(e[1]=a("span",{class:"legend-label"},"PRACTICE",-1)),a("span",Na,[S(l(b.value.minutes),1),e[0]||(e[0]=a("small",null,"min",-1))]),a("span",za,l(b.value.sessions)+" "+l(d(b.value.sessions)),1)])]),a("div",Fa,[e[5]||(e[5]=a("span",{class:"legend-dot"},null,-1)),a("div",Ga,[e[4]||(e[4]=a("span",{class:"legend-label"},"QUALIFY",-1)),a("span",Da,[S(l(y.value.minutes),1),e[3]||(e[3]=a("small",null,"min",-1))]),a("span",Ra,l(y.value.sessions)+" "+l(d(y.value.sessions)),1)])]),a("div",Pa,[e[8]||(e[8]=a("span",{class:"legend-dot"},null,-1)),a("div",Ha,[e[7]||(e[7]=a("span",{class:"legend-label"},"RACE",-1)),a("span",Va,[S(l(k.value.minutes),1),e[6]||(e[6]=a("small",null,"min",-1))]),a("span",Qa,l(k.value.sessions)+" "+l(d(k.value.sessions)),1)])])])]),e[10]||(e[10]=a("div",{class:"accent-glow"},null,-1))]))}}),ja=Object.assign(h(Oa,[["__scopeId","data-v-44f7baed"]]),{__name:"CardsActivityCard"}),Za=""+new URL("mustang_gt3.DdC5zVl9.png",import.meta.url).href,Ya=""+new URL("spa.eyW79qze.jpg",import.meta.url).href,Ja=""+new URL("monza.Bfqq58V6.jpg",import.meta.url).href,Ka={key:0,class:"loading-state"},Wa={key:1,class:"panoramica-grid"},Xa=$({__name:"PanoramicaPage",setup(n){const{lastSession:i,lastUsedCar:t,trackStats:g,isLoading:f,loadSessions:T}=K();z(async()=>{await T()});const b=s(()=>t.value?W(t.value).toUpperCase():"NESSUNA AUTO"),y=s(()=>i.value?X(i.value.meta.date_start):"-"),k=s(()=>[...g.value].sort((p,v)=>(v.lastSession||"").localeCompare(p.lastSession||""))),d=s(()=>k.value[0]||null),m=s(()=>d.value?M(d.value.track).toUpperCase():"NESSUNA PISTA"),e=s(()=>d.value?.bestQualy?C(d.value.bestQualy):"--:--.---"),c=s(()=>d.value?.bestRace?C(d.value.bestRace):"--:--.---"),u=s(()=>k.value[1]||null),F=s(()=>u.value?M(u.value.track).toUpperCase():"NESSUNA PISTA"),G=s(()=>u.value?.bestQualy?C(u.value.bestQualy):"--:--.---"),D=s(()=>u.value?.bestRace?C(u.value.bestRace):"--:--.---"),I={spa:"/tracks/track_spa.png",monza:"/tracks/track_monza.png",donington:"/tracks/track_donington.png",suzuka:"/tracks/track_suzuka.png",valencia:"/tracks/track_valencia.png"},R=s(()=>{const p=d.value?.track.toLowerCase().replace(/[^a-z0-9]/g,"_")||"";return I[p]||Ya}),P=s(()=>{const p=u.value?.track.toLowerCase().replace(/[^a-z0-9]/g,"_")||"";return I[p]||Ja}),E=p=>{if(!p)return;const v=p.track.toLowerCase().replace(/[^a-z0-9]/g,"_");J(`/piste/${v}`)};return(p,v)=>{const H=ca,U=$a,V=ja,Q=aa;return r(),Z(Q,null,{default:Y(()=>[B(f)?(r(),o("div",Ka,[...v[2]||(v[2]=[a("p",null,"Caricamento dati...",-1)])])):(r(),o("div",Wa,[x(H,{"car-name":b.value,"car-image":B(Za),subtitle:"Ultima auto utilizzata",date:y.value},null,8,["car-name","car-image","date"]),x(U,{title:"Ultima pista","track-name":m.value,"track-image":R.value,"best-qualy":e.value,"best-race":c.value,"avg-time":"--:--.---",onClick:v[0]||(v[0]=O=>E(d.value))},null,8,["track-name","track-image","best-qualy","best-race"]),x(V),x(U,{title:"Penultima pista","track-name":F.value,"track-image":P.value,"best-qualy":G.value,"best-race":D.value,"avg-time":"--:--.---",onClick:v[1]||(v[1]=O=>E(u.value))},null,8,["track-name","track-image","best-qualy","best-race"])]))]),_:1})}}}),et=Object.assign(h(Xa,[["__scopeId","data-v-216a5f8b"]]),{__name:"PagesPanoramicaPage"});export{et as _};
