const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./-vAHPvjF.js","./error-404.BLrjNXsr.css","./DXQGrEh6.js","./error-500.DLkAwcfL.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function Bd(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const zt={},Tr=[],Wn=()=>{},gv=()=>!1,Pa=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Hd=e=>e.startsWith("onUpdate:"),Ce=Object.assign,jd=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Jw=Object.prototype.hasOwnProperty,Ft=(e,t)=>Jw.call(e,t),pt=Array.isArray,wr=e=>Oa(e)==="[object Map]",Xr=e=>Oa(e)==="[object Set]",fg=e=>Oa(e)==="[object Date]",yt=e=>typeof e=="function",ee=e=>typeof e=="string",Pn=e=>typeof e=="symbol",Bt=e=>e!==null&&typeof e=="object",zd=e=>(Bt(e)||yt(e))&&yt(e.then)&&yt(e.catch),mv=Object.prototype.toString,Oa=e=>mv.call(e),Zw=e=>Oa(e).slice(8,-1),_v=e=>Oa(e)==="[object Object]",Hc=e=>ee(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Er=Bd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),jc=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},tE=/-\w/g,bn=jc(e=>e.replace(tE,t=>t.slice(1).toUpperCase())),eE=/\B([A-Z])/g,Xi=jc(e=>e.replace(eE,"-$1").toLowerCase()),zc=jc(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ku=jc(e=>e?`on${zc(e)}`:""),Gs=(e,t)=>!Object.is(e,t),Fl=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},yv=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},Wc=e=>{const t=parseFloat(e);return isNaN(t)?e:t},vv=e=>{const t=ee(e)?Number(e):NaN;return isNaN(t)?e:t};let pg;const qc=()=>pg||(pg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function vn(e){if(pt(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],i=ee(s)?rE(s):vn(s);if(i)for(const r in i)t[r]=i[r]}return t}else if(ee(e)||Bt(e))return e}const nE=/;(?![^(]*\))/g,sE=/:([^]+)/,iE=/\/\*[^]*?\*\//g;function rE(e){const t={};return e.replace(iE,"").split(nE).forEach(n=>{if(n){const s=n.split(sE);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function At(e){let t="";if(ee(e))t=e;else if(pt(e))for(let n=0;n<e.length;n++){const s=At(e[n]);s&&(t+=s+" ")}else if(Bt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function oE(e){if(!e)return null;let{class:t,style:n}=e;return t&&!ee(t)&&(e.class=At(t)),n&&(e.style=vn(n)),e}const aE="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",lE=Bd(aE);function bv(e){return!!e||e===""}function cE(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=Ma(e[s],t[s]);return n}function Ma(e,t){if(e===t)return!0;let n=fg(e),s=fg(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=Pn(e),s=Pn(t),n||s)return e===t;if(n=pt(e),s=pt(t),n||s)return n&&s?cE(e,t):!1;if(n=Bt(e),s=Bt(t),n||s){if(!n||!s)return!1;const i=Object.keys(e).length,r=Object.keys(t).length;if(i!==r)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!Ma(e[o],t[o]))return!1}}return String(e)===String(t)}function Wd(e,t){return e.findIndex(n=>Ma(n,t))}const Tv=e=>!!(e&&e.__v_isRef===!0),H=e=>ee(e)?e:e==null?"":pt(e)||Bt(e)&&(e.toString===mv||!yt(e.toString))?Tv(e)?H(e.value):JSON.stringify(e,wv,2):String(e),wv=(e,t)=>Tv(t)?wv(e,t.value):wr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,i],r)=>(n[Qu(s,r)+" =>"]=i,n),{})}:Xr(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Qu(n))}:Pn(t)?Qu(t):Bt(t)&&!pt(t)&&!_v(t)?String(t):t,Qu=(e,t="")=>{var n;return Pn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};let Be;class Ev{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Be,!t&&Be&&(this.index=(Be.scopes||(Be.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Be;try{return Be=this,t()}finally{Be=n}}}on(){++this._on===1&&(this.prevScope=Be,Be=this)}off(){this._on>0&&--this._on===0&&(Be=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function uE(e){return new Ev(e)}function qd(){return Be}function hE(e,t=!1){Be&&Be.cleanups.push(e)}let qt;const Yu=new WeakSet;class Iv{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Be&&Be.active&&Be.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Yu.has(this)&&(Yu.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Av(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,gg(this),kv(this);const t=qt,n=Sn;qt=this,Sn=!0;try{return this.fn()}finally{Cv(this),qt=t,Sn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Qd(t);this.deps=this.depsTail=void 0,gg(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Yu.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Nh(this)&&this.run()}get dirty(){return Nh(this)}}let Sv=0,jo,zo;function Av(e,t=!1){if(e.flags|=8,t){e.next=zo,zo=e;return}e.next=jo,jo=e}function Gd(){Sv++}function Kd(){if(--Sv>0)return;if(zo){let t=zo;for(zo=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;jo;){let t=jo;for(jo=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function kv(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Cv(e){let t,n=e.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),Qd(s),dE(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}e.deps=t,e.depsTail=n}function Nh(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(xv(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function xv(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===la)||(e.globalVersion=la,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Nh(e))))return;e.flags|=2;const t=e.dep,n=qt,s=Sn;qt=e,Sn=!0;try{kv(e);const i=e.fn(e._value);(t.version===0||Gs(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{qt=n,Sn=s,Cv(e),e.flags&=-3}}function Qd(e,t=!1){const{dep:n,prevSub:s,nextSub:i}=e;if(s&&(s.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)Qd(r,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function dE(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Sn=!0;const Rv=[];function _s(){Rv.push(Sn),Sn=!1}function ys(){const e=Rv.pop();Sn=e===void 0?!0:e}function gg(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=qt;qt=void 0;try{t()}finally{qt=n}}}let la=0;class fE{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Yd{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!qt||!Sn||qt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==qt)n=this.activeLink=new fE(qt,this),qt.deps?(n.prevDep=qt.depsTail,qt.depsTail.nextDep=n,qt.depsTail=n):qt.deps=qt.depsTail=n,Pv(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=qt.depsTail,n.nextDep=void 0,qt.depsTail.nextDep=n,qt.depsTail=n,qt.deps===n&&(qt.deps=s)}return n}trigger(t){this.version++,la++,this.notify(t)}notify(t){Gd();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Kd()}}}function Pv(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)Pv(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const tc=new WeakMap,Li=Symbol(""),Vh=Symbol(""),ca=Symbol("");function je(e,t,n){if(Sn&&qt){let s=tc.get(e);s||tc.set(e,s=new Map);let i=s.get(n);i||(s.set(n,i=new Yd),i.map=s,i.key=n),i.track()}}function us(e,t,n,s,i,r){const o=tc.get(e);if(!o){la++;return}const a=l=>{l&&l.trigger()};if(Gd(),t==="clear")o.forEach(a);else{const l=pt(e),c=l&&Hc(n);if(l&&n==="length"){const h=Number(s);o.forEach((d,f)=>{(f==="length"||f===ca||!Pn(f)&&f>=h)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(ca)),t){case"add":l?c&&a(o.get("length")):(a(o.get(Li)),wr(e)&&a(o.get(Vh)));break;case"delete":l||(a(o.get(Li)),wr(e)&&a(o.get(Vh)));break;case"set":wr(e)&&a(o.get(Li));break}}Kd()}function pE(e,t){const n=tc.get(e);return n&&n.get(t)}function ar(e){const t=Pt(e);return t===e?t:(je(t,"iterate",ca),hn(e)?t:t.map(On))}function Gc(e){return je(e=Pt(e),"iterate",ca),e}function Ns(e,t){return Xn(e)?Ks(e)?Dr(On(t)):Dr(t):On(t)}const gE={__proto__:null,[Symbol.iterator](){return Xu(this,Symbol.iterator,e=>Ns(this,e))},concat(...e){return ar(this).concat(...e.map(t=>pt(t)?ar(t):t))},entries(){return Xu(this,"entries",e=>(e[1]=Ns(this,e[1]),e))},every(e,t){return ns(this,"every",e,t,void 0,arguments)},filter(e,t){return ns(this,"filter",e,t,n=>n.map(s=>Ns(this,s)),arguments)},find(e,t){return ns(this,"find",e,t,n=>Ns(this,n),arguments)},findIndex(e,t){return ns(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return ns(this,"findLast",e,t,n=>Ns(this,n),arguments)},findLastIndex(e,t){return ns(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return ns(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ju(this,"includes",e)},indexOf(...e){return Ju(this,"indexOf",e)},join(e){return ar(this).join(e)},lastIndexOf(...e){return Ju(this,"lastIndexOf",e)},map(e,t){return ns(this,"map",e,t,void 0,arguments)},pop(){return Ao(this,"pop")},push(...e){return Ao(this,"push",e)},reduce(e,...t){return mg(this,"reduce",e,t)},reduceRight(e,...t){return mg(this,"reduceRight",e,t)},shift(){return Ao(this,"shift")},some(e,t){return ns(this,"some",e,t,void 0,arguments)},splice(...e){return Ao(this,"splice",e)},toReversed(){return ar(this).toReversed()},toSorted(e){return ar(this).toSorted(e)},toSpliced(...e){return ar(this).toSpliced(...e)},unshift(...e){return Ao(this,"unshift",e)},values(){return Xu(this,"values",e=>Ns(this,e))}};function Xu(e,t,n){const s=Gc(e),i=s[t]();return s!==e&&!hn(e)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.done||(r.value=n(r.value)),r}),i}const mE=Array.prototype;function ns(e,t,n,s,i,r){const o=Gc(e),a=o!==e&&!hn(e),l=o[t];if(l!==mE[t]){const d=l.apply(e,r);return a?On(d):d}let c=n;o!==e&&(a?c=function(d,f){return n.call(this,Ns(e,d),f,e)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,e)}));const h=l.call(o,c,s);return a&&i?i(h):h}function mg(e,t,n,s){const i=Gc(e);let r=n;return i!==e&&(hn(e)?n.length>3&&(r=function(o,a,l){return n.call(this,o,a,l,e)}):r=function(o,a,l){return n.call(this,o,Ns(e,a),l,e)}),i[t](r,...s)}function Ju(e,t,n){const s=Pt(e);je(s,"iterate",ca);const i=s[t](...n);return(i===-1||i===!1)&&Jr(n[0])?(n[0]=Pt(n[0]),s[t](...n)):i}function Ao(e,t,n=[]){_s(),Gd();const s=Pt(e)[t].apply(e,n);return Kd(),ys(),s}const _E=Bd("__proto__,__v_isRef,__isVue"),Ov=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Pn));function yE(e){Pn(e)||(e=String(e));const t=Pt(this);return je(t,"has",e),t.hasOwnProperty(e)}class Mv{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?CE:Vv:r?Nv:Lv).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const o=pt(t);if(!i){let l;if(o&&(l=gE[n]))return l;if(n==="hasOwnProperty")return yE}const a=Reflect.get(t,n,ge(t)?t:s);if((Pn(n)?Ov.has(n):_E(n))||(i||je(t,"get",n),r))return a;if(ge(a)){const l=o&&Hc(n)?a:a.value;return i&&Bt(l)?Uh(l):l}return Bt(a)?i?Uh(a):ni(a):a}}class Dv extends Mv{constructor(t=!1){super(!1,t)}set(t,n,s,i){let r=t[n];const o=pt(t)&&Hc(n);if(!this._isShallow){const c=Xn(r);if(!hn(s)&&!Xn(s)&&(r=Pt(r),s=Pt(s)),!o&&ge(r)&&!ge(s))return c||(r.value=s),!0}const a=o?Number(n)<t.length:Ft(t,n),l=Reflect.set(t,n,s,ge(t)?t:i);return t===Pt(i)&&(a?Gs(s,r)&&us(t,"set",n,s):us(t,"add",n,s)),l}deleteProperty(t,n){const s=Ft(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&s&&us(t,"delete",n,void 0),i}has(t,n){const s=Reflect.has(t,n);return(!Pn(n)||!Ov.has(n))&&je(t,"has",n),s}ownKeys(t){return je(t,"iterate",pt(t)?"length":Li),Reflect.ownKeys(t)}}class vE extends Mv{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const bE=new Dv,TE=new vE,wE=new Dv(!0);const Fh=e=>e,ll=e=>Reflect.getPrototypeOf(e);function EE(e,t,n){return function(...s){const i=this.__v_raw,r=Pt(i),o=wr(r),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=i[e](...s),h=n?Fh:t?Dr:On;return!t&&je(r,"iterate",l?Vh:Li),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[h(d[0]),h(d[1])]:h(d),done:f}},[Symbol.iterator](){return this}}}}function cl(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function IE(e,t){const n={get(i){const r=this.__v_raw,o=Pt(r),a=Pt(i);e||(Gs(i,a)&&je(o,"get",i),je(o,"get",a));const{has:l}=ll(o),c=t?Fh:e?Dr:On;if(l.call(o,i))return c(r.get(i));if(l.call(o,a))return c(r.get(a));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!e&&je(Pt(i),"iterate",Li),i.size},has(i){const r=this.__v_raw,o=Pt(r),a=Pt(i);return e||(Gs(i,a)&&je(o,"has",i),je(o,"has",a)),i===a?r.has(i):r.has(i)||r.has(a)},forEach(i,r){const o=this,a=o.__v_raw,l=Pt(a),c=t?Fh:e?Dr:On;return!e&&je(l,"iterate",Li),a.forEach((h,d)=>i.call(r,c(h),c(d),o))}};return Ce(n,e?{add:cl("add"),set:cl("set"),delete:cl("delete"),clear:cl("clear")}:{add(i){!t&&!hn(i)&&!Xn(i)&&(i=Pt(i));const r=Pt(this);return ll(r).has.call(r,i)||(r.add(i),us(r,"add",i,i)),this},set(i,r){!t&&!hn(r)&&!Xn(r)&&(r=Pt(r));const o=Pt(this),{has:a,get:l}=ll(o);let c=a.call(o,i);c||(i=Pt(i),c=a.call(o,i));const h=l.call(o,i);return o.set(i,r),c?Gs(r,h)&&us(o,"set",i,r):us(o,"add",i,r),this},delete(i){const r=Pt(this),{has:o,get:a}=ll(r);let l=o.call(r,i);l||(i=Pt(i),l=o.call(r,i)),a&&a.call(r,i);const c=r.delete(i);return l&&us(r,"delete",i,void 0),c},clear(){const i=Pt(this),r=i.size!==0,o=i.clear();return r&&us(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=EE(i,e,t)}),n}function Xd(e,t){const n=IE(e,t);return(s,i,r)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?s:Reflect.get(Ft(n,i)&&i in s?n:s,i,r)}const SE={get:Xd(!1,!1)},AE={get:Xd(!1,!0)},kE={get:Xd(!0,!1)};const Lv=new WeakMap,Nv=new WeakMap,Vv=new WeakMap,CE=new WeakMap;function xE(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function RE(e){return e.__v_skip||!Object.isExtensible(e)?0:xE(Zw(e))}function ni(e){return Xn(e)?e:Jd(e,!1,bE,SE,Lv)}function mr(e){return Jd(e,!1,wE,AE,Nv)}function Uh(e){return Jd(e,!0,TE,kE,Vv)}function Jd(e,t,n,s,i){if(!Bt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=RE(e);if(r===0)return e;const o=i.get(e);if(o)return o;const a=new Proxy(e,r===2?s:n);return i.set(e,a),a}function Ks(e){return Xn(e)?Ks(e.__v_raw):!!(e&&e.__v_isReactive)}function Xn(e){return!!(e&&e.__v_isReadonly)}function hn(e){return!!(e&&e.__v_isShallow)}function Jr(e){return e?!!e.__v_raw:!1}function Pt(e){const t=e&&e.__v_raw;return t?Pt(t):e}function PE(e){return!Ft(e,"__v_skip")&&Object.isExtensible(e)&&yv(e,"__v_skip",!0),e}const On=e=>Bt(e)?ni(e):e,Dr=e=>Bt(e)?Uh(e):e;function ge(e){return e?e.__v_isRef===!0:!1}function ut(e){return Fv(e,!1)}function Bi(e){return Fv(e,!0)}function Fv(e,t){return ge(e)?e:new OE(e,t)}class OE{constructor(t,n){this.dep=new Yd,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Pt(t),this._value=n?t:On(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||hn(t)||Xn(t);t=s?t:Pt(t),Gs(t,n)&&(this._rawValue=t,this._value=s?t:On(t),this.dep.trigger())}}function Jt(e){return ge(e)?e.value:e}function ME(e){return yt(e)?e():Jt(e)}const DE={get:(e,t,n)=>t==="__v_raw"?e:Jt(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const i=e[t];return ge(i)&&!ge(n)?(i.value=n,!0):Reflect.set(e,t,n,s)}};function Uv(e){return Ks(e)?e:new Proxy(e,DE)}class LE{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0,this._raw=Pt(t);let i=!0,r=t;if(!pt(t)||!Hc(String(n)))do i=!Jr(r)||hn(r);while(i&&(r=r.__v_raw));this._shallow=i}get value(){let t=this._object[this._key];return this._shallow&&(t=Jt(t)),this._value=t===void 0?this._defaultValue:t}set value(t){if(this._shallow&&ge(this._raw[this._key])){const n=this._object[this._key];if(ge(n)){n.value=t;return}}this._object[this._key]=t}get dep(){return pE(this._raw,this._key)}}class NE{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function VE(e,t,n){return ge(e)?e:yt(e)?new NE(e):Bt(e)&&arguments.length>1?FE(e,t,n):ut(e)}function FE(e,t,n){return new LE(e,t,n)}class UE{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Yd(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=la-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&qt!==this)return Av(this,!0),!0}get value(){const t=this.dep.track();return xv(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function $E(e,t,n=!1){let s,i;return yt(e)?s=e:(s=e.get,i=e.set),new UE(s,i,n)}const ul={},ec=new WeakMap;let ki;function BE(e,t=!1,n=ki){if(n){let s=ec.get(n);s||ec.set(n,s=[]),s.push(e)}}function HE(e,t,n=zt){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:a,call:l}=n,c=O=>i?O:hn(O)||i===!1||i===0?hs(O,1):hs(O);let h,d,f,p,m=!1,y=!1;if(ge(e)?(d=()=>e.value,m=hn(e)):Ks(e)?(d=()=>c(e),m=!0):pt(e)?(y=!0,m=e.some(O=>Ks(O)||hn(O)),d=()=>e.map(O=>{if(ge(O))return O.value;if(Ks(O))return c(O);if(yt(O))return l?l(O,2):O()})):yt(e)?t?d=l?()=>l(e,2):e:d=()=>{if(f){_s();try{f()}finally{ys()}}const O=ki;ki=h;try{return l?l(e,3,[p]):e(p)}finally{ki=O}}:d=Wn,t&&i){const O=d,D=i===!0?1/0:i;d=()=>hs(O(),D)}const b=qd(),E=()=>{h.stop(),b&&b.active&&jd(b.effects,h)};if(r&&t){const O=t;t=(...D)=>{O(...D),E()}}let L=y?new Array(e.length).fill(ul):ul;const S=O=>{if(!(!(h.flags&1)||!h.dirty&&!O))if(t){const D=h.run();if(i||m||(y?D.some((F,k)=>Gs(F,L[k])):Gs(D,L))){f&&f();const F=ki;ki=h;try{const k=[D,L===ul?void 0:y&&L[0]===ul?[]:L,p];L=D,l?l(t,3,k):t(...k)}finally{ki=F}}}else h.run()};return a&&a(S),h=new Iv(d),h.scheduler=o?()=>o(S,!1):S,p=O=>BE(O,!1,h),f=h.onStop=()=>{const O=ec.get(h);if(O){if(l)l(O,4);else for(const D of O)D();ec.delete(h)}},t?s?S(!0):L=h.run():o?o(S.bind(null,!0),!0):h.run(),E.pause=h.pause.bind(h),E.resume=h.resume.bind(h),E.stop=E,E}function hs(e,t=1/0,n){if(t<=0||!Bt(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,ge(e))hs(e.value,t,n);else if(pt(e))for(let s=0;s<e.length;s++)hs(e[s],t,n);else if(Xr(e)||wr(e))e.forEach(s=>{hs(s,t,n)});else if(_v(e)){for(const s in e)hs(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&hs(e[s],t,n)}return e}function Da(e,t,n,s){try{return s?e(...s):e()}catch(i){Zr(i,t,n)}}function Mn(e,t,n,s){if(yt(e)){const i=Da(e,t,n,s);return i&&zd(i)&&i.catch(r=>{Zr(r,t,n)}),i}if(pt(e)){const i=[];for(let r=0;r<e.length;r++)i.push(Mn(e[r],t,n,s));return i}}function Zr(e,t,n,s=!0){const i=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||zt;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const h=a.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](e,l,c)===!1)return}a=a.parent}if(r){_s(),Da(r,null,10,[e,l,c]),ys();return}}jE(e,n,i,s,o)}function jE(e,t,n,s=!0,i=!1){if(i)throw e;console.error(e)}const Ye=[];let Un=-1;const Ir=[];let Vs=null,hr=0;const $v=Promise.resolve();let nc=null;function Kc(e){const t=nc||$v;return e?t.then(this?e.bind(this):e):t}function zE(e){let t=Un+1,n=Ye.length;for(;t<n;){const s=t+n>>>1,i=Ye[s],r=ua(i);r<e||r===e&&i.flags&2?t=s+1:n=s}return t}function Zd(e){if(!(e.flags&1)){const t=ua(e),n=Ye[Ye.length-1];!n||!(e.flags&2)&&t>=ua(n)?Ye.push(e):Ye.splice(zE(t),0,e),e.flags|=1,Bv()}}function Bv(){nc||(nc=$v.then(Hv))}function $h(e){pt(e)?Ir.push(...e):Vs&&e.id===-1?Vs.splice(hr+1,0,e):e.flags&1||(Ir.push(e),e.flags|=1),Bv()}function _g(e,t,n=Un+1){for(;n<Ye.length;n++){const s=Ye[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;Ye.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function sc(e){if(Ir.length){const t=[...new Set(Ir)].sort((n,s)=>ua(n)-ua(s));if(Ir.length=0,Vs){Vs.push(...t);return}for(Vs=t,hr=0;hr<Vs.length;hr++){const n=Vs[hr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Vs=null,hr=0}}const ua=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Hv(e){try{for(Un=0;Un<Ye.length;Un++){const t=Ye[Un];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Da(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Un<Ye.length;Un++){const t=Ye[Un];t&&(t.flags&=-2)}Un=-1,Ye.length=0,sc(),nc=null,(Ye.length||Ir.length)&&Hv()}}let Ne=null,jv=null;function ic(e){const t=Ne;return Ne=e,jv=e&&e.type.__scopeId||null,t}function Ve(e,t=Ne,n){if(!t||e._n)return e;const s=(...i)=>{s._d&&ac(-1);const r=ic(t);let o;try{o=e(...i)}finally{ic(r),s._d&&ac(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function ds(e,t){if(Ne===null)return e;const n=Zc(Ne),s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[r,o,a,l=zt]=t[i];r&&(yt(r)&&(r={mounted:r,updated:r}),r.deep&&hs(o),s.push({dir:r,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Bn(e,t,n,s){const i=e.dirs,r=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l&&(_s(),Mn(l,n,8,[e.el,a,e,t]),ys())}}function tf(e,t){if(Le){let n=Le.provides;const s=Le.parent&&Le.parent.provides;s===n&&(n=Le.provides=Object.create(s)),n[e]=t}}function Ni(e,t,n=!1){const s=to();if(s||Fi){let i=Fi?Fi._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&yt(t)?t.call(s&&s.proxy):t}}function Qc(){return!!(to()||Fi)}const WE=Symbol.for("v-scx"),qE=()=>Ni(WE);function GE(e,t){return ef(e,null,t)}function Wo(e,t,n){return ef(e,t,n)}function ef(e,t,n=zt){const{immediate:s,deep:i,flush:r,once:o}=n,a=Ce({},n),l=t&&s||!t&&r!=="post";let c;if(Vr){if(r==="sync"){const p=qE();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=Wn,p.resume=Wn,p.pause=Wn,p}}const h=Le;a.call=(p,m,y)=>Mn(p,h,m,y);let d=!1;r==="post"?a.scheduler=p=>{Je(p,h&&h.suspense)}:r!=="sync"&&(d=!0,a.scheduler=(p,m)=>{m?p():Zd(p)}),a.augmentJob=p=>{t&&(p.flags|=4),d&&(p.flags|=2,h&&(p.id=h.uid,p.i=h))};const f=HE(e,t,a);return Vr&&(c?c.push(f):l&&f()),f}function KE(e,t,n){const s=this.proxy,i=ee(e)?e.includes(".")?zv(s,e):()=>s[e]:e.bind(s,s);let r;yt(t)?r=t:(r=t.handler,n=t);const o=Na(this),a=ef(i,r.bind(s),n);return o(),a}function zv(e,t){const n=t.split(".");return()=>{let s=e;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}const QE=Symbol("_vte"),Wv=e=>e.__isTeleport,ls=Symbol("_leaveCb"),hl=Symbol("_enterCb");function YE(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return si(()=>{e.isMounted=!0}),sf(()=>{e.isUnmounting=!0}),e}const dn=[Function,Array],qv={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:dn,onEnter:dn,onAfterEnter:dn,onEnterCancelled:dn,onBeforeLeave:dn,onLeave:dn,onAfterLeave:dn,onLeaveCancelled:dn,onBeforeAppear:dn,onAppear:dn,onAfterAppear:dn,onAppearCancelled:dn},Gv=e=>{const t=e.subTree;return t.component?Gv(t.component):t},XE={name:"BaseTransition",props:qv,setup(e,{slots:t}){const n=to(),s=YE();return()=>{const i=t.default&&Yv(t.default(),!0);if(!i||!i.length)return;const r=Kv(i),o=Pt(e),{mode:a}=o;if(s.isLeaving)return Zu(r);const l=yg(r);if(!l)return Zu(r);let c=Bh(l,o,s,n,d=>c=d);l.type!==ye&&ha(l,c);let h=n.subTree&&yg(n.subTree);if(h&&h.type!==ye&&!zn(h,l)&&Gv(n).type!==ye){let d=Bh(h,o,s,n);if(ha(h,d),a==="out-in"&&l.type!==ye)return s.isLeaving=!0,d.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,h=void 0},Zu(r);a==="in-out"&&l.type!==ye?d.delayLeave=(f,p,m)=>{const y=Qv(s,h);y[String(h.key)]=h,f[ls]=()=>{p(),f[ls]=void 0,delete c.delayedLeave,h=void 0},c.delayedLeave=()=>{m(),delete c.delayedLeave,h=void 0}}:h=void 0}else h&&(h=void 0);return r}}};function Kv(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==ye){t=n;break}}return t}const JE=XE;function Qv(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function Bh(e,t,n,s,i){const{appear:r,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:h,onEnterCancelled:d,onBeforeLeave:f,onLeave:p,onAfterLeave:m,onLeaveCancelled:y,onBeforeAppear:b,onAppear:E,onAfterAppear:L,onAppearCancelled:S}=t,O=String(e.key),D=Qv(n,e),F=(w,C)=>{w&&Mn(w,s,9,C)},k=(w,C)=>{const R=C[1];F(w,C),pt(w)?w.every(P=>P.length<=1)&&R():w.length<=1&&R()},T={mode:o,persisted:a,beforeEnter(w){let C=l;if(!n.isMounted)if(r)C=b||l;else return;w[ls]&&w[ls](!0);const R=D[O];R&&zn(e,R)&&R.el[ls]&&R.el[ls](),F(C,[w])},enter(w){let C=c,R=h,P=d;if(!n.isMounted)if(r)C=E||c,R=L||h,P=S||d;else return;let x=!1;const st=w[hl]=ct=>{x||(x=!0,ct?F(P,[w]):F(R,[w]),T.delayedLeave&&T.delayedLeave(),w[hl]=void 0)};C?k(C,[w,st]):st()},leave(w,C){const R=String(e.key);if(w[hl]&&w[hl](!0),n.isUnmounting)return C();F(f,[w]);let P=!1;const x=w[ls]=st=>{P||(P=!0,C(),st?F(y,[w]):F(m,[w]),w[ls]=void 0,D[R]===e&&delete D[R])};D[R]=e,p?k(p,[w,x]):x()},clone(w){const C=Bh(w,t,n,s,i);return i&&i(C),C}};return T}function Zu(e){if(La(e))return e=An(e),e.children=null,e}function yg(e){if(!La(e))return Wv(e.type)&&e.children?Kv(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&yt(n.default))return n.default()}}function ha(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ha(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Yv(e,t=!1,n){let s=[],i=0;for(let r=0;r<e.length;r++){let o=e[r];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===Et?(o.patchFlag&128&&i++,s=s.concat(Yv(o.children,t,a))):(t||o.type!==ye)&&s.push(a!=null?An(o,{key:a}):o)}if(i>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}function Ht(e,t){return yt(e)?Ce({name:e.name},t,{setup:e}):e}function nf(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const rc=new WeakMap;function Sr(e,t,n,s,i=!1){if(pt(e)){e.forEach((m,y)=>Sr(m,t&&(pt(t)?t[y]:t),n,s,i));return}if(Vi(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Sr(e,t,n,s.component.subTree);return}const r=s.shapeFlag&4?Zc(s.component):s.el,o=i?null:r,{i:a,r:l}=e,c=t&&t.r,h=a.refs===zt?a.refs={}:a.refs,d=a.setupState,f=Pt(d),p=d===zt?gv:m=>Ft(f,m);if(c!=null&&c!==l){if(vg(t),ee(c))h[c]=null,p(c)&&(d[c]=null);else if(ge(c)){c.value=null;const m=t;m.k&&(h[m.k]=null)}}if(yt(l))Da(l,a,12,[o,h]);else{const m=ee(l),y=ge(l);if(m||y){const b=()=>{if(e.f){const E=m?p(l)?d[l]:h[l]:l.value;if(i)pt(E)&&jd(E,r);else if(pt(E))E.includes(r)||E.push(r);else if(m)h[l]=[r],p(l)&&(d[l]=h[l]);else{const L=[r];l.value=L,e.k&&(h[e.k]=L)}}else m?(h[l]=o,p(l)&&(d[l]=o)):y&&(l.value=o,e.k&&(h[e.k]=o))};if(o){const E=()=>{b(),rc.delete(e)};E.id=-1,rc.set(e,E),Je(E,n)}else vg(e),b()}}}function vg(e){const t=rc.get(e);t&&(t.flags|=8,rc.delete(e))}let bg=!1;const lr=()=>{bg||(console.error("Hydration completed but contains mismatches."),bg=!0)},ZE=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",tI=e=>e.namespaceURI.includes("MathML"),dl=e=>{if(e.nodeType===1){if(ZE(e))return"svg";if(tI(e))return"mathml"}},_r=e=>e.nodeType===8;function eI(e){const{mt:t,p:n,o:{patchProp:s,createText:i,nextSibling:r,parentNode:o,remove:a,insert:l,createComment:c}}=e,h=(S,O)=>{if(!O.hasChildNodes()){n(null,S,O),sc(),O._vnode=S;return}d(O.firstChild,S,null,null,null),sc(),O._vnode=S},d=(S,O,D,F,k,T=!1)=>{T=T||!!O.dynamicChildren;const w=_r(S)&&S.data==="[",C=()=>y(S,O,D,F,k,w),{type:R,ref:P,shapeFlag:x,patchFlag:st}=O;let ct=S.nodeType;O.el=S,st===-2&&(T=!1,O.dynamicChildren=null);let nt=null;switch(R){case Ui:ct!==3?O.children===""?(l(O.el=i(""),o(S),S),nt=S):nt=C():(S.data!==O.children&&(lr(),S.data=O.children),nt=r(S));break;case ye:L(S)?(nt=r(S),E(O.el=S.content.firstChild,S,D)):ct!==8||w?nt=C():nt=r(S);break;case Go:if(w&&(S=r(S),ct=S.nodeType),ct===1||ct===3){nt=S;const lt=!O.children.length;for(let it=0;it<O.staticCount;it++)lt&&(O.children+=nt.nodeType===1?nt.outerHTML:nt.data),it===O.staticCount-1&&(O.anchor=nt),nt=r(nt);return w?r(nt):nt}else C();break;case Et:w?nt=m(S,O,D,F,k,T):nt=C();break;default:if(x&1)(ct!==1||O.type.toLowerCase()!==S.tagName.toLowerCase())&&!L(S)?nt=C():nt=f(S,O,D,F,k,T);else if(x&6){O.slotScopeIds=k;const lt=o(S);if(w?nt=b(S):_r(S)&&S.data==="teleport start"?nt=b(S,S.data,"teleport end"):nt=r(S),t(O,lt,null,D,F,dl(lt),T),Vi(O)&&!O.type.__asyncResolved){let it;w?(it=mt(Et),it.anchor=nt?nt.previousSibling:lt.lastChild):it=S.nodeType===3?Vt(""):mt("div"),it.el=S,O.component.subTree=it}}else x&64?ct!==8?nt=C():nt=O.type.hydrate(S,O,D,F,k,T,e,p):x&128&&(nt=O.type.hydrate(S,O,D,F,dl(o(S)),k,T,e,d))}return P!=null&&Sr(P,null,F,O),nt},f=(S,O,D,F,k,T)=>{T=T||!!O.dynamicChildren;const{type:w,props:C,patchFlag:R,shapeFlag:P,dirs:x,transition:st}=O,ct=w==="input"||w==="option";if(ct||R!==-1){x&&Bn(O,null,D,"created");let nt=!1;if(L(S)){nt=mb(null,st)&&D&&D.vnode.props&&D.vnode.props.appear;const it=S.content.firstChild;if(nt){const Rt=it.getAttribute("class");Rt&&(it.$cls=Rt),st.beforeEnter(it)}E(it,S,D),O.el=S=it}if(P&16&&!(C&&(C.innerHTML||C.textContent))){let it=p(S.firstChild,O,S,D,F,k,T);for(;it;){fl(S,1)||lr();const Rt=it;it=it.nextSibling,a(Rt)}}else if(P&8){let it=O.children;it[0]===`
`&&(S.tagName==="PRE"||S.tagName==="TEXTAREA")&&(it=it.slice(1));const{textContent:Rt}=S;Rt!==it&&Rt!==it.replace(/\r\n|\r/g,`
`)&&(fl(S,0)||lr(),S.textContent=O.children)}if(C){if(ct||!T||R&48){const it=S.tagName.includes("-");for(const Rt in C)(ct&&(Rt.endsWith("value")||Rt==="indeterminate")||Pa(Rt)&&!Er(Rt)||Rt[0]==="."||it)&&s(S,Rt,null,C[Rt],void 0,D)}else if(C.onClick)s(S,"onClick",null,C.onClick,void 0,D);else if(R&4&&Ks(C.style))for(const it in C.style)C.style[it]}let lt;(lt=C&&C.onVnodeBeforeMount)&&gn(lt,D,O),x&&Bn(O,null,D,"beforeMount"),((lt=C&&C.onVnodeMounted)||x||nt)&&wb(()=>{lt&&gn(lt,D,O),nt&&st.enter(S),x&&Bn(O,null,D,"mounted")},F)}return S.nextSibling},p=(S,O,D,F,k,T,w)=>{w=w||!!O.dynamicChildren;const C=O.children,R=C.length;for(let P=0;P<R;P++){const x=w?C[P]:C[P]=ln(C[P]),st=x.type===Ui;S?(st&&!w&&P+1<R&&ln(C[P+1]).type===Ui&&(l(i(S.data.slice(x.children.length)),D,r(S)),S.data=x.children),S=d(S,x,F,k,T,w)):st&&!x.children?l(x.el=i(""),D):(fl(D,1)||lr(),n(null,x,D,null,F,k,dl(D),T))}return S},m=(S,O,D,F,k,T)=>{const{slotScopeIds:w}=O;w&&(k=k?k.concat(w):w);const C=o(S),R=p(r(S),O,C,D,F,k,T);return R&&_r(R)&&R.data==="]"?r(O.anchor=R):(lr(),l(O.anchor=c("]"),C,R),R)},y=(S,O,D,F,k,T)=>{if(fl(S.parentElement,1)||lr(),O.el=null,T){const R=b(S);for(;;){const P=r(S);if(P&&P!==R)a(P);else break}}const w=r(S),C=o(S);return a(S),n(null,O,C,w,D,F,dl(C),k),D&&(D.vnode.el=O.el,Jc(D,O.el)),w},b=(S,O="[",D="]")=>{let F=0;for(;S;)if(S=r(S),S&&_r(S)&&(S.data===O&&F++,S.data===D)){if(F===0)return r(S);F--}return S},E=(S,O,D)=>{const F=O.parentNode;F&&F.replaceChild(S,O);let k=D;for(;k;)k.vnode.el===O&&(k.vnode.el=k.subTree.el=S),k=k.parent},L=S=>S.nodeType===1&&S.tagName==="TEMPLATE";return[h,d]}const Tg="data-allow-mismatch",nI={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function fl(e,t){if(t===0||t===1)for(;e&&!e.hasAttribute(Tg);)e=e.parentElement;const n=e&&e.getAttribute(Tg);if(n==null)return!1;if(n==="")return!0;{const s=n.split(",");return t===0&&s.includes("children")?!0:s.includes(nI[t])}}qc().requestIdleCallback;qc().cancelIdleCallback;function sI(e,t){if(_r(e)&&e.data==="["){let n=1,s=e.nextSibling;for(;s;){if(s.nodeType===1){if(t(s)===!1)break}else if(_r(s))if(s.data==="]"){if(--n===0)break}else s.data==="["&&n++;s=s.nextSibling}}else t(e)}const Vi=e=>!!e.type.__asyncLoader;function wg(e){yt(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:s,delay:i=200,hydrate:r,timeout:o,suspensible:a=!0,onError:l}=e;let c=null,h,d=0;const f=()=>(d++,c=null,p()),p=()=>{let m;return c||(m=c=t().catch(y=>{if(y=y instanceof Error?y:new Error(String(y)),l)return new Promise((b,E)=>{l(y,()=>b(f()),()=>E(y),d+1)});throw y}).then(y=>m!==c&&c?c:(y&&(y.__esModule||y[Symbol.toStringTag]==="Module")&&(y=y.default),h=y,y)))};return Ht({name:"AsyncComponentWrapper",__asyncLoader:p,__asyncHydrate(m,y,b){let E=!1;(y.bu||(y.bu=[])).push(()=>E=!0);const L=()=>{E||b()},S=r?()=>{const O=r(L,D=>sI(m,D));O&&(y.bum||(y.bum=[])).push(O)}:L;h?S():p().then(()=>!y.isUnmounted&&S())},get __asyncResolved(){return h},setup(){const m=Le;if(nf(m),h)return()=>pl(h,m);const y=S=>{c=null,Zr(S,m,13,!s)};if(a&&m.suspense||Vr)return p().then(S=>()=>pl(S,m)).catch(S=>(y(S),()=>s?mt(s,{error:S}):null));const b=ut(!1),E=ut(),L=ut(!!i);return i&&setTimeout(()=>{L.value=!1},i),o!=null&&setTimeout(()=>{if(!b.value&&!E.value){const S=new Error(`Async component timed out after ${o}ms.`);y(S),E.value=S}},o),p().then(()=>{b.value=!0,m.parent&&La(m.parent.vnode)&&m.parent.update()}).catch(S=>{y(S),E.value=S}),()=>{if(b.value&&h)return pl(h,m);if(E.value&&s)return mt(s,{error:E.value});if(n&&!L.value)return pl(n,m)}}})}function pl(e,t){const{ref:n,props:s,children:i,ce:r}=t.vnode,o=mt(e,s,i);return o.ref=n,o.ce=r,delete t.vnode.ce,o}const La=e=>e.type.__isKeepAlive;function Xv(e,t){Zv(e,"a",t)}function Jv(e,t){Zv(e,"da",t)}function Zv(e,t,n=Le){const s=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Yc(t,s,n),n){let i=n.parent;for(;i&&i.parent;)La(i.parent.vnode)&&iI(s,t,n,i),i=i.parent}}function iI(e,t,n,s){const i=Yc(t,e,s,!0);rf(()=>{jd(s[t],i)},n)}function Yc(e,t,n=Le,s=!1){if(n){const i=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...o)=>{_s();const a=Na(n),l=Mn(t,n,e,o);return a(),ys(),l});return s?i.unshift(r):i.push(r),r}}const Es=e=>(t,n=Le)=>{(!Vr||e==="sp")&&Yc(e,(...s)=>t(...s),n)},rI=Es("bm"),si=Es("m"),oI=Es("bu"),aI=Es("u"),sf=Es("bum"),rf=Es("um"),lI=Es("sp"),cI=Es("rtg"),uI=Es("rtc");function tb(e,t=Le){Yc("ec",e,t)}const of="components",hI="directives";function SU(e,t){return af(of,e,!0,t)||e}const eb=Symbol.for("v-ndc");function dI(e){return ee(e)?af(of,e,!1)||e:e||eb}function fI(e){return af(hI,e)}function af(e,t,n=!0,s=!1){const i=Ne||Le;if(i){const r=i.type;if(e===of){const a=tS(r,!1);if(a&&(a===t||a===bn(t)||a===zc(bn(t))))return r}const o=Eg(i[e]||r[e],t)||Eg(i.appContext[e],t);return!o&&s?r:o}}function Eg(e,t){return e&&(e[t]||e[bn(t)]||e[zc(bn(t))])}function an(e,t,n,s){let i;const r=n,o=pt(e);if(o||ee(e)){const a=o&&Ks(e);let l=!1,c=!1;a&&(l=!hn(e),c=Xn(e),e=Gc(e)),i=new Array(e.length);for(let h=0,d=e.length;h<d;h++)i[h]=t(l?c?Dr(On(e[h])):On(e[h]):e[h],h,void 0,r)}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,r)}else if(Bt(e))if(e[Symbol.iterator])i=Array.from(e,(a,l)=>t(a,l,void 0,r));else{const a=Object.keys(e);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const h=a[l];i[l]=t(e[h],h,l,r)}}else i=[];return i}function lf(e,t,n={},s,i){if(Ne.ce||Ne.parent&&Vi(Ne.parent)&&Ne.parent.ce){const c=Object.keys(n).length>0;return B(),Zt(Et,null,[mt("slot",n,s)],c?-2:64)}let r=e[t];r&&r._c&&(r._d=!1),B();const o=r&&nb(r(n)),a=n.key||o&&o.key,l=Zt(Et,{key:(a&&!Pn(a)?a:`_${t}`)+(!o&&s?"_fb":"")},o||[],o&&e._===1?64:-2);return r&&r._c&&(r._d=!0),l}function nb(e){return e.some(t=>Nr(t)?!(t.type===ye||t.type===Et&&!nb(t.children)):!0)?e:null}const Hh=e=>e?kb(e)?Zc(e):Hh(e.parent):null,qo=Ce(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Hh(e.parent),$root:e=>Hh(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ib(e),$forceUpdate:e=>e.f||(e.f=()=>{Zd(e.update)}),$nextTick:e=>e.n||(e.n=Kc.bind(e.proxy)),$watch:e=>KE.bind(e)}),th=(e,t)=>e!==zt&&!e.__isScriptSetup&&Ft(e,t),pI={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:l}=e;if(t[0]!=="$"){const f=o[t];if(f!==void 0)switch(f){case 1:return s[t];case 2:return i[t];case 4:return n[t];case 3:return r[t]}else{if(th(s,t))return o[t]=1,s[t];if(i!==zt&&Ft(i,t))return o[t]=2,i[t];if(Ft(r,t))return o[t]=3,r[t];if(n!==zt&&Ft(n,t))return o[t]=4,n[t];jh&&(o[t]=0)}}const c=qo[t];let h,d;if(c)return t==="$attrs"&&je(e.attrs,"get",""),c(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==zt&&Ft(n,t))return o[t]=4,n[t];if(d=l.config.globalProperties,Ft(d,t))return d[t]},set({_:e},t,n){const{data:s,setupState:i,ctx:r}=e;return th(i,t)?(i[t]=n,!0):s!==zt&&Ft(s,t)?(s[t]=n,!0):Ft(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:i,props:r,type:o}},a){let l;return!!(n[a]||e!==zt&&a[0]!=="$"&&Ft(e,a)||th(t,a)||Ft(r,a)||Ft(s,a)||Ft(qo,a)||Ft(i.config.globalProperties,a)||(l=o.__cssModules)&&l[a])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ft(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Ig(e){return pt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let jh=!0;function gI(e){const t=ib(e),n=e.proxy,s=e.ctx;jh=!1,t.beforeCreate&&Sg(t.beforeCreate,e,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:h,beforeMount:d,mounted:f,beforeUpdate:p,updated:m,activated:y,deactivated:b,beforeDestroy:E,beforeUnmount:L,destroyed:S,unmounted:O,render:D,renderTracked:F,renderTriggered:k,errorCaptured:T,serverPrefetch:w,expose:C,inheritAttrs:R,components:P,directives:x,filters:st}=t;if(c&&mI(c,s,null),o)for(const lt in o){const it=o[lt];yt(it)&&(s[lt]=it.bind(n))}if(i){const lt=i.call(n,n);Bt(lt)&&(e.data=ni(lt))}if(jh=!0,r)for(const lt in r){const it=r[lt],Rt=yt(it)?it.bind(n,n):yt(it.get)?it.get.bind(n,n):Wn,Fe=!yt(it)&&yt(it.set)?it.set.bind(n):Wn,Ee=Tt({get:Rt,set:Fe});Object.defineProperty(s,lt,{enumerable:!0,configurable:!0,get:()=>Ee.value,set:Wt=>Ee.value=Wt})}if(a)for(const lt in a)sb(a[lt],s,n,lt);if(l){const lt=yt(l)?l.call(n):l;Reflect.ownKeys(lt).forEach(it=>{tf(it,lt[it])})}h&&Sg(h,e,"c");function nt(lt,it){pt(it)?it.forEach(Rt=>lt(Rt.bind(n))):it&&lt(it.bind(n))}if(nt(rI,d),nt(si,f),nt(oI,p),nt(aI,m),nt(Xv,y),nt(Jv,b),nt(tb,T),nt(uI,F),nt(cI,k),nt(sf,L),nt(rf,O),nt(lI,w),pt(C))if(C.length){const lt=e.exposed||(e.exposed={});C.forEach(it=>{Object.defineProperty(lt,it,{get:()=>n[it],set:Rt=>n[it]=Rt,enumerable:!0})})}else e.exposed||(e.exposed={});D&&e.render===Wn&&(e.render=D),R!=null&&(e.inheritAttrs=R),P&&(e.components=P),x&&(e.directives=x),w&&nf(e)}function mI(e,t,n=Wn){pt(e)&&(e=zh(e));for(const s in e){const i=e[s];let r;Bt(i)?"default"in i?r=Ni(i.from||s,i.default,!0):r=Ni(i.from||s):r=Ni(i),ge(r)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[s]=r}}function Sg(e,t,n){Mn(pt(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function sb(e,t,n,s){let i=s.includes(".")?zv(n,s):()=>n[s];if(ee(e)){const r=t[e];yt(r)&&Wo(i,r)}else if(yt(e))Wo(i,e.bind(n));else if(Bt(e))if(pt(e))e.forEach(r=>sb(r,t,n,s));else{const r=yt(e.handler)?e.handler.bind(n):t[e.handler];yt(r)&&Wo(i,r,e)}}function ib(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,a=r.get(t);let l;return a?l=a:!i.length&&!n&&!s?l=t:(l={},i.length&&i.forEach(c=>oc(l,c,o,!0)),oc(l,t,o)),Bt(t)&&r.set(t,l),l}function oc(e,t,n,s=!1){const{mixins:i,extends:r}=t;r&&oc(e,r,n,!0),i&&i.forEach(o=>oc(e,o,n,!0));for(const o in t)if(!(s&&o==="expose")){const a=_I[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const _I={data:Ag,props:kg,emits:kg,methods:Do,computed:Do,beforeCreate:Qe,created:Qe,beforeMount:Qe,mounted:Qe,beforeUpdate:Qe,updated:Qe,beforeDestroy:Qe,beforeUnmount:Qe,destroyed:Qe,unmounted:Qe,activated:Qe,deactivated:Qe,errorCaptured:Qe,serverPrefetch:Qe,components:Do,directives:Do,watch:vI,provide:Ag,inject:yI};function Ag(e,t){return t?e?function(){return Ce(yt(e)?e.call(this,this):e,yt(t)?t.call(this,this):t)}:t:e}function yI(e,t){return Do(zh(e),zh(t))}function zh(e){if(pt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Qe(e,t){return e?[...new Set([].concat(e,t))]:t}function Do(e,t){return e?Ce(Object.create(null),e,t):t}function kg(e,t){return e?pt(e)&&pt(t)?[...new Set([...e,...t])]:Ce(Object.create(null),Ig(e),Ig(t??{})):t}function vI(e,t){if(!e)return t;if(!t)return e;const n=Ce(Object.create(null),e);for(const s in t)n[s]=Qe(e[s],t[s]);return n}function rb(){return{app:null,config:{isNativeTag:gv,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let bI=0;function TI(e,t){return function(s,i=null){yt(s)||(s=Ce({},s)),i!=null&&!Bt(i)&&(i=null);const r=rb(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:bI++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:xb,get config(){return r.config},set config(h){},use(h,...d){return o.has(h)||(h&&yt(h.install)?(o.add(h),h.install(c,...d)):yt(h)&&(o.add(h),h(c,...d))),c},mixin(h){return r.mixins.includes(h)||r.mixins.push(h),c},component(h,d){return d?(r.components[h]=d,c):r.components[h]},directive(h,d){return d?(r.directives[h]=d,c):r.directives[h]},mount(h,d,f){if(!l){const p=c._ceVNode||mt(s,i);return p.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),d&&t?t(p,h):e(p,h,f),l=!0,c._container=h,h.__vue_app__=c,Zc(p.component)}},onUnmount(h){a.push(h)},unmount(){l&&(Mn(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(h,d){return r.provides[h]=d,c},runWithContext(h){const d=Fi;Fi=c;try{return h()}finally{Fi=d}}};return c}}let Fi=null;const wI=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${bn(t)}Modifiers`]||e[`${Xi(t)}Modifiers`];function EI(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||zt;let i=n;const r=t.startsWith("update:"),o=r&&wI(s,t.slice(7));o&&(o.trim&&(i=n.map(h=>ee(h)?h.trim():h)),o.number&&(i=n.map(Wc)));let a,l=s[a=Ku(t)]||s[a=Ku(bn(t))];!l&&r&&(l=s[a=Ku(Xi(t))]),l&&Mn(l,e,6,i);const c=s[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Mn(c,e,6,i)}}const II=new WeakMap;function ob(e,t,n=!1){const s=n?II:t.emitsCache,i=s.get(e);if(i!==void 0)return i;const r=e.emits;let o={},a=!1;if(!yt(e)){const l=c=>{const h=ob(c,t,!0);h&&(a=!0,Ce(o,h))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!r&&!a?(Bt(e)&&s.set(e,null),null):(pt(r)?r.forEach(l=>o[l]=null):Ce(o,r),Bt(e)&&s.set(e,o),o)}function Xc(e,t){return!e||!Pa(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ft(e,t[0].toLowerCase()+t.slice(1))||Ft(e,Xi(t))||Ft(e,t))}function eh(e){const{type:t,vnode:n,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:h,props:d,data:f,setupState:p,ctx:m,inheritAttrs:y}=e,b=ic(e);let E,L;try{if(n.shapeFlag&4){const O=i||s,D=O;E=ln(c.call(D,O,h,d,p,f,m)),L=a}else{const O=t;E=ln(O.length>1?O(d,{attrs:a,slots:o,emit:l}):O(d,null)),L=t.props?a:AI(a)}}catch(O){Ko.length=0,Zr(O,e,1),E=mt(ye)}let S=E;if(L&&y!==!1){const O=Object.keys(L),{shapeFlag:D}=S;O.length&&D&7&&(r&&O.some(Hd)&&(L=kI(L,r)),S=An(S,L,!1,!0))}return n.dirs&&(S=An(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(n.dirs):n.dirs),n.transition&&ha(S,n.transition),E=S,ic(b),E}function SI(e,t=!0){let n;for(let s=0;s<e.length;s++){const i=e[s];if(Nr(i)){if(i.type!==ye||i.children==="v-if"){if(n)return;n=i}}else return}return n}const AI=e=>{let t;for(const n in e)(n==="class"||n==="style"||Pa(n))&&((t||(t={}))[n]=e[n]);return t},kI=(e,t)=>{const n={};for(const s in e)(!Hd(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function CI(e,t,n){const{props:s,children:i,component:r}=e,{props:o,children:a,patchFlag:l}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Cg(s,o,c):!!o;if(l&8){const h=t.dynamicProps;for(let d=0;d<h.length;d++){const f=h[d];if(o[f]!==s[f]&&!Xc(c,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Cg(s,o,c):!0:!!o;return!1}function Cg(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(t[r]!==e[r]&&!Xc(n,r))return!0}return!1}function Jc({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const ab={},lb=()=>Object.create(ab),cb=e=>Object.getPrototypeOf(e)===ab;function xI(e,t,n,s=!1){const i={},r=lb();e.propsDefaults=Object.create(null),ub(e,t,i,r);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);n?e.props=s?i:mr(i):e.type.props?e.props=i:e.props=r,e.attrs=r}function RI(e,t,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=e,a=Pt(i),[l]=e.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const h=e.vnode.dynamicProps;for(let d=0;d<h.length;d++){let f=h[d];if(Xc(e.emitsOptions,f))continue;const p=t[f];if(l)if(Ft(r,f))p!==r[f]&&(r[f]=p,c=!0);else{const m=bn(f);i[m]=Wh(l,a,m,p,e,!1)}else p!==r[f]&&(r[f]=p,c=!0)}}}else{ub(e,t,i,r)&&(c=!0);let h;for(const d in a)(!t||!Ft(t,d)&&((h=Xi(d))===d||!Ft(t,h)))&&(l?n&&(n[d]!==void 0||n[h]!==void 0)&&(i[d]=Wh(l,a,d,void 0,e,!0)):delete i[d]);if(r!==a)for(const d in r)(!t||!Ft(t,d))&&(delete r[d],c=!0)}c&&us(e.attrs,"set","")}function ub(e,t,n,s){const[i,r]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Er(l))continue;const c=t[l];let h;i&&Ft(i,h=bn(l))?!r||!r.includes(h)?n[h]=c:(a||(a={}))[h]=c:Xc(e.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(r){const l=Pt(n),c=a||zt;for(let h=0;h<r.length;h++){const d=r[h];n[d]=Wh(i,l,d,c[d],e,!Ft(c,d))}}return o}function Wh(e,t,n,s,i,r){const o=e[n];if(o!=null){const a=Ft(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&yt(l)){const{propsDefaults:c}=i;if(n in c)s=c[n];else{const h=Na(i);s=c[n]=l.call(null,t),h()}}else s=l;i.ce&&i.ce._setProp(n,s)}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===Xi(n))&&(s=!0))}return s}const PI=new WeakMap;function hb(e,t,n=!1){const s=n?PI:t.propsCache,i=s.get(e);if(i)return i;const r=e.props,o={},a=[];let l=!1;if(!yt(e)){const h=d=>{l=!0;const[f,p]=hb(d,t,!0);Ce(o,f),p&&a.push(...p)};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!r&&!l)return Bt(e)&&s.set(e,Tr),Tr;if(pt(r))for(let h=0;h<r.length;h++){const d=bn(r[h]);xg(d)&&(o[d]=zt)}else if(r)for(const h in r){const d=bn(h);if(xg(d)){const f=r[h],p=o[d]=pt(f)||yt(f)?{type:f}:Ce({},f),m=p.type;let y=!1,b=!0;if(pt(m))for(let E=0;E<m.length;++E){const L=m[E],S=yt(L)&&L.name;if(S==="Boolean"){y=!0;break}else S==="String"&&(b=!1)}else y=yt(m)&&m.name==="Boolean";p[0]=y,p[1]=b,(y||Ft(p,"default"))&&a.push(d)}}const c=[o,a];return Bt(e)&&s.set(e,c),c}function xg(e){return e[0]!=="$"&&!Er(e)}const cf=e=>e==="_"||e==="_ctx"||e==="$stable",uf=e=>pt(e)?e.map(ln):[ln(e)],OI=(e,t,n)=>{if(t._n)return t;const s=Ve((...i)=>uf(t(...i)),n);return s._c=!1,s},db=(e,t,n)=>{const s=e._ctx;for(const i in e){if(cf(i))continue;const r=e[i];if(yt(r))t[i]=OI(i,r,s);else if(r!=null){const o=uf(r);t[i]=()=>o}}},fb=(e,t)=>{const n=uf(t);e.slots.default=()=>n},pb=(e,t,n)=>{for(const s in t)(n||!cf(s))&&(e[s]=t[s])},MI=(e,t,n)=>{const s=e.slots=lb();if(e.vnode.shapeFlag&32){const i=t._;i?(pb(s,t,n),n&&yv(s,"_",i,!0)):db(t,s)}else t&&fb(e,t)},DI=(e,t,n)=>{const{vnode:s,slots:i}=e;let r=!0,o=zt;if(s.shapeFlag&32){const a=t._;a?n&&a===1?r=!1:pb(i,t,n):(r=!t.$stable,db(t,i)),o=t}else t&&(fb(e,t),o={default:1});if(r)for(const a in i)!cf(a)&&o[a]==null&&delete i[a]},Je=wb;function LI(e){return gb(e)}function NI(e){return gb(e,eI)}function gb(e,t){const n=qc();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:h,parentNode:d,nextSibling:f,setScopeId:p=Wn,insertStaticContent:m}=e,y=(I,M,$,W=null,z=null,q=null,Z=void 0,X=null,tt=!!M.dynamicChildren)=>{if(I===M)return;I&&!zn(I,M)&&(W=sn(I),Wt(I,z,q,!0),I=null),M.patchFlag===-2&&(tt=!1,M.dynamicChildren=null);const{type:G,ref:ft,shapeFlag:rt}=M;switch(G){case Ui:b(I,M,$,W);break;case ye:E(I,M,$,W);break;case Go:I==null&&L(M,$,W,Z);break;case Et:P(I,M,$,W,z,q,Z,X,tt);break;default:rt&1?D(I,M,$,W,z,q,Z,X,tt):rt&6?x(I,M,$,W,z,q,Z,X,tt):(rt&64||rt&128)&&G.process(I,M,$,W,z,q,Z,X,tt,K)}ft!=null&&z?Sr(ft,I&&I.ref,q,M||I,!M):ft==null&&I&&I.ref!=null&&Sr(I.ref,null,q,I,!0)},b=(I,M,$,W)=>{if(I==null)s(M.el=a(M.children),$,W);else{const z=M.el=I.el;M.children!==I.children&&c(z,M.children)}},E=(I,M,$,W)=>{I==null?s(M.el=l(M.children||""),$,W):M.el=I.el},L=(I,M,$,W)=>{[I.el,I.anchor]=m(I.children,M,$,W,I.el,I.anchor)},S=({el:I,anchor:M},$,W)=>{let z;for(;I&&I!==M;)z=f(I),s(I,$,W),I=z;s(M,$,W)},O=({el:I,anchor:M})=>{let $;for(;I&&I!==M;)$=f(I),i(I),I=$;i(M)},D=(I,M,$,W,z,q,Z,X,tt)=>{if(M.type==="svg"?Z="svg":M.type==="math"&&(Z="mathml"),I==null)F(M,$,W,z,q,Z,X,tt);else{const G=I.el&&I.el._isVueCE?I.el:null;try{G&&G._beginPatch(),w(I,M,z,q,Z,X,tt)}finally{G&&G._endPatch()}}},F=(I,M,$,W,z,q,Z,X)=>{let tt,G;const{props:ft,shapeFlag:rt,transition:J,dirs:at}=I;if(tt=I.el=o(I.type,q,ft&&ft.is,ft),rt&8?h(tt,I.children):rt&16&&T(I.children,tt,null,W,z,nh(I,q),Z,X),at&&Bn(I,null,W,"created"),k(tt,I,I.scopeId,Z,W),ft){for(const Nt in ft)Nt!=="value"&&!Er(Nt)&&r(tt,Nt,null,ft[Nt],q,W);"value"in ft&&r(tt,"value",null,ft.value,q),(G=ft.onVnodeBeforeMount)&&gn(G,W,I)}at&&Bn(I,null,W,"beforeMount");const It=mb(z,J);It&&J.beforeEnter(tt),s(tt,M,$),((G=ft&&ft.onVnodeMounted)||It||at)&&Je(()=>{G&&gn(G,W,I),It&&J.enter(tt),at&&Bn(I,null,W,"mounted")},z)},k=(I,M,$,W,z)=>{if($&&p(I,$),W)for(let q=0;q<W.length;q++)p(I,W[q]);if(z){let q=z.subTree;if(M===q||bb(q.type)&&(q.ssContent===M||q.ssFallback===M)){const Z=z.vnode;k(I,Z,Z.scopeId,Z.slotScopeIds,z.parent)}}},T=(I,M,$,W,z,q,Z,X,tt=0)=>{for(let G=tt;G<I.length;G++){const ft=I[G]=X?Fs(I[G]):ln(I[G]);y(null,ft,M,$,W,z,q,Z,X)}},w=(I,M,$,W,z,q,Z)=>{const X=M.el=I.el;let{patchFlag:tt,dynamicChildren:G,dirs:ft}=M;tt|=I.patchFlag&16;const rt=I.props||zt,J=M.props||zt;let at;if($&&vi($,!1),(at=J.onVnodeBeforeUpdate)&&gn(at,$,M,I),ft&&Bn(M,I,$,"beforeUpdate"),$&&vi($,!0),(rt.innerHTML&&J.innerHTML==null||rt.textContent&&J.textContent==null)&&h(X,""),G?C(I.dynamicChildren,G,X,$,W,nh(M,z),q):Z||it(I,M,X,null,$,W,nh(M,z),q,!1),tt>0){if(tt&16)R(X,rt,J,$,z);else if(tt&2&&rt.class!==J.class&&r(X,"class",null,J.class,z),tt&4&&r(X,"style",rt.style,J.style,z),tt&8){const It=M.dynamicProps;for(let Nt=0;Nt<It.length;Nt++){const Lt=It[Nt],Oe=rt[Lt],ae=J[Lt];(ae!==Oe||Lt==="value")&&r(X,Lt,Oe,ae,z,$)}}tt&1&&I.children!==M.children&&h(X,M.children)}else!Z&&G==null&&R(X,rt,J,$,z);((at=J.onVnodeUpdated)||ft)&&Je(()=>{at&&gn(at,$,M,I),ft&&Bn(M,I,$,"updated")},W)},C=(I,M,$,W,z,q,Z)=>{for(let X=0;X<M.length;X++){const tt=I[X],G=M[X],ft=tt.el&&(tt.type===Et||!zn(tt,G)||tt.shapeFlag&198)?d(tt.el):$;y(tt,G,ft,null,W,z,q,Z,!0)}},R=(I,M,$,W,z)=>{if(M!==$){if(M!==zt)for(const q in M)!Er(q)&&!(q in $)&&r(I,q,M[q],null,z,W);for(const q in $){if(Er(q))continue;const Z=$[q],X=M[q];Z!==X&&q!=="value"&&r(I,q,X,Z,z,W)}"value"in $&&r(I,"value",M.value,$.value,z)}},P=(I,M,$,W,z,q,Z,X,tt)=>{const G=M.el=I?I.el:a(""),ft=M.anchor=I?I.anchor:a("");let{patchFlag:rt,dynamicChildren:J,slotScopeIds:at}=M;at&&(X=X?X.concat(at):at),I==null?(s(G,$,W),s(ft,$,W),T(M.children||[],$,ft,z,q,Z,X,tt)):rt>0&&rt&64&&J&&I.dynamicChildren&&I.dynamicChildren.length===J.length?(C(I.dynamicChildren,J,$,z,q,Z,X),(M.key!=null||z&&M===z.subTree)&&_b(I,M,!0)):it(I,M,$,ft,z,q,Z,X,tt)},x=(I,M,$,W,z,q,Z,X,tt)=>{M.slotScopeIds=X,I==null?M.shapeFlag&512?z.ctx.activate(M,$,W,Z,tt):st(M,$,W,z,q,Z,tt):ct(I,M,tt)},st=(I,M,$,W,z,q,Z)=>{const X=I.component=QI(I,W,z);if(La(I)&&(X.ctx.renderer=K),YI(X,!1,Z),X.asyncDep){if(z&&z.registerDep(X,nt,Z),!I.el){const tt=X.subTree=mt(ye);E(null,tt,M,$),I.placeholder=tt.el}}else nt(X,I,M,$,z,q,Z)},ct=(I,M,$)=>{const W=M.component=I.component;if(CI(I,M,$))if(W.asyncDep&&!W.asyncResolved){lt(W,M,$);return}else W.next=M,W.update();else M.el=I.el,W.vnode=M},nt=(I,M,$,W,z,q,Z)=>{const X=()=>{if(I.isMounted){let{next:rt,bu:J,u:at,parent:It,vnode:Nt}=I;{const me=yb(I);if(me){rt&&(rt.el=Nt.el,lt(I,rt,Z)),me.asyncDep.then(()=>{I.isUnmounted||X()});return}}let Lt=rt,Oe;vi(I,!1),rt?(rt.el=Nt.el,lt(I,rt,Z)):rt=Nt,J&&Fl(J),(Oe=rt.props&&rt.props.onVnodeBeforeUpdate)&&gn(Oe,It,rt,Nt),vi(I,!0);const ae=eh(I),Me=I.subTree;I.subTree=ae,y(Me,ae,d(Me.el),sn(Me),I,z,q),rt.el=ae.el,Lt===null&&Jc(I,ae.el),at&&Je(at,z),(Oe=rt.props&&rt.props.onVnodeUpdated)&&Je(()=>gn(Oe,It,rt,Nt),z)}else{let rt;const{el:J,props:at}=M,{bm:It,m:Nt,parent:Lt,root:Oe,type:ae}=I,Me=Vi(M);if(vi(I,!1),It&&Fl(It),!Me&&(rt=at&&at.onVnodeBeforeMount)&&gn(rt,Lt,M),vi(I,!0),J&&dt){const me=()=>{I.subTree=eh(I),dt(J,I.subTree,I,z,null)};Me&&ae.__asyncHydrate?ae.__asyncHydrate(J,I,me):me()}else{Oe.ce&&Oe.ce._def.shadowRoot!==!1&&Oe.ce._injectChildStyle(ae);const me=I.subTree=eh(I);y(null,me,$,W,I,z,q),M.el=me.el}if(Nt&&Je(Nt,z),!Me&&(rt=at&&at.onVnodeMounted)){const me=M;Je(()=>gn(rt,Lt,me),z)}(M.shapeFlag&256||Lt&&Vi(Lt.vnode)&&Lt.vnode.shapeFlag&256)&&I.a&&Je(I.a,z),I.isMounted=!0,M=$=W=null}};I.scope.on();const tt=I.effect=new Iv(X);I.scope.off();const G=I.update=tt.run.bind(tt),ft=I.job=tt.runIfDirty.bind(tt);ft.i=I,ft.id=I.uid,tt.scheduler=()=>Zd(ft),vi(I,!0),G()},lt=(I,M,$)=>{M.component=I;const W=I.vnode.props;I.vnode=M,I.next=null,RI(I,M.props,W,$),DI(I,M.children,$),_s(),_g(I),ys()},it=(I,M,$,W,z,q,Z,X,tt=!1)=>{const G=I&&I.children,ft=I?I.shapeFlag:0,rt=M.children,{patchFlag:J,shapeFlag:at}=M;if(J>0){if(J&128){Fe(G,rt,$,W,z,q,Z,X,tt);return}else if(J&256){Rt(G,rt,$,W,z,q,Z,X,tt);return}}at&8?(ft&16&&se(G,z,q),rt!==G&&h($,rt)):ft&16?at&16?Fe(G,rt,$,W,z,q,Z,X,tt):se(G,z,q,!0):(ft&8&&h($,""),at&16&&T(rt,$,W,z,q,Z,X,tt))},Rt=(I,M,$,W,z,q,Z,X,tt)=>{I=I||Tr,M=M||Tr;const G=I.length,ft=M.length,rt=Math.min(G,ft);let J;for(J=0;J<rt;J++){const at=M[J]=tt?Fs(M[J]):ln(M[J]);y(I[J],at,$,null,z,q,Z,X,tt)}G>ft?se(I,z,q,!0,!1,rt):T(M,$,W,z,q,Z,X,tt,rt)},Fe=(I,M,$,W,z,q,Z,X,tt)=>{let G=0;const ft=M.length;let rt=I.length-1,J=ft-1;for(;G<=rt&&G<=J;){const at=I[G],It=M[G]=tt?Fs(M[G]):ln(M[G]);if(zn(at,It))y(at,It,$,null,z,q,Z,X,tt);else break;G++}for(;G<=rt&&G<=J;){const at=I[rt],It=M[J]=tt?Fs(M[J]):ln(M[J]);if(zn(at,It))y(at,It,$,null,z,q,Z,X,tt);else break;rt--,J--}if(G>rt){if(G<=J){const at=J+1,It=at<ft?M[at].el:W;for(;G<=J;)y(null,M[G]=tt?Fs(M[G]):ln(M[G]),$,It,z,q,Z,X,tt),G++}}else if(G>J)for(;G<=rt;)Wt(I[G],z,q,!0),G++;else{const at=G,It=G,Nt=new Map;for(G=It;G<=J;G++){const le=M[G]=tt?Fs(M[G]):ln(M[G]);le.key!=null&&Nt.set(le.key,G)}let Lt,Oe=0;const ae=J-It+1;let Me=!1,me=0;const es=new Array(ae);for(G=0;G<ae;G++)es[G]=0;for(G=at;G<=rt;G++){const le=I[G];if(Oe>=ae){Wt(le,z,q,!0);continue}let rn;if(le.key!=null)rn=Nt.get(le.key);else for(Lt=It;Lt<=J;Lt++)if(es[Lt-It]===0&&zn(le,M[Lt])){rn=Lt;break}rn===void 0?Wt(le,z,q,!0):(es[rn-It]=G+1,rn>=me?me=rn:Me=!0,y(le,M[rn],$,null,z,q,Z,X,tt),Oe++)}const sr=Me?VI(es):Tr;for(Lt=sr.length-1,G=ae-1;G>=0;G--){const le=It+G,rn=M[le],pi=M[le+1],uo=le+1<ft?pi.el||vb(pi):W;es[G]===0?y(null,rn,$,uo,z,q,Z,X,tt):Me&&(Lt<0||G!==sr[Lt]?Ee(rn,$,uo,2):Lt--)}}},Ee=(I,M,$,W,z=null)=>{const{el:q,type:Z,transition:X,children:tt,shapeFlag:G}=I;if(G&6){Ee(I.component.subTree,M,$,W);return}if(G&128){I.suspense.move(M,$,W);return}if(G&64){Z.move(I,M,$,K);return}if(Z===Et){s(q,M,$);for(let rt=0;rt<tt.length;rt++)Ee(tt[rt],M,$,W);s(I.anchor,M,$);return}if(Z===Go){S(I,M,$);return}if(W!==2&&G&1&&X)if(W===0)X.beforeEnter(q),s(q,M,$),Je(()=>X.enter(q),z);else{const{leave:rt,delayLeave:J,afterLeave:at}=X,It=()=>{I.ctx.isUnmounted?i(q):s(q,M,$)},Nt=()=>{q._isLeaving&&q[ls](!0),rt(q,()=>{It(),at&&at()})};J?J(q,It,Nt):Nt()}else s(q,M,$)},Wt=(I,M,$,W=!1,z=!1)=>{const{type:q,props:Z,ref:X,children:tt,dynamicChildren:G,shapeFlag:ft,patchFlag:rt,dirs:J,cacheIndex:at}=I;if(rt===-2&&(z=!1),X!=null&&(_s(),Sr(X,null,$,I,!0),ys()),at!=null&&(M.renderCache[at]=void 0),ft&256){M.ctx.deactivate(I);return}const It=ft&1&&J,Nt=!Vi(I);let Lt;if(Nt&&(Lt=Z&&Z.onVnodeBeforeUnmount)&&gn(Lt,M,I),ft&6)oe(I.component,$,W);else{if(ft&128){I.suspense.unmount($,W);return}It&&Bn(I,null,M,"beforeUnmount"),ft&64?I.type.remove(I,M,$,K,W):G&&!G.hasOnce&&(q!==Et||rt>0&&rt&64)?se(G,M,$,!1,!0):(q===Et&&rt&384||!z&&ft&16)&&se(tt,M,$),W&&he(I)}(Nt&&(Lt=Z&&Z.onVnodeUnmounted)||It)&&Je(()=>{Lt&&gn(Lt,M,I),It&&Bn(I,null,M,"unmounted")},$)},he=I=>{const{type:M,el:$,anchor:W,transition:z}=I;if(M===Et){Pe($,W);return}if(M===Go){O(I);return}const q=()=>{i($),z&&!z.persisted&&z.afterLeave&&z.afterLeave()};if(I.shapeFlag&1&&z&&!z.persisted){const{leave:Z,delayLeave:X}=z,tt=()=>Z($,q);X?X(I.el,q,tt):tt()}else q()},Pe=(I,M)=>{let $;for(;I!==M;)$=f(I),i(I),I=$;i(M)},oe=(I,M,$)=>{const{bum:W,scope:z,job:q,subTree:Z,um:X,m:tt,a:G}=I;Rg(tt),Rg(G),W&&Fl(W),z.stop(),q&&(q.flags|=8,Wt(Z,I,M,$)),X&&Je(X,M),Je(()=>{I.isUnmounted=!0},M)},se=(I,M,$,W=!1,z=!1,q=0)=>{for(let Z=q;Z<I.length;Z++)Wt(I[Z],M,$,W,z)},sn=I=>{if(I.shapeFlag&6)return sn(I.component.subTree);if(I.shapeFlag&128)return I.suspense.next();const M=f(I.anchor||I.el),$=M&&M[QE];return $?f($):M};let wn=!1;const ks=(I,M,$)=>{let W;I==null?M._vnode&&(Wt(M._vnode,null,null,!0),W=M._vnode.component):y(M._vnode||null,I,M,null,null,null,$),M._vnode=I,wn||(wn=!0,_g(W),sc(),wn=!1)},K={p:y,um:Wt,m:Ee,r:he,mt:st,mc:T,pc:it,pbc:C,n:sn,o:e};let N,dt;return t&&([N,dt]=t(K)),{render:ks,hydrate:N,createApp:TI(ks,N)}}function nh({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function vi({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function mb(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function _b(e,t,n=!1){const s=e.children,i=t.children;if(pt(s)&&pt(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=Fs(i[r]),a.el=o.el),!n&&a.patchFlag!==-2&&_b(o,a)),a.type===Ui&&(a.patchFlag!==-1?a.el=o.el:a.__elIndex=r+(e.type===Et?1:0)),a.type===ye&&!a.el&&(a.el=o.el)}}function VI(e){const t=e.slice(),n=[0];let s,i,r,o,a;const l=e.length;for(s=0;s<l;s++){const c=e[s];if(c!==0){if(i=n[n.length-1],e[i]<c){t[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,e[n[a]]<c?r=a+1:o=a;c<e[n[r]]&&(r>0&&(t[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=t[o];return n}function yb(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:yb(t)}function Rg(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function vb(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?vb(t.subTree):null}const bb=e=>e.__isSuspense;let qh=0;const FI={name:"Suspense",__isSuspense:!0,process(e,t,n,s,i,r,o,a,l,c){if(e==null)$I(t,n,s,i,r,o,a,l,c);else{if(r&&r.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}BI(e,t,n,s,i,o,a,l,c)}},hydrate:HI,normalize:jI},UI=FI;function da(e,t){const n=e.props&&e.props[t];yt(n)&&n()}function $I(e,t,n,s,i,r,o,a,l){const{p:c,o:{createElement:h}}=l,d=h("div"),f=e.suspense=Tb(e,i,s,t,d,n,r,o,a,l);c(null,f.pendingBranch=e.ssContent,d,null,s,f,r,o),f.deps>0?(da(e,"onPending"),da(e,"onFallback"),c(null,e.ssFallback,t,n,s,null,r,o),Ar(f,e.ssFallback)):f.resolve(!1,!0)}function BI(e,t,n,s,i,r,o,a,{p:l,um:c,o:{createElement:h}}){const d=t.suspense=e.suspense;d.vnode=t,t.el=e.el;const f=t.ssContent,p=t.ssFallback,{activeBranch:m,pendingBranch:y,isInFallback:b,isHydrating:E}=d;if(y)d.pendingBranch=f,zn(y,f)?(l(y,f,d.hiddenContainer,null,i,d,r,o,a),d.deps<=0?d.resolve():b&&(E||(l(m,p,n,s,i,null,r,o,a),Ar(d,p)))):(d.pendingId=qh++,E?(d.isHydrating=!1,d.activeBranch=y):c(y,i,d),d.deps=0,d.effects.length=0,d.hiddenContainer=h("div"),b?(l(null,f,d.hiddenContainer,null,i,d,r,o,a),d.deps<=0?d.resolve():(l(m,p,n,s,i,null,r,o,a),Ar(d,p))):m&&zn(m,f)?(l(m,f,n,s,i,d,r,o,a),d.resolve(!0)):(l(null,f,d.hiddenContainer,null,i,d,r,o,a),d.deps<=0&&d.resolve()));else if(m&&zn(m,f))l(m,f,n,s,i,d,r,o,a),Ar(d,f);else if(da(t,"onPending"),d.pendingBranch=f,f.shapeFlag&512?d.pendingId=f.component.suspenseId:d.pendingId=qh++,l(null,f,d.hiddenContainer,null,i,d,r,o,a),d.deps<=0)d.resolve();else{const{timeout:L,pendingId:S}=d;L>0?setTimeout(()=>{d.pendingId===S&&d.fallback(p)},L):L===0&&d.fallback(p)}}function Tb(e,t,n,s,i,r,o,a,l,c,h=!1){const{p:d,m:f,um:p,n:m,o:{parentNode:y,remove:b}}=c;let E;const L=zI(e);L&&t&&t.pendingBranch&&(E=t.pendingId,t.deps++);const S=e.props?vv(e.props.timeout):void 0,O=r,D={vnode:e,parent:t,parentComponent:n,namespace:o,container:s,hiddenContainer:i,deps:0,pendingId:qh++,timeout:typeof S=="number"?S:-1,activeBranch:null,pendingBranch:null,isInFallback:!h,isHydrating:h,isUnmounted:!1,effects:[],resolve(F=!1,k=!1){const{vnode:T,activeBranch:w,pendingBranch:C,pendingId:R,effects:P,parentComponent:x,container:st,isInFallback:ct}=D;let nt=!1;D.isHydrating?D.isHydrating=!1:F||(nt=w&&C.transition&&C.transition.mode==="out-in",nt&&(w.transition.afterLeave=()=>{R===D.pendingId&&(f(C,st,r===O?m(w):r,0),$h(P),ct&&T.ssFallback&&(T.ssFallback.el=null))}),w&&(y(w.el)===st&&(r=m(w)),p(w,x,D,!0),!nt&&ct&&T.ssFallback&&Je(()=>T.ssFallback.el=null,D)),nt||f(C,st,r,0)),Ar(D,C),D.pendingBranch=null,D.isInFallback=!1;let lt=D.parent,it=!1;for(;lt;){if(lt.pendingBranch){lt.effects.push(...P),it=!0;break}lt=lt.parent}!it&&!nt&&$h(P),D.effects=[],L&&t&&t.pendingBranch&&E===t.pendingId&&(t.deps--,t.deps===0&&!k&&t.resolve()),da(T,"onResolve")},fallback(F){if(!D.pendingBranch)return;const{vnode:k,activeBranch:T,parentComponent:w,container:C,namespace:R}=D;da(k,"onFallback");const P=m(T),x=()=>{D.isInFallback&&(d(null,F,C,P,w,null,R,a,l),Ar(D,F))},st=F.transition&&F.transition.mode==="out-in";st&&(T.transition.afterLeave=x),D.isInFallback=!0,p(T,w,null,!0),st||x()},move(F,k,T){D.activeBranch&&f(D.activeBranch,F,k,T),D.container=F},next(){return D.activeBranch&&m(D.activeBranch)},registerDep(F,k,T){const w=!!D.pendingBranch;w&&D.deps++;const C=F.vnode.el;F.asyncDep.catch(R=>{Zr(R,F,0)}).then(R=>{if(F.isUnmounted||D.isUnmounted||D.pendingId!==F.suspenseId)return;F.asyncResolved=!0;const{vnode:P}=F;Kh(F,R),C&&(P.el=C);const x=!C&&F.subTree.el;k(F,P,y(C||F.subTree.el),C?null:m(F.subTree),D,o,T),x&&(P.placeholder=null,b(x)),Jc(F,P.el),w&&--D.deps===0&&D.resolve()})},unmount(F,k){D.isUnmounted=!0,D.activeBranch&&p(D.activeBranch,n,F,k),D.pendingBranch&&p(D.pendingBranch,n,F,k)}};return D}function HI(e,t,n,s,i,r,o,a,l){const c=t.suspense=Tb(t,s,n,e.parentNode,document.createElement("div"),null,i,r,o,a,!0),h=l(e,c.pendingBranch=t.ssContent,n,c,r,o);return c.deps===0&&c.resolve(!1,!0),h}function jI(e){const{shapeFlag:t,children:n}=e,s=t&32;e.ssContent=Pg(s?n.default:n),e.ssFallback=s?Pg(n.fallback):mt(ye)}function Pg(e){let t;if(yt(e)){const n=Lr&&e._c;n&&(e._d=!1,B()),e=e(),n&&(e._d=!0,t=nn,Eb())}return pt(e)&&(e=SI(e)),e=ln(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function wb(e,t){t&&t.pendingBranch?pt(e)?t.effects.push(...e):t.effects.push(e):$h(e)}function Ar(e,t){e.activeBranch=t;const{vnode:n,parentComponent:s}=e;let i=t.el;for(;!i&&t.component;)t=t.component.subTree,i=t.el;n.el=i,s&&s.subTree===n&&(s.vnode.el=i,Jc(s,i))}function zI(e){const t=e.props&&e.props.suspensible;return t!=null&&t!==!1}const Et=Symbol.for("v-fgt"),Ui=Symbol.for("v-txt"),ye=Symbol.for("v-cmt"),Go=Symbol.for("v-stc"),Ko=[];let nn=null;function B(e=!1){Ko.push(nn=e?null:[])}function Eb(){Ko.pop(),nn=Ko[Ko.length-1]||null}let Lr=1;function ac(e,t=!1){Lr+=e,e<0&&nn&&t&&(nn.hasOnce=!0)}function Ib(e){return e.dynamicChildren=Lr>0?nn||Tr:null,Eb(),Lr>0&&nn&&nn.push(e),e}function Y(e,t,n,s,i,r){return Ib(v(e,t,n,s,i,r,!0))}function Zt(e,t,n,s,i){return Ib(mt(e,t,n,s,i,!0))}function Nr(e){return e?e.__v_isVNode===!0:!1}function zn(e,t){return e.type===t.type&&e.key===t.key}const Sb=({key:e})=>e??null,Ul=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ee(e)||ge(e)||yt(e)?{i:Ne,r:e,k:t,f:!!n}:e:null);function v(e,t=null,n=null,s=0,i=null,r=e===Et?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Sb(t),ref:t&&Ul(t),scopeId:jv,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ne};return a?(hf(l,n),r&128&&e.normalize(l)):n&&(l.shapeFlag|=ee(n)?8:16),Lr>0&&!o&&nn&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&nn.push(l),l}const mt=WI;function WI(e,t=null,n=null,s=0,i=null,r=!1){if((!e||e===eb)&&(e=ye),Nr(e)){const a=An(e,t,!0);return n&&hf(a,n),Lr>0&&!r&&nn&&(a.shapeFlag&6?nn[nn.indexOf(e)]=a:nn.push(a)),a.patchFlag=-2,a}if(eS(e)&&(e=e.__vccOpts),t){t=Ab(t);let{class:a,style:l}=t;a&&!ee(a)&&(t.class=At(a)),Bt(l)&&(Jr(l)&&!pt(l)&&(l=Ce({},l)),t.style=vn(l))}const o=ee(e)?1:bb(e)?128:Wv(e)?64:Bt(e)?4:yt(e)?2:0;return v(e,t,n,s,i,o,r,!0)}function Ab(e){return e?Jr(e)||cb(e)?Ce({},e):e:null}function An(e,t,n=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:a,transition:l}=e,c=t?qI(i||{},t):i,h={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Sb(c),ref:t&&t.ref?n&&r?pt(r)?r.concat(Ul(t)):[r,Ul(t)]:Ul(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Et?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&An(e.ssContent),ssFallback:e.ssFallback&&An(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&s&&ha(h,l.clone(h)),h}function Vt(e=" ",t=0){return mt(Ui,null,e,t)}function kr(e,t){const n=mt(Go,null,e);return n.staticCount=t,n}function Gt(e="",t=!1){return t?(B(),Zt(ye,null,e)):mt(ye,null,e)}function ln(e){return e==null||typeof e=="boolean"?mt(ye):pt(e)?mt(Et,null,e.slice()):Nr(e)?Fs(e):mt(Ui,null,String(e))}function Fs(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:An(e)}function hf(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(pt(t))n=16;else if(typeof t=="object")if(s&65){const i=t.default;i&&(i._c&&(i._d=!1),hf(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!cb(t)?t._ctx=Ne:i===3&&Ne&&(Ne.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else yt(t)?(t={default:t,_ctx:Ne},n=32):(t=String(t),s&64?(n=16,t=[Vt(t)]):n=8);e.children=t,e.shapeFlag|=n}function qI(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const i in s)if(i==="class")t.class!==s.class&&(t.class=At([t.class,s.class]));else if(i==="style")t.style=vn([t.style,s.style]);else if(Pa(i)){const r=t[i],o=s[i];o&&r!==o&&!(pt(r)&&r.includes(o))&&(t[i]=r?[].concat(r,o):o)}else i!==""&&(t[i]=s[i])}return t}function gn(e,t,n,s=null){Mn(e,t,7,[n,s])}const GI=rb();let KI=0;function QI(e,t,n){const s=e.type,i=(t?t.appContext:e.appContext)||GI,r={uid:KI++,vnode:e,type:s,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ev(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:hb(s,i),emitsOptions:ob(s,i),emit:null,emitted:null,propsDefaults:zt,inheritAttrs:s.inheritAttrs,ctx:zt,data:zt,props:zt,attrs:zt,slots:zt,refs:zt,setupState:zt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=EI.bind(null,r),e.ce&&e.ce(r),r}let Le=null;const to=()=>Le||Ne;let lc,Gh;{const e=qc(),t=(n,s)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};lc=t("__VUE_INSTANCE_SETTERS__",n=>Le=n),Gh=t("__VUE_SSR_SETTERS__",n=>Vr=n)}const Na=e=>{const t=Le;return lc(e),e.scope.on(),()=>{e.scope.off(),lc(t)}},Og=()=>{Le&&Le.scope.off(),lc(null)};function kb(e){return e.vnode.shapeFlag&4}let Vr=!1;function YI(e,t=!1,n=!1){t&&Gh(t);const{props:s,children:i}=e.vnode,r=kb(e);xI(e,s,r,t),MI(e,i,n||t);const o=r?XI(e,t):void 0;return t&&Gh(!1),o}function XI(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,pI);const{setup:s}=n;if(s){_s();const i=e.setupContext=s.length>1?ZI(e):null,r=Na(e),o=Da(s,e,0,[e.props,i]),a=zd(o);if(ys(),r(),(a||e.sp)&&!Vi(e)&&nf(e),a){if(o.then(Og,Og),t)return o.then(l=>{Kh(e,l)}).catch(l=>{Zr(l,e,0)});e.asyncDep=o}else Kh(e,o)}else Cb(e)}function Kh(e,t,n){yt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Bt(t)&&(e.setupState=Uv(t)),Cb(e)}function Cb(e,t,n){const s=e.type;e.render||(e.render=s.render||Wn);{const i=Na(e);_s();try{gI(e)}finally{ys(),i()}}}const JI={get(e,t){return je(e,"get",""),e[t]}};function ZI(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,JI),slots:e.slots,emit:e.emit,expose:t}}function Zc(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Uv(PE(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in qo)return qo[n](e)},has(t,n){return n in t||n in qo}})):e.proxy}function tS(e,t=!0){return yt(e)?e.displayName||e.name:e.name||t&&e.__name}function eS(e){return yt(e)&&"__vccOpts"in e}const Tt=(e,t)=>$E(e,t,Vr);function kn(e,t,n){try{ac(-1);const s=arguments.length;return s===2?Bt(t)&&!pt(t)?Nr(t)?mt(e,null,[t]):mt(e,t):mt(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Nr(n)&&(n=[n]),mt(e,t,n))}finally{ac(1)}}const xb="3.5.26";let Qh;const Mg=typeof window<"u"&&window.trustedTypes;if(Mg)try{Qh=Mg.createPolicy("vue",{createHTML:e=>e})}catch{}const Rb=Qh?e=>Qh.createHTML(e):e=>e,nS="http://www.w3.org/2000/svg",sS="http://www.w3.org/1998/Math/MathML",as=typeof document<"u"?document:null,Dg=as&&as.createElement("template"),iS={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const i=t==="svg"?as.createElementNS(nS,e):t==="mathml"?as.createElementNS(sS,e):n?as.createElement(e,{is:n}):as.createElement(e);return e==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:e=>as.createTextNode(e),createComment:e=>as.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>as.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,i,r){const o=n?n.previousSibling:t.lastChild;if(i&&(i===r||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{Dg.innerHTML=Rb(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const a=Dg.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Ds="transition",ko="animation",fa=Symbol("_vtc"),Pb={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},rS=Ce({},qv,Pb),oS=e=>(e.displayName="Transition",e.props=rS,e),tu=oS((e,{slots:t})=>kn(JE,aS(e),t)),bi=(e,t=[])=>{pt(e)?e.forEach(n=>n(...t)):e&&e(...t)},Lg=e=>e?pt(e)?e.some(t=>t.length>1):e.length>1:!1;function aS(e){const t={};for(const P in e)P in Pb||(t[P]=e[P]);if(e.css===!1)return t;const{name:n="v",type:s,duration:i,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:c=o,appearToClass:h=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,m=lS(i),y=m&&m[0],b=m&&m[1],{onBeforeEnter:E,onEnter:L,onEnterCancelled:S,onLeave:O,onLeaveCancelled:D,onBeforeAppear:F=E,onAppear:k=L,onAppearCancelled:T=S}=t,w=(P,x,st,ct)=>{P._enterCancelled=ct,Ti(P,x?h:a),Ti(P,x?c:o),st&&st()},C=(P,x)=>{P._isLeaving=!1,Ti(P,d),Ti(P,p),Ti(P,f),x&&x()},R=P=>(x,st)=>{const ct=P?k:L,nt=()=>w(x,P,st);bi(ct,[x,nt]),Ng(()=>{Ti(x,P?l:r),ss(x,P?h:a),Lg(ct)||Vg(x,s,y,nt)})};return Ce(t,{onBeforeEnter(P){bi(E,[P]),ss(P,r),ss(P,o)},onBeforeAppear(P){bi(F,[P]),ss(P,l),ss(P,c)},onEnter:R(!1),onAppear:R(!0),onLeave(P,x){P._isLeaving=!0;const st=()=>C(P,x);ss(P,d),P._enterCancelled?(ss(P,f),$g(P)):($g(P),ss(P,f)),Ng(()=>{P._isLeaving&&(Ti(P,d),ss(P,p),Lg(O)||Vg(P,s,b,st))}),bi(O,[P,st])},onEnterCancelled(P){w(P,!1,void 0,!0),bi(S,[P])},onAppearCancelled(P){w(P,!0,void 0,!0),bi(T,[P])},onLeaveCancelled(P){C(P),bi(D,[P])}})}function lS(e){if(e==null)return null;if(Bt(e))return[sh(e.enter),sh(e.leave)];{const t=sh(e);return[t,t]}}function sh(e){return vv(e)}function ss(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[fa]||(e[fa]=new Set)).add(t)}function Ti(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const n=e[fa];n&&(n.delete(t),n.size||(e[fa]=void 0))}function Ng(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let cS=0;function Vg(e,t,n,s){const i=e._endId=++cS,r=()=>{i===e._endId&&s()};if(n!=null)return setTimeout(r,n);const{type:o,timeout:a,propCount:l}=uS(e,t);if(!o)return s();const c=o+"end";let h=0;const d=()=>{e.removeEventListener(c,f),r()},f=p=>{p.target===e&&++h>=l&&d()};setTimeout(()=>{h<l&&d()},a+1),e.addEventListener(c,f)}function uS(e,t){const n=window.getComputedStyle(e),s=m=>(n[m]||"").split(", "),i=s(`${Ds}Delay`),r=s(`${Ds}Duration`),o=Fg(i,r),a=s(`${ko}Delay`),l=s(`${ko}Duration`),c=Fg(a,l);let h=null,d=0,f=0;t===Ds?o>0&&(h=Ds,d=o,f=r.length):t===ko?c>0&&(h=ko,d=c,f=l.length):(d=Math.max(o,c),h=d>0?o>c?Ds:ko:null,f=h?h===Ds?r.length:l.length:0);const p=h===Ds&&/\b(?:transform|all)(?:,|$)/.test(s(`${Ds}Property`).toString());return{type:h,timeout:d,propCount:f,hasTransform:p}}function Fg(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>Ug(n)+Ug(e[s])))}function Ug(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function $g(e){return(e?e.ownerDocument:document).body.offsetHeight}function hS(e,t,n){const s=e[fa];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Bg=Symbol("_vod"),dS=Symbol("_vsh"),fS=Symbol(""),pS=/(?:^|;)\s*display\s*:/;function gS(e,t,n){const s=e.style,i=ee(n);let r=!1;if(n&&!i){if(t)if(ee(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&$l(s,a,"")}else for(const o in t)n[o]==null&&$l(s,o,"");for(const o in n)o==="display"&&(r=!0),$l(s,o,n[o])}else if(i){if(t!==n){const o=s[fS];o&&(n+=";"+o),s.cssText=n,r=pS.test(n)}}else t&&e.removeAttribute("style");Bg in e&&(e[Bg]=r?s.display:"",e[dS]&&(s.display="none"))}const Hg=/\s*!important$/;function $l(e,t,n){if(pt(n))n.forEach(s=>$l(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=mS(e,t);Hg.test(n)?e.setProperty(Xi(s),n.replace(Hg,""),"important"):e[s]=n}}const jg=["Webkit","Moz","ms"],ih={};function mS(e,t){const n=ih[t];if(n)return n;let s=bn(t);if(s!=="filter"&&s in e)return ih[t]=s;s=zc(s);for(let i=0;i<jg.length;i++){const r=jg[i]+s;if(r in e)return ih[t]=r}return t}const zg="http://www.w3.org/1999/xlink";function Wg(e,t,n,s,i,r=lE(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(zg,t.slice(6,t.length)):e.setAttributeNS(zg,t,n):n==null||r&&!bv(n)?e.removeAttribute(t):e.setAttribute(t,r?"":Pn(n)?String(n):n)}function qg(e,t,n,s,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Rb(n):n);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=bv(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(i||t)}function Us(e,t,n,s){e.addEventListener(t,n,s)}function _S(e,t,n,s){e.removeEventListener(t,n,s)}const Gg=Symbol("_vei");function yS(e,t,n,s,i=null){const r=e[Gg]||(e[Gg]={}),o=r[t];if(s&&o)o.value=s;else{const[a,l]=vS(t);if(s){const c=r[t]=wS(s,i);Us(e,a,c,l)}else o&&(_S(e,a,o,l),r[t]=void 0)}}const Kg=/(?:Once|Passive|Capture)$/;function vS(e){let t;if(Kg.test(e)){t={};let s;for(;s=e.match(Kg);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Xi(e.slice(2)),t]}let rh=0;const bS=Promise.resolve(),TS=()=>rh||(bS.then(()=>rh=0),rh=Date.now());function wS(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Mn(ES(s,n.value),t,5,[s])};return n.value=e,n.attached=TS(),n}function ES(e,t){if(pt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>i=>!i._stopped&&s&&s(i))}else return t}const Qg=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,IS=(e,t,n,s,i,r)=>{const o=i==="svg";t==="class"?hS(e,s,o):t==="style"?gS(e,n,s):Pa(t)?Hd(t)||yS(e,t,n,s,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):SS(e,t,s,o))?(qg(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Wg(e,t,s,o,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ee(s))?qg(e,bn(t),s,r,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Wg(e,t,s,o))};function SS(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Qg(t)&&yt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Qg(t)&&ee(n)?!1:t in e}const Fr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return pt(t)?n=>Fl(t,n):t};function AS(e){e.target.composing=!0}function Yg(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const gs=Symbol("_assign");function Xg(e,t,n){return t&&(e=e.trim()),n&&(e=Wc(e)),e}const gl={created(e,{modifiers:{lazy:t,trim:n,number:s}},i){e[gs]=Fr(i);const r=s||i.props&&i.props.type==="number";Us(e,t?"change":"input",o=>{o.target.composing||e[gs](Xg(e.value,n,r))}),(n||r)&&Us(e,"change",()=>{e.value=Xg(e.value,n,r)}),t||(Us(e,"compositionstart",AS),Us(e,"compositionend",Yg),Us(e,"change",Yg))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:i,number:r}},o){if(e[gs]=Fr(o),e.composing)return;const a=(r||e.type==="number")&&!/^0\d/.test(e.value)?Wc(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||i&&e.value.trim()===l)||(e.value=l))}},Jg={deep:!0,created(e,t,n){e[gs]=Fr(n),Us(e,"change",()=>{const s=e._modelValue,i=pa(e),r=e.checked,o=e[gs];if(pt(s)){const a=Wd(s,i),l=a!==-1;if(r&&!l)o(s.concat(i));else if(!r&&l){const c=[...s];c.splice(a,1),o(c)}}else if(Xr(s)){const a=new Set(s);r?a.add(i):a.delete(i),o(a)}else o(Ob(e,r))})},mounted:Zg,beforeUpdate(e,t,n){e[gs]=Fr(n),Zg(e,t,n)}};function Zg(e,{value:t,oldValue:n},s){e._modelValue=t;let i;if(pt(t))i=Wd(t,s.props.value)>-1;else if(Xr(t))i=t.has(s.props.value);else{if(t===n)return;i=Ma(t,Ob(e,!0))}e.checked!==i&&(e.checked=i)}const tm={deep:!0,created(e,{value:t,modifiers:{number:n}},s){const i=Xr(t);Us(e,"change",()=>{const r=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?Wc(pa(o)):pa(o));e[gs](e.multiple?i?new Set(r):r:r[0]),e._assigning=!0,Kc(()=>{e._assigning=!1})}),e[gs]=Fr(s)},mounted(e,{value:t}){em(e,t)},beforeUpdate(e,t,n){e[gs]=Fr(n)},updated(e,{value:t}){e._assigning||em(e,t)}};function em(e,t){const n=e.multiple,s=pt(t);if(!(n&&!s&&!Xr(t))){for(let i=0,r=e.options.length;i<r;i++){const o=e.options[i],a=pa(o);if(n)if(s){const l=typeof a;l==="string"||l==="number"?o.selected=t.some(c=>String(c)===String(a)):o.selected=Wd(t,a)>-1}else o.selected=t.has(a);else if(Ma(pa(o),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function pa(e){return"_value"in e?e._value:e.value}function Ob(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const kS=["ctrl","shift","alt","meta"],CS={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>kS.some(n=>e[`${n}Key`]&&!t.includes(n))},Va=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=((i,...r)=>{for(let o=0;o<t.length;o++){const a=CS[t[o]];if(a&&a(i,t))return}return e(i,...r)}))},Mb=Ce({patchProp:IS},iS);let Qo,nm=!1;function xS(){return Qo||(Qo=LI(Mb))}function RS(){return Qo=nm?Qo:NI(Mb),nm=!0,Qo}const PS=((...e)=>{const t=xS().createApp(...e),{mount:n}=t;return t.mount=s=>{const i=Lb(s);if(!i)return;const r=t._component;!yt(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,Db(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t}),OS=((...e)=>{const t=RS().createApp(...e),{mount:n}=t;return t.mount=s=>{const i=Lb(s);if(i)return n(i,!0,Db(i))},t});function Db(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Lb(e){return ee(e)?document.querySelector(e):e}const MS=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,DS=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,LS=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function NS(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){VS(e);return}return t}function VS(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function cc(e,t={}){if(typeof e!="string")return e;if(e[0]==='"'&&e[e.length-1]==='"'&&e.indexOf("\\")===-1)return e.slice(1,-1);const n=e.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!LS.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(MS.test(e)||DS.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,NS)}return JSON.parse(e)}catch(s){if(t.strict)throw s;return e}}const FS=/#/g,US=/&/g,$S=/\//g,BS=/=/g,df=/\+/g,HS=/%5e/gi,jS=/%60/gi,zS=/%7c/gi,WS=/%20/gi;function qS(e){return encodeURI(""+e).replace(zS,"|")}function Yh(e){return qS(typeof e=="string"?e:JSON.stringify(e)).replace(df,"%2B").replace(WS,"+").replace(FS,"%23").replace(US,"%26").replace(jS,"`").replace(HS,"^").replace($S,"%2F")}function oh(e){return Yh(e).replace(BS,"%3D")}function uc(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function GS(e){return uc(e.replace(df," "))}function KS(e){return uc(e.replace(df," "))}function ff(e=""){const t=Object.create(null);e[0]==="?"&&(e=e.slice(1));for(const n of e.split("&")){const s=n.match(/([^=]+)=?(.*)/)||[];if(s.length<2)continue;const i=GS(s[1]);if(i==="__proto__"||i==="constructor")continue;const r=KS(s[2]||"");t[i]===void 0?t[i]=r:Array.isArray(t[i])?t[i].push(r):t[i]=[t[i],r]}return t}function QS(e,t){return(typeof t=="number"||typeof t=="boolean")&&(t=String(t)),t?Array.isArray(t)?t.map(n=>`${oh(e)}=${Yh(n)}`).join("&"):`${oh(e)}=${Yh(t)}`:oh(e)}function Nb(e){return Object.keys(e).filter(t=>e[t]!==void 0).map(t=>QS(t,e[t])).filter(Boolean).join("&")}const YS=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,XS=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,JS=/^([/\\]\s*){2,}[^/\\]/,ZS=/^[\s\0]*(blob|data|javascript|vbscript):$/i,tA=/\/$|\/\?|\/#/,eA=/^\.?\//;function eo(e,t={}){return typeof t=="boolean"&&(t={acceptRelative:t}),t.strict?YS.test(e):XS.test(e)||(t.acceptRelative?JS.test(e):!1)}function nA(e){return!!e&&ZS.test(e)}function Xh(e="",t){return t?tA.test(e):e.endsWith("/")}function Vb(e="",t){if(!t)return(Xh(e)?e.slice(0,-1):e)||"/";if(!Xh(e,!0))return e||"/";let n=e,s="";const i=e.indexOf("#");i!==-1&&(n=e.slice(0,i),s=e.slice(i));const[r,...o]=n.split("?");return((r.endsWith("/")?r.slice(0,-1):r)||"/")+(o.length>0?`?${o.join("?")}`:"")+s}function Jh(e="",t){if(!t)return e.endsWith("/")?e:e+"/";if(Xh(e,!0))return e||"/";let n=e,s="";const i=e.indexOf("#");if(i!==-1&&(n=e.slice(0,i),s=e.slice(i),!n))return s;const[r,...o]=n.split("?");return r+"/"+(o.length>0?`?${o.join("?")}`:"")+s}function sA(e=""){return e.startsWith("/")}function sm(e=""){return sA(e)?e:"/"+e}function iA(e,t){if(Ub(t)||eo(e))return e;const n=Vb(t);return e.startsWith(n)?e:eu(n,e)}function rA(e,t){if(Ub(t))return e;const n=Vb(t);if(!e.startsWith(n))return e;const s=e.slice(n.length);return s[0]==="/"?s:"/"+s}function Fb(e,t){const n=Hb(e),s={...ff(n.search),...t};return n.search=Nb(s),jb(n)}function Ub(e){return!e||e==="/"}function oA(e){return e&&e!=="/"}function eu(e,...t){let n=e||"";for(const s of t.filter(i=>oA(i)))if(n){const i=s.replace(eA,"");n=Jh(n)+i}else n=s;return n}function $b(...e){const t=/\/(?!\/)/,n=e.filter(Boolean),s=[];let i=0;for(const o of n)if(!(!o||o==="/")){for(const[a,l]of o.split(t).entries())if(!(!l||l===".")){if(l===".."){if(s.length===1&&eo(s[0]))continue;s.pop(),i--;continue}if(a===1&&s[s.length-1]?.endsWith(":/")){s[s.length-1]+="/"+l;continue}s.push(l),i++}}let r=s.join("/");return i>=0?n[0]?.startsWith("/")&&!r.startsWith("/")?r="/"+r:n[0]?.startsWith("./")&&!r.startsWith("./")&&(r="./"+r):r="../".repeat(-1*i)+r,n[n.length-1]?.endsWith("/")&&!r.endsWith("/")&&(r+="/"),r}function aA(e,t,n={}){return n.trailingSlash||(e=Jh(e),t=Jh(t)),n.leadingSlash||(e=sm(e),t=sm(t)),n.encoding||(e=uc(e),t=uc(t)),e===t}const Bb=Symbol.for("ufo:protocolRelative");function Hb(e="",t){const n=e.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,d,f=""]=n;return{protocol:d.toLowerCase(),pathname:f,href:d+f,auth:"",host:"",search:"",hash:""}}if(!eo(e,{acceptRelative:!0}))return im(e);const[,s="",i,r=""]=e.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",a=""]=r.match(/([^#/?]*)(.*)?/)||[];s==="file:"&&(a=a.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:l,search:c,hash:h}=im(a);return{protocol:s.toLowerCase(),auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:o,pathname:l,search:c,hash:h,[Bb]:!s}}function im(e=""){const[t="",n="",s=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:n,hash:s}}function jb(e){const t=e.pathname||"",n=e.search?(e.search.startsWith("?")?"":"?")+e.search:"",s=e.hash||"",i=e.auth?e.auth+"@":"",r=e.host||"";return(e.protocol||e[Bb]?(e.protocol||"")+"//":"")+i+r+t+n+s}class lA extends Error{constructor(t,n){super(t,n),this.name="FetchError",n?.cause&&!this.cause&&(this.cause=n.cause)}}function cA(e){const t=e.error?.message||e.error?.toString()||"",n=e.request?.method||e.options?.method||"GET",s=e.request?.url||String(e.request)||"/",i=`[${n}] ${JSON.stringify(s)}`,r=e.response?`${e.response.status} ${e.response.statusText}`:"<no response>",o=`${i}: ${r}${t?` ${t}`:""}`,a=new lA(o,e.error?{cause:e.error}:void 0);for(const l of["request","options","response"])Object.defineProperty(a,l,{get(){return e[l]}});for(const[l,c]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(a,l,{get(){return e.response&&e.response[c]}});return a}const uA=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function rm(e="GET"){return uA.has(e.toUpperCase())}function hA(e){if(e===void 0)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"||t===null?!0:t!=="object"?!1:Array.isArray(e)?!0:e.buffer||e instanceof FormData||e instanceof URLSearchParams?!1:e.constructor&&e.constructor.name==="Object"||typeof e.toJSON=="function"}const dA=new Set(["image/svg","application/xml","application/xhtml","application/html"]),fA=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function pA(e=""){if(!e)return"json";const t=e.split(";").shift()||"";return fA.test(t)?"json":t==="text/event-stream"?"stream":dA.has(t)||t.startsWith("text/")?"text":"blob"}function gA(e,t,n,s){const i=mA(t?.headers??e?.headers,n?.headers,s);let r;return(n?.query||n?.params||t?.params||t?.query)&&(r={...n?.params,...n?.query,...t?.params,...t?.query}),{...n,...t,query:r,params:r,headers:i}}function mA(e,t,n){if(!t)return new n(e);const s=new n(t);if(e)for(const[i,r]of Symbol.iterator in e||Array.isArray(e)?e:new n(e))s.set(i,r);return s}async function ml(e,t){if(t)if(Array.isArray(t))for(const n of t)await n(e);else await t(e)}const _A=new Set([408,409,425,429,500,502,503,504]),yA=new Set([101,204,205,304]);function zb(e={}){const{fetch:t=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:s=globalThis.AbortController}=e;async function i(a){const l=a.error&&a.error.name==="AbortError"&&!a.options.timeout||!1;if(a.options.retry!==!1&&!l){let h;typeof a.options.retry=="number"?h=a.options.retry:h=rm(a.options.method)?0:1;const d=a.response&&a.response.status||500;if(h>0&&(Array.isArray(a.options.retryStatusCodes)?a.options.retryStatusCodes.includes(d):_A.has(d))){const f=typeof a.options.retryDelay=="function"?a.options.retryDelay(a):a.options.retryDelay||0;return f>0&&await new Promise(p=>setTimeout(p,f)),r(a.request,{...a.options,retry:h-1})}}const c=cA(a);throw Error.captureStackTrace&&Error.captureStackTrace(c,r),c}const r=async function(l,c={}){const h={request:l,options:gA(l,c,e.defaults,n),response:void 0,error:void 0};if(h.options.method&&(h.options.method=h.options.method.toUpperCase()),h.options.onRequest&&(await ml(h,h.options.onRequest),h.options.headers instanceof n||(h.options.headers=new n(h.options.headers||{}))),typeof h.request=="string"&&(h.options.baseURL&&(h.request=iA(h.request,h.options.baseURL)),h.options.query&&(h.request=Fb(h.request,h.options.query),delete h.options.query),"query"in h.options&&delete h.options.query,"params"in h.options&&delete h.options.params),h.options.body&&rm(h.options.method))if(hA(h.options.body)){const p=h.options.headers.get("content-type");typeof h.options.body!="string"&&(h.options.body=p==="application/x-www-form-urlencoded"?new URLSearchParams(h.options.body).toString():JSON.stringify(h.options.body)),p||h.options.headers.set("content-type","application/json"),h.options.headers.has("accept")||h.options.headers.set("accept","application/json")}else("pipeTo"in h.options.body&&typeof h.options.body.pipeTo=="function"||typeof h.options.body.pipe=="function")&&("duplex"in h.options||(h.options.duplex="half"));let d;if(!h.options.signal&&h.options.timeout){const p=new s;d=setTimeout(()=>{const m=new Error("[TimeoutError]: The operation was aborted due to timeout");m.name="TimeoutError",m.code=23,p.abort(m)},h.options.timeout),h.options.signal=p.signal}try{h.response=await t(h.request,h.options)}catch(p){return h.error=p,h.options.onRequestError&&await ml(h,h.options.onRequestError),await i(h)}finally{d&&clearTimeout(d)}if((h.response.body||h.response._bodyInit)&&!yA.has(h.response.status)&&h.options.method!=="HEAD"){const p=(h.options.parseResponse?"json":h.options.responseType)||pA(h.response.headers.get("content-type")||"");switch(p){case"json":{const m=await h.response.text(),y=h.options.parseResponse||cc;h.response._data=y(m);break}case"stream":{h.response._data=h.response.body||h.response._bodyInit;break}default:h.response._data=await h.response[p]()}}return h.options.onResponse&&await ml(h,h.options.onResponse),!h.options.ignoreResponseError&&h.response.status>=400&&h.response.status<600?(h.options.onResponseError&&await ml(h,h.options.onResponseError),await i(h)):h.response},o=async function(l,c){return(await r(l,c))._data};return o.raw=r,o.native=(...a)=>t(...a),o.create=(a={},l={})=>zb({...e,...l,defaults:{...e.defaults,...l.defaults,...a}}),o}const hc=(function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")})(),vA=hc.fetch?(...e)=>hc.fetch(...e):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),bA=hc.Headers,TA=hc.AbortController,wA=zb({fetch:vA,Headers:bA,AbortController:TA}),EA=wA,IA=()=>window?.__NUXT__?.config||window?.useNuxtApp?.().payload?.config,pf=()=>IA().app,SA=()=>pf().baseURL,AA=()=>pf().buildAssetsDir,gf=(...e)=>$b(Wb(),AA(),...e),Wb=(...e)=>{const t=pf(),n=t.cdnURL||t.baseURL;return e.length?$b(n,...e):n};globalThis.__buildAssetsURL=gf,globalThis.__publicAssetsURL=Wb;globalThis.$fetch||(globalThis.$fetch=EA.create({baseURL:SA()}));"global"in globalThis||(globalThis.global=globalThis);function Zh(e,t={},n){for(const s in e){const i=e[s],r=n?`${n}:${s}`:s;typeof i=="object"&&i!==null?Zh(i,t,r):typeof i=="function"&&(t[r]=i)}return t}const kA={run:e=>e()},CA=()=>kA,qb=typeof console.createTask<"u"?console.createTask:CA;function xA(e,t){const n=t.shift(),s=qb(n);return e.reduce((i,r)=>i.then(()=>s.run(()=>r(...t))),Promise.resolve())}function RA(e,t){const n=t.shift(),s=qb(n);return Promise.all(e.map(i=>s.run(()=>i(...t))))}function ah(e,t){for(const n of[...e])n(t)}let PA=class{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,n,s={}){if(!t||typeof n!="function")return()=>{};const i=t;let r;for(;this._deprecatedHooks[t];)r=this._deprecatedHooks[t],t=r.to;if(r&&!s.allowDeprecated){let o=r.message;o||(o=`${i} hook has been deprecated`+(r.to?`, please use ${r.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(n),()=>{n&&(this.removeHook(t,n),n=void 0)}}hookOnce(t,n){let s,i=(...r)=>(typeof s=="function"&&s(),s=void 0,i=void 0,n(...r));return s=this.hook(t,i),s}removeHook(t,n){if(this._hooks[t]){const s=this._hooks[t].indexOf(n);s!==-1&&this._hooks[t].splice(s,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,n){this._deprecatedHooks[t]=typeof n=="string"?{to:n}:n;const s=this._hooks[t]||[];delete this._hooks[t];for(const i of s)this.hook(t,i)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const n in t)this.deprecateHook(n,t[n])}addHooks(t){const n=Zh(t),s=Object.keys(n).map(i=>this.hook(i,n[i]));return()=>{for(const i of s.splice(0,s.length))i()}}removeHooks(t){const n=Zh(t);for(const s in n)this.removeHook(s,n[s])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...n){return n.unshift(t),this.callHookWith(xA,t,...n)}callHookParallel(t,...n){return n.unshift(t),this.callHookWith(RA,t,...n)}callHookWith(t,n,...s){const i=this._before||this._after?{name:n,args:s,context:{}}:void 0;this._before&&ah(this._before,i);const r=t(n in this._hooks?[...this._hooks[n]]:[],s);return r instanceof Promise?r.finally(()=>{this._after&&i&&ah(this._after,i)}):(this._after&&i&&ah(this._after,i),r)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const n=this._before.indexOf(t);n!==-1&&this._before.splice(n,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const n=this._after.indexOf(t);n!==-1&&this._after.splice(n,1)}}}};function OA(){return new PA}function MA(e={}){let t,n=!1;const s=o=>{if(t&&t!==o)throw new Error("Context conflict")};let i;if(e.asyncContext){const o=e.AsyncLocalStorage||globalThis.AsyncLocalStorage;o?i=new o:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const r=()=>{if(i){const o=i.getStore();if(o!==void 0)return o}return t};return{use:()=>{const o=r();if(o===void 0)throw new Error("Context is not available");return o},tryUse:()=>r(),set:(o,a)=>{a||s(o),t=o,n=!0},unset:()=>{t=void 0,n=!1},call:(o,a)=>{s(o),t=o;try{return i?i.run(o,a):a()}finally{n||(t=void 0)}},async callAsync(o,a){t=o;const l=()=>{t=o},c=()=>t===o?l:void 0;td.add(c);try{const h=i?i.run(o,a):a();return n||(t=void 0),await h}finally{td.delete(c)}}}}function DA(e={}){const t={};return{get(n,s={}){return t[n]||(t[n]=MA({...e,...s})),t[n]}}}const dc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},om="__unctx__",LA=dc[om]||(dc[om]=DA()),NA=(e,t={})=>LA.get(e,t),am="__unctx_async_handlers__",td=dc[am]||(dc[am]=new Set);function Gb(e){const t=[];for(const i of td){const r=i();r&&t.push(r)}const n=()=>{for(const i of t)i()};let s=e();return s&&typeof s=="object"&&"catch"in s&&(s=s.catch(i=>{throw n(),i})),[s,n]}const lm={id:"__nuxt-loader"},kU={componentName:"NuxtLink",prefetch:!0,prefetchOn:{visibility:!0}},VA="#__nuxt",Kb="nuxt-app",cm=36e5,FA="vite:preloadError";function Qb(e=Kb){return NA(e,{asyncContext:!1})}const UA="__nuxt_plugin";function $A(e){let t=0;const n={_id:e.id||Kb||"nuxt-app",_scope:uE(),provide:void 0,versions:{get nuxt(){return"4.2.2"},get vue(){return n.vueApp.version}},payload:mr({...e.ssrContext?.payload||{},data:mr({}),state:ni({}),once:new Set,_errors:mr({})}),static:{data:{}},runWithContext(i){return n._scope.active&&!qd()?n._scope.run(()=>um(n,i)):um(n,i)},isHydrating:!0,deferHydration(){if(!n.isHydrating)return()=>{};t++;let i=!1;return()=>{if(!i&&(i=!0,t--,t===0))return n.isHydrating=!1,n.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:mr({}),_payloadRevivers:{},...e};{const i=window.__NUXT__;if(i)for(const r in i)switch(r){case"data":case"state":case"_errors":Object.assign(n.payload[r],i[r]);break;default:n.payload[r]=i[r]}}n.hooks=OA(),n.hook=n.hooks.hook,n.callHook=n.hooks.callHook,n.provide=(i,r)=>{const o="$"+i;_l(n,o,r),_l(n.vueApp.config.globalProperties,o,r)},_l(n.vueApp,"$nuxt",n),_l(n.vueApp.config.globalProperties,"$nuxt",n);{window.addEventListener(FA,r=>{n.callHook("app:chunkError",{error:r.payload}),r.payload.message.includes("Unable to preload CSS")&&r.preventDefault()}),window.useNuxtApp||=we;const i=n.hook("app:error",(...r)=>{console.error("[nuxt] error caught during app initialization",...r)});n.hook("app:mounted",i)}const s=n.payload.config;return n.provide("config",s),n}function BA(e,t){t.hooks&&e.hooks.addHooks(t.hooks)}async function HA(e,t){if(typeof t=="function"){const{provide:n}=await e.runWithContext(()=>t(e))||{};if(n&&typeof n=="object")for(const s in n)e.provide(s,n[s])}}async function jA(e,t){const n=new Set,s=[],i=[];let r,o=0;async function a(l){const c=l.dependsOn?.filter(h=>t.some(d=>d._name===h)&&!n.has(h))??[];if(c.length>0)s.push([new Set(c),l]);else{const h=HA(e,l).then(async()=>{l._name&&(n.add(l._name),await Promise.all(s.map(async([d,f])=>{d.has(l._name)&&(d.delete(l._name),d.size===0&&(o++,await a(f)))})))}).catch(d=>{if(!l.parallel&&!e.payload.error)throw d;r||=d});l.parallel?i.push(h):await h}}for(const l of t)BA(e,l);for(const l of t)await a(l);if(await Promise.all(i),o)for(let l=0;l<o;l++)await Promise.all(i);if(r)throw e.payload.error||r}function Is(e){if(typeof e=="function")return e;const t=e._name||e.name;return delete e.name,Object.assign(e.setup||(()=>{}),e,{[UA]:!0,_name:t})}function um(e,t,n){const s=()=>t();return Qb(e._id).set(e),e.vueApp.runWithContext(s)}function zA(e){let t;return Qc()&&(t=to()?.appContext.app.$nuxt),t||=Qb(e).tryUse(),t||null}function we(e){const t=zA(e);if(!t)throw new Error("[nuxt] instance unavailable");return t}function ga(e){return we().$config}function _l(e,t,n){Object.defineProperty(e,t,{get:()=>n})}function WA(e,t){return{ctx:{table:e},matchAll:n=>Xb(n,e)}}function Yb(e){const t={};for(const n in e)t[n]=n==="dynamic"?new Map(Object.entries(e[n]).map(([s,i])=>[s,Yb(i)])):new Map(Object.entries(e[n]));return t}function qA(e){return WA(Yb(e))}function Xb(e,t,n){e.endsWith("/")&&(e=e.slice(0,-1)||"/");const s=[];for(const[r,o]of hm(t.wildcard))(e===r||e.startsWith(r+"/"))&&s.push(o);for(const[r,o]of hm(t.dynamic))if(e.startsWith(r+"/")){const a="/"+e.slice(r.length).split("/").splice(2).join("/");s.push(...Xb(a,o))}const i=t.static.get(e);return i&&s.push(i),s.filter(Boolean)}function hm(e){return[...e.entries()].sort((t,n)=>t[0].length-n[0].length)}function lh(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.iterator in e?!1:Symbol.toStringTag in e?Object.prototype.toString.call(e)==="[object Module]":!0}function ed(e,t,n=".",s){if(!lh(t))return ed(e,{},n,s);const i=Object.assign({},t);for(const r in e){if(r==="__proto__"||r==="constructor")continue;const o=e[r];o!=null&&(s&&s(i,r,o,n)||(Array.isArray(o)&&Array.isArray(i[r])?i[r]=[...o,...i[r]]:lh(o)&&lh(i[r])?i[r]=ed(o,i[r],(n?`${n}.`:"")+r.toString(),s):i[r]=o))}return i}function GA(e){return(...t)=>t.reduce((n,s)=>ed(n,s,"",e),{})}const KA=GA();function QA(e,t){try{return t in e}catch{return!1}}class dm extends Error{static __h3_error__=!0;statusCode=500;fatal=!1;unhandled=!1;statusMessage;data;cause;constructor(t,n={}){super(t,n),n.cause&&!this.cause&&(this.cause=n.cause)}toJSON(){const t={message:this.message,statusCode:nd(this.statusCode,500)};return this.statusMessage&&(t.statusMessage=Jb(this.statusMessage)),this.data!==void 0&&(t.data=this.data),t}}function YA(e){if(typeof e=="string")return new dm(e);if(XA(e))return e;const t=new dm(e.message??e.statusMessage??"",{cause:e.cause||e});if(QA(e,"stack"))try{Object.defineProperty(t,"stack",{get(){return e.stack}})}catch{try{t.stack=e.stack}catch{}}if(e.data&&(t.data=e.data),e.statusCode?t.statusCode=nd(e.statusCode,t.statusCode):e.status&&(t.statusCode=nd(e.status,t.statusCode)),e.statusMessage?t.statusMessage=e.statusMessage:e.statusText&&(t.statusMessage=e.statusText),t.statusMessage){const n=t.statusMessage;Jb(t.statusMessage)!==n&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return e.fatal!==void 0&&(t.fatal=e.fatal),e.unhandled!==void 0&&(t.unhandled=e.unhandled),t}function XA(e){return e?.constructor?.__h3_error__===!0}const JA=/[^\u0009\u0020-\u007E]/g;function Jb(e=""){return e.replace(JA,"")}function nd(e,t=200){return!e||(typeof e=="string"&&(e=Number.parseInt(e,10)),e<100||e>999)?t:e}const Zb=Symbol("route");import.meta.url.replace(/\/app\/.*$/,"/");const Hi=()=>we()?.$router,t0=()=>Qc()?Ni(Zb,we()._route):we()._route;const ZA=()=>{try{if(we()._processingMiddleware)return!0}catch{return!1}return!1},tk=(e,t)=>{e||="/";const n=typeof e=="string"?e:"path"in e?ek(e):Hi().resolve(e).href;if(t?.open){const{target:l="_blank",windowFeatures:c={}}=t.open,h=[];for(const[d,f]of Object.entries(c))f!==void 0&&h.push(`${d.toLowerCase()}=${f}`);return open(n,l,h.join(", ")),Promise.resolve()}const s=eo(n,{acceptRelative:!0}),i=t?.external||s;if(i){if(!t?.external)throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const{protocol:l}=new URL(n,window.location.href);if(l&&nA(l))throw new Error(`Cannot navigate to a URL with '${l}' protocol.`)}const r=ZA();if(!i&&r){if(t?.replace){if(typeof e=="string"){const{pathname:l,search:c,hash:h}=Hb(e);return{path:l,...c&&{query:ff(c)},...h&&{hash:h},replace:!0}}return{...e,replace:!0}}return e}const o=Hi(),a=we();return i?(a._scope.stop(),t?.replace?location.replace(n):location.href=n,r?a.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):t?.replace?o.replace(e):o.push(e)};function ek(e){return Fb(e.path||"",e.query||{})+(e.hash||"")}const e0="__nuxt_error",mf=()=>VE(we().payload,"error"),nk=e=>{const t=_f(e);try{const n=mf();we().hooks.callHook("app:error",t),n.value||=t}catch{throw t}return t},sk=async(e={})=>{const t=we(),n=mf();t.callHook("app:error:cleared",e),e.redirect&&await Hi().replace(e.redirect),n.value=void 0},ik=e=>!!e&&typeof e=="object"&&e0 in e,_f=e=>{const t=YA(e);return Object.defineProperty(t,e0,{value:!0,configurable:!1,writable:!1}),t};function rk(e){const t=ak(e),n=new ArrayBuffer(t.length),s=new DataView(n);for(let i=0;i<n.byteLength;i++)s.setUint8(i,t.charCodeAt(i));return n}const ok="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function ak(e){e.length%4===0&&(e=e.replace(/==?$/,""));let t="",n=0,s=0;for(let i=0;i<e.length;i++)n<<=6,n|=ok.indexOf(e[i]),s+=6,s===24&&(t+=String.fromCharCode((n&16711680)>>16),t+=String.fromCharCode((n&65280)>>8),t+=String.fromCharCode(n&255),n=s=0);return s===12?(n>>=4,t+=String.fromCharCode(n)):s===18&&(n>>=2,t+=String.fromCharCode((n&65280)>>8),t+=String.fromCharCode(n&255)),t}const lk=-1,ck=-2,uk=-3,hk=-4,dk=-5,fk=-6;function pk(e,t){return gk(JSON.parse(e),t)}function gk(e,t){if(typeof e=="number")return i(e,!0);if(!Array.isArray(e)||e.length===0)throw new Error("Invalid input");const n=e,s=Array(n.length);function i(r,o=!1){if(r===lk)return;if(r===uk)return NaN;if(r===hk)return 1/0;if(r===dk)return-1/0;if(r===fk)return-0;if(o||typeof r!="number")throw new Error("Invalid input");if(r in s)return s[r];const a=n[r];if(!a||typeof a!="object")s[r]=a;else if(Array.isArray(a))if(typeof a[0]=="string"){const l=a[0],c=t&&Object.hasOwn(t,l)?t[l]:void 0;if(c){let h=a[1];return typeof h!="number"&&(h=n.push(a[1])-1),s[r]=c(i(h))}switch(l){case"Date":s[r]=new Date(a[1]);break;case"Set":const h=new Set;s[r]=h;for(let p=1;p<a.length;p+=1)h.add(i(a[p]));break;case"Map":const d=new Map;s[r]=d;for(let p=1;p<a.length;p+=2)d.set(i(a[p]),i(a[p+1]));break;case"RegExp":s[r]=new RegExp(a[1],a[2]);break;case"Object":s[r]=Object(a[1]);break;case"BigInt":s[r]=BigInt(a[1]);break;case"null":const f=Object.create(null);s[r]=f;for(let p=1;p<a.length;p+=2)f[a[p]]=i(a[p+1]);break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const p=globalThis[l],m=new p(i(a[1]));s[r]=a[2]!==void 0?m.subarray(a[2],a[3]):m;break}case"ArrayBuffer":{const p=a[1],m=rk(p);s[r]=m;break}case"Temporal.Duration":case"Temporal.Instant":case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.PlainMonthDay":case"Temporal.PlainYearMonth":case"Temporal.ZonedDateTime":{const p=l.slice(9);s[r]=Temporal[p].from(a[1]);break}case"URL":{const p=new URL(a[1]);s[r]=p;break}case"URLSearchParams":{const p=new URLSearchParams(a[1]);s[r]=p;break}default:throw new Error(`Unknown type ${l}`)}}else{const l=new Array(a.length);s[r]=l;for(let c=0;c<a.length;c+=1){const h=a[c];h!==ck&&(l[c]=i(h))}}else{const l={};s[r]=l;for(const c in a){if(c==="__proto__")throw new Error("Cannot parse an object with a `__proto__` property");const h=a[c];l[c]=i(h)}}return s[r]}return i(0)}const mk=new Set(["link","style","script","noscript"]),_k=new Set(["title","titleTemplate","script","style","noscript"]),fm=new Set(["base","meta","link","style","script","noscript"]),yk=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),vk=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),bk=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),Tk=new Set(["templateParams","htmlAttrs","bodyAttrs"]),wk=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]);function sd(e,t={},n){for(const s in e){const i=e[s],r=n?`${n}:${s}`:s;typeof i=="object"&&i!==null?sd(i,t,r):typeof i=="function"&&(t[r]=i)}return t}const n0=(()=>{if(console.createTask)return console.createTask;const e={run:t=>t()};return()=>e})();function s0(e,t,n,s){for(let i=n;i<e.length;i+=1)try{const r=s?s.run(()=>e[i](...t)):e[i](...t);if(r instanceof Promise)return r.then(()=>s0(e,t,i+1,s))}catch(r){return Promise.reject(r)}}function Ek(e,t,n){if(e.length>0)return s0(e,t,0,n0(n))}function Ik(e,t,n){if(e.length>0){const s=n0(n);return Promise.all(e.map(i=>s.run(()=>i(...t))))}}function ch(e,t){for(const n of[...e])n(t)}var Sk=class{_hooks;_before;_after;_deprecatedHooks;_deprecatedMessages;constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,t,n={}){if(!e||typeof t!="function")return()=>{};const s=e;let i;for(;this._deprecatedHooks[e];)i=this._deprecatedHooks[e],e=i.to;if(i&&!n.allowDeprecated){let r=i.message;r||(r=`${s} hook has been deprecated`+(i.to?`, please use ${i.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(r)||(console.warn(r),this._deprecatedMessages.add(r))}if(!t.name)try{Object.defineProperty(t,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(t),()=>{t&&(this.removeHook(e,t),t=void 0)}}hookOnce(e,t){let n,s=(...i)=>(typeof n=="function"&&n(),n=void 0,s=void 0,t(...i));return n=this.hook(e,s),n}removeHook(e,t){const n=this._hooks[e];if(n){const s=n.indexOf(t);s!==-1&&n.splice(s,1),n.length===0&&(this._hooks[e]=void 0)}}deprecateHook(e,t){this._deprecatedHooks[e]=typeof t=="string"?{to:t}:t;const n=this._hooks[e]||[];this._hooks[e]=void 0;for(const s of n)this.hook(e,s)}deprecateHooks(e){for(const t in e)this.deprecateHook(t,e[t])}addHooks(e){const t=sd(e),n=Object.keys(t).map(s=>this.hook(s,t[s]));return()=>{for(const s of n)s();n.length=0}}removeHooks(e){const t=sd(e);for(const n in t)this.removeHook(n,t[n])}removeAllHooks(){this._hooks={}}callHook(e,...t){return this.callHookWith(Ek,e,t)}callHookParallel(e,...t){return this.callHookWith(Ik,e,t)}callHookWith(e,t,n){const s=this._before||this._after?{name:t,args:n,context:{}}:void 0;this._before&&ch(this._before,s);const i=e(this._hooks[t]?[...this._hooks[t]]:[],n,t);return i instanceof Promise?i.finally(()=>{this._after&&s&&ch(this._after,s)}):(this._after&&s&&ch(this._after,s),i)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const t=this._before.indexOf(e);t!==-1&&this._before.splice(t,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const t=this._after.indexOf(e);t!==-1&&this._after.splice(t,1)}}}};function Ak(){return new Sk}const kk=["name","property","http-equiv"],Ck=new Set(["viewport","description","keywords","robots"]);function i0(e){const t=e.split(":");return t.length?wk.has(t[1]):!1}function id(e){const{props:t,tag:n}=e;if(vk.has(n))return n;if(n==="link"&&t.rel==="canonical")return"canonical";if(t.charset)return"charset";if(e.tag==="meta"){for(const s of kk)if(t[s]!==void 0){const i=t[s],r=i&&typeof i=="string"&&i.includes(":"),o=i&&Ck.has(i),l=!(r||o)&&e.key?`:key:${e.key}`:"";return`${n}:${i}${l}`}}if(e.key)return`${n}:key:${e.key}`;if(t.id)return`${n}:id:${t.id}`;if(_k.has(n)){const s=e.textContent||e.innerHTML;if(s)return`${n}:content:${s}`}}function pm(e){const t=e._h||e._d;if(t)return t;const n=e.textContent||e.innerHTML;return n||`${e.tag}:${Object.entries(e.props).map(([s,i])=>`${s}:${String(i)}`).join(",")}`}function fc(e,t,n){typeof e==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(e=e());const i=t?t(n,e):e;if(Array.isArray(i))return i.map(r=>fc(r,t));if(i?.constructor===Object){const r={};for(const o of Object.keys(i))r[o]=fc(i[o],t,o);return r}return i}function xk(e,t){const n=e==="style"?new Map:new Set;function s(i){if(i==null||i===void 0)return;const r=String(i).trim();if(r)if(e==="style"){const[o,...a]=r.split(":").map(l=>l?l.trim():"");o&&a.length&&n.set(o,a.join(":"))}else r.split(" ").filter(Boolean).forEach(o=>n.add(o))}return typeof t=="string"?e==="style"?t.split(";").forEach(s):s(t):Array.isArray(t)?t.forEach(i=>s(i)):t&&typeof t=="object"&&Object.entries(t).forEach(([i,r])=>{r&&r!=="false"&&(e==="style"?n.set(String(i).trim(),String(r)):s(i))}),n}function r0(e,t){return e.props=e.props||{},t?e.tag==="templateParams"?(e.props=t,e):(Object.entries(t).forEach(([n,s])=>{if(s===null){e.props[n]=null;return}if(n==="class"||n==="style"){e.props[n]=xk(n,s);return}if(bk.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof s=="object"){let a=t.type;if(t.type||(a="application/json"),!a?.endsWith("json")&&a!=="speculationrules")return;t.type=a,e.props.type=a,e[n]=JSON.stringify(s)}else e[n]=s;return}const i=String(s),r=n.startsWith("data-"),o=e.tag==="meta"&&n==="content";i==="true"||i===""?e.props[n]=r||o?i:!0:!s&&r&&i==="false"?e.props[n]="false":s!==void 0&&(e.props[n]=s)}),e):e}function Rk(e,t){const n=typeof t=="object"&&typeof t!="function"?t:{[e==="script"||e==="noscript"||e==="style"?"innerHTML":"textContent"]:t},s=r0({tag:e,props:{}},n);return s.key&&mk.has(s.tag)&&(s.props["data-hid"]=s._h=s.key),s.tag==="script"&&typeof s.innerHTML=="object"&&(s.innerHTML=JSON.stringify(s.innerHTML),s.props.type=s.props.type||"application/json"),Array.isArray(s.props.content)?s.props.content.map(i=>({...s,props:{...s.props,content:i}})):s}function Pk(e,t){if(!e)return[];typeof e=="function"&&(e=e());const n=(i,r)=>{for(let o=0;o<t.length;o++)r=t[o](i,r);return r};e=n(void 0,e);const s=[];return e=fc(e,n),Object.entries(e||{}).forEach(([i,r])=>{if(r!==void 0)for(const o of Array.isArray(r)?r:[r])s.push(Rk(i,o))}),s.flat()}const gm=(e,t)=>e._w===t._w?e._p-t._p:e._w-t._w,mm={base:-10,title:10},Ok={critical:-8,high:-1,low:2},_m={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},Mk=/@import/,Co=e=>e===""||e===!0;function Dk(e,t){if(typeof t.tagPriority=="number")return t.tagPriority;let n=100;const s=Ok[t.tagPriority]||0,i=e.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:_m;if(t.tag in mm)n=mm[t.tag];else if(t.tag==="meta"){const r=t.props["http-equiv"]==="content-security-policy"?"content-security-policy":t.props.charset?"charset":t.props.name==="viewport"?"viewport":null;r&&(n=_m.meta[r])}else if(t.tag==="link"&&t.props.rel)n=i.link[t.props.rel];else if(t.tag==="script"){const r=String(t.props.type);Co(t.props.async)?n=i.script.async:t.props.src&&!Co(t.props.defer)&&!Co(t.props.async)&&r!=="module"&&!r.endsWith("json")||t.innerHTML&&!r.endsWith("json")?n=i.script.sync:(Co(t.props.defer)&&t.props.src&&!Co(t.props.async)||r==="module")&&(n=i.script.defer)}else t.tag==="style"&&(n=t.innerHTML&&Mk.test(t.innerHTML)?i.style.imported:i.style.sync);return(n||100)+s}function ym(e,t){const n=typeof t=="function"?t(e):t,s=n.key||String(e.plugins.size+1);e.plugins.get(s)||(e.plugins.set(s,n),e.hooks.addHooks(n.hooks||{}))}function Lk(e={}){const t=Ak();t.addHooks(e.hooks||{});const n=!e.document,s=new Map,i=new Map,r=new Set,o={_entryCount:1,plugins:i,dirty:!1,resolvedOptions:e,hooks:t,ssr:n,entries:s,headEntries(){return[...s.values()]},use:a=>ym(o,a),push(a,l){const c={...l||{}};delete c.head;const h=c._index??o._entryCount++,d={_i:h,input:a,options:c},f={_poll(p=!1){o.dirty=!0,!p&&r.add(h),t.callHook("entries:updated",o)},dispose(){s.delete(h)&&o.invalidate()},patch(p){(!c.mode||c.mode==="server"&&n||c.mode==="client"&&!n)&&(d.input=p,s.set(h,d),f._poll())}};return f.patch(a),f},async resolveTags(){const a={tagMap:new Map,tags:[],entries:[...o.entries.values()]};for(await t.callHook("entries:resolve",a);r.size;){const f=r.values().next().value;r.delete(f);const p=s.get(f);if(p){const m={tags:Pk(p.input,e.propResolvers||[]).map(y=>Object.assign(y,p.options)),entry:p};await t.callHook("entries:normalize",m),p._tags=m.tags.map((y,b)=>(y._w=Dk(o,y),y._p=(p._i<<10)+b,y._d=id(y),y))}}let l=!1;a.entries.flatMap(f=>(f._tags||[]).map(p=>({...p,props:{...p.props}}))).sort(gm).reduce((f,p)=>{const m=String(p._d||p._p);if(!f.has(m))return f.set(m,p);const y=f.get(m);if((p?.tagDuplicateStrategy||(Tk.has(p.tag)?"merge":null)||(p.key&&p.key===y.key?"merge":null))==="merge"){const E={...y.props};Object.entries(p.props).forEach(([L,S])=>E[L]=L==="style"?new Map([...y.props.style||new Map,...S]):L==="class"?new Set([...y.props.class||new Set,...S]):S),f.set(m,{...p,props:E})}else p._p>>10===y._p>>10&&p.tag==="meta"&&i0(m)?(f.set(m,Object.assign([...Array.isArray(y)?y:[y],p],p)),l=!0):(p._w===y._w?p._p>y._p:p?._w<y?._w)&&f.set(m,p);return f},a.tagMap);const c=a.tagMap.get("title"),h=a.tagMap.get("titleTemplate");if(o._title=c?.textContent,h){const f=h?.textContent;if(o._titleTemplate=f,f){let p=typeof f=="function"?f(c?.textContent):f;typeof p=="string"&&!o.plugins.has("template-params")&&(p=p.replace("%s",c?.textContent||"")),c?p===null?a.tagMap.delete("title"):a.tagMap.set("title",{...c,textContent:p}):(h.tag="title",h.textContent=p)}}a.tags=Array.from(a.tagMap.values()),l&&(a.tags=a.tags.flat().sort(gm)),await t.callHook("tags:beforeResolve",a),await t.callHook("tags:resolve",a),await t.callHook("tags:afterResolve",a);const d=[];for(const f of a.tags){const{innerHTML:p,tag:m,props:y}=f;if(yk.has(m)&&!(Object.keys(y).length===0&&!f.innerHTML&&!f.textContent)&&!(m==="meta"&&!y.content&&!y["http-equiv"]&&!y.charset)){if(m==="script"&&p){if(String(y.type).endsWith("json")){const b=typeof p=="string"?p:JSON.stringify(p);f.innerHTML=b.replace(/</g,"\\u003C")}else typeof p=="string"&&(f.innerHTML=p.replace(new RegExp(`</${m}`,"g"),`<\\/${m}`));f._d=id(f)}d.push(f)}}return d},invalidate(){for(const a of s.values())r.add(a._i);o.dirty=!0,t.callHook("entries:updated",o)}};return(e?.plugins||[]).forEach(a=>ym(o,a)),o.hooks.callHook("init",o),e.init?.forEach(a=>a&&o.push(a)),o}const Nk=(e,t)=>ge(t)?ME(t):t,yf="usehead";function Vk(e){return{install(n){n.config.globalProperties.$unhead=e,n.config.globalProperties.$head=e,n.provide(yf,e)}}.install}function Fk(){if(Qc()){const e=Ni(yf);if(!e)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return e}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function Uk(e,t={}){const n=t.head||Fk();return n.ssr?n.push(e||{},t):$k(n,e,t)}function $k(e,t,n={}){const s=ut(!1);let i;return GE(()=>{const o=s.value?{}:fc(t,Nk);i?i.patch(o):i=e.push(o,n)}),to()&&(sf(()=>{i.dispose()}),Jv(()=>{s.value=!0}),Xv(()=>{s.value=!1})),i}function o0(e){const t=e||we();return t.ssrContext?.head||t.runWithContext(()=>{if(Qc()){const n=Ni(yf);if(!n)throw new Error("[nuxt] [unhead] Missing Unhead instance.");return n}})}function CU(e,t={}){const n=t.head||o0(t.nuxt);return Uk(e,{head:n,...t})}let Bl,Hl;function Bk(){return Bl=$fetch(gf(`builds/meta/${ga().app.buildId}.json`),{responseType:"json"}),Bl.then(e=>{Hl=qA(e.matcher)}).catch(e=>{console.error("[nuxt] Error fetching app manifest.",e)}),Bl}function nu(){return Bl||Bk()}async function vf(e){const t=typeof e=="string"?e:e.path;if(await nu(),!Hl)return console.error("[nuxt] Error creating app manifest matcher.",Hl),{};try{return KA({},...Hl.matchAll(t).reverse())}catch(n){return console.error("[nuxt] Error matching route rules.",n),{}}}async function vm(e,t={}){if(!await l0(e))return null;const s=await jk(e,t);return await a0(s)||null}const Hk="_payload.json";async function jk(e,t={}){const n=new URL(e,"http://localhost");if(n.host!=="localhost"||eo(n.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+e);const s=ga(),i=t.hash||(t.fresh?Date.now():s.app.buildId),r=s.app.cdnURL,o=r&&await l0(e)?r:s.app.baseURL;return eu(o,n.pathname,Hk+(i?`?${i}`:""))}async function a0(e){const t=fetch(e,{cache:"force-cache"}).then(n=>n.text().then(c0));try{return await t}catch(n){console.warn("[nuxt] Cannot load payload ",e,n)}return null}async function l0(e=t0().path){const t=we();return e=e==="/"?e:e.replace(/\/$/,""),(await nu()).prerendered.includes(e)?!0:t.runWithContext(async()=>{const s=await vf({path:e});return!!s.prerender&&!s.redirect})}let wi=null;async function zk(){if(wi)return wi;const e=document.getElementById("__NUXT_DATA__");if(!e)return{};const t=await c0(e.textContent||""),n=e.dataset.src?await a0(e.dataset.src):void 0;return wi={...t,...n,...window.__NUXT__},wi.config?.public&&(wi.config.public=ni(wi.config.public)),wi}async function c0(e){return await pk(e,we()._payloadRevivers)}function Wk(e,t){we()._payloadRevivers[e]=t}const qk=[["NuxtError",e=>_f(e)],["EmptyShallowRef",e=>Bi(e==="_"?void 0:e==="0n"?BigInt(0):cc(e))],["EmptyRef",e=>ut(e==="_"?void 0:e==="0n"?BigInt(0):cc(e))],["ShallowRef",e=>Bi(e)],["ShallowReactive",e=>mr(e)],["Ref",e=>ut(e)],["Reactive",e=>ni(e)]],Gk=Is({name:"nuxt:revive-payload:client",order:-30,async setup(e){let t,n;for(const[s,i]of qk)Wk(s,i);Object.assign(e.payload,([t,n]=Gb(()=>e.runWithContext(zk)),t=await t,n(),t)),delete window.__NUXT__}});async function bf(e,t={}){const n=t.document||e.resolvedOptions.document;if(!n||!e.dirty)return;const s={shouldRender:!0,tags:[]};if(await e.hooks.callHook("dom:beforeRender",s),!!s.shouldRender)return e._domUpdatePromise||(e._domUpdatePromise=new Promise(async i=>{const r=new Map,o=new Promise(p=>{e.resolveTags().then(m=>{p(m.map(y=>{const b=r.get(y._d)||0,E={tag:y,id:(b?`${y._d}:${b}`:y._d)||pm(y),shouldRender:!0};return y._d&&i0(y._d)&&r.set(y._d,b+1),E}))})});let a=e._dom;if(!a){a={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const p of["body","head"]){const m=n[p]?.children;for(const y of m){const b=y.tagName.toLowerCase();if(!fm.has(b))continue;const E=r0({tag:b,props:{}},{innerHTML:y.innerHTML,...y.getAttributeNames().reduce((L,S)=>(L[S]=y.getAttribute(S),L),{})||{}});if(E.key=y.getAttribute("data-hid")||void 0,E._d=id(E)||pm(E),a.elMap.has(E._d)){let L=1,S=E._d;for(;a.elMap.has(S);)S=`${E._d}:${L++}`;a.elMap.set(S,y)}else a.elMap.set(E._d,y)}}}a.pendingSideEffects={...a.sideEffects},a.sideEffects={};function l(p,m,y){const b=`${p}:${m}`;a.sideEffects[b]=y,delete a.pendingSideEffects[b]}function c({id:p,$el:m,tag:y}){const b=y.tag.endsWith("Attrs");a.elMap.set(p,m),b||(y.textContent&&y.textContent!==m.textContent&&(m.textContent=y.textContent),y.innerHTML&&y.innerHTML!==m.innerHTML&&(m.innerHTML=y.innerHTML),l(p,"el",()=>{m?.remove(),a.elMap.delete(p)}));for(const E in y.props){if(!Object.prototype.hasOwnProperty.call(y.props,E))continue;const L=y.props[E];if(E.startsWith("on")&&typeof L=="function"){const O=m?.dataset;if(O&&O[`${E}fired`]){const D=E.slice(0,-5);L.call(m,new Event(D.substring(2)))}m.getAttribute(`data-${E}`)!==""&&((y.tag==="bodyAttrs"?n.defaultView:m).addEventListener(E.substring(2),L.bind(m)),m.setAttribute(`data-${E}`,""));continue}const S=`attr:${E}`;if(E==="class"){if(!L)continue;for(const O of L)b&&l(p,`${S}:${O}`,()=>m.classList.remove(O)),!m.classList.contains(O)&&m.classList.add(O)}else if(E==="style"){if(!L)continue;for(const[O,D]of L)l(p,`${S}:${O}`,()=>{m.style.removeProperty(O)}),m.style.setProperty(O,D)}else L!==!1&&L!==null&&(m.getAttribute(E)!==L&&m.setAttribute(E,L===!0?"":String(L)),b&&l(p,S,()=>m.removeAttribute(E)))}}const h=[],d={bodyClose:void 0,bodyOpen:void 0,head:void 0},f=await o;for(const p of f){const{tag:m,shouldRender:y,id:b}=p;if(y){if(m.tag==="title"){n.title=m.textContent,l("title","",()=>n.title=a.title);continue}p.$el=p.$el||a.elMap.get(b),p.$el?c(p):fm.has(m.tag)&&h.push(p)}}for(const p of h){const m=p.tag.tagPosition||"head";p.$el=n.createElement(p.tag.tag),c(p),d[m]=d[m]||n.createDocumentFragment(),d[m].appendChild(p.$el)}for(const p of f)await e.hooks.callHook("dom:renderTag",p,n,l);d.head&&n.head.appendChild(d.head),d.bodyOpen&&n.body.insertBefore(d.bodyOpen,n.body.firstChild),d.bodyClose&&n.body.appendChild(d.bodyClose);for(const p in a.pendingSideEffects)a.pendingSideEffects[p]();e._dom=a,await e.hooks.callHook("dom:rendered",{renders:f}),i()}).finally(()=>{e._domUpdatePromise=void 0,e.dirty=!1})),e._domUpdatePromise}function Kk(e={}){const t=e.domOptions?.render||bf;e.document=e.document||(typeof window<"u"?document:void 0);const n=e.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return Lk({...e,plugins:[...e.plugins||[],{key:"client",hooks:{"entries:updated":t}}],init:[n?JSON.parse(n):!1,...e.init||[]]})}function Qk(e,t){let n=0;return()=>{const s=++n;t(()=>{n===s&&e()})}}function Yk(e={}){const t=Kk({domOptions:{render:Qk(()=>bf(t),n=>setTimeout(n,0))},...e});return t.install=Vk(t),t}const Xk={disableDefaults:!0},Jk=Is({name:"nuxt:head",enforce:"pre",setup(e){const t=Yk(Xk);e.vueApp.use(t);{let n=!0;const s=async()=>{n=!1,await bf(t)};t.hooks.hook("dom:beforeRender",i=>{i.shouldRender=!n}),e.hooks.hook("page:start",()=>{n=!0}),e.hooks.hook("page:finish",()=>{e.isHydrating||s()}),e.hooks.hook("app:error",s),e.hooks.hook("app:suspense:resolve",s)}}}),Zk=async e=>{let t,n;const s=([t,n]=Gb(()=>vf({path:e.path})),t=await t,n(),t);if(s.redirect){const i=s.redirect.includes("#")?s.redirect:s.redirect+e.hash;return eo(i,{acceptRelative:!0})?(window.location.href=i,!1):i}},tC=[Zk];function uh(e){const t=e&&typeof e=="object"?e:{};typeof e=="object"&&(e=jb({pathname:e.path||"",search:Nb(e.query||{}),hash:e.hash||""}));const n=new URL(e.toString(),window.location.href);return{path:n.pathname,fullPath:e,query:ff(n.search),hash:n.hash,params:t.params||{},name:void 0,matched:t.matched||[],redirectedFrom:void 0,meta:t.meta||{},href:e}}const eC=Is({name:"nuxt:router",enforce:"pre",setup(e){const t=rA(window.location.pathname,ga().app.baseURL)+window.location.search+window.location.hash,n=[],s={"navigate:before":[],"resolve:before":[],"navigate:after":[],error:[]},i=(d,f)=>(s[d].push(f),()=>s[d].splice(s[d].indexOf(f),1)),r=ga().app.baseURL,o=ni(uh(t));async function a(d,f){try{const p=uh(d);for(const m of s["navigate:before"]){const y=await m(p,o);if(y===!1||y instanceof Error)return;if(typeof y=="string"&&y.length)return a(y,!0)}for(const m of s["resolve:before"])await m(p,o);Object.assign(o,p),window.history[f?"replaceState":"pushState"]({},"",eu(r,p.fullPath)),e.isHydrating||await e.runWithContext(sk);for(const m of s["navigate:after"])await m(p,o)}catch(p){for(const m of s.error)await m(p)}}const c={currentRoute:Tt(()=>o),isReady:()=>Promise.resolve(),options:{},install:()=>Promise.resolve(),push:d=>a(d,!1),replace:d=>a(d,!0),back:()=>window.history.go(-1),go:d=>window.history.go(d),forward:()=>window.history.go(1),beforeResolve:d=>i("resolve:before",d),beforeEach:d=>i("navigate:before",d),afterEach:d=>i("navigate:after",d),onError:d=>i("error",d),resolve:uh,addRoute:(d,f)=>{n.push(f)},getRoutes:()=>n,hasRoute:d=>n.some(f=>f.name===d),removeRoute:d=>{const f=n.findIndex(p=>p.name===d);f!==-1&&n.splice(f,1)}};e.vueApp.component("RouterLink",Ht({functional:!0,props:{to:{type:String,required:!0},custom:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:String},setup:(d,{slots:f})=>{const p=()=>a(d.to,d.replace);return()=>{const m=c.resolve(d.to);return d.custom?f.default?.({href:d.to,navigate:p,route:m}):kn("a",{href:d.to,onClick:y=>(y.preventDefault(),p())},f)}}})),window.addEventListener("popstate",d=>{const f=d.target.location;c.replace(f.href.replace(f.origin,""))}),e._route=o,e._middleware||={global:[],named:{}};const h=e.payload.state._layout;return e.hooks.hookOnce("app:created",async()=>{c.beforeEach(async(d,f)=>{d.meta=ni(d.meta||{}),e.isHydrating&&h&&!Xn(d.meta.layout)&&(d.meta.layout=h),e._processingMiddleware=!0;{const p=new Set([...tC,...e._middleware.global]);{const m=await e.runWithContext(()=>vf({path:d.path}));if(m.appMiddleware)for(const y in m.appMiddleware){const b=e._middleware.named[y];if(!b)return;m.appMiddleware[y]?p.add(b):p.delete(b)}}for(const m of p){const y=await e.runWithContext(()=>m(d,f));if(y!==!0&&(y||y===!1))return y}}}),c.afterEach(()=>{delete e._processingMiddleware}),await c.replace(t),aA(o.fullPath,t)||await e.runWithContext(()=>tk(o.fullPath))}),{provide:{route:o,router:c}}}}),bm=globalThis.requestIdleCallback||(e=>{const t=Date.now(),n={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))};return setTimeout(()=>{e(n)},1)}),xU=globalThis.cancelIdleCallback||(e=>{clearTimeout(e)}),Tf=e=>{const t=we();t.isHydrating?t.hooks.hookOnce("app:suspense:resolve",()=>{bm(()=>e())}):bm(()=>e())},nC=Is({name:"nuxt:payload",setup(e){const t=new Set;Hi().beforeResolve(async(n,s)=>{if(n.path===s.path)return;const i=await vm(n.path);if(i){for(const r of t)delete e.static.data[r];for(const r in i.data)r in e.static.data||t.add(r),e.static.data[r]=i.data[r]}}),Tf(()=>{e.hooks.hook("link:prefetch",async n=>{const{hostname:s}=new URL(n,window.location.href);s===window.location.hostname&&await vm(n).catch(()=>{console.warn("[nuxt] Error preloading payload for",n)})}),navigator.connection?.effectiveType!=="slow-2g"&&setTimeout(nu,1e3)})}}),sC=Is(()=>{const e=Hi();Tf(()=>{e.beforeResolve(async()=>{await new Promise(t=>{setTimeout(t,100),requestAnimationFrame(()=>{setTimeout(t,0)})})})})}),iC=Is(e=>{let t;async function n(){let s;try{s=await nu()}catch(i){const r=i;if(!("status"in r&&(r.status===404||r.status===403)))throw r}t&&clearTimeout(t),t=setTimeout(n,cm);try{const i=await $fetch(gf("builds/latest.json")+`?${Date.now()}`);i.id!==s?.id&&(e.hooks.callHook("app:manifest:update",i),t&&clearTimeout(t))}catch{}}Tf(()=>{t=setTimeout(n,cm)})});function rC(e={}){const t=e.path||window.location.pathname;let n={};try{n=cc(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(e.force||n?.path!==t||n?.expires<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:t,expires:Date.now()+(e.ttl??1e4)}))}catch{}if(e.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:we().payload.state}))}catch{}window.location.pathname!==t?window.location.href=t:window.location.reload()}}const oC=Is({name:"nuxt:chunk-reload",setup(e){const t=Hi(),n=ga(),s=new Set;t.beforeEach(()=>{s.clear()}),e.hook("app:chunkError",({error:r})=>{s.add(r)});function i(r){const o=eu(n.app.baseURL,r.fullPath);rC({path:o,persistState:!0})}e.hook("app:manifest:update",()=>{t.beforeResolve(i)}),t.onError((r,o)=>{s.has(r)&&i(o)})}}),aC=Is({name:"nuxt:global-components"}),lC={mounted(e,t){e._clickOutside=n=>{e===n.target||e.contains(n.target)||t.value(n)},document.addEventListener("click",e._clickOutside)},unmounted(e){e._clickOutside&&document.removeEventListener("click",e._clickOutside)}},cC=Is(e=>{e.vueApp.directive("click-outside",lC)}),uC=[Gk,Jk,eC,nC,sC,iC,oC,aC,cC];function hC(e,t=!1){if(e){if(e.nodeName==="#comment"&&e.nodeValue==="[")return u0(e,[],t);if(t){const n=e.cloneNode(!0);return n.querySelectorAll("[data-island-slot]").forEach(s=>{s.innerHTML=""}),[n.outerHTML]}return[e.outerHTML]}}function u0(e,t=[],n=!1){if(e&&e.nodeName){if(fC(e))return t;if(!dC(e)){const s=e.cloneNode(!0);n&&s.querySelectorAll?.("[data-island-slot]").forEach(i=>{i.innerHTML=""}),t.push(s.outerHTML)}u0(e.nextSibling,t,n)}return t}function hh(e,t){const n=e?hC(e):[t];return n?kr(n.join(""),n.length):kn("div")}function dC(e){return e.nodeName==="#comment"&&e.nodeValue==="["}function fC(e){return e.nodeName==="#comment"&&e.nodeValue==="]"}const yl="<div></div>",dh=new WeakMap;function pC(e){if(dh.has(e))return dh.get(e);const t={...e};return t.render?t.render=(n,s,i,r,o,a)=>{if(r.mounted$??n.mounted$){const l=e.render?.bind(n)(n,s,i,r,o,a);return l.children===null||typeof l.children=="string"?An(l):kn(l)}return hh(n._.vnode.el,yl)}:t.template&&=`
      <template v-if="mounted$">${e.template}</template>
      <template v-else>${yl}</template>
    `,t.setup=(n,s)=>{const i=we(),r=Bi(i.isHydrating===!1),o=to();if(i.isHydrating){const l={...o.attrs},c=gC(o);for(const h in l)delete o.attrs[h];si(()=>{Object.assign(o.attrs,l),o.vnode.dirs=c})}si(()=>{r.value=!0});const a=e.setup?.(n,s)||{};return zd(a)?Promise.resolve(a).then(l=>typeof l!="function"?(l||={},l.mounted$=r,l):(...c)=>{if(r.value||!i.isHydrating){const h=l(...c);return h.children===null||typeof h.children=="string"?An(h):kn(h)}return hh(o?.vnode.el,yl)}):typeof a=="function"?(...l)=>{if(r.value){const c=a(...l),h=t.inheritAttrs!==!1?s.attrs:void 0;return c.children===null||typeof c.children=="string"?An(c,h):kn(c,h)}return hh(o?.vnode.el,yl)}:Object.assign(a,{mounted$:r})},dh.set(e,t),t}function gC(e){if(!e||!e.vnode.dirs)return null;const t=e.vnode.dirs;return e.vnode.dirs=null,t}function mC(e={}){const t=Bi(""),n=Bi(e.politeness||"polite"),s=o0();function i(c="",h="polite"){t.value=c,n.value=h}function r(c){return i(c,"polite")}function o(c){return i(c,"assertive")}function a(){i(document?.title?.trim(),n.value)}function l(){s?.hooks?.removeHook("dom:rendered",a)}return a(),s?.hooks?.hook("dom:rendered",()=>{a()}),{_cleanup:l,message:t,politeness:n,set:i,polite:r,assertive:o}}function _C(e={}){const t=we(),n=t._routeAnnouncer||=mC(e);return e.politeness!==n.politeness.value&&(n.politeness.value=e.politeness||"polite"),qd()&&(t._routeAnnouncerDeps||=0,t._routeAnnouncerDeps++,hE(()=>{t._routeAnnouncerDeps--,t._routeAnnouncerDeps===0&&(n._cleanup(),delete t._routeAnnouncer)})),n}const yC=Ht({name:"NuxtRouteAnnouncer",props:{atomic:{type:Boolean,default:!1},politeness:{type:String,default:"polite"}},setup(e,{slots:t,expose:n}){const{set:s,polite:i,assertive:r,message:o,politeness:a}=_C({politeness:e.politeness});return n({set:s,polite:i,assertive:r,message:o,politeness:a}),()=>kn("span",{class:"nuxt-route-announcer",style:{position:"absolute"}},kn("span",{role:"alert","aria-live":a.value,"aria-atomic":e.atomic,style:{border:"0",clip:"rect(0 0 0 0)","clip-path":"inset(50%)",height:"1px",width:"1px",overflow:"hidden",position:"absolute","white-space":"nowrap","word-wrap":"normal",margin:"-1px",padding:"0"}},t.default?t.default({message:o.value}):o.value))}}),vC=["type","value","placeholder","autocomplete","maxlength","disabled"],bC=Ht({__name:"BaseInput",props:{modelValue:{},type:{default:"text"},placeholder:{default:""},autocomplete:{default:"off"},maxlength:{},error:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=t,s=i=>{const r=i.target;n("update:modelValue",r.value)};return(i,r)=>(B(),Y("input",{type:e.type,value:e.modelValue,placeholder:e.placeholder,autocomplete:e.autocomplete,maxlength:e.maxlength,disabled:e.disabled,class:At(["form-input",{"form-input--error":e.error}]),onInput:s},null,42,vC))}}),re=(e,t)=>{const n=e.__vccOpts||e;for(const[s,i]of t)n[s]=i;return n},wf=Object.assign(re(bC,[["__scopeId","data-v-91b986db"]]),{__name:"UiBaseInput"}),TC={key:0,class:"form-error"},wC=Ht({__name:"FormError",props:{message:{},visible:{type:Boolean,default:!1}},setup(e){return(t,n)=>e.visible&&e.message?(B(),Y("div",TC,H(e.message),1)):Gt("",!0)}}),Ef=Object.assign(re(wC,[["__scopeId","data-v-75d4b223"]]),{__name:"UiFormError"}),EC=["type","disabled"],IC=Ht({__name:"BaseButton",props:{variant:{default:"primary"},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},type:{default:"button"}},emits:["click"],setup(e,{emit:t}){const n=e,s=t,i=r=>{!n.loading&&!n.disabled&&s("click",r)};return(r,o)=>(B(),Y("button",{type:e.type,class:At(["btn",`btn--${e.variant}`,{"btn--loading":e.loading}]),disabled:e.disabled||e.loading,onClick:i},[lf(r.$slots,"default",{},void 0)],10,EC))}}),If=Object.assign(re(IC,[["__scopeId","data-v-d54604fc"]]),{__name:"UiBaseButton"}),SC=Ht({__name:"LoginForm",emits:["submit","forgotPassword"],setup(e,{expose:t,emit:n}){const s=ut(""),i=ut(""),r=ut(""),o=ut(!1),a=n,l=()=>{if(r.value="",!s.value.trim()){r.value="Inserisci la tua email.";return}if(!i.value){r.value="Inserisci la password.";return}a("submit",{email:s.value.trim(),password:i.value})},c=()=>{r.value=""};return t({setError:h=>{r.value=h},setLoading:h=>{o.value=h},reset:()=>{s.value="",i.value="",r.value="",o.value=!1}}),(h,d)=>{const f=wf,p=Ef,m=If;return B(),Y("form",{class:"auth-form",onSubmit:Va(l,["prevent"])},[mt(f,{modelValue:s.value,"onUpdate:modelValue":d[0]||(d[0]=y=>s.value=y),type:"email",placeholder:"Email",autocomplete:"email",error:!!r.value&&r.value.includes("email"),onInput:c},null,8,["modelValue","error"]),mt(f,{modelValue:i.value,"onUpdate:modelValue":d[1]||(d[1]=y=>i.value=y),type:"password",placeholder:"Password",autocomplete:"current-password",error:!!r.value&&r.value.includes("password"),onInput:c},null,8,["modelValue","error"]),mt(p,{message:r.value,visible:!!r.value},null,8,["message","visible"]),mt(m,{type:"submit",variant:"primary",loading:o.value},{default:Ve(()=>[...d[3]||(d[3]=[Vt(" ACCEDI ",-1)])]),_:1},8,["loading"]),mt(m,{variant:"link",onClick:d[2]||(d[2]=y=>a("forgotPassword"))},{default:Ve(()=>[...d[4]||(d[4]=[Vt(" Password dimenticata? ",-1)])]),_:1})],32)}}}),AC=Object.assign(re(SC,[["__scopeId","data-v-5927dcd2"]]),{__name:"AuthLoginForm"}),kC=Ht({__name:"RegisterForm",emits:["submit"],setup(e,{expose:t,emit:n}){const s=ut(""),i=ut(""),r=ut(""),o=ut(""),a=ut(""),l=ut(!1),c=n,h=()=>{if(a.value="",!s.value.trim()){a.value="Scegli un nickname.";return}if(s.value.trim().length<3){a.value="Il nickname deve essere di almeno 3 caratteri.";return}if(!i.value.trim()){a.value="Inserisci la tua email.";return}if(!r.value){a.value="Inserisci una password.";return}if(r.value.length<6){a.value="La password deve essere di almeno 6 caratteri.";return}if(!o.value){a.value="Conferma la password.";return}if(r.value!==o.value){a.value="Le password non coincidono.";return}c("submit",{nickname:s.value.trim(),email:i.value.trim(),password:r.value})},d=()=>{a.value=""};return t({setError:f=>{a.value=f},setLoading:f=>{l.value=f},reset:()=>{s.value="",i.value="",r.value="",o.value="",a.value="",l.value=!1}}),(f,p)=>{const m=wf,y=Ef,b=If;return B(),Y("form",{class:"auth-form",onSubmit:Va(h,["prevent"])},[mt(m,{modelValue:s.value,"onUpdate:modelValue":p[0]||(p[0]=E=>s.value=E),type:"text",placeholder:"Nickname",autocomplete:"username",maxlength:20,onInput:d},null,8,["modelValue"]),mt(m,{modelValue:i.value,"onUpdate:modelValue":p[1]||(p[1]=E=>i.value=E),type:"email",placeholder:"Email",autocomplete:"email",onInput:d},null,8,["modelValue"]),mt(m,{modelValue:r.value,"onUpdate:modelValue":p[2]||(p[2]=E=>r.value=E),type:"password",placeholder:"Password (min. 6 caratteri)",autocomplete:"new-password",onInput:d},null,8,["modelValue"]),mt(m,{modelValue:o.value,"onUpdate:modelValue":p[3]||(p[3]=E=>o.value=E),type:"password",placeholder:"Conferma Password",autocomplete:"new-password",onInput:d},null,8,["modelValue"]),mt(y,{message:a.value,visible:!!a.value},null,8,["message","visible"]),mt(b,{type:"submit",variant:"primary",loading:l.value},{default:Ve(()=>[...p[4]||(p[4]=[Vt(" REGISTRATI ",-1)])]),_:1},8,["loading"])],32)}}}),CC=Object.assign(re(kC,[["__scopeId","data-v-cea70857"]]),{__name:"AuthRegisterForm"}),xC={class:"reset-form"},RC={key:0,class:"reset-success"},PC=Ht({__name:"ResetPasswordForm",emits:["submit","back"],setup(e,{expose:t,emit:n}){const s=ut(""),i=ut(""),r=ut(!1),o=ut(!1),a=n,l=()=>{if(i.value="",!s.value.trim()){i.value="Inserisci la tua email.";return}a("submit",s.value.trim())},c=()=>{i.value=""};return t({setError:h=>{i.value=h},setLoading:h=>{o.value=h},setSuccess:h=>{r.value=h},reset:()=>{s.value="",i.value="",r.value=!1,o.value=!1}}),(h,d)=>{const f=If,p=wf,m=Ef;return B(),Y("div",xC,[r.value?(B(),Y("div",RC,[d[4]||(d[4]=v("span",{class:"reset-success__icon"},"",-1)),d[5]||(d[5]=v("p",{class:"reset-success__text"}," Email inviata! Controlla la tua casella di posta (anche spam). ",-1)),mt(f,{variant:"link",onClick:d[0]||(d[0]=y=>a("back"))},{default:Ve(()=>[...d[3]||(d[3]=[Vt("  Torna al login ",-1)])]),_:1})])):(B(),Y("form",{key:1,class:"auth-form",onSubmit:Va(l,["prevent"])},[d[8]||(d[8]=v("h3",{class:"reset-form__title"},"Recupera Password",-1)),d[9]||(d[9]=v("p",{class:"reset-form__description"},[Vt(" Inserisci la tua email. Ti invieremo un link per reimpostare la password. "),v("br"),v("small",null,"Controlla anche la cartella spam.")],-1)),mt(p,{modelValue:s.value,"onUpdate:modelValue":d[1]||(d[1]=y=>s.value=y),type:"email",placeholder:"Email",autocomplete:"email",onInput:c},null,8,["modelValue"]),mt(m,{message:i.value,visible:!!i.value},null,8,["message","visible"]),mt(f,{type:"submit",variant:"primary",loading:o.value},{default:Ve(()=>[...d[6]||(d[6]=[Vt(" INVIA LINK ",-1)])]),_:1},8,["loading"]),mt(f,{variant:"link",onClick:d[2]||(d[2]=y=>a("back"))},{default:Ve(()=>[...d[7]||(d[7]=[Vt("  Torna al login ",-1)])]),_:1})],32))])}}}),OC=Object.assign(re(PC,[["__scopeId","data-v-17ef1ec5"]]),{__name:"AuthResetPasswordForm"}),MC=()=>{};var Tm={};const h0=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let i=e.charCodeAt(s);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},DC=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const i=e[n++];if(i<128)t[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=e[n++];t[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;t[s++]=String.fromCharCode(55296+(l>>10)),t[s++]=String.fromCharCode(56320+(l&1023))}else{const r=e[n++],o=e[n++];t[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return t.join("")},d0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<e.length;i+=3){const r=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,c=l?e[i+2]:0,h=r>>2,d=(r&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),s.push(n[h],n[d],n[f],n[p])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(h0(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):DC(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<e.length;){const r=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const c=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,r==null||a==null||c==null||d==null)throw new LC;const f=r<<2|a>>4;if(s.push(f),c!==64){const p=a<<4&240|c>>2;if(s.push(p),d!==64){const m=c<<6&192|d;s.push(m)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class LC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NC=function(e){const t=h0(e);return d0.encodeByteArray(t,!0)},pc=function(e){return NC(e).replace(/\./g,"")},f0=function(e){try{return d0.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function VC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const FC=()=>VC().__FIREBASE_DEFAULTS__,UC=()=>{if(typeof process>"u"||typeof Tm>"u")return;const e=Tm.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},$C=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&f0(e[1]);return t&&JSON.parse(t)},su=()=>{try{return MC()||FC()||UC()||$C()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},p0=e=>su()?.emulatorHosts?.[e],BC=e=>{const t=p0(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},g0=()=>su()?.config,m0=e=>su()?.[`_${e}`];class HC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function no(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _0(e){return(await fetch(e,{credentials:"include"})).ok}function jC(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",i=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...e};return[pc(JSON.stringify(n)),pc(JSON.stringify(o)),""].join(".")}const Yo={};function zC(){const e={prod:[],emulator:[]};for(const t of Object.keys(Yo))Yo[t]?e.emulator.push(t):e.prod.push(t);return e}function WC(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let wm=!1;function y0(e,t){if(typeof window>"u"||typeof document>"u"||!no(window.location.host)||Yo[e]===t||Yo[e]||wm)return;Yo[e]=t;function n(f){return`__firebase__banner__${f}`}const s="__firebase__banner",r=zC().prod.length>0;function o(){const f=document.getElementById(s);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{wm=!0,o()},f}function h(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=WC(s),p=n("text"),m=document.getElementById(p)||document.createElement("span"),y=n("learnmore"),b=document.getElementById(y)||document.createElement("a"),E=n("preprendIcon"),L=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const S=f.element;a(S),h(b,y);const O=c();l(L,E),S.append(L,m,b,O),document.body.appendChild(S)}r?(m.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qe())}function GC(){const e=su()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QC(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function YC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XC(){const e=qe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function JC(){return!GC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZC(){try{return typeof indexedDB=="object"}catch{return!1}}function tx(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(n){t(n)}})}const ex="FirebaseError";class Ss extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=ex,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fa.prototype.create)}}class Fa{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},i=`${this.service}/${t}`,r=this.errors[t],o=r?nx(r,s):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ss(i,a,s)}}function nx(e,t){return e.replace(sx,(n,s)=>{const i=t[s];return i!=null?String(i):`<${s}?>`})}const sx=/\{\$([^}]+)}/g;function ix(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ji(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const i of n){if(!s.includes(i))return!1;const r=e[i],o=t[i];if(Em(r)&&Em(o)){if(!ji(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function Em(e){return e!==null&&typeof e=="object"}function Ua(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Lo(e){const t={};return e.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,r]=s.split("=");t[decodeURIComponent(i)]=decodeURIComponent(r)}}),t}function No(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function rx(e,t){const n=new ox(e,t);return n.subscribe.bind(n)}class ox{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let i;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");ax(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:s},i.next===void 0&&(i.next=fh),i.error===void 0&&(i.error=fh),i.complete===void 0&&(i.complete=fh);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ax(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function fh(){}function xe(e){return e&&e._delegate?e._delegate:e}class zi{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ci="[DEFAULT]";class lx{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new HC;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ux(t))try{this.getOrInitializeService({instanceIdentifier:Ci})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(t=Ci){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ci){return this.instances.has(t)}getOptions(t=Ci){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);s===a&&o.resolve(i)}return i}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(s)??new Set;i.add(t),this.onInitCallbacks.set(s,i);const r=this.instances.get(s);return r&&t(r,s),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:cx(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ci){return this.component?this.component.multipleInstances?t:Ci:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cx(e){return e===Ci?void 0:e}function ux(e){return e.instantiationMode==="EAGER"}class hx{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new lx(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var kt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(kt||(kt={}));const dx={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},fx=kt.INFO,px={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},gx=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),i=px[t];if(i)console[i](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Sf{constructor(t){this.name=t,this._logLevel=fx,this._logHandler=gx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?dx[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const mx=(e,t)=>t.some(n=>e instanceof n);let Im,Sm;function _x(){return Im||(Im=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yx(){return Sm||(Sm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const v0=new WeakMap,rd=new WeakMap,b0=new WeakMap,ph=new WeakMap,Af=new WeakMap;function vx(e){const t=new Promise((n,s)=>{const i=()=>{e.removeEventListener("success",r),e.removeEventListener("error",o)},r=()=>{n(Qs(e.result)),i()},o=()=>{s(e.error),i()};e.addEventListener("success",r),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&v0.set(n,e)}).catch(()=>{}),Af.set(t,e),t}function bx(e){if(rd.has(e))return;const t=new Promise((n,s)=>{const i=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",o),e.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",r),e.addEventListener("error",o),e.addEventListener("abort",o)});rd.set(e,t)}let od={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return rd.get(e);if(t==="objectStoreNames")return e.objectStoreNames||b0.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qs(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Tx(e){od=e(od)}function wx(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(gh(this),t,...n);return b0.set(s,t.sort?t.sort():[t]),Qs(s)}:yx().includes(e)?function(...t){return e.apply(gh(this),t),Qs(v0.get(this))}:function(...t){return Qs(e.apply(gh(this),t))}}function Ex(e){return typeof e=="function"?wx(e):(e instanceof IDBTransaction&&bx(e),mx(e,_x())?new Proxy(e,od):e)}function Qs(e){if(e instanceof IDBRequest)return vx(e);if(ph.has(e))return ph.get(e);const t=Ex(e);return t!==e&&(ph.set(e,t),Af.set(t,e)),t}const gh=e=>Af.get(e);function Ix(e,t,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(e,t),a=Qs(o);return s&&o.addEventListener("upgradeneeded",l=>{s(Qs(o.result),l.oldVersion,l.newVersion,Qs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Sx=["get","getKey","getAll","getAllKeys","count"],Ax=["put","add","delete","clear"],mh=new Map;function Am(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(mh.get(t))return mh.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,i=Ax.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||Sx.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return mh.set(t,r),r}Tx(e=>({...e,get:(t,n,s)=>Am(t,n)||e.get(t,n,s),has:(t,n)=>!!Am(t,n)||e.has(t,n)}));class kx{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Cx(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Cx(e){return e.getComponent()?.type==="VERSION"}const ad="@firebase/app",km="0.14.6";const vs=new Sf("@firebase/app"),xx="@firebase/app-compat",Rx="@firebase/analytics-compat",Px="@firebase/analytics",Ox="@firebase/app-check-compat",Mx="@firebase/app-check",Dx="@firebase/auth",Lx="@firebase/auth-compat",Nx="@firebase/database",Vx="@firebase/data-connect",Fx="@firebase/database-compat",Ux="@firebase/functions",$x="@firebase/functions-compat",Bx="@firebase/installations",Hx="@firebase/installations-compat",jx="@firebase/messaging",zx="@firebase/messaging-compat",Wx="@firebase/performance",qx="@firebase/performance-compat",Gx="@firebase/remote-config",Kx="@firebase/remote-config-compat",Qx="@firebase/storage",Yx="@firebase/storage-compat",Xx="@firebase/firestore",Jx="@firebase/ai",Zx="@firebase/firestore-compat",tR="firebase",eR="12.6.0";const ld="[DEFAULT]",nR={[ad]:"fire-core",[xx]:"fire-core-compat",[Px]:"fire-analytics",[Rx]:"fire-analytics-compat",[Mx]:"fire-app-check",[Ox]:"fire-app-check-compat",[Dx]:"fire-auth",[Lx]:"fire-auth-compat",[Nx]:"fire-rtdb",[Vx]:"fire-data-connect",[Fx]:"fire-rtdb-compat",[Ux]:"fire-fn",[$x]:"fire-fn-compat",[Bx]:"fire-iid",[Hx]:"fire-iid-compat",[jx]:"fire-fcm",[zx]:"fire-fcm-compat",[Wx]:"fire-perf",[qx]:"fire-perf-compat",[Gx]:"fire-rc",[Kx]:"fire-rc-compat",[Qx]:"fire-gcs",[Yx]:"fire-gcs-compat",[Xx]:"fire-fst",[Zx]:"fire-fst-compat",[Jx]:"fire-vertex","fire-js":"fire-js",[tR]:"fire-js-all"};const ma=new Map,sR=new Map,cd=new Map;function Cm(e,t){try{e.container.addComponent(t)}catch(n){vs.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ur(e){const t=e.name;if(cd.has(t))return vs.debug(`There were multiple attempts to register component ${t}.`),!1;cd.set(t,e);for(const n of ma.values())Cm(n,e);for(const n of sR.values())Cm(n,e);return!0}function kf(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function mn(e){return e==null?!1:e.settings!==void 0}const iR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ys=new Fa("app","Firebase",iR);class rR{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ys.create("app-deleted",{appName:this._name})}}const so=eR;function T0(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:ld,automaticDataCollectionEnabled:!0,...t},i=s.name;if(typeof i!="string"||!i)throw Ys.create("bad-app-name",{appName:String(i)});if(n||(n=g0()),!n)throw Ys.create("no-options");const r=ma.get(i);if(r){if(ji(n,r.options)&&ji(s,r.config))return r;throw Ys.create("duplicate-app",{appName:i})}const o=new hx(i);for(const l of cd.values())o.addComponent(l);const a=new rR(n,s,o);return ma.set(i,a),a}function w0(e=ld){const t=ma.get(e);if(!t&&e===ld&&g0())return T0();if(!t)throw Ys.create("no-app",{appName:e});return t}function xm(){return Array.from(ma.values())}function Xs(e,t,n){let s=nR[e]??e;n&&(s+=`-${n}`);const i=s.match(/\s|\//),r=t.match(/\s|\//);if(i||r){const o=[`Unable to register library "${s}" with version "${t}":`];i&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&r&&o.push("and"),r&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),vs.warn(o.join(" "));return}Ur(new zi(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const oR="firebase-heartbeat-database",aR=1,_a="firebase-heartbeat-store";let _h=null;function E0(){return _h||(_h=Ix(oR,aR,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(_a)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ys.create("idb-open",{originalErrorMessage:e.message})})),_h}async function lR(e){try{const n=(await E0()).transaction(_a),s=await n.objectStore(_a).get(I0(e));return await n.done,s}catch(t){if(t instanceof Ss)vs.warn(t.message);else{const n=Ys.create("idb-get",{originalErrorMessage:t?.message});vs.warn(n.message)}}}async function Rm(e,t){try{const s=(await E0()).transaction(_a,"readwrite");await s.objectStore(_a).put(t,I0(e)),await s.done}catch(n){if(n instanceof Ss)vs.warn(n.message);else{const s=Ys.create("idb-set",{originalErrorMessage:n?.message});vs.warn(s.message)}}}function I0(e){return`${e.name}!${e.options.appId}`}const cR=1024,uR=30;class hR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Pm();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>uR){const i=pR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){vs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Pm(),{heartbeatsToSend:n,unsentEntries:s}=dR(this._heartbeatsCache.heartbeats),i=pc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return vs.warn(t),""}}}function Pm(){return new Date().toISOString().substring(0,10)}function dR(e,t=cR){const n=[];let s=e.slice();for(const i of e){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),Om(n)>t){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Om(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class fR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZC()?tx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Rm(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Rm(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Om(e){return pc(JSON.stringify({version:2,heartbeats:e})).length}function pR(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}function gR(e){Ur(new zi("platform-logger",t=>new kx(t),"PRIVATE")),Ur(new zi("heartbeat",t=>new hR(t),"PRIVATE")),Xs(ad,km,e),Xs(ad,km,"esm2020"),Xs("fire-js","")}gR("");function S0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mR=S0,A0=new Fa("auth","Firebase",S0());const gc=new Sf("@firebase/auth");function _R(e,...t){gc.logLevel<=kt.WARN&&gc.warn(`Auth (${so}): ${e}`,...t)}function jl(e,...t){gc.logLevel<=kt.ERROR&&gc.error(`Auth (${so}): ${e}`,...t)}function Dn(e,...t){throw Cf(e,...t)}function qn(e,...t){return Cf(e,...t)}function k0(e,t,n){const s={...mR(),[t]:n};return new Fa("auth","Firebase",s).create(t,{appName:e.name})}function ms(e){return k0(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cf(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return A0.create(e,...t)}function _t(e,t,...n){if(!e)throw Cf(t,...n)}function fs(e){const t="INTERNAL ASSERTION FAILED: "+e;throw jl(t),new Error(t)}function bs(e,t){e||fs(t)}function ud(){return typeof self<"u"&&self.location?.href||""}function yR(){return Mm()==="http:"||Mm()==="https:"}function Mm(){return typeof self<"u"&&self.location?.protocol||null}function vR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yR()||QC()||"connection"in navigator)?navigator.onLine:!0}function bR(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}class $a{constructor(t,n){this.shortDelay=t,this.longDelay=n,bs(n>t,"Short delay should be less than long delay!"),this.isMobile=qC()||YC()}get(){return vR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xf(e,t){bs(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class C0{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const TR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const wR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ER=new $a(3e4,6e4);function As(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function ts(e,t,n,s,i={}){return x0(e,i,async()=>{let r={},o={};s&&(t==="GET"?o=s:r={body:JSON.stringify(s)});const a=Ua({key:e.config.apiKey,...o}).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c={method:t,headers:l,...r};return KC()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&no(e.emulatorConfig.host)&&(c.credentials="include"),C0.fetch()(await R0(e,e.config.apiHost,n,a),c)})}async function x0(e,t,n){e._canInitEmulator=!1;const s={...TR,...t};try{const i=new SR(e),r=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw vl(e,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw vl(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw vl(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw vl(e,"user-disabled",o);const h=s[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw k0(e,h,c);Dn(e,h)}}catch(i){if(i instanceof Ss)throw i;Dn(e,"network-request-failed",{message:String(i)})}}async function Ba(e,t,n,s,i={}){const r=await ts(e,t,n,s,i);return"mfaPendingCredential"in r&&Dn(e,"multi-factor-auth-required",{_serverResponse:r}),r}async function R0(e,t,n,s){const i=`${t}${n}?${s}`,r=e,o=r.config.emulator?xf(e.config,i):`${e.config.apiScheme}://${i}`;return wR.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(o).toString():o}function IR(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class SR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(qn(this.auth,"network-request-failed")),ER.get())})}}function vl(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=qn(e,t,s);return i.customData._tokenResponse=n,i}function Dm(e){return e!==void 0&&e.enterprise!==void 0}class AR{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return IR(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kR(e,t){return ts(e,"GET","/v2/recaptchaConfig",As(e,t))}async function CR(e,t){return ts(e,"POST","/v1/accounts:delete",t)}async function mc(e,t){return ts(e,"POST","/v1/accounts:lookup",t)}function Xo(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function xR(e,t=!1){const n=xe(e),s=await n.getIdToken(t),i=Rf(s);_t(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,o=r?.sign_in_provider;return{claims:i,token:s,authTime:Xo(yh(i.auth_time)),issuedAtTime:Xo(yh(i.iat)),expirationTime:Xo(yh(i.exp)),signInProvider:o||null,signInSecondFactor:r?.sign_in_second_factor||null}}function yh(e){return Number(e)*1e3}function Rf(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return jl("JWT malformed, contained fewer than 3 sections"),null;try{const i=f0(n);return i?JSON.parse(i):(jl("Failed to decode base64 JWT payload"),null)}catch(i){return jl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Lm(e){const t=Rf(e);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function $r(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Ss&&RR(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function RR({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}class PR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class hd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xo(this.lastLoginAt),this.creationTime=Xo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _c(e){const t=e.auth,n=await e.getIdToken(),s=await $r(e,mc(t,{idToken:n}));_t(s?.users.length,t,"internal-error");const i=s.users[0];e._notifyReloadListener(i);const r=i.providerUserInfo?.length?P0(i.providerUserInfo):[],o=MR(e.providerData,r),a=e.isAnonymous,l=!(e.email&&i.passwordHash)&&!o?.length,c=a?l:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new hd(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(e,h)}async function OR(e){const t=xe(e);await _c(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function MR(e,t){return[...e.filter(s=>!t.some(i=>i.providerId===s.providerId)),...t]}function P0(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function DR(e,t){const n=await x0(e,{},async()=>{const s=Ua({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:r}=e.config,o=await R0(e,i,"/v1/token",`key=${r}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:s};return e.emulatorConfig&&no(e.emulatorConfig.host)&&(l.credentials="include"),C0.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function LR(e,t){return ts(e,"POST","/v2/accounts:revokeToken",As(e,t))}class Cr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Lm(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const n=Lm(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:i,expiresIn:r}=await DR(t,n);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:i,expirationTime:r}=n,o=new Cr;return s&&(_t(typeof s=="string","internal-error",{appName:t}),o.refreshToken=s),i&&(_t(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),r&&(_t(typeof r=="number","internal-error",{appName:t}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Cr,this.toJSON())}_performRefresh(){return fs("not implemented")}}function Ls(e,t){_t(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class En{constructor({uid:t,auth:n,stsTokenManager:s,...i}){this.providerId="firebase",this.proactiveRefresh=new PR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new hd(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const n=await $r(this,this.stsTokenManager.getToken(this.auth,t));return _t(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return xR(this,t)}reload(){return OR(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new En({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await _c(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mn(this.auth.app))return Promise.reject(ms(this.auth));const t=await this.getIdToken();return await $r(this,CR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,i=n.email??void 0,r=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:d,emailVerified:f,isAnonymous:p,providerData:m,stsTokenManager:y}=n;_t(d&&y,t,"internal-error");const b=Cr.fromJSON(this.name,y);_t(typeof d=="string",t,"internal-error"),Ls(s,t.name),Ls(i,t.name),_t(typeof f=="boolean",t,"internal-error"),_t(typeof p=="boolean",t,"internal-error"),Ls(r,t.name),Ls(o,t.name),Ls(a,t.name),Ls(l,t.name),Ls(c,t.name),Ls(h,t.name);const E=new En({uid:d,auth:t,email:i,emailVerified:f,displayName:s,isAnonymous:p,photoURL:o,phoneNumber:r,tenantId:a,stsTokenManager:b,createdAt:c,lastLoginAt:h});return m&&Array.isArray(m)&&(E.providerData=m.map(L=>({...L}))),l&&(E._redirectEventId=l),E}static async _fromIdTokenResponse(t,n,s=!1){const i=new Cr;i.updateFromServerResponse(n);const r=new En({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:s});return await _c(r),r}static async _fromGetAccountInfoResponse(t,n,s){const i=n.users[0];_t(i.localId!==void 0,"internal-error");const r=i.providerUserInfo!==void 0?P0(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!r?.length,a=new Cr;a.updateFromIdToken(s);const l=new En({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new hd(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!r?.length};return Object.assign(l,c),l}}const Nm=new Map;function ps(e){bs(e instanceof Function,"Expected a class definition");let t=Nm.get(e);return t?(bs(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Nm.set(e,t),t)}class O0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}O0.type="NONE";const Vm=O0;function zl(e,t,n){return`firebase:${e}:${t}:${n}`}class xr{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=zl(this.userKey,i.apiKey,r),this.fullPersistenceKey=zl("persistence",i.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await mc(this.auth,{idToken:t}).catch(()=>{});return n?En._fromGetAccountInfoResponse(this.auth,n,t):null}return En._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new xr(ps(Vm),t,s);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=i[0]||ps(Vm);const o=zl(s,t.config.apiKey,t.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){let d;if(typeof h=="string"){const f=await mc(t,{idToken:h}).catch(()=>{});if(!f)break;d=await En._fromGetAccountInfoResponse(t,f,h)}else d=En._fromJSON(t,h);c!==r&&(a=d),r=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new xr(r,t,s):(r=l[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(o)}catch{}})),new xr(r,t,s))}}function Fm(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(N0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(M0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(F0(t))return"Blackberry";if(U0(t))return"Webos";if(D0(t))return"Safari";if((t.includes("chrome/")||L0(t))&&!t.includes("edge/"))return"Chrome";if(V0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if(s?.length===2)return s[1]}return"Other"}function M0(e=qe()){return/firefox\//i.test(e)}function D0(e=qe()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function L0(e=qe()){return/crios\//i.test(e)}function N0(e=qe()){return/iemobile/i.test(e)}function V0(e=qe()){return/android/i.test(e)}function F0(e=qe()){return/blackberry/i.test(e)}function U0(e=qe()){return/webos/i.test(e)}function Pf(e=qe()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function NR(e=qe()){return Pf(e)&&!!window.navigator?.standalone}function VR(){return XC()&&document.documentMode===10}function $0(e=qe()){return Pf(e)||V0(e)||U0(e)||F0(e)||/windows phone/i.test(e)||N0(e)}function B0(e,t=[]){let n;switch(e){case"Browser":n=Fm(qe());break;case"Worker":n=`${Fm(qe())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${so}/${s}`}class FR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=r=>new Promise((o,a)=>{try{const l=t(r);o(l)}catch(l){a(l)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function UR(e,t={}){return ts(e,"GET","/v2/passwordPolicy",As(e,t))}const $R=6;class BR{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$R,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let i=0;i<t.length;i++)s=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,i,r){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=r))}}class HR{constructor(t,n,s,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Um(this),this.idTokenSubscription=new Um(this),this.beforeStateQueue=new FR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=A0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ps(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await xr.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await mc(this,{idToken:t}),s=await En._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(mn(this.app)){const r=this.app.settings.authIdToken;return r?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(r).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=this.redirectUser?._redirectEventId,o=s?._redirectEventId,a=await this.tryRedirectSignIn(t);(!r||r===o)&&a?.user&&(s=a.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(r){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(r))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await _c(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=bR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(mn(this.app))return Promise.reject(ms(this));const n=t?xe(t):null;return n&&_t(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return mn(this.app)?Promise.reject(ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return mn(this.app)?Promise.reject(ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ps(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await UR(this),n=new BR(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Fa("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await LR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ps(t)||this._popupRedirectResolver;_t(n,this,"argument-error"),this.redirectPersistenceManager=await xr.create(this,[ps(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,i){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(a,this,"internal-error"),a.then(()=>{o||r(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,s,i);return()=>{o=!0,l()}}else{const l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=B0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&_R(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ji(e){return xe(e)}class Um{constructor(t){this.auth=t,this.observer=null,this.addObserver=rx(n=>this.observer=n)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let iu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jR(e){iu=e}function H0(e){return iu.loadJS(e)}function zR(){return iu.recaptchaEnterpriseScript}function WR(){return iu.gapiScript}function qR(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class GR{constructor(){this.enterprise=new KR}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class KR{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const QR="recaptcha-enterprise",j0="NO_RECAPTCHA";class YR{constructor(t){this.type=QR,this.auth=Ji(t)}async verify(t="verify",n=!1){async function s(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,a)=>{kR(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new AR(l);return r.tenantId==null?r._agentRecaptchaConfig=c:r._tenantRecaptchaConfigs[r.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(r,o,a){const l=window.grecaptcha;Dm(l)?l.enterprise.ready(()=>{l.enterprise.execute(r,{action:t}).then(c=>{o(c)}).catch(()=>{o(j0)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new GR().execute("siteKey",{action:"verify"}):new Promise((r,o)=>{s(this.auth).then(a=>{if(!n&&Dm(window.grecaptcha))i(a,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=zR();l.length!==0&&(l+=a),H0(l).then(()=>{i(a,r,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function $m(e,t,n,s=!1,i=!1){const r=new YR(e);let o;if(i)o=j0;else try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const a={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return s?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function dd(e,t,n,s,i){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await $m(e,t,n,n==="getOobCode");return s(e,r)}else return s(e,t).catch(async r=>{if(r.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await $m(e,t,n,n==="getOobCode");return s(e,o)}else return Promise.reject(r)})}function XR(e,t){const n=kf(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),r=n.getOptions();if(ji(r,t??{}))return i;Dn(i,"already-initialized")}return n.initialize({options:t})}function JR(e,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ps);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function ZR(e,t,n){const s=Ji(e);_t(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const i=!1,r=z0(t),{host:o,port:a}=tP(t),l=a===null?"":`:${a}`,c={url:`${r}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!s._canInitEmulator){_t(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_t(ji(c,s.config.emulator)&&ji(h,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=c,s.emulatorConfig=h,s.settings.appVerificationDisabledForTesting=!0,no(o)?(_0(`${r}//${o}${l}`),y0("Auth",!0)):eP()}function z0(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function tP(e){const t=z0(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:Bm(s.substr(r.length+1))}}else{const[r,o]=s.split(":");return{host:r,port:Bm(o)}}}function Bm(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function eP(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}class Of{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return fs("not implemented")}_getIdTokenResponse(t){return fs("not implemented")}_linkToIdToken(t,n){return fs("not implemented")}_getReauthenticationResolver(t){return fs("not implemented")}}async function nP(e,t){return ts(e,"POST","/v1/accounts:signUp",t)}async function sP(e,t){return Ba(e,"POST","/v1/accounts:signInWithPassword",As(e,t))}async function iP(e,t){return ts(e,"POST","/v1/accounts:sendOobCode",As(e,t))}async function rP(e,t){return iP(e,t)}async function oP(e,t){return Ba(e,"POST","/v1/accounts:signInWithEmailLink",As(e,t))}async function aP(e,t){return Ba(e,"POST","/v1/accounts:signInWithEmailLink",As(e,t))}class ya extends Of{constructor(t,n,s,i=null){super("password",s),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new ya(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new ya(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dd(t,n,"signInWithPassword",sP);case"emailLink":return oP(t,{email:this._email,oobCode:this._password});default:Dn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dd(t,s,"signUpPassword",nP);case"emailLink":return aP(t,{idToken:n,email:this._email,oobCode:this._password});default:Dn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Rr(e,t){return Ba(e,"POST","/v1/accounts:signInWithIdp",As(e,t))}const lP="http://localhost";class Wi extends Of{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Wi(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Dn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:i,...r}=n;if(!s||!i)return null;const o=new Wi(s,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Rr(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Rr(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Rr(t,n)}buildRequest(){const t={requestUri:lP,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ua(n)}return t}}function cP(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uP(e){const t=Lo(No(e)).link,n=t?Lo(No(t)).deep_link_id:null,s=Lo(No(e)).deep_link_id;return(s?Lo(No(s)).link:null)||s||n||t||e}class Mf{constructor(t){const n=Lo(No(t)),s=n.apiKey??null,i=n.oobCode??null,r=cP(n.mode??null);_t(s&&i&&r,"argument-error"),this.apiKey=s,this.operation=r,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=uP(t);try{return new Mf(n)}catch{return null}}}class io{constructor(){this.providerId=io.PROVIDER_ID}static credential(t,n){return ya._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Mf.parseLink(n);return _t(s,"argument-error"),ya._fromEmailAndCode(t,s.code,s.tenantId)}}io.PROVIDER_ID="password";io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class W0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ha extends W0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class $s extends Ha{constructor(){super("facebook.com")}static credential(t){return Wi._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return $s.credentialFromTaggedObject(t)}static credentialFromError(t){return $s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return $s.credential(t.oauthAccessToken)}catch{return null}}}$s.FACEBOOK_SIGN_IN_METHOD="facebook.com";$s.PROVIDER_ID="facebook.com";class Bs extends Ha{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Wi._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Bs.credential(n,s)}catch{return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com";Bs.PROVIDER_ID="google.com";class Hs extends Ha{constructor(){super("github.com")}static credential(t){return Wi._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hs.credential(t.oauthAccessToken)}catch{return null}}}Hs.GITHUB_SIGN_IN_METHOD="github.com";Hs.PROVIDER_ID="github.com";class js extends Ha{constructor(){super("twitter.com")}static credential(t,n){return Wi._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return js.credential(n,s)}catch{return null}}}js.TWITTER_SIGN_IN_METHOD="twitter.com";js.PROVIDER_ID="twitter.com";async function hP(e,t){return Ba(e,"POST","/v1/accounts:signUp",As(e,t))}class qi{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,i=!1){const r=await En._fromIdTokenResponse(t,s,i),o=Hm(s);return new qi({user:r,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const i=Hm(s);return new qi({user:t,providerId:i,_tokenResponse:s,operationType:n})}}function Hm(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class yc extends Ss{constructor(t,n,s,i){super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,yc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,i){return new yc(t,n,s,i)}}function q0(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?yc._fromErrorAndOperation(e,r,t,s):r})}async function dP(e,t,n=!1){const s=await $r(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return qi._forOperation(e,"link",s)}async function fP(e,t,n=!1){const{auth:s}=e;if(mn(s.app))return Promise.reject(ms(s));const i="reauthenticate";try{const r=await $r(e,q0(s,i,t,e),n);_t(r.idToken,s,"internal-error");const o=Rf(r.idToken);_t(o,s,"internal-error");const{sub:a}=o;return _t(e.uid===a,s,"user-mismatch"),qi._forOperation(e,i,r)}catch(r){throw r?.code==="auth/user-not-found"&&Dn(s,"user-mismatch"),r}}async function G0(e,t,n=!1){if(mn(e.app))return Promise.reject(ms(e));const s="signIn",i=await q0(e,s,t),r=await qi._fromIdTokenResponse(e,s,i);return n||await e._updateCurrentUser(r.user),r}async function pP(e,t){return G0(Ji(e),t)}async function K0(e){const t=Ji(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function gP(e,t,n){if(mn(e.app))return Promise.reject(ms(e));const s=Ji(e),o=await dd(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hP).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&K0(e),l}),a=await qi._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(a.user),a}function mP(e,t,n){return mn(e.app)?Promise.reject(ms(e)):pP(xe(e),io.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&K0(e),s})}async function jm(e,t){const n=xe(e),i={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()},{email:r}=await rP(n.auth,i);r!==e.email&&await e.reload()}async function _P(e,t){return ts(e,"POST","/v1/accounts:update",t)}async function yP(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const s=xe(e),r={idToken:await s.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=await $r(s,_P(s.auth,r));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const a=s.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=s.displayName,a.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function vP(e,t,n,s){return xe(e).onIdTokenChanged(t,n,s)}function bP(e,t,n){return xe(e).beforeAuthStateChanged(t,n)}function TP(e,t,n,s){return xe(e).onAuthStateChanged(t,n,s)}function wP(e){return xe(e).signOut()}const vc="__sak";class Q0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vc,"1"),this.storage.removeItem(vc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const EP=1e3,IP=10;class Y0 extends Q0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&t(n,i,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const s=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},r=this.storage.getItem(s);VR()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,IP):i()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},EP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Y0.type="LOCAL";const SP=Y0;class X0 extends Q0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}X0.type="SESSION";const J0=X0;function AP(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class ru{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const s=new ru(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:i,data:r}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,r)),l=await AP(a);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ru.receivers=[];function Df(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}class kP{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise((a,l)=>{const c=Df("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},s);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(h),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(f.data.response);break;default:clearTimeout(h),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function Gn(){return window}function CP(e){Gn().location.href=e}function Z0(){return typeof Gn().WorkerGlobalScope<"u"&&typeof Gn().importScripts=="function"}async function xP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RP(){return navigator?.serviceWorker?.controller||null}function PP(){return Z0()?self:null}const t1="firebaseLocalStorageDb",OP=1,bc="firebaseLocalStorage",e1="fbase_key";class ja{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ou(e,t){return e.transaction([bc],t?"readwrite":"readonly").objectStore(bc)}function MP(){const e=indexedDB.deleteDatabase(t1);return new ja(e).toPromise()}function fd(){const e=indexedDB.open(t1,OP);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(bc,{keyPath:e1})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(bc)?t(s):(s.close(),await MP(),t(await fd()))})})}async function zm(e,t,n){const s=ou(e,!0).put({[e1]:t,value:n});return new ja(s).toPromise()}async function DP(e,t){const n=ou(e,!1).get(t),s=await new ja(n).toPromise();return s===void 0?null:s.value}function Wm(e,t){const n=ou(e,!0).delete(t);return new ja(n).toPromise()}const LP=800,NP=3;class n1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>NP)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Z0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ru._getInstance(PP()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await xP(),!this.activeServiceWorker)return;this.sender=new kP(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||RP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await fd();return await zm(t,vc,"1"),await Wm(t,vc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>zm(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>DP(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Wm(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const r=ou(i,!1).getAll();return new ja(r).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:i,value:r}of t)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}n1.type="LOCAL";const VP=n1;new $a(3e4,6e4);function FP(e,t){return t?ps(t):(_t(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class Lf extends Of{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Rr(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Rr(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Rr(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function UP(e){return G0(e.auth,new Lf(e),e.bypassAuthState)}function $P(e){const{auth:t,user:n}=e;return _t(n,t,"internal-error"),fP(n,new Lf(e),e.bypassAuthState)}async function BP(e){const{auth:t,user:n}=e;return _t(n,t,"internal-error"),dP(n,new Lf(e),e.bypassAuthState)}class s1{constructor(t,n,s,i,r=!1){this.auth=t,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:i,tenantId:r,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return UP;case"linkViaPopup":case"linkViaRedirect":return BP;case"reauthViaPopup":case"reauthViaRedirect":return $P;default:Dn(this.auth,"internal-error")}}resolve(t){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const HP=new $a(2e3,1e4);class yr extends s1{constructor(t,n,s,i,r){super(t,n,i,r),this.provider=s,this.authWindow=null,this.pollId=null,yr.currentPopupAction&&yr.currentPopupAction.cancel(),yr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){bs(this.filter.length===1,"Popup operations only handle one event");const t=Df();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yr.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,HP.get())};t()}}yr.currentPopupAction=null;const jP="pendingRedirect",Wl=new Map;class zP extends s1{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Wl.get(this.auth._key());if(!t){try{const s=await WP(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Wl.set(this.auth._key(),t)}return this.bypassAuthState||Wl.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WP(e,t){const n=KP(t),s=GP(e);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function qP(e,t){Wl.set(e._key(),t)}function GP(e){return ps(e._redirectPersistence)}function KP(e){return zl(jP,e.config.apiKey,e.name)}async function QP(e,t,n=!1){if(mn(e.app))return Promise.reject(ms(e));const s=Ji(e),i=FP(s,t),o=await new zP(s,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,t)),o}const YP=600*1e3;class XP{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!JP(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!i1(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(qn(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=YP&&this.cachedEventUids.clear(),this.cachedEventUids.has(qm(t))}saveEventToCache(t){this.cachedEventUids.add(qm(t)),this.lastProcessedEventTime=Date.now()}}function qm(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function i1({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function JP(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return i1(e);default:return!1}}async function ZP(e,t={}){return ts(e,"GET","/v1/projects",t)}const t2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e2=/^https?/;async function n2(e){if(e.config.emulator)return;const{authorizedDomains:t}=await ZP(e);for(const n of t)try{if(s2(n))return}catch{}Dn(e,"unauthorized-domain")}function s2(e){const t=ud(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!e2.test(n))return!1;if(t2.test(e))return s===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}const i2=new $a(3e4,6e4);function Gm(){const e=Gn().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function r2(e){return new Promise((t,n)=>{function s(){Gm(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Gm(),n(qn(e,"network-request-failed"))},timeout:i2.get()})}if(Gn().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Gn().gapi?.load)s();else{const i=qR("iframefcb");return Gn()[i]=()=>{gapi.load?s():n(qn(e,"network-request-failed"))},H0(`${WR()}?onload=${i}`).catch(r=>n(r))}}).catch(t=>{throw ql=null,t})}let ql=null;function o2(e){return ql=ql||r2(e),ql}const a2=new $a(5e3,15e3),l2="__/auth/iframe",c2="emulator/auth/iframe",u2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},h2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function d2(e){const t=e.config;_t(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?xf(t,c2):`https://${e.config.authDomain}/${l2}`,s={apiKey:t.apiKey,appName:e.name,v:so},i=h2.get(e.config.apiHost);i&&(s.eid=i);const r=e._getFrameworks();return r.length&&(s.fw=r.join(",")),`${n}?${Ua(s).slice(1)}`}async function f2(e){const t=await o2(e),n=Gn().gapi;return _t(n,e,"internal-error"),t.open({where:document.body,url:d2(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:u2,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const o=qn(e,"network-request-failed"),a=Gn().setTimeout(()=>{r(o)},a2.get());function l(){Gn().clearTimeout(a),i(s)}s.ping(l).then(l,()=>{r(o)})}))}const p2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},g2=500,m2=600,_2="_blank",y2="http://localhost";class Km{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function v2(e,t,n,s=g2,i=m2){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let a="";const l={...p2,width:s.toString(),height:i.toString(),top:r,left:o},c=qe().toLowerCase();n&&(a=L0(c)?_2:n),M0(c)&&(t=t||y2,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[p,m])=>`${f}${p}=${m},`,"");if(NR(c)&&a!=="_self")return b2(t||"",a),new Km(null);const d=window.open(t||"",a,h);_t(d,e,"popup-blocked");try{d.focus()}catch{}return new Km(d)}function b2(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const T2="__/auth/handler",w2="emulator/auth/handler",E2=encodeURIComponent("fac");async function Qm(e,t,n,s,i,r){_t(e.config.authDomain,e,"auth-domain-config-required"),_t(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:so,eventId:i};if(t instanceof W0){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",ix(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(t instanceof Ha){const h=t.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await e._getAppCheckToken(),c=l?`#${E2}=${encodeURIComponent(l)}`:"";return`${I2(e)}?${Ua(a).slice(1)}${c}`}function I2({config:e}){return e.emulator?xf(e,w2):`https://${e.authDomain}/${T2}`}const vh="webStorageSupport";class S2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=J0,this._completeRedirectFn=QP,this._overrideRedirectResult=qP}async _openPopup(t,n,s,i){bs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const r=await Qm(t,n,s,ud(),i);return v2(t,r,Df())}async _openRedirect(t,n,s,i){await this._originValidation(t);const r=await Qm(t,n,s,ud(),i);return CP(r),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:r}=this.eventManagers[n];return i?Promise.resolve(i):(bs(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await f2(t),s=new XP(t);return n.register("authEvent",i=>(_t(i?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(vh,{type:vh},i=>{const r=i?.[0]?.[vh];r!==void 0&&n(!!r),Dn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=n2(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return $0()||D0()||Pf()}}const A2=S2;var Ym="@firebase/auth",Xm="1.12.0";class k2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function C2(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function x2(e){Ur(new zi("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),r=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=s.options;_t(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:B0(e)},c=new HR(s,i,r,l);return JR(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ur(new zi("auth-internal",t=>{const n=Ji(t.getProvider("auth").getImmediate());return(s=>new k2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xs(Ym,Xm,C2(e)),Xs(Ym,Xm,"esm2020")}const R2=300,P2=m0("authIdTokenMaxAge")||R2;let Jm=null;const O2=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>P2)return;const i=n?.token;Jm!==i&&(Jm=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function M2(e=w0()){const t=kf(e,"auth");if(t.isInitialized())return t.getImmediate();const n=XR(e,{popupRedirectResolver:A2,persistence:[VP,SP,J0]}),s=m0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(s,location.origin);if(location.origin===r.origin){const o=O2(r.toString());bP(n,o,()=>o(n.currentUser)),vP(n,a=>o(a))}}const i=p0("auth");return i&&ZR(n,`http://${i}`),n}function D2(){return document.getElementsByTagName("head")?.[0]??document}jR({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=i=>{const r=qn("internal-error");r.customData=i,n(r)},s.type="text/javascript",s.charset="UTF-8",D2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});x2("Browser");var Zm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Js,r1;(function(){var e;function t(k,T){function w(){}w.prototype=T.prototype,k.F=T.prototype,k.prototype=new w,k.prototype.constructor=k,k.D=function(C,R,P){for(var x=Array(arguments.length-2),st=2;st<arguments.length;st++)x[st-2]=arguments[st];return T.prototype[R].apply(C,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,T,w){w||(w=0);const C=Array(16);if(typeof T=="string")for(var R=0;R<16;++R)C[R]=T.charCodeAt(w++)|T.charCodeAt(w++)<<8|T.charCodeAt(w++)<<16|T.charCodeAt(w++)<<24;else for(R=0;R<16;++R)C[R]=T[w++]|T[w++]<<8|T[w++]<<16|T[w++]<<24;T=k.g[0],w=k.g[1],R=k.g[2];let P=k.g[3],x;x=T+(P^w&(R^P))+C[0]+3614090360&4294967295,T=w+(x<<7&4294967295|x>>>25),x=P+(R^T&(w^R))+C[1]+3905402710&4294967295,P=T+(x<<12&4294967295|x>>>20),x=R+(w^P&(T^w))+C[2]+606105819&4294967295,R=P+(x<<17&4294967295|x>>>15),x=w+(T^R&(P^T))+C[3]+3250441966&4294967295,w=R+(x<<22&4294967295|x>>>10),x=T+(P^w&(R^P))+C[4]+4118548399&4294967295,T=w+(x<<7&4294967295|x>>>25),x=P+(R^T&(w^R))+C[5]+1200080426&4294967295,P=T+(x<<12&4294967295|x>>>20),x=R+(w^P&(T^w))+C[6]+2821735955&4294967295,R=P+(x<<17&4294967295|x>>>15),x=w+(T^R&(P^T))+C[7]+4249261313&4294967295,w=R+(x<<22&4294967295|x>>>10),x=T+(P^w&(R^P))+C[8]+1770035416&4294967295,T=w+(x<<7&4294967295|x>>>25),x=P+(R^T&(w^R))+C[9]+2336552879&4294967295,P=T+(x<<12&4294967295|x>>>20),x=R+(w^P&(T^w))+C[10]+4294925233&4294967295,R=P+(x<<17&4294967295|x>>>15),x=w+(T^R&(P^T))+C[11]+2304563134&4294967295,w=R+(x<<22&4294967295|x>>>10),x=T+(P^w&(R^P))+C[12]+1804603682&4294967295,T=w+(x<<7&4294967295|x>>>25),x=P+(R^T&(w^R))+C[13]+4254626195&4294967295,P=T+(x<<12&4294967295|x>>>20),x=R+(w^P&(T^w))+C[14]+2792965006&4294967295,R=P+(x<<17&4294967295|x>>>15),x=w+(T^R&(P^T))+C[15]+1236535329&4294967295,w=R+(x<<22&4294967295|x>>>10),x=T+(R^P&(w^R))+C[1]+4129170786&4294967295,T=w+(x<<5&4294967295|x>>>27),x=P+(w^R&(T^w))+C[6]+3225465664&4294967295,P=T+(x<<9&4294967295|x>>>23),x=R+(T^w&(P^T))+C[11]+643717713&4294967295,R=P+(x<<14&4294967295|x>>>18),x=w+(P^T&(R^P))+C[0]+3921069994&4294967295,w=R+(x<<20&4294967295|x>>>12),x=T+(R^P&(w^R))+C[5]+3593408605&4294967295,T=w+(x<<5&4294967295|x>>>27),x=P+(w^R&(T^w))+C[10]+38016083&4294967295,P=T+(x<<9&4294967295|x>>>23),x=R+(T^w&(P^T))+C[15]+3634488961&4294967295,R=P+(x<<14&4294967295|x>>>18),x=w+(P^T&(R^P))+C[4]+3889429448&4294967295,w=R+(x<<20&4294967295|x>>>12),x=T+(R^P&(w^R))+C[9]+568446438&4294967295,T=w+(x<<5&4294967295|x>>>27),x=P+(w^R&(T^w))+C[14]+3275163606&4294967295,P=T+(x<<9&4294967295|x>>>23),x=R+(T^w&(P^T))+C[3]+4107603335&4294967295,R=P+(x<<14&4294967295|x>>>18),x=w+(P^T&(R^P))+C[8]+1163531501&4294967295,w=R+(x<<20&4294967295|x>>>12),x=T+(R^P&(w^R))+C[13]+2850285829&4294967295,T=w+(x<<5&4294967295|x>>>27),x=P+(w^R&(T^w))+C[2]+4243563512&4294967295,P=T+(x<<9&4294967295|x>>>23),x=R+(T^w&(P^T))+C[7]+1735328473&4294967295,R=P+(x<<14&4294967295|x>>>18),x=w+(P^T&(R^P))+C[12]+2368359562&4294967295,w=R+(x<<20&4294967295|x>>>12),x=T+(w^R^P)+C[5]+4294588738&4294967295,T=w+(x<<4&4294967295|x>>>28),x=P+(T^w^R)+C[8]+2272392833&4294967295,P=T+(x<<11&4294967295|x>>>21),x=R+(P^T^w)+C[11]+1839030562&4294967295,R=P+(x<<16&4294967295|x>>>16),x=w+(R^P^T)+C[14]+4259657740&4294967295,w=R+(x<<23&4294967295|x>>>9),x=T+(w^R^P)+C[1]+2763975236&4294967295,T=w+(x<<4&4294967295|x>>>28),x=P+(T^w^R)+C[4]+1272893353&4294967295,P=T+(x<<11&4294967295|x>>>21),x=R+(P^T^w)+C[7]+4139469664&4294967295,R=P+(x<<16&4294967295|x>>>16),x=w+(R^P^T)+C[10]+3200236656&4294967295,w=R+(x<<23&4294967295|x>>>9),x=T+(w^R^P)+C[13]+681279174&4294967295,T=w+(x<<4&4294967295|x>>>28),x=P+(T^w^R)+C[0]+3936430074&4294967295,P=T+(x<<11&4294967295|x>>>21),x=R+(P^T^w)+C[3]+3572445317&4294967295,R=P+(x<<16&4294967295|x>>>16),x=w+(R^P^T)+C[6]+76029189&4294967295,w=R+(x<<23&4294967295|x>>>9),x=T+(w^R^P)+C[9]+3654602809&4294967295,T=w+(x<<4&4294967295|x>>>28),x=P+(T^w^R)+C[12]+3873151461&4294967295,P=T+(x<<11&4294967295|x>>>21),x=R+(P^T^w)+C[15]+530742520&4294967295,R=P+(x<<16&4294967295|x>>>16),x=w+(R^P^T)+C[2]+3299628645&4294967295,w=R+(x<<23&4294967295|x>>>9),x=T+(R^(w|~P))+C[0]+4096336452&4294967295,T=w+(x<<6&4294967295|x>>>26),x=P+(w^(T|~R))+C[7]+1126891415&4294967295,P=T+(x<<10&4294967295|x>>>22),x=R+(T^(P|~w))+C[14]+2878612391&4294967295,R=P+(x<<15&4294967295|x>>>17),x=w+(P^(R|~T))+C[5]+4237533241&4294967295,w=R+(x<<21&4294967295|x>>>11),x=T+(R^(w|~P))+C[12]+1700485571&4294967295,T=w+(x<<6&4294967295|x>>>26),x=P+(w^(T|~R))+C[3]+2399980690&4294967295,P=T+(x<<10&4294967295|x>>>22),x=R+(T^(P|~w))+C[10]+4293915773&4294967295,R=P+(x<<15&4294967295|x>>>17),x=w+(P^(R|~T))+C[1]+2240044497&4294967295,w=R+(x<<21&4294967295|x>>>11),x=T+(R^(w|~P))+C[8]+1873313359&4294967295,T=w+(x<<6&4294967295|x>>>26),x=P+(w^(T|~R))+C[15]+4264355552&4294967295,P=T+(x<<10&4294967295|x>>>22),x=R+(T^(P|~w))+C[6]+2734768916&4294967295,R=P+(x<<15&4294967295|x>>>17),x=w+(P^(R|~T))+C[13]+1309151649&4294967295,w=R+(x<<21&4294967295|x>>>11),x=T+(R^(w|~P))+C[4]+4149444226&4294967295,T=w+(x<<6&4294967295|x>>>26),x=P+(w^(T|~R))+C[11]+3174756917&4294967295,P=T+(x<<10&4294967295|x>>>22),x=R+(T^(P|~w))+C[2]+718787259&4294967295,R=P+(x<<15&4294967295|x>>>17),x=w+(P^(R|~T))+C[9]+3951481745&4294967295,k.g[0]=k.g[0]+T&4294967295,k.g[1]=k.g[1]+(R+(x<<21&4294967295|x>>>11))&4294967295,k.g[2]=k.g[2]+R&4294967295,k.g[3]=k.g[3]+P&4294967295}s.prototype.v=function(k,T){T===void 0&&(T=k.length);const w=T-this.blockSize,C=this.C;let R=this.h,P=0;for(;P<T;){if(R==0)for(;P<=w;)i(this,k,P),P+=this.blockSize;if(typeof k=="string"){for(;P<T;)if(C[R++]=k.charCodeAt(P++),R==this.blockSize){i(this,C),R=0;break}}else for(;P<T;)if(C[R++]=k[P++],R==this.blockSize){i(this,C),R=0;break}}this.h=R,this.o+=T},s.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var T=1;T<k.length-8;++T)k[T]=0;T=this.o*8;for(var w=k.length-8;w<k.length;++w)k[w]=T&255,T/=256;for(this.v(k),k=Array(16),T=0,w=0;w<4;++w)for(let C=0;C<32;C+=8)k[T++]=this.g[w]>>>C&255;return k};function r(k,T){var w=a;return Object.prototype.hasOwnProperty.call(w,k)?w[k]:w[k]=T(k)}function o(k,T){this.h=T;const w=[];let C=!0;for(let R=k.length-1;R>=0;R--){const P=k[R]|0;C&&P==T||(w[R]=P,C=!1)}this.g=w}var a={};function l(k){return-128<=k&&k<128?r(k,function(T){return new o([T|0],T<0?-1:0)}):new o([k|0],k<0?-1:0)}function c(k){if(isNaN(k)||!isFinite(k))return d;if(k<0)return b(c(-k));const T=[];let w=1;for(let C=0;k>=w;C++)T[C]=k/w|0,w*=4294967296;return new o(T,0)}function h(k,T){if(k.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(k.charAt(0)=="-")return b(h(k.substring(1),T));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=c(Math.pow(T,8));let C=d;for(let P=0;P<k.length;P+=8){var R=Math.min(8,k.length-P);const x=parseInt(k.substring(P,P+R),T);R<8?(R=c(Math.pow(T,R)),C=C.j(R).add(c(x))):(C=C.j(w),C=C.add(c(x)))}return C}var d=l(0),f=l(1),p=l(16777216);e=o.prototype,e.m=function(){if(y(this))return-b(this).m();let k=0,T=1;for(let w=0;w<this.g.length;w++){const C=this.i(w);k+=(C>=0?C:4294967296+C)*T,T*=4294967296}return k},e.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(m(this))return"0";if(y(this))return"-"+b(this).toString(k);const T=c(Math.pow(k,6));var w=this;let C="";for(;;){const R=O(w,T).g;w=E(w,R.j(T));let P=((w.g.length>0?w.g[0]:w.h)>>>0).toString(k);if(w=R,m(w))return P+C;for(;P.length<6;)P="0"+P;C=P+C}},e.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function m(k){if(k.h!=0)return!1;for(let T=0;T<k.g.length;T++)if(k.g[T]!=0)return!1;return!0}function y(k){return k.h==-1}e.l=function(k){return k=E(this,k),y(k)?-1:m(k)?0:1};function b(k){const T=k.g.length,w=[];for(let C=0;C<T;C++)w[C]=~k.g[C];return new o(w,~k.h).add(f)}e.abs=function(){return y(this)?b(this):this},e.add=function(k){const T=Math.max(this.g.length,k.g.length),w=[];let C=0;for(let R=0;R<=T;R++){let P=C+(this.i(R)&65535)+(k.i(R)&65535),x=(P>>>16)+(this.i(R)>>>16)+(k.i(R)>>>16);C=x>>>16,P&=65535,x&=65535,w[R]=x<<16|P}return new o(w,w[w.length-1]&-2147483648?-1:0)};function E(k,T){return k.add(b(T))}e.j=function(k){if(m(this)||m(k))return d;if(y(this))return y(k)?b(this).j(b(k)):b(b(this).j(k));if(y(k))return b(this.j(b(k)));if(this.l(p)<0&&k.l(p)<0)return c(this.m()*k.m());const T=this.g.length+k.g.length,w=[];for(var C=0;C<2*T;C++)w[C]=0;for(C=0;C<this.g.length;C++)for(let R=0;R<k.g.length;R++){const P=this.i(C)>>>16,x=this.i(C)&65535,st=k.i(R)>>>16,ct=k.i(R)&65535;w[2*C+2*R]+=x*ct,L(w,2*C+2*R),w[2*C+2*R+1]+=P*ct,L(w,2*C+2*R+1),w[2*C+2*R+1]+=x*st,L(w,2*C+2*R+1),w[2*C+2*R+2]+=P*st,L(w,2*C+2*R+2)}for(k=0;k<T;k++)w[k]=w[2*k+1]<<16|w[2*k];for(k=T;k<2*T;k++)w[k]=0;return new o(w,0)};function L(k,T){for(;(k[T]&65535)!=k[T];)k[T+1]+=k[T]>>>16,k[T]&=65535,T++}function S(k,T){this.g=k,this.h=T}function O(k,T){if(m(T))throw Error("division by zero");if(m(k))return new S(d,d);if(y(k))return T=O(b(k),T),new S(b(T.g),b(T.h));if(y(T))return T=O(k,b(T)),new S(b(T.g),T.h);if(k.g.length>30){if(y(k)||y(T))throw Error("slowDivide_ only works with positive integers.");for(var w=f,C=T;C.l(k)<=0;)w=D(w),C=D(C);var R=F(w,1),P=F(C,1);for(C=F(C,2),w=F(w,2);!m(C);){var x=P.add(C);x.l(k)<=0&&(R=R.add(w),P=x),C=F(C,1),w=F(w,1)}return T=E(k,R.j(T)),new S(R,T)}for(R=d;k.l(T)>=0;){for(w=Math.max(1,Math.floor(k.m()/T.m())),C=Math.ceil(Math.log(w)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),P=c(w),x=P.j(T);y(x)||x.l(k)>0;)w-=C,P=c(w),x=P.j(T);m(P)&&(P=f),R=R.add(P),k=E(k,x)}return new S(R,k)}e.B=function(k){return O(this,k).h},e.and=function(k){const T=Math.max(this.g.length,k.g.length),w=[];for(let C=0;C<T;C++)w[C]=this.i(C)&k.i(C);return new o(w,this.h&k.h)},e.or=function(k){const T=Math.max(this.g.length,k.g.length),w=[];for(let C=0;C<T;C++)w[C]=this.i(C)|k.i(C);return new o(w,this.h|k.h)},e.xor=function(k){const T=Math.max(this.g.length,k.g.length),w=[];for(let C=0;C<T;C++)w[C]=this.i(C)^k.i(C);return new o(w,this.h^k.h)};function D(k){const T=k.g.length+1,w=[];for(let C=0;C<T;C++)w[C]=k.i(C)<<1|k.i(C-1)>>>31;return new o(w,k.h)}function F(k,T){const w=T>>5;T%=32;const C=k.g.length-w,R=[];for(let P=0;P<C;P++)R[P]=T>0?k.i(P+w)>>>T|k.i(P+w+1)<<32-T:k.i(P+w);return new o(R,k.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,r1=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Js=o}).apply(typeof Zm<"u"?Zm:typeof self<"u"?self:typeof window<"u"?window:{});var bl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var o1,Vo,a1,Gl,pd,l1,c1,u1;(function(){var e,t=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof bl=="object"&&bl];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function i(u,g){if(g)t:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var V=u[A];if(!(V in _))break t;_=_[V]}u=u[u.length-1],A=_[u],g=g(A),g!=A&&g!=null&&t(_,u,{configurable:!0,writable:!0,value:g})}}i("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(u){return u||function(g){var _=[],A;for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&_.push([A,g[A]]);return _}});var r=r||{},o=this||self;function a(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function l(u,g,_){return u.call.apply(u.bind,arguments)}function c(u,g,_){return c=l,c.apply(null,arguments)}function h(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function d(u,g){function _(){}_.prototype=g.prototype,u.Z=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(A,V,U){for(var et=Array(arguments.length-2),St=2;St<arguments.length;St++)et[St-2]=arguments[St];return g.prototype[V].apply(A,et)}}var f=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function p(u){const g=u.length;if(g>0){const _=Array(g);for(let A=0;A<g;A++)_[A]=u[A];return _}return[]}function m(u,g){for(let A=1;A<arguments.length;A++){const V=arguments[A];var _=typeof V;if(_=_!="object"?_:V?Array.isArray(V)?"array":_:"null",_=="array"||_=="object"&&typeof V.length=="number"){_=u.length||0;const U=V.length||0;u.length=_+U;for(let et=0;et<U;et++)u[_+et]=V[et]}else u.push(V)}}class y{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function b(u){o.setTimeout(()=>{throw u},0)}function E(){var u=k;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class L{constructor(){this.h=this.g=null}add(g,_){const A=S.get();A.set(g,_),this.h?this.h.next=A:this.g=A,this.h=A}}var S=new y(()=>new O,u=>u.reset());class O{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let D,F=!1,k=new L,T=()=>{const u=Promise.resolve(void 0);D=()=>{u.then(w)}};function w(){for(var u;u=E();){try{u.h.call(u.g)}catch(_){b(_)}var g=S;g.j(u),g.h<100&&(g.h++,u.next=g.g,g.g=u)}F=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};o.addEventListener("test",_,g),o.removeEventListener("test",_,g)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function st(u,g){R.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,g)}d(st,R),st.prototype.init=function(u,g){const _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget,g||(_=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement)),this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ct="closure_listenable_"+(Math.random()*1e6|0),nt=0;function lt(u,g,_,A,V){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!A,this.ha=V,this.key=++nt,this.da=this.fa=!1}function it(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Rt(u,g,_){for(const A in u)g.call(_,u[A],A,u)}function Fe(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function Ee(u){const g={};for(const _ in u)g[_]=u[_];return g}const Wt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(u,g){let _,A;for(let V=1;V<arguments.length;V++){A=arguments[V];for(_ in A)u[_]=A[_];for(let U=0;U<Wt.length;U++)_=Wt[U],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function Pe(u){this.src=u,this.g={},this.h=0}Pe.prototype.add=function(u,g,_,A,V){const U=u.toString();u=this.g[U],u||(u=this.g[U]=[],this.h++);const et=se(u,g,A,V);return et>-1?(g=u[et],_||(g.fa=!1)):(g=new lt(g,this.src,U,!!A,V),g.fa=_,u.push(g)),g};function oe(u,g){const _=g.type;if(_ in u.g){var A=u.g[_],V=Array.prototype.indexOf.call(A,g,void 0),U;(U=V>=0)&&Array.prototype.splice.call(A,V,1),U&&(it(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function se(u,g,_,A){for(let V=0;V<u.length;++V){const U=u[V];if(!U.da&&U.listener==g&&U.capture==!!_&&U.ha==A)return V}return-1}var sn="closure_lm_"+(Math.random()*1e6|0),wn={};function ks(u,g,_,A,V){if(Array.isArray(g)){for(let U=0;U<g.length;U++)ks(u,g[U],_,A,V);return null}return _=q(_),u&&u[ct]?u.J(g,_,a(A)?!!A.capture:!1,V):K(u,g,_,!1,A,V)}function K(u,g,_,A,V,U){if(!g)throw Error("Invalid event type");const et=a(V)?!!V.capture:!!V;let St=W(u);if(St||(u[sn]=St=new Pe(u)),_=St.add(g,_,A,et,U),_.proxy)return _;if(A=N(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)P||(V=et),V===void 0&&(V=!1),u.addEventListener(g.toString(),A,V);else if(u.attachEvent)u.attachEvent(M(g.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function N(){function u(_){return g.call(u.src,u.listener,_)}const g=$;return u}function dt(u,g,_,A,V){if(Array.isArray(g))for(var U=0;U<g.length;U++)dt(u,g[U],_,A,V);else A=a(A)?!!A.capture:!!A,_=q(_),u&&u[ct]?(u=u.i,U=String(g).toString(),U in u.g&&(g=u.g[U],_=se(g,_,A,V),_>-1&&(it(g[_]),Array.prototype.splice.call(g,_,1),g.length==0&&(delete u.g[U],u.h--)))):u&&(u=W(u))&&(g=u.g[g.toString()],u=-1,g&&(u=se(g,_,A,V)),(_=u>-1?g[u]:null)&&I(_))}function I(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[ct])oe(g.i,u);else{var _=u.type,A=u.proxy;g.removeEventListener?g.removeEventListener(_,A,u.capture):g.detachEvent?g.detachEvent(M(_),A):g.addListener&&g.removeListener&&g.removeListener(A),(_=W(g))?(oe(_,u),_.h==0&&(_.src=null,g[sn]=null)):it(u)}}}function M(u){return u in wn?wn[u]:wn[u]="on"+u}function $(u,g){if(u.da)u=!0;else{g=new st(g,this);const _=u.listener,A=u.ha||u.src;u.fa&&I(u),u=_.call(A,g)}return u}function W(u){return u=u[sn],u instanceof Pe?u:null}var z="__closure_events_fn_"+(Math.random()*1e9>>>0);function q(u){return typeof u=="function"?u:(u[z]||(u[z]=function(g){return u.handleEvent(g)}),u[z])}function Z(){C.call(this),this.i=new Pe(this),this.M=this,this.G=null}d(Z,C),Z.prototype[ct]=!0,Z.prototype.removeEventListener=function(u,g,_,A){dt(this,u,g,_,A)};function X(u,g){var _,A=u.G;if(A)for(_=[];A;A=A.G)_.push(A);if(u=u.M,A=g.type||g,typeof g=="string")g=new R(g,u);else if(g instanceof R)g.target=g.target||u;else{var V=g;g=new R(A,u),he(g,V)}V=!0;let U,et;if(_)for(et=_.length-1;et>=0;et--)U=g.g=_[et],V=tt(U,A,!0,g)&&V;if(U=g.g=u,V=tt(U,A,!0,g)&&V,V=tt(U,A,!1,g)&&V,_)for(et=0;et<_.length;et++)U=g.g=_[et],V=tt(U,A,!1,g)&&V}Z.prototype.N=function(){if(Z.Z.N.call(this),this.i){var u=this.i;for(const g in u.g){const _=u.g[g];for(let A=0;A<_.length;A++)it(_[A]);delete u.g[g],u.h--}}this.G=null},Z.prototype.J=function(u,g,_,A){return this.i.add(String(u),g,!1,_,A)},Z.prototype.K=function(u,g,_,A){return this.i.add(String(u),g,!0,_,A)};function tt(u,g,_,A){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();let V=!0;for(let U=0;U<g.length;++U){const et=g[U];if(et&&!et.da&&et.capture==_){const St=et.listener,_e=et.ha||et.src;et.fa&&oe(u.i,et),V=St.call(_e,A)!==!1&&V}}return V&&!A.defaultPrevented}function G(u,g){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=c(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:o.setTimeout(u,g||0)}function ft(u){u.g=G(()=>{u.g=null,u.i&&(u.i=!1,ft(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class rt extends C{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ft(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function J(u){C.call(this),this.h=u,this.g={}}d(J,C);var at=[];function It(u){Rt(u.g,function(g,_){this.g.hasOwnProperty(_)&&I(g)},u),u.g={}}J.prototype.N=function(){J.Z.N.call(this),It(this)},J.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nt=o.JSON.stringify,Lt=o.JSON.parse,Oe=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function ae(){}function Me(){}var me={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function es(){R.call(this,"d")}d(es,R);function sr(){R.call(this,"c")}d(sr,R);var le={},rn=null;function pi(){return rn=rn||new Z}le.Ia="serverreachability";function uo(u){R.call(this,le.Ia,u)}d(uo,R);function ho(u){const g=pi();X(g,new uo(g))}le.STAT_EVENT="statevent";function Ap(u,g){R.call(this,le.STAT_EVENT,u),this.stat=g}d(Ap,R);function Ke(u){const g=pi();X(g,new Ap(g,u))}le.Ja="timingevent";function kp(u,g){R.call(this,le.Ja,u),this.size=g}d(kp,R);function fo(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},g)}function po(){this.g=!0}po.prototype.ua=function(){this.g=!1};function Rw(u,g,_,A,V,U){u.info(function(){if(u.g)if(U){var et="",St=U.split("&");for(let jt=0;jt<St.length;jt++){var _e=St[jt].split("=");if(_e.length>1){const Ie=_e[0];_e=_e[1];const Nn=Ie.split("_");et=Nn.length>=2&&Nn[1]=="type"?et+(Ie+"="+_e+"&"):et+(Ie+"=redacted&")}}}else et=null;else et=U;return"XMLHTTP REQ ("+A+") [attempt "+V+"]: "+g+`
`+_+`
`+et})}function Pw(u,g,_,A,V,U,et){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+V+"]: "+g+`
`+_+`
`+U+" "+et})}function ir(u,g,_,A){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Mw(u,_)+(A?" "+A:"")})}function Ow(u,g){u.info(function(){return"TIMEOUT: "+g})}po.prototype.info=function(){};function Mw(u,g){if(!u.g)return g;if(!g)return null;try{const U=JSON.parse(g);if(U){for(u=0;u<U.length;u++)if(Array.isArray(U[u])){var _=U[u];if(!(_.length<2)){var A=_[1];if(Array.isArray(A)&&!(A.length<1)){var V=A[0];if(V!="noop"&&V!="stop"&&V!="close")for(let et=1;et<A.length;et++)A[et]=""}}}}return Nt(U)}catch{return g}}var Ja={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Cp={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xp;function Du(){}d(Du,ae),Du.prototype.g=function(){return new XMLHttpRequest},xp=new Du;function go(u){return encodeURIComponent(String(u))}function Dw(u){var g=1;u=u.split(":");const _=[];for(;g>0&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function Cs(u,g,_,A){this.j=u,this.i=g,this.l=_,this.S=A||1,this.V=new J(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Rp}function Rp(){this.i=null,this.g="",this.h=!1}var Pp={},Lu={};function Nu(u,g,_){u.M=1,u.A=tl(Ln(g)),u.u=_,u.R=!0,Op(u,null)}function Op(u,g){u.F=Date.now(),Za(u),u.B=Ln(u.A);var _=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),Wp(_.i,"t",A),u.C=0,_=u.j.L,u.h=new Rp,u.g=cg(u.j,_?g:null,!u.u),u.P>0&&(u.O=new rt(c(u.Y,u,u.g),u.P)),g=u.V,_=u.g,A=u.ba;var V="readystatechange";Array.isArray(V)||(V&&(at[0]=V.toString()),V=at);for(let U=0;U<V.length;U++){const et=ks(_,V[U],A||g.handleEvent,!1,g.h||g);if(!et)break;g.g[et.key]=et}g=u.J?Ee(u.J):{},u.u?(u.v||(u.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,g)):(u.v="GET",u.g.ea(u.B,u.v,null,g)),ho(),Rw(u.i,u.v,u.B,u.l,u.S,u.u)}Cs.prototype.ba=function(u){u=u.target;const g=this.O;g&&Ps(u)==3?g.j():this.Y(u)},Cs.prototype.Y=function(u){try{if(u==this.g)t:{const St=Ps(this.g),_e=this.g.ya(),jt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||Jp(this.g)))){this.K||St!=4||_e==7||(_e==8||jt<=0?ho(3):ho(2)),Vu(this);var g=this.g.ca();this.X=g;var _=Lw(this);if(this.o=g==200,Pw(this.i,this.v,this.B,this.l,this.S,St,g),this.o){if(this.U&&!this.L){e:{if(this.g){var A,V=this.g;if((A=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(A)){var U=A;break e}}U=null}if(u=U)ir(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Fu(this,u);else{this.o=!1,this.m=3,Ke(12),gi(this),mo(this);break t}}if(this.R){u=!0;let Ie;for(;!this.K&&this.C<_.length;)if(Ie=Nw(this,_),Ie==Lu){St==4&&(this.m=4,Ke(14),u=!1),ir(this.i,this.l,null,"[Incomplete Response]");break}else if(Ie==Pp){this.m=4,Ke(15),ir(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ir(this.i,this.l,Ie,null),Fu(this,Ie);if(Mp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||_.length!=0||this.h.h||(this.m=1,Ke(16),u=!1),this.o=this.o&&u,!u)ir(this.i,this.l,_,"[Invalid Chunked Response]"),gi(this),mo(this);else if(_.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),qu(et),et.P=!0,Ke(11))}}else ir(this.i,this.l,_,null),Fu(this,_);St==4&&gi(this),this.o&&!this.K&&(St==4?rg(this.j,this):(this.o=!1,Za(this)))}else Yw(this.g),g==400&&_.indexOf("Unknown SID")>0?(this.m=3,Ke(12)):(this.m=0,Ke(13)),gi(this),mo(this)}}}catch{}};function Lw(u){if(!Mp(u))return u.g.la();const g=Jp(u.g);if(g==="")return"";let _="";const A=g.length,V=Ps(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return gi(u),mo(u),"";u.h.i=new o.TextDecoder}for(let U=0;U<A;U++)u.h.h=!0,_+=u.h.i.decode(g[U],{stream:!(V&&U==A-1)});return g.length=0,u.h.g+=_,u.C=0,u.h.g}function Mp(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Nw(u,g){var _=u.C,A=g.indexOf(`
`,_);return A==-1?Lu:(_=Number(g.substring(_,A)),isNaN(_)?Pp:(A+=1,A+_>g.length?Lu:(g=g.slice(A,A+_),u.C=A+_,g)))}Cs.prototype.cancel=function(){this.K=!0,gi(this)};function Za(u){u.T=Date.now()+u.H,Dp(u,u.H)}function Dp(u,g){if(u.D!=null)throw Error("WatchDog timer not null");u.D=fo(c(u.aa,u),g)}function Vu(u){u.D&&(o.clearTimeout(u.D),u.D=null)}Cs.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ow(this.i,this.B),this.M!=2&&(ho(),Ke(17)),gi(this),this.m=2,mo(this)):Dp(this,this.T-u)};function mo(u){u.j.I==0||u.K||rg(u.j,u)}function gi(u){Vu(u);var g=u.O;g&&typeof g.dispose=="function"&&g.dispose(),u.O=null,It(u.V),u.g&&(g=u.g,u.g=null,g.abort(),g.dispose())}function Fu(u,g){try{var _=u.j;if(_.I!=0&&(_.g==u||Uu(_.h,u))){if(!u.L&&Uu(_.h,u)&&_.I==3){try{var A=_.Ba.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var V=A;if(V[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)rl(_),sl(_);else break t;Wu(_),Ke(18)}}else _.xa=V[1],0<_.xa-_.K&&V[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=fo(c(_.Va,_),6e3));Vp(_.h)<=1&&_.ta&&(_.ta=void 0)}else _i(_,11)}else if((u.L||_.g==u)&&rl(_),!x(g))for(V=_.Ba.g.parse(g),g=0;g<V.length;g++){let jt=V[g];const Ie=jt[0];if(!(Ie<=_.K))if(_.K=Ie,jt=jt[1],_.I==2)if(jt[0]=="c"){_.M=jt[1],_.ba=jt[2];const Nn=jt[3];Nn!=null&&(_.ka=Nn,_.j.info("VER="+_.ka));const yi=jt[4];yi!=null&&(_.za=yi,_.j.info("SVER="+_.za));const Os=jt[5];Os!=null&&typeof Os=="number"&&Os>0&&(A=1.5*Os,_.O=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ms=u.g;if(Ms){const al=Ms.g?Ms.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(al){var U=A.h;U.g||al.indexOf("spdy")==-1&&al.indexOf("quic")==-1&&al.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&($u(U,U.h),U.h=null))}if(A.G){const Gu=Ms.g?Ms.g.getResponseHeader("X-HTTP-Session-Id"):null;Gu&&(A.wa=Gu,Yt(A.J,A.G,Gu))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),A=_;var et=u;if(A.na=lg(A,A.L?A.ba:null,A.W),et.L){Fp(A.h,et);var St=et,_e=A.O;_e&&(St.H=_e),St.D&&(Vu(St),Za(St)),A.g=et}else sg(A);_.i.length>0&&il(_)}else jt[0]!="stop"&&jt[0]!="close"||_i(_,7);else _.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?_i(_,7):zu(_):jt[0]!="noop"&&_.l&&_.l.qa(jt),_.A=0)}}ho(4)}catch{}}var Vw=class{constructor(u,g){this.g=u,this.map=g}};function Lp(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Np(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Vp(u){return u.h?1:u.g?u.g.size:0}function Uu(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function $u(u,g){u.g?u.g.add(g):u.h=g}function Fp(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Lp.prototype.cancel=function(){if(this.i=Up(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Up(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.G);return g}return p(u.i)}var $p=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fw(u,g){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const A=u[_].indexOf("=");let V,U=null;A>=0?(V=u[_].substring(0,A),U=u[_].substring(A+1)):V=u[_],g(V,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function xs(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;u instanceof xs?(this.l=u.l,_o(this,u.j),this.o=u.o,this.g=u.g,yo(this,u.u),this.h=u.h,Bu(this,qp(u.i)),this.m=u.m):u&&(g=String(u).match($p))?(this.l=!1,_o(this,g[1]||"",!0),this.o=vo(g[2]||""),this.g=vo(g[3]||"",!0),yo(this,g[4]),this.h=vo(g[5]||"",!0),Bu(this,g[6]||"",!0),this.m=vo(g[7]||"")):(this.l=!1,this.i=new To(null,this.l))}xs.prototype.toString=function(){const u=[];var g=this.j;g&&u.push(bo(g,Bp,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(bo(g,Bp,!0),"@"),u.push(go(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(bo(_,_.charAt(0)=="/"?Bw:$w,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",bo(_,jw)),u.join("")},xs.prototype.resolve=function(u){const g=Ln(this);let _=!!u.j;_?_o(g,u.j):_=!!u.o,_?g.o=u.o:_=!!u.g,_?g.g=u.g:_=u.u!=null;var A=u.h;if(_)yo(g,u.u);else if(_=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var V=g.h.lastIndexOf("/");V!=-1&&(A=g.h.slice(0,V+1)+A)}if(V=A,V==".."||V==".")A="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){A=V.lastIndexOf("/",0)==0,V=V.split("/");const U=[];for(let et=0;et<V.length;){const St=V[et++];St=="."?A&&et==V.length&&U.push(""):St==".."?((U.length>1||U.length==1&&U[0]!="")&&U.pop(),A&&et==V.length&&U.push("")):(U.push(St),A=!0)}A=U.join("/")}else A=V}return _?g.h=A:_=u.i.toString()!=="",_?Bu(g,qp(u.i)):_=!!u.m,_&&(g.m=u.m),g};function Ln(u){return new xs(u)}function _o(u,g,_){u.j=_?vo(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function yo(u,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);u.u=g}else u.u=null}function Bu(u,g,_){g instanceof To?(u.i=g,zw(u.i,u.l)):(_||(g=bo(g,Hw)),u.i=new To(g,u.l))}function Yt(u,g,_){u.i.set(g,_)}function tl(u){return Yt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function vo(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function bo(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,Uw),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Uw(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Bp=/[#\/\?@]/g,$w=/[#\?:]/g,Bw=/[#\?]/g,Hw=/[#\?@]/g,jw=/#/g;function To(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function mi(u){u.g||(u.g=new Map,u.h=0,u.i&&Fw(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}e=To.prototype,e.add=function(u,g){mi(this),this.i=null,u=rr(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function Hp(u,g){mi(u),g=rr(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function jp(u,g){return mi(u),g=rr(u,g),u.g.has(g)}e.forEach=function(u,g){mi(this),this.g.forEach(function(_,A){_.forEach(function(V){u.call(g,V,A,this)},this)},this)};function zp(u,g){mi(u);let _=[];if(typeof g=="string")jp(u,g)&&(_=_.concat(u.g.get(rr(u,g))));else for(u=Array.from(u.g.values()),g=0;g<u.length;g++)_=_.concat(u[g]);return _}e.set=function(u,g){return mi(this),this.i=null,u=rr(this,u),jp(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},e.get=function(u,g){return u?(u=zp(this,u),u.length>0?String(u[0]):g):g};function Wp(u,g,_){Hp(u,g),_.length>0&&(u.i=null,u.g.set(rr(u,g),p(_)),u.h+=_.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(let A=0;A<g.length;A++){var _=g[A];const V=go(_);_=zp(this,_);for(let U=0;U<_.length;U++){let et=V;_[U]!==""&&(et+="="+go(_[U])),u.push(et)}}return this.i=u.join("&")};function qp(u){const g=new To;return g.i=u.i,u.g&&(g.g=new Map(u.g),g.h=u.h),g}function rr(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function zw(u,g){g&&!u.j&&(mi(u),u.i=null,u.g.forEach(function(_,A){const V=A.toLowerCase();A!=V&&(Hp(this,A),Wp(this,V,_))},u)),u.j=g}function Ww(u,g){const _=new po;if(o.Image){const A=new Image;A.onload=h(Rs,_,"TestLoadImage: loaded",!0,g,A),A.onerror=h(Rs,_,"TestLoadImage: error",!1,g,A),A.onabort=h(Rs,_,"TestLoadImage: abort",!1,g,A),A.ontimeout=h(Rs,_,"TestLoadImage: timeout",!1,g,A),o.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else g(!1)}function qw(u,g){const _=new po,A=new AbortController,V=setTimeout(()=>{A.abort(),Rs(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:A.signal}).then(U=>{clearTimeout(V),U.ok?Rs(_,"TestPingServer: ok",!0,g):Rs(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(V),Rs(_,"TestPingServer: error",!1,g)})}function Rs(u,g,_,A,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),A(_)}catch{}}function Gw(){this.g=new Oe}function Hu(u){this.i=u.Sb||null,this.h=u.ab||!1}d(Hu,ae),Hu.prototype.g=function(){return new el(this.i,this.h)};function el(u,g){Z.call(this),this.H=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(el,Z),e=el.prototype,e.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=g,this.readyState=1,Eo(this)},e.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(g.body=u),(this.H||o).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,wo(this)),this.readyState=0},e.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Eo(this)),this.g&&(this.readyState=3,Eo(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Gp(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Gp(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}e.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?wo(this):Eo(this),this.readyState==3&&Gp(this)}},e.Oa=function(u){this.g&&(this.response=this.responseText=u,wo(this))},e.Na=function(u){this.g&&(this.response=u,wo(this))},e.ga=function(){this.g&&wo(this)};function wo(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Eo(u)}e.setRequestHeader=function(u,g){this.A.append(u,g)},e.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function Eo(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(el.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Kp(u){let g="";return Rt(u,function(_,A){g+=A,g+=":",g+=_,g+=`\r
`}),g}function ju(u,g,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=Kp(_),typeof u=="string"?_!=null&&go(_):Yt(u,g,_))}function ie(u){Z.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(ie,Z);var Kw=/^https?$/i,Qw=["POST","PUT"];e=ie.prototype,e.Fa=function(u){this.H=u},e.ea=function(u,g,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xp.g(),this.g.onreadystatechange=f(c(this.Ca,this));try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(U){Qp(this,U);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var V in A)_.set(V,A[V]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const U of A.keys())_.set(U,A.get(U));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(U=>U.toLowerCase()=="content-type"),V=o.FormData&&u instanceof o.FormData,!(Array.prototype.indexOf.call(Qw,g,void 0)>=0)||A||V||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,et]of _)this.g.setRequestHeader(U,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(U){Qp(this,U)}};function Qp(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.o=5,Yp(u),nl(u)}function Yp(u){u.A||(u.A=!0,X(u,"complete"),X(u,"error"))}e.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,X(this,"complete"),X(this,"abort"),nl(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nl(this,!0)),ie.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Xp(this):this.Xa())},e.Xa=function(){Xp(this)};function Xp(u){if(u.h&&typeof r<"u"){if(u.v&&Ps(u)==4)setTimeout(u.Ca.bind(u),0);else if(X(u,"readystatechange"),Ps(u)==4){u.h=!1;try{const U=u.ca();t:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var _;if(!(_=g)){var A;if(A=U===0){let et=String(u.D).match($p)[1]||null;!et&&o.self&&o.self.location&&(et=o.self.location.protocol.slice(0,-1)),A=!Kw.test(et?et.toLowerCase():"")}_=A}if(_)X(u,"complete"),X(u,"success");else{u.o=6;try{var V=Ps(u)>2?u.g.statusText:""}catch{V=""}u.l=V+" ["+u.ca()+"]",Yp(u)}}finally{nl(u)}}}}function nl(u,g){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,g||X(u,"ready");try{_.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Ps(u){return u.g?u.g.readyState:0}e.ca=function(){try{return Ps(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Lt(g)}};function Jp(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Yw(u){const g={};u=(u.g&&Ps(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(x(u[A]))continue;var _=Dw(u[A]);const V=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const U=g[V]||[];g[V]=U,U.push(_)}Fe(g,function(A){return A.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Io(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function Zp(u){this.za=0,this.i=[],this.j=new po,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Io("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Io("baseRetryDelayMs",5e3,u),this.Za=Io("retryDelaySeedMs",1e4,u),this.Ta=Io("forwardChannelMaxRetries",2,u),this.va=Io("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Lp(u&&u.concurrentRequestLimit),this.Ba=new Gw,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Zp.prototype,e.ka=8,e.I=1,e.connect=function(u,g,_,A){Ke(0),this.W=u,this.H=g||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.J=lg(this,null,this.W),il(this)};function zu(u){if(tg(u),u.I==3){var g=u.V++,_=Ln(u.J);if(Yt(_,"SID",u.M),Yt(_,"RID",g),Yt(_,"TYPE","terminate"),So(u,_),g=new Cs(u,u.j,g),g.M=2,g.A=tl(Ln(_)),_=!1,o.navigator&&o.navigator.sendBeacon)try{_=o.navigator.sendBeacon(g.A.toString(),"")}catch{}!_&&o.Image&&(new Image().src=g.A,_=!0),_||(g.g=cg(g.j,null),g.g.ea(g.A)),g.F=Date.now(),Za(g)}ag(u)}function sl(u){u.g&&(qu(u),u.g.cancel(),u.g=null)}function tg(u){sl(u),u.v&&(o.clearTimeout(u.v),u.v=null),rl(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&o.clearTimeout(u.m),u.m=null)}function il(u){if(!Np(u.h)&&!u.m){u.m=!0;var g=u.Ea;D||T(),F||(D(),F=!0),k.add(g,u),u.D=0}}function Xw(u,g){return Vp(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=g.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=fo(c(u.Ea,u,g),og(u,u.D)),u.D++,!0)}e.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const V=new Cs(this,this.j,u);let U=this.o;if(this.U&&(U?(U=Ee(U),he(U,this.U)):U=this.U),this.u!==null||this.R||(V.J=U,U=null),this.S)t:{for(var g=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,g>4096){g=_;break t}if(g===4096||_===this.i.length-1){g=_+1;break t}}g=1e3}else g=1e3;g=ng(this,V,g),_=Ln(this.J),Yt(_,"RID",u),Yt(_,"CVER",22),this.G&&Yt(_,"X-HTTP-Session-Id",this.G),So(this,_),U&&(this.R?g="headers="+go(Kp(U))+"&"+g:this.u&&ju(_,this.u,U)),$u(this.h,V),this.Ra&&Yt(_,"TYPE","init"),this.S?(Yt(_,"$req",g),Yt(_,"SID","null"),V.U=!0,Nu(V,_,null)):Nu(V,_,g),this.I=2}}else this.I==3&&(u?eg(this,u):this.i.length==0||Np(this.h)||eg(this))};function eg(u,g){var _;g?_=g.l:_=u.V++;const A=Ln(u.J);Yt(A,"SID",u.M),Yt(A,"RID",_),Yt(A,"AID",u.K),So(u,A),u.u&&u.o&&ju(A,u.u,u.o),_=new Cs(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),g&&(u.i=g.G.concat(u.i)),g=ng(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),$u(u.h,_),Nu(_,A,g)}function So(u,g){u.H&&Rt(u.H,function(_,A){Yt(g,A,_)}),u.l&&Rt({},function(_,A){Yt(g,A,_)})}function ng(u,g,_){_=Math.min(u.i.length,_);const A=u.l?c(u.l.Ka,u.l,u):null;t:{var V=u.i;let St=-1;for(;;){const _e=["count="+_];St==-1?_>0?(St=V[0].g,_e.push("ofs="+St)):St=0:_e.push("ofs="+St);let jt=!0;for(let Ie=0;Ie<_;Ie++){var U=V[Ie].g;const Nn=V[Ie].map;if(U-=St,U<0)St=Math.max(0,V[Ie].g-100),jt=!1;else try{U="req"+U+"_"||"";try{var et=Nn instanceof Map?Nn:Object.entries(Nn);for(const[yi,Os]of et){let Ms=Os;a(Os)&&(Ms=Nt(Os)),_e.push(U+yi+"="+encodeURIComponent(Ms))}}catch(yi){throw _e.push(U+"type="+encodeURIComponent("_badmap")),yi}}catch{A&&A(Nn)}}if(jt){et=_e.join("&");break t}}et=void 0}return u=u.i.splice(0,_),g.G=u,et}function sg(u){if(!u.g&&!u.v){u.Y=1;var g=u.Da;D||T(),F||(D(),F=!0),k.add(g,u),u.A=0}}function Wu(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=fo(c(u.Da,u),og(u,u.A)),u.A++,!0)}e.Da=function(){if(this.v=null,ig(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=fo(c(this.Wa,this),u)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ke(10),sl(this),ig(this))};function qu(u){u.B!=null&&(o.clearTimeout(u.B),u.B=null)}function ig(u){u.g=new Cs(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var g=Ln(u.na);Yt(g,"RID","rpc"),Yt(g,"SID",u.M),Yt(g,"AID",u.K),Yt(g,"CI",u.F?"0":"1"),!u.F&&u.ia&&Yt(g,"TO",u.ia),Yt(g,"TYPE","xmlhttp"),So(u,g),u.u&&u.o&&ju(g,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=tl(Ln(g)),_.u=null,_.R=!0,Op(_,u)}e.Va=function(){this.C!=null&&(this.C=null,sl(this),Wu(this),Ke(19))};function rl(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function rg(u,g){var _=null;if(u.g==g){rl(u),qu(u),u.g=null;var A=2}else if(Uu(u.h,g))_=g.G,Fp(u.h,g),A=1;else return;if(u.I!=0){if(g.o)if(A==1){_=g.u?g.u.length:0,g=Date.now()-g.F;var V=u.D;A=pi(),X(A,new kp(A,_)),il(u)}else sg(u);else if(V=g.m,V==3||V==0&&g.X>0||!(A==1&&Xw(u,g)||A==2&&Wu(u)))switch(_&&_.length>0&&(g=u.h,g.i=g.i.concat(_)),V){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function og(u,g){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*g}function _i(u,g){if(u.j.info("Error code "+g),g==2){var _=c(u.bb,u),A=u.Ua;const V=!A;A=new xs(A||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||_o(A,"https"),tl(A),V?Ww(A.toString(),_):qw(A.toString(),_)}else Ke(2);u.I=0,u.l&&u.l.pa(g),ag(u),tg(u)}e.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ke(2)):(this.j.info("Failed to ping google.com"),Ke(1))};function ag(u){if(u.I=0,u.ja=[],u.l){const g=Up(u.h);(g.length!=0||u.i.length!=0)&&(m(u.ja,g),m(u.ja,u.i),u.h.i.length=0,p(u.i),u.i.length=0),u.l.oa()}}function lg(u,g,_){var A=_ instanceof xs?Ln(_):new xs(_);if(A.g!="")g&&(A.g=g+"."+A.g),yo(A,A.u);else{var V=o.location;A=V.protocol,g=g?g+"."+V.hostname:V.hostname,V=+V.port;const U=new xs(null);A&&_o(U,A),g&&(U.g=g),V&&yo(U,V),_&&(U.h=_),A=U}return _=u.G,g=u.wa,_&&g&&Yt(A,_,g),Yt(A,"VER",u.ka),So(u,A),A}function cg(u,g,_){if(g&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Aa&&!u.ma?new ie(new Hu({ab:_})):new ie(u.ma),g.Fa(u.L),g}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function ug(){}e=ug.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function ol(){}ol.prototype.g=function(u,g){return new on(u,g)};function on(u,g){Z.call(this),this.g=new Zp(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(u?u["X-WebChannel-Client-Profile"]=g.sa:u={"X-WebChannel-Client-Profile":g.sa}),this.g.U=u,(u=g&&g.Qb)&&!x(u)&&(this.g.u=u),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!x(g)&&(this.g.G=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new or(this)}d(on,Z),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){zu(this.g)},on.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=Nt(u),u=_);g.i.push(new Vw(g.Ya++,u)),g.I==3&&il(g)},on.prototype.N=function(){this.g.l=null,delete this.j,zu(this.g),delete this.g,on.Z.N.call(this)};function hg(u){es.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){t:{for(const _ in g){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}d(hg,es);function dg(){sr.call(this),this.status=1}d(dg,sr);function or(u){this.g=u}d(or,ug),or.prototype.ra=function(){X(this.g,"a")},or.prototype.qa=function(u){X(this.g,new hg(u))},or.prototype.pa=function(u){X(this.g,new dg)},or.prototype.oa=function(){X(this.g,"b")},ol.prototype.createWebChannel=ol.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,u1=function(){return new ol},c1=function(){return pi()},l1=le,pd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ja.NO_ERROR=0,Ja.TIMEOUT=8,Ja.HTTP_ERROR=6,Gl=Ja,Cp.COMPLETE="complete",a1=Cp,Me.EventType=me,me.OPEN="a",me.CLOSE="b",me.ERROR="c",me.MESSAGE="d",Z.prototype.listen=Z.prototype.J,Vo=Me,ie.prototype.listenOnce=ie.prototype.K,ie.prototype.getLastError=ie.prototype.Ha,ie.prototype.getLastErrorCode=ie.prototype.ya,ie.prototype.getStatus=ie.prototype.ca,ie.prototype.getResponseJson=ie.prototype.La,ie.prototype.getResponseText=ie.prototype.la,ie.prototype.send=ie.prototype.ea,ie.prototype.setWithCredentials=ie.prototype.Fa,o1=ie}).apply(typeof bl<"u"?bl:typeof self<"u"?self:typeof window<"u"?window:{});const t_="@firebase/firestore",e_="4.9.3";class He{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}He.UNAUTHENTICATED=new He(null),He.GOOGLE_CREDENTIALS=new He("google-credentials-uid"),He.FIRST_PARTY=new He("first-party-uid"),He.MOCK_USER=new He("mock-user");let ro="12.7.0";const Gi=new Sf("@firebase/firestore");function dr(){return Gi.logLevel}function ot(e,...t){if(Gi.logLevel<=kt.DEBUG){const n=t.map(Nf);Gi.debug(`Firestore (${ro}): ${e}`,...n)}}function Ts(e,...t){if(Gi.logLevel<=kt.ERROR){const n=t.map(Nf);Gi.error(`Firestore (${ro}): ${e}`,...n)}}function Ki(e,...t){if(Gi.logLevel<=kt.WARN){const n=t.map(Nf);Gi.warn(`Firestore (${ro}): ${e}`,...n)}}function Nf(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function vt(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,h1(e,s,n)}function h1(e,t,n){let s=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ts(s),new Error(s)}function Ut(e,t,n,s){let i="Unexpected state";typeof n=="string"?i=n:s=n,e||h1(t,i,s)}function wt(e,t){return e}const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends Ss{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zs{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class d1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class f1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(He.UNAUTHENTICATED)))}shutdown(){}}class L2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class N2{constructor(t){this.t=t,this.currentUser=He.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ut(this.o===void 0,42304);let s=this.i;const i=l=>this.i!==s?(s=this.i,n(l)):Promise.resolve();let r=new Zs;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Zs,t.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const l=r;t.enqueueRetryable((async()=>{await l.promise,await i(this.currentUser)}))},a=l=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((l=>a(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Zs)}}),0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ut(typeof s.accessToken=="string",31837,{l:s}),new d1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ut(t===null||typeof t=="string",2055,{h:t}),new He(t)}}class V2{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=He.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class F2{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new V2(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(He.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class n_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class U2{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ut(this.o===void 0,3512);const s=r=>{r.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.m;return this.m=r.token,ot("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable((()=>s(r)))};const i=r=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((r=>i(r))),setTimeout((()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?i(r):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new n_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ut(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new n_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function $2(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}class au{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const i=$2(40);for(let r=0;r<i.length;++r)s.length<20&&i[r]<n&&(s+=t.charAt(i[r]%62))}return s}}function Ct(e,t){return e<t?-1:e>t?1:0}function gd(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const i=e.charAt(s),r=t.charAt(s);if(i!==r)return bh(i)===bh(r)?Ct(i,r):bh(i)?1:-1}return Ct(e.length,t.length)}const B2=55296,H2=57343;function bh(e){const t=e.charCodeAt(0);return t>=B2&&t<=H2}function Br(e,t,n){return e.length===t.length&&e.every(((s,i)=>n(s,t[i])))}const s_="__name__";class Hn{constructor(t,n,s){n===void 0?n=0:n>t.length&&vt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&vt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Hn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Hn?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let i=0;i<s;i++){const r=Hn.compareSegments(t.get(i),n.get(i));if(r!==0)return r}return Ct(t.length,n.length)}static compareSegments(t,n){const s=Hn.isNumericId(t),i=Hn.isNumericId(n);return s&&!i?-1:!s&&i?1:s&&i?Hn.extractNumericId(t).compare(Hn.extractNumericId(n)):gd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Js.fromString(t.substring(4,t.length-2))}}class te extends Hn{construct(t,n,s){return new te(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ht(Q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((i=>i.length>0)))}return new te(n)}static emptyPath(){return new te([])}}const j2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ae extends Hn{construct(t,n,s){return new Ae(t,n,s)}static isValidIdentifier(t){return j2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ae.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===s_}static keyField(){return new Ae([s_])}static fromServerFormat(t){const n=[];let s="",i=0;const r=()=>{if(s.length===0)throw new ht(Q.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new ht(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ht(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(s+=a,i++):(r(),i++)}if(r(),o)throw new ht(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ae(n)}static emptyPath(){return new Ae([])}}class gt{constructor(t){this.path=t}static fromPath(t){return new gt(te.fromString(t))}static fromName(t){return new gt(te.fromString(t).popFirst(5))}static empty(){return new gt(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return te.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new te(t.slice()))}}function z2(e,t,n){if(!n)throw new ht(Q.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function p1(e,t,n,s){if(t===!0&&s===!0)throw new ht(Q.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function i_(e){if(!gt.isDocumentKey(e))throw new ht(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function g1(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Vf(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":vt(12329,{type:typeof e})}function ii(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ht(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vf(e);throw new ht(Q.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function fe(e,t){const n={typeString:e};return t&&(n.value=t),n}function za(e,t){if(!g1(e))throw new ht(Q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const i=t[s].typeString,r="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const o=e[s];if(i&&typeof o!==i){n=`JSON field '${s}' must be a ${i}.`;break}if(r!==void 0&&o!==r.value){n=`Expected '${s}' field to equal '${r.value}'`;break}}if(n)throw new ht(Q.INVALID_ARGUMENT,n);return!0}const r_=-62135596800,o_=1e6;class Kt{static now(){return Kt.fromMillis(Date.now())}static fromDate(t){return Kt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*o_);return new Kt(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ht(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ht(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<r_)throw new ht(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/o_}_compareTo(t){return this.seconds===t.seconds?Ct(this.nanoseconds,t.nanoseconds):Ct(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Kt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(za(t,Kt._jsonSchema))return new Kt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-r_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Kt._jsonSchemaVersion="firestore/timestamp/1.0",Kt._jsonSchema={type:fe("string",Kt._jsonSchemaVersion),seconds:fe("number"),nanoseconds:fe("number")};class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new Kt(0,0))}static max(){return new bt(new Kt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const va=-1;function W2(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,i=bt.fromTimestamp(s===1e9?new Kt(n+1,0):new Kt(n,s));return new ri(i,gt.empty(),t)}function q2(e){return new ri(e.readTime,e.key,va)}class ri{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new ri(bt.min(),gt.empty(),va)}static max(){return new ri(bt.max(),gt.empty(),va)}}function G2(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=gt.comparator(e.documentKey,t.documentKey),n!==0?n:Ct(e.largestBatchId,t.largestBatchId))}const K2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Q2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function oo(e){if(e.code!==Q.FAILED_PRECONDITION||e.message!==K2)throw e;ot("LocalStore","Unexpectedly lost primary lease")}class j{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new j(((s,i)=>{this.nextCallback=r=>{this.wrapSuccess(t,r).next(s,i)},this.catchCallback=r=>{this.wrapFailure(n,r).next(s,i)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):j.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):j.reject(n)}static resolve(t){return new j(((n,s)=>{n(t)}))}static reject(t){return new j(((n,s)=>{s(t)}))}static waitFor(t){return new j(((n,s)=>{let i=0,r=0,o=!1;t.forEach((a=>{++i,a.next((()=>{++r,o&&r===i&&n()}),(l=>s(l)))})),o=!0,r===i&&n()}))}static or(t){let n=j.resolve(!1);for(const s of t)n=n.next((i=>i?j.resolve(i):s()));return n}static forEach(t,n){const s=[];return t.forEach(((i,r)=>{s.push(n.call(this,i,r))})),this.waitFor(s)}static mapArray(t,n){return new j(((s,i)=>{const r=t.length,o=new Array(r);let a=0;for(let l=0;l<r;l++){const c=l;n(t[c]).next((h=>{o[c]=h,++a,a===r&&s(o)}),(h=>i(h)))}}))}static doWhile(t,n){return new j(((s,i)=>{const r=()=>{t()===!0?n().next((()=>{r()}),i):s()};r()}))}}function Y2(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ao(e){return e.name==="IndexedDbTransactionError"}class lu{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}lu.ce=-1;const Ff=-1;function cu(e){return e==null}function Tc(e){return e===0&&1/e==-1/0}function X2(e){return typeof e=="number"&&Number.isInteger(e)&&!Tc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const m1="";function J2(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=a_(t)),t=Z2(e.get(n),t);return a_(t)}function Z2(e,t){let n=t;const s=e.length;for(let i=0;i<s;i++){const r=e.charAt(i);switch(r){case"\0":n+="";break;case m1:n+="";break;default:n+=r}}return n}function a_(e){return e+m1+""}function l_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function di(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function _1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ne{constructor(t,n){this.comparator=t,this.root=n||De.EMPTY}insert(t,n){return new ne(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,De.BLACK,null,null))}remove(t){return new ne(this.comparator,this.root.remove(t,this.comparator).copy(null,null,De.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(t,s.key);if(i===0)return n+s.left.size;i<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Tl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Tl(this.root,t,this.comparator,!1)}getReverseIterator(){return new Tl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Tl(this.root,t,this.comparator,!0)}}class Tl{constructor(t,n,s,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=n?s(t.key,n):1,n&&i&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(r===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class De{constructor(t,n,s,i,r){this.key=t,this.value=n,this.color=s??De.RED,this.left=i??De.EMPTY,this.right=r??De.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,i,r){return new De(t??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let i=this;const r=s(t,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(t,n,s),null):r===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return De.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return De.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,De.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,De.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}De.EMPTY=null,De.RED=!0,De.BLACK=!1;De.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,n,s,i,r){return this}insert(t,n,s){return new De(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Te{constructor(t){this.comparator=t,this.data=new ne(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new c_(this.data.getIterator())}getIteratorFrom(t){return new c_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Te)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(this.comparator(i,r)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Te(this.comparator);return n.data=t,n}}class c_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class un{constructor(t){this.fields=t,t.sort(Ae.comparator)}static empty(){return new un([])}unionWith(t){let n=new Te(Ae.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new un(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Br(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class y1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Re{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new y1("Invalid base64 string: "+r):r}})(t);return new Re(n)}static fromUint8Array(t){const n=(function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r})(t);return new Re(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ct(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Re.EMPTY_BYTE_STRING=new Re("");const tO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oi(e){if(Ut(!!e,39018),typeof e=="string"){let t=0;const n=tO.exec(e);if(Ut(!!n,46558,{timestamp:e}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ce(e.seconds),nanos:ce(e.nanos)}}function ce(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ai(e){return typeof e=="string"?Re.fromBase64String(e):Re.fromUint8Array(e)}const v1="server_timestamp",b1="__type__",T1="__previous_value__",w1="__local_write_time__";function Uf(e){return(e?.mapValue?.fields||{})[b1]?.stringValue===v1}function uu(e){const t=e.mapValue.fields[T1];return Uf(t)?uu(t):t}function ba(e){const t=oi(e.mapValue.fields[w1].timestampValue);return new Kt(t.seconds,t.nanos)}class eO{constructor(t,n,s,i,r,o,a,l,c,h){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=i,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}}const wc="(default)";class Hr{constructor(t,n){this.projectId=t,this.database=n||wc}static empty(){return new Hr("","")}get isDefaultDatabase(){return this.database===wc}isEqual(t){return t instanceof Hr&&t.projectId===this.projectId&&t.database===this.database}}const E1="__type__",nO="__max__",wl={mapValue:{}},I1="__vector__",Ec="value";function li(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Uf(e)?4:iO(e)?9007199254740991:sO(e)?10:11:vt(28295,{value:e})}function Jn(e,t){if(e===t)return!0;const n=li(e);if(n!==li(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ba(e).isEqual(ba(t));case 3:return(function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=oi(i.timestampValue),a=oi(r.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(i,r){return ai(i.bytesValue).isEqual(ai(r.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(i,r){return ce(i.geoPointValue.latitude)===ce(r.geoPointValue.latitude)&&ce(i.geoPointValue.longitude)===ce(r.geoPointValue.longitude)})(e,t);case 2:return(function(i,r){if("integerValue"in i&&"integerValue"in r)return ce(i.integerValue)===ce(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=ce(i.doubleValue),a=ce(r.doubleValue);return o===a?Tc(o)===Tc(a):isNaN(o)&&isNaN(a)}return!1})(e,t);case 9:return Br(e.arrayValue.values||[],t.arrayValue.values||[],Jn);case 10:case 11:return(function(i,r){const o=i.mapValue.fields||{},a=r.mapValue.fields||{};if(l_(o)!==l_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Jn(o[l],a[l])))return!1;return!0})(e,t);default:return vt(52216,{left:e})}}function Ta(e,t){return(e.values||[]).find((n=>Jn(n,t)))!==void 0}function jr(e,t){if(e===t)return 0;const n=li(e),s=li(t);if(n!==s)return Ct(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ct(e.booleanValue,t.booleanValue);case 2:return(function(r,o){const a=ce(r.integerValue||r.doubleValue),l=ce(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1})(e,t);case 3:return u_(e.timestampValue,t.timestampValue);case 4:return u_(ba(e),ba(t));case 5:return gd(e.stringValue,t.stringValue);case 6:return(function(r,o){const a=ai(r),l=ai(o);return a.compareTo(l)})(e.bytesValue,t.bytesValue);case 7:return(function(r,o){const a=r.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=Ct(a[c],l[c]);if(h!==0)return h}return Ct(a.length,l.length)})(e.referenceValue,t.referenceValue);case 8:return(function(r,o){const a=Ct(ce(r.latitude),ce(o.latitude));return a!==0?a:Ct(ce(r.longitude),ce(o.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return h_(e.arrayValue,t.arrayValue);case 10:return(function(r,o){const a=r.fields||{},l=o.fields||{},c=a[Ec]?.arrayValue,h=l[Ec]?.arrayValue,d=Ct(c?.values?.length||0,h?.values?.length||0);return d!==0?d:h_(c,h)})(e.mapValue,t.mapValue);case 11:return(function(r,o){if(r===wl.mapValue&&o===wl.mapValue)return 0;if(r===wl.mapValue)return 1;if(o===wl.mapValue)return-1;const a=r.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const f=gd(l[d],h[d]);if(f!==0)return f;const p=jr(a[l[d]],c[h[d]]);if(p!==0)return p}return Ct(l.length,h.length)})(e.mapValue,t.mapValue);default:throw vt(23264,{he:n})}}function u_(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ct(e,t);const n=oi(e),s=oi(t),i=Ct(n.seconds,s.seconds);return i!==0?i:Ct(n.nanos,s.nanos)}function h_(e,t){const n=e.values||[],s=t.values||[];for(let i=0;i<n.length&&i<s.length;++i){const r=jr(n[i],s[i]);if(r)return r}return Ct(n.length,s.length)}function zr(e){return md(e)}function md(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const s=oi(n);return`time(${s.seconds},${s.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return ai(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return gt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let s="[",i=!0;for(const r of n.values||[])i?i=!1:s+=",",s+=md(r);return s+"]"})(e.arrayValue):"mapValue"in e?(function(n){const s=Object.keys(n.fields||{}).sort();let i="{",r=!0;for(const o of s)r?r=!1:i+=",",i+=`${o}:${md(n.fields[o])}`;return i+"}"})(e.mapValue):vt(61005,{value:e})}function Kl(e){switch(li(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=uu(e);return t?16+Kl(t):16;case 5:return 2*e.stringValue.length;case 6:return ai(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((i,r)=>i+Kl(r)),0)})(e.arrayValue);case 10:case 11:return(function(s){let i=0;return di(s.fields,((r,o)=>{i+=r.length+Kl(o)})),i})(e.mapValue);default:throw vt(13486,{value:e})}}function _d(e){return!!e&&"integerValue"in e}function $f(e){return!!e&&"arrayValue"in e}function d_(e){return!!e&&"nullValue"in e}function f_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ql(e){return!!e&&"mapValue"in e}function sO(e){return(e?.mapValue?.fields||{})[E1]?.stringValue===I1}function Jo(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return di(e.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Jo(s))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Jo(e.arrayValue.values[n]);return t}return{...e}}function iO(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===nO}class tn{constructor(t){this.value=t}static empty(){return new tn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Ql(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Jo(n)}setAll(t){let n=Ae.emptyPath(),s={},i=[];t.forEach(((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,s,i),s={},i=[],n=a.popLast()}o?s[a.lastSegment()]=Jo(o):i.push(a.lastSegment())}));const r=this.getFieldsMap(n);this.applyChanges(r,s,i)}delete(t){const n=this.field(t.popLast());Ql(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Jn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let i=n.mapValue.fields[t.get(s)];Ql(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,s){di(n,((i,r)=>t[i]=r));for(const i of s)delete t[i]}clone(){return new tn(Jo(this.value))}}function S1(e){const t=[];return di(e.fields,((n,s)=>{const i=new Ae([n]);if(Ql(s)){const r=S1(s.mapValue).fields;if(r.length===0)t.push(i);else for(const o of r)t.push(i.child(o))}else t.push(i)})),new un(t)}class ze{constructor(t,n,s,i,r,o,a){this.key=t,this.documentType=n,this.version=s,this.readTime=i,this.createTime=r,this.data=o,this.documentState=a}static newInvalidDocument(t){return new ze(t,0,bt.min(),bt.min(),bt.min(),tn.empty(),0)}static newFoundDocument(t,n,s,i){return new ze(t,1,n,bt.min(),s,i,0)}static newNoDocument(t,n){return new ze(t,2,n,bt.min(),bt.min(),tn.empty(),0)}static newUnknownDocument(t,n){return new ze(t,3,n,bt.min(),bt.min(),tn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ic{constructor(t,n){this.position=t,this.inclusive=n}}function p_(e,t,n){let s=0;for(let i=0;i<e.position.length;i++){const r=t[i],o=e.position[i];if(r.field.isKeyField()?s=gt.comparator(gt.fromName(o.referenceValue),n.key):s=jr(o,n.data.field(r.field)),r.dir==="desc"&&(s*=-1),s!==0)break}return s}function g_(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Jn(e.position[n],t.position[n]))return!1;return!0}class Sc{constructor(t,n="asc"){this.field=t,this.dir=n}}function rO(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class A1{}class ve extends A1{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new aO(t,n,s):n==="array-contains"?new uO(t,s):n==="in"?new hO(t,s):n==="not-in"?new dO(t,s):n==="array-contains-any"?new fO(t,s):new ve(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new lO(t,s):new cO(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(jr(n,this.value)):n!==null&&li(this.value)===li(n)&&this.matchesComparison(jr(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends A1{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Zn(t,n)}matches(t){return k1(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function k1(e){return e.op==="and"}function C1(e){return oO(e)&&k1(e)}function oO(e){for(const t of e.filters)if(t instanceof Zn)return!1;return!0}function yd(e){if(e instanceof ve)return e.field.canonicalString()+e.op.toString()+zr(e.value);if(C1(e))return e.filters.map((t=>yd(t))).join(",");{const t=e.filters.map((n=>yd(n))).join(",");return`${e.op}(${t})`}}function x1(e,t){return e instanceof ve?(function(s,i){return i instanceof ve&&s.op===i.op&&s.field.isEqual(i.field)&&Jn(s.value,i.value)})(e,t):e instanceof Zn?(function(s,i){return i instanceof Zn&&s.op===i.op&&s.filters.length===i.filters.length?s.filters.reduce(((r,o,a)=>r&&x1(o,i.filters[a])),!0):!1})(e,t):void vt(19439)}function R1(e){return e instanceof ve?(function(n){return`${n.field.canonicalString()} ${n.op} ${zr(n.value)}`})(e):e instanceof Zn?(function(n){return n.op.toString()+" {"+n.getFilters().map(R1).join(" ,")+"}"})(e):"Filter"}class aO extends ve{constructor(t,n,s){super(t,n,s),this.key=gt.fromName(s.referenceValue)}matches(t){const n=gt.comparator(t.key,this.key);return this.matchesComparison(n)}}class lO extends ve{constructor(t,n){super(t,"in",n),this.keys=P1("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class cO extends ve{constructor(t,n){super(t,"not-in",n),this.keys=P1("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function P1(e,t){return(t.arrayValue?.values||[]).map((n=>gt.fromName(n.referenceValue)))}class uO extends ve{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return $f(n)&&Ta(n.arrayValue,this.value)}}class hO extends ve{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ta(this.value.arrayValue,n)}}class dO extends ve{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ta(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ta(this.value.arrayValue,n)}}class fO extends ve{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!$f(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Ta(this.value.arrayValue,s)))}}class pO{constructor(t,n=null,s=[],i=[],r=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=i,this.limit=r,this.startAt=o,this.endAt=a,this.Te=null}}function m_(e,t=null,n=[],s=[],i=null,r=null,o=null){return new pO(e,t,n,s,i,r,o)}function Bf(e){const t=wt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>yd(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(r){return r.field.canonicalString()+r.dir})(s))).join(","),cu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>zr(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>zr(s))).join(",")),t.Te=n}return t.Te}function Hf(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!rO(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!x1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!g_(e.startAt,t.startAt)&&g_(e.endAt,t.endAt)}function vd(e){return gt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class hu{constructor(t,n=null,s=[],i=[],r=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=i,this.limit=r,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gO(e,t,n,s,i,r,o,a){return new hu(e,t,n,s,i,r,o,a)}function jf(e){return new hu(e)}function __(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function mO(e){return e.collectionGroup!==null}function Zo(e){const t=wt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const r of t.explicitOrderBy)t.Ie.push(r),n.add(r.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Te(Ae.comparator);return o.filters.forEach((l=>{l.getFlattenedFilters().forEach((c=>{c.isInequality()&&(a=a.add(c.field))}))})),a})(t).forEach((r=>{n.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Sc(r,s))})),n.has(Ae.keyField().canonicalString())||t.Ie.push(new Sc(Ae.keyField(),s))}return t.Ie}function Kn(e){const t=wt(e);return t.Ee||(t.Ee=_O(t,Zo(e))),t.Ee}function _O(e,t){if(e.limitType==="F")return m_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((i=>{const r=i.dir==="desc"?"asc":"desc";return new Sc(i.field,r)}));const n=e.endAt?new Ic(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Ic(e.startAt.position,e.startAt.inclusive):null;return m_(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function bd(e,t,n){return new hu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function du(e,t){return Hf(Kn(e),Kn(t))&&e.limitType===t.limitType}function O1(e){return`${Bf(Kn(e))}|lt:${e.limitType}`}function fr(e){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((i=>R1(i))).join(", ")}]`),cu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((i=>zr(i))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((i=>zr(i))).join(",")),`Target(${s})`})(Kn(e))}; limitType=${e.limitType})`}function fu(e,t){return t.isFoundDocument()&&(function(s,i){const r=i.key.path;return s.collectionGroup!==null?i.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(r):gt.isDocumentKey(s.path)?s.path.isEqual(r):s.path.isImmediateParentOf(r)})(e,t)&&(function(s,i){for(const r of Zo(s))if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0})(e,t)&&(function(s,i){for(const r of s.filters)if(!r.matches(i))return!1;return!0})(e,t)&&(function(s,i){return!(s.startAt&&!(function(o,a,l){const c=p_(o,a,l);return o.inclusive?c<=0:c<0})(s.startAt,Zo(s),i)||s.endAt&&!(function(o,a,l){const c=p_(o,a,l);return o.inclusive?c>=0:c>0})(s.endAt,Zo(s),i))})(e,t)}function yO(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function M1(e){return(t,n)=>{let s=!1;for(const i of Zo(e)){const r=vO(i,t,n);if(r!==0)return r;s=s||i.field.isKeyField()}return 0}}function vO(e,t,n){const s=e.field.isKeyField()?gt.comparator(t.key,n.key):(function(r,o,a){const l=o.data.field(r),c=a.data.field(r);return l!==null&&c!==null?jr(l,c):vt(42886)})(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return vt(19790,{direction:e.dir})}}class Zi{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[i,r]of s)if(this.equalsFn(i,t))return r}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),i=this.inner[s];if(i===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return void(i[r]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return s.length===1?delete this.inner[n]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(t){di(this.inner,((n,s)=>{for(const[i,r]of s)t(i,r)}))}isEmpty(){return _1(this.inner)}size(){return this.innerSize}}const bO=new ne(gt.comparator);function ws(){return bO}const D1=new ne(gt.comparator);function Fo(...e){let t=D1;for(const n of e)t=t.insert(n.key,n);return t}function L1(e){let t=D1;return e.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Oi(){return ta()}function N1(){return ta()}function ta(){return new Zi((e=>e.toString()),((e,t)=>e.isEqual(t)))}const TO=new ne(gt.comparator),wO=new Te(gt.comparator);function xt(...e){let t=wO;for(const n of e)t=t.add(n);return t}const EO=new Te(Ct);function IO(){return EO}function zf(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tc(t)?"-0":t}}function V1(e){return{integerValue:""+e}}function SO(e,t){return X2(t)?V1(t):zf(e,t)}class pu{constructor(){this._=void 0}}function AO(e,t,n){return e instanceof Ac?(function(i,r){const o={fields:{[b1]:{stringValue:v1},[w1]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&Uf(r)&&(r=uu(r)),r&&(o.fields[T1]=r),{mapValue:o}})(n,t):e instanceof wa?U1(e,t):e instanceof Ea?$1(e,t):(function(i,r){const o=F1(i,r),a=y_(o)+y_(i.Ae);return _d(o)&&_d(i.Ae)?V1(a):zf(i.serializer,a)})(e,t)}function kO(e,t,n){return e instanceof wa?U1(e,t):e instanceof Ea?$1(e,t):n}function F1(e,t){return e instanceof kc?(function(s){return _d(s)||(function(r){return!!r&&"doubleValue"in r})(s)})(t)?t:{integerValue:0}:null}class Ac extends pu{}class wa extends pu{constructor(t){super(),this.elements=t}}function U1(e,t){const n=B1(t);for(const s of e.elements)n.some((i=>Jn(i,s)))||n.push(s);return{arrayValue:{values:n}}}class Ea extends pu{constructor(t){super(),this.elements=t}}function $1(e,t){let n=B1(t);for(const s of e.elements)n=n.filter((i=>!Jn(i,s)));return{arrayValue:{values:n}}}class kc extends pu{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function y_(e){return ce(e.integerValue||e.doubleValue)}function B1(e){return $f(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function CO(e,t){return e.field.isEqual(t.field)&&(function(s,i){return s instanceof wa&&i instanceof wa||s instanceof Ea&&i instanceof Ea?Br(s.elements,i.elements,Jn):s instanceof kc&&i instanceof kc?Jn(s.Ae,i.Ae):s instanceof Ac&&i instanceof Ac})(e.transform,t.transform)}class xO{constructor(t,n){this.version=t,this.transformResults=n}}class Qn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Qn}static exists(t){return new Qn(void 0,t)}static updateTime(t){return new Qn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Yl(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class gu{}function H1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new z1(e.key,Qn.none()):new Wa(e.key,e.data,Qn.none());{const n=e.data,s=tn.empty();let i=new Te(Ae.comparator);for(let r of t.fields)if(!i.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?s.delete(r):s.set(r,o),i=i.add(r)}return new fi(e.key,s,new un(i.toArray()),Qn.none())}}function RO(e,t,n){e instanceof Wa?(function(i,r,o){const a=i.value.clone(),l=b_(i.fieldTransforms,r,o.transformResults);a.setAll(l),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()})(e,t,n):e instanceof fi?(function(i,r,o){if(!Yl(i.precondition,r))return void r.convertToUnknownDocument(o.version);const a=b_(i.fieldTransforms,r,o.transformResults),l=r.data;l.setAll(j1(i)),l.setAll(a),r.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(e,t,n):(function(i,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()})(0,t,n)}function ea(e,t,n,s){return e instanceof Wa?(function(r,o,a,l){if(!Yl(r.precondition,o))return a;const c=r.value.clone(),h=T_(r.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null})(e,t,n,s):e instanceof fi?(function(r,o,a,l){if(!Yl(r.precondition,o))return a;const c=T_(r.fieldTransforms,l,o),h=o.data;return h.setAll(j1(r)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map((d=>d.field)))})(e,t,n,s):(function(r,o,a){return Yl(r.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a})(e,t,n)}function PO(e,t){let n=null;for(const s of e.fieldTransforms){const i=t.data.field(s.field),r=F1(s.transform,i||null);r!=null&&(n===null&&(n=tn.empty()),n.set(s.field,r))}return n||null}function v_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(s,i){return s===void 0&&i===void 0||!(!s||!i)&&Br(s,i,((r,o)=>CO(r,o)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Wa extends gu{constructor(t,n,s,i=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fi extends gu{constructor(t,n,s,i,r=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function j1(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}})),t}function b_(e,t,n){const s=new Map;Ut(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const r=e[i],o=r.transform,a=t.data.field(r.field);s.set(r.field,kO(o,a,n[i]))}return s}function T_(e,t,n){const s=new Map;for(const i of e){const r=i.transform,o=n.data.field(i.field);s.set(i.field,AO(r,o,t))}return s}class z1 extends gu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OO extends gu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class MO{constructor(t,n,s,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const r=this.mutations[i];r.key.isEqual(t.key)&&RO(r,t,s[i])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=ea(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=ea(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=N1();return this.mutations.forEach((i=>{const r=t.get(i.key),o=r.overlayedDocument;let a=this.applyToLocalView(o,r.mutatedFields);a=n.has(i.key)?null:a;const l=H1(o,a);l!==null&&s.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(bt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),xt())}isEqual(t){return this.batchId===t.batchId&&Br(this.mutations,t.mutations,((n,s)=>v_(n,s)))&&Br(this.baseMutations,t.baseMutations,((n,s)=>v_(n,s)))}}class Wf{constructor(t,n,s,i){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=i}static from(t,n,s){Ut(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let i=(function(){return TO})();const r=t.mutations;for(let o=0;o<r.length;o++)i=i.insert(r[o].key,s[o].version);return new Wf(t,n,s,i)}}class DO{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class LO{constructor(t,n){this.count=t,this.unchangedNames=n}}var de,Mt;function NO(e){switch(e){case Q.OK:return vt(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return vt(15467,{code:e})}}function W1(e){if(e===void 0)return Ts("GRPC error has no .code"),Q.UNKNOWN;switch(e){case de.OK:return Q.OK;case de.CANCELLED:return Q.CANCELLED;case de.UNKNOWN:return Q.UNKNOWN;case de.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case de.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case de.INTERNAL:return Q.INTERNAL;case de.UNAVAILABLE:return Q.UNAVAILABLE;case de.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case de.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case de.NOT_FOUND:return Q.NOT_FOUND;case de.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case de.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case de.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case de.ABORTED:return Q.ABORTED;case de.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case de.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case de.DATA_LOSS:return Q.DATA_LOSS;default:return vt(39323,{code:e})}}(Mt=de||(de={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";function VO(){return new TextEncoder}const FO=new Js([4294967295,4294967295],0);function w_(e){const t=VO().encode(e),n=new r1;return n.update(t),new Uint8Array(n.digest())}function E_(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),i=t.getUint32(8,!0),r=t.getUint32(12,!0);return[new Js([n,s],0),new Js([i,r],0)]}class qf{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Uo(`Invalid padding: ${n}`);if(s<0)throw new Uo(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Uo(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Uo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Js.fromNumber(this.ge)}ye(t,n,s){let i=t.add(n.multiply(Js.fromNumber(s)));return i.compare(FO)===1&&(i=new Js([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=w_(t),[s,i]=E_(n);for(let r=0;r<this.hashCount;r++){const o=this.ye(s,i,r);if(!this.we(o))return!1}return!0}static create(t,n,s){const i=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),o=new qf(r,i,n);return s.forEach((a=>o.insert(a))),o}insert(t){if(this.ge===0)return;const n=w_(t),[s,i]=E_(n);for(let r=0;r<this.hashCount;r++){const o=this.ye(s,i,r);this.Se(o)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Uo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class mu{constructor(t,n,s,i,r){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const i=new Map;return i.set(t,qa.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new mu(bt.min(),i,new ne(Ct),ws(),xt())}}class qa{constructor(t,n,s,i,r){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new qa(s,n,xt(),xt(),xt())}}class Xl{constructor(t,n,s,i){this.be=t,this.removedTargetIds=n,this.key=s,this.De=i}}class q1{constructor(t,n){this.targetId=t,this.Ce=n}}class G1{constructor(t,n,s=Re.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=i}}class I_{constructor(){this.ve=0,this.Fe=S_(),this.Me=Re.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=xt(),n=xt(),s=xt();return this.Fe.forEach(((i,r)=>{switch(r){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:s=s.add(i);break;default:vt(38017,{changeType:r})}})),new qa(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=S_()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ut(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class UO{constructor(t){this.Ge=t,this.ze=new Map,this.je=ws(),this.Je=El(),this.He=El(),this.Ye=new ne(Ct)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,i)=>{this.rt(i)&&n(i)}))}st(t){const n=t.targetId,s=t.Ce.count,i=this.ot(n);if(i){const r=i.target;if(vd(r))if(s===0){const o=new gt(r.path);this.et(n,o,ze.newNoDocument(o,bt.min()))}else Ut(s===1,20013,{expectedCount:s});else{const o=this._t(n);if(o!==s){const a=this.ut(t),l=a?this.ct(a,t,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:i=0},hashCount:r=0}=n;let o,a;try{o=ai(s).toUint8Array()}catch(l){if(l instanceof y1)return Ki("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new qf(o,i,r)}catch(l){return Ki(l instanceof Uo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let i=0;return s.forEach((r=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${r.path.canonicalString()}`;t.mightContain(a)||(this.et(n,r,null),i++)})),i}Tt(t){const n=new Map;this.ze.forEach(((r,o)=>{const a=this.ot(o);if(a){if(r.current&&vd(a.target)){const l=new gt(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,ze.newNoDocument(l,t))}r.Be&&(n.set(o,r.ke()),r.qe())}}));let s=xt();this.He.forEach(((r,o)=>{let a=!0;o.forEachWhile((l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)})),a&&(s=s.add(r))})),this.je.forEach(((r,o)=>o.setReadTime(t)));const i=new mu(t,n,this.Ye,this.je,s);return this.je=ws(),this.Je=El(),this.He=El(),this.Ye=new ne(Ct),i}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new I_,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Te(Ct),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Te(Ct),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new I_),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function El(){return new ne(gt.comparator)}function S_(){return new ne(gt.comparator)}const $O={asc:"ASCENDING",desc:"DESCENDING"},BO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HO={and:"AND",or:"OR"};class jO{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Td(e,t){return e.useProto3Json||cu(t)?t:{value:t}}function Cc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function K1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function zO(e,t){return Cc(e,t.toTimestamp())}function Yn(e){return Ut(!!e,49232),bt.fromTimestamp((function(n){const s=oi(n);return new Kt(s.seconds,s.nanos)})(e))}function Gf(e,t){return wd(e,t).canonicalString()}function wd(e,t){const n=(function(i){return new te(["projects",i.projectId,"databases",i.database])})(e).child("documents");return t===void 0?n:n.child(t)}function Q1(e){const t=te.fromString(e);return Ut(tT(t),10190,{key:t.toString()}),t}function Ed(e,t){return Gf(e.databaseId,t.path)}function Th(e,t){const n=Q1(t);if(n.get(1)!==e.databaseId.projectId)throw new ht(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ht(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new gt(X1(n))}function Y1(e,t){return Gf(e.databaseId,t)}function WO(e){const t=Q1(e);return t.length===4?te.emptyPath():X1(t)}function Id(e){return new te(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function X1(e){return Ut(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function A_(e,t,n){return{name:Ed(e,t),fields:n.value.mapValue.fields}}function qO(e,t){let n;if("targetChange"in t){t.targetChange;const s=(function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:vt(39313,{state:c})})(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],r=(function(c,h){return c.useProto3Json?(Ut(h===void 0||typeof h=="string",58123),Re.fromBase64String(h||"")):(Ut(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Re.fromUint8Array(h||new Uint8Array))})(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&(function(c){const h=c.code===void 0?Q.UNKNOWN:W1(c.code);return new ht(h,c.message||"")})(o);n=new G1(s,i,r,a||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const i=Th(e,s.document.name),r=Yn(s.document.updateTime),o=s.document.createTime?Yn(s.document.createTime):bt.min(),a=new tn({mapValue:{fields:s.document.fields}}),l=ze.newFoundDocument(i,r,o,a),c=s.targetIds||[],h=s.removedTargetIds||[];n=new Xl(c,h,l.key,l)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const i=Th(e,s.document),r=s.readTime?Yn(s.readTime):bt.min(),o=ze.newNoDocument(i,r),a=s.removedTargetIds||[];n=new Xl([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const i=Th(e,s.document),r=s.removedTargetIds||[];n=new Xl([],r,i,null)}else{if(!("filter"in t))return vt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:i=0,unchangedNames:r}=s,o=new LO(i,r),a=s.targetId;n=new q1(a,o)}}return n}function GO(e,t){let n;if(t instanceof Wa)n={update:A_(e,t.key,t.value)};else if(t instanceof z1)n={delete:Ed(e,t.key)};else if(t instanceof fi)n={update:A_(e,t.key,t.data),updateMask:nM(t.fieldMask)};else{if(!(t instanceof OO))return vt(16599,{Vt:t.type});n={verify:Ed(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(r,o){const a=o.transform;if(a instanceof Ac)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof wa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ea)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof kc)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw vt(20930,{transform:o.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(i,r){return r.updateTime!==void 0?{updateTime:zO(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:vt(27497)})(e,t.precondition)),n}function KO(e,t){return e&&e.length>0?(Ut(t!==void 0,14353),e.map((n=>(function(i,r){let o=i.updateTime?Yn(i.updateTime):Yn(r);return o.isEqual(bt.min())&&(o=Yn(r)),new xO(o,i.transformResults||[])})(n,t)))):[]}function QO(e,t){return{documents:[Y1(e,t.path)]}}function YO(e,t){const n={structuredQuery:{}},s=t.path;let i;t.collectionGroup!==null?(i=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Y1(e,i);const r=(function(c){if(c.length!==0)return Z1(Zn.create(c,"and"))})(t.filters);r&&(n.structuredQuery.where=r);const o=(function(c){if(c.length!==0)return c.map((h=>(function(f){return{field:pr(f.field),direction:ZO(f.dir)}})(h)))})(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Td(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=(function(c){return{before:c.inclusive,values:c.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(c){return{before:!c.inclusive,values:c.position}})(t.endAt)),{ft:n,parent:i}}function XO(e){let t=WO(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let i=null;if(s>0){Ut(s===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:t=t.child(h.collectionId)}let r=[];n.where&&(r=(function(d){const f=J1(d);return f instanceof Zn&&C1(f)?f.getFilters():[f]})(n.where));let o=[];n.orderBy&&(o=(function(d){return d.map((f=>(function(m){return new Sc(gr(m.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(m.direction))})(f)))})(n.orderBy));let a=null;n.limit&&(a=(function(d){let f;return f=typeof d=="object"?d.value:d,cu(f)?null:f})(n.limit));let l=null;n.startAt&&(l=(function(d){const f=!!d.before,p=d.values||[];return new Ic(p,f)})(n.startAt));let c=null;return n.endAt&&(c=(function(d){const f=!d.before,p=d.values||[];return new Ic(p,f)})(n.endAt)),gO(t,i,o,r,a,"F",l,c)}function JO(e,t){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:i})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function J1(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=gr(n.unaryFilter.field);return ve.create(s,"==",{doubleValue:NaN});case"IS_NULL":const i=gr(n.unaryFilter.field);return ve.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=gr(n.unaryFilter.field);return ve.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=gr(n.unaryFilter.field);return ve.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(e):e.fieldFilter!==void 0?(function(n){return ve.create(gr(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return Zn.create(n.compositeFilter.filters.map((s=>J1(s))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(n.compositeFilter.op))})(e):vt(30097,{filter:e})}function ZO(e){return $O[e]}function tM(e){return BO[e]}function eM(e){return HO[e]}function pr(e){return{fieldPath:e.canonicalString()}}function gr(e){return Ae.fromServerFormat(e.fieldPath)}function Z1(e){return e instanceof ve?(function(n){if(n.op==="=="){if(f_(n.value))return{unaryFilter:{field:pr(n.field),op:"IS_NAN"}};if(d_(n.value))return{unaryFilter:{field:pr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(f_(n.value))return{unaryFilter:{field:pr(n.field),op:"IS_NOT_NAN"}};if(d_(n.value))return{unaryFilter:{field:pr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pr(n.field),op:tM(n.op),value:n.value}}})(e):e instanceof Zn?(function(n){const s=n.getFilters().map((i=>Z1(i)));return s.length===1?s[0]:{compositeFilter:{op:eM(n.op),filters:s}}})(e):vt(54877,{filter:e})}function nM(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function tT(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}class zs{constructor(t,n,s,i,r=bt.min(),o=bt.min(),a=Re.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new zs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class sM{constructor(t){this.yt=t}}function iM(e){const t=XO({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?bd(t,t.limit,"L"):t}class rM{constructor(){this.Cn=new oM}addToCollectionParentIndex(t,n){return this.Cn.add(n),j.resolve()}getCollectionParents(t,n){return j.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return j.resolve()}deleteFieldIndex(t,n){return j.resolve()}deleteAllFieldIndexes(t){return j.resolve()}createTargetIndexes(t,n){return j.resolve()}getDocumentsMatchingTarget(t,n){return j.resolve(null)}getIndexType(t,n){return j.resolve(0)}getFieldIndexes(t,n){return j.resolve([])}getNextCollectionGroupToUpdate(t){return j.resolve(null)}getMinOffset(t,n){return j.resolve(ri.min())}getMinOffsetFromCollectionGroup(t,n){return j.resolve(ri.min())}updateCollectionGroup(t,n,s){return j.resolve()}updateIndexEntries(t,n){return j.resolve()}}class oM{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),i=this.index[n]||new Te(te.comparator),r=!i.has(s);return this.index[n]=i.add(s),r}has(t){const n=t.lastSegment(),s=t.popLast(),i=this.index[n];return i&&i.has(s)}getEntries(t){return(this.index[t]||new Te(te.comparator)).toArray()}}const k_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eT=41943040;class Ze{static withCacheSize(t){return new Ze(t,Ze.DEFAULT_COLLECTION_PERCENTILE,Ze.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Ze.DEFAULT_COLLECTION_PERCENTILE=10,Ze.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ze.DEFAULT=new Ze(eT,Ze.DEFAULT_COLLECTION_PERCENTILE,Ze.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ze.DISABLED=new Ze(-1,0,0);class Wr{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Wr(0)}static cr(){return new Wr(-1)}}const C_="LruGarbageCollector",aM=1048576;function x_([e,t],[n,s]){const i=Ct(e,n);return i===0?Ct(t,s):i}class lM{constructor(t){this.Ir=t,this.buffer=new Te(x_),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();x_(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class cM{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ot(C_,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ao(n)?ot(C_,"Ignoring IndexedDB error during garbage collection: ",n):await oo(n)}await this.Vr(3e5)}))}}class uM{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return j.resolve(lu.ce);const s=new lM(n);return this.mr.forEachTarget(t,(i=>s.Ar(i.sequenceNumber))).next((()=>this.mr.pr(t,(i=>s.Ar(i))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(k_)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),k_):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,i,r,o,a,l,c;const h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((d=>(d>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(t,i)))).next((d=>(s=d,a=Date.now(),this.removeTargets(t,s,n)))).next((d=>(r=d,l=Date.now(),this.removeOrphanedDocuments(t,s)))).next((d=>(c=Date.now(),dr()<=kt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${r} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:d}))))}}function hM(e,t){return new uM(e,t)}class dM{constructor(){this.changes=new Zi((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ze.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?j.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class fM{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class pM{constructor(t,n,s,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=i}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((i=>(s=i,this.remoteDocumentCache.getEntry(t,n)))).next((i=>(s!==null&&ea(s.mutation,i,un.empty(),Kt.now()),i)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,xt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=xt()){const i=Oi();return this.populateOverlays(t,i,n).next((()=>this.computeViews(t,n,i,s).next((r=>{let o=Fo();return r.forEach(((a,l)=>{o=o.insert(a,l.overlayedDocument)})),o}))))}getOverlayedDocuments(t,n){const s=Oi();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,xt())))}populateOverlays(t,n,s){const i=[];return s.forEach((r=>{n.has(r)||i.push(r)})),this.documentOverlayCache.getOverlays(t,i).next((r=>{r.forEach(((o,a)=>{n.set(o,a)}))}))}computeViews(t,n,s,i){let r=ws();const o=ta(),a=(function(){return ta()})();return n.forEach(((l,c)=>{const h=s.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof fi)?r=r.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),ea(h.mutation,c,h.mutation.getFieldMask(),Kt.now())):o.set(c.key,un.empty())})),this.recalculateAndSaveOverlays(t,r).next((l=>(l.forEach(((c,h)=>o.set(c,h))),n.forEach(((c,h)=>a.set(c,new fM(h,o.get(c)??null)))),a)))}recalculateAndSaveOverlays(t,n){const s=ta();let i=new ne(((o,a)=>o-a)),r=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((o=>{for(const a of o)a.keys().forEach((l=>{const c=n.get(l);if(c===null)return;let h=s.get(l)||un.empty();h=a.applyToLocalView(c,h),s.set(l,h);const d=(i.get(a.batchId)||xt()).add(l);i=i.insert(a.batchId,d)}))})).next((()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,d=N1();h.forEach((f=>{if(!r.has(f)){const p=H1(n.get(f),s.get(f));p!==null&&d.set(f,p),r=r.add(f)}})),o.push(this.documentOverlayCache.saveOverlays(t,c,d))}return j.waitFor(o)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,i){return(function(o){return gt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):mO(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,i):this.getDocumentsMatchingCollectionQuery(t,n,s,i)}getNextDocuments(t,n,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,i).next((r=>{const o=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,i-r.size):j.resolve(Oi());let a=va,l=r;return o.next((c=>j.forEach(c,((h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),r.get(h)?j.resolve():this.remoteDocumentCache.getEntry(t,h).next((f=>{l=l.insert(h,f)}))))).next((()=>this.populateOverlays(t,c,r))).next((()=>this.computeViews(t,l,c,xt()))).next((h=>({batchId:a,changes:L1(h)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new gt(n)).next((s=>{let i=Fo();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,i){const r=n.collectionGroup;let o=Fo();return this.indexManager.getCollectionParents(t,r).next((a=>j.forEach(a,(l=>{const c=(function(d,f){return new hu(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)})(n,l.child(r));return this.getDocumentsMatchingCollectionQuery(t,c,s,i).next((h=>{h.forEach(((d,f)=>{o=o.insert(d,f)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(t,n,s,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,r,i)))).next((o=>{r.forEach(((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,ze.newInvalidDocument(h)))}));let a=Fo();return o.forEach(((l,c)=>{const h=r.get(l);h!==void 0&&ea(h.mutation,c,un.empty(),Kt.now()),fu(n,c)&&(a=a.insert(l,c))})),a}))}}class gM{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return j.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Yn(i.createTime)}})(n)),j.resolve()}getNamedQuery(t,n){return j.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:iM(i.bundledQuery),readTime:Yn(i.readTime)}})(n)),j.resolve()}}class mM{constructor(){this.overlays=new ne(gt.comparator),this.qr=new Map}getOverlay(t,n){return j.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Oi();return j.forEach(n,(i=>this.getOverlay(t,i).next((r=>{r!==null&&s.set(i,r)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((i,r)=>{this.St(t,n,r)})),j.resolve()}removeOverlaysForBatchId(t,n,s){const i=this.qr.get(s);return i!==void 0&&(i.forEach((r=>this.overlays=this.overlays.remove(r))),this.qr.delete(s)),j.resolve()}getOverlaysForCollection(t,n,s){const i=Oi(),r=n.length+1,o=new gt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===r&&l.largestBatchId>s&&i.set(l.getKey(),l)}return j.resolve(i)}getOverlaysForCollectionGroup(t,n,s,i){let r=new ne(((c,h)=>c-h));const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>s){let h=r.get(c.largestBatchId);h===null&&(h=Oi(),r=r.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Oi(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((c,h)=>a.set(c,h))),!(a.size()>=i)););return j.resolve(a)}St(t,n,s){const i=this.overlays.get(s.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(s.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new DO(n,s));let r=this.qr.get(n);r===void 0&&(r=xt(),this.qr.set(n,r)),this.qr.set(n,r.add(s.key))}}class _M{constructor(){this.sessionToken=Re.EMPTY_BYTE_STRING}getSessionToken(t){return j.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,j.resolve()}}class Kf{constructor(){this.Qr=new Te(Se.$r),this.Ur=new Te(Se.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Se(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new Se(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new gt(new te([])),s=new Se(n,t),i=new Se(n,t+1),r=[];return this.Ur.forEachInRange([s,i],(o=>{this.Gr(o),r.push(o.key)})),r}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new gt(new te([])),s=new Se(n,t),i=new Se(n,t+1);let r=xt();return this.Ur.forEachInRange([s,i],(o=>{r=r.add(o.key)})),r}containsKey(t){const n=new Se(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Se{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return gt.comparator(t.key,n.key)||Ct(t.Yr,n.Yr)}static Kr(t,n){return Ct(t.Yr,n.Yr)||gt.comparator(t.key,n.key)}}class yM{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Te(Se.$r)}checkEmpty(t){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,i){const r=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new MO(r,n,s,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new Se(a.key,r)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(t,n){return j.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,i=this.ei(s),r=i<0?0:i;return j.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?Ff:this.tr-1)}getAllMutationBatches(t){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Se(n,0),i=new Se(n,Number.POSITIVE_INFINITY),r=[];return this.Zr.forEachInRange([s,i],(o=>{const a=this.Xr(o.Yr);r.push(a)})),j.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Te(Ct);return n.forEach((i=>{const r=new Se(i,0),o=new Se(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([r,o],(a=>{s=s.add(a.Yr)}))})),j.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,i=s.length+1;let r=s;gt.isDocumentKey(r)||(r=r.child(""));const o=new Se(new gt(r),0);let a=new Te(Ct);return this.Zr.forEachWhile((l=>{const c=l.key.path;return!!s.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Yr)),!0)}),o),j.resolve(this.ti(a))}ti(t){const n=[];return t.forEach((s=>{const i=this.Xr(s);i!==null&&n.push(i)})),n}removeMutationBatch(t,n){Ut(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return j.forEach(n.mutations,(i=>{const r=new Se(i.key,n.batchId);return s=s.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new Se(n,0),i=this.Zr.firstAfterOrEqual(s);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,j.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class vM{constructor(t){this.ri=t,this.docs=(function(){return new ne(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,i=this.docs.get(s),r=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return j.resolve(s?s.document.mutableCopy():ze.newInvalidDocument(n))}getEntries(t,n){let s=ws();return n.forEach((i=>{const r=this.docs.get(i);s=s.insert(i,r?r.document.mutableCopy():ze.newInvalidDocument(i))})),j.resolve(s)}getDocumentsMatchingQuery(t,n,s,i){let r=ws();const o=n.path,a=new gt(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||G2(q2(h),s)<=0||(i.has(h.key)||fu(n,h))&&(r=r.insert(h.key,h.mutableCopy()))}return j.resolve(r)}getAllFromCollectionGroup(t,n,s,i){vt(9500)}ii(t,n){return j.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new bM(this)}getSize(t){return j.resolve(this.size)}}class bM extends dM{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(t,i)):this.Nr.removeEntry(s)})),j.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class TM{constructor(t){this.persistence=t,this.si=new Zi((n=>Bf(n)),Hf),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new Kf,this.targetCount=0,this.ai=Wr.ur()}forEachTarget(t,n){return this.si.forEach(((s,i)=>n(i))),j.resolve()}getLastRemoteSnapshotVersion(t){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return j.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),j.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Wr(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,j.resolve()}updateTargetData(t,n){return this.Pr(n),j.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(t,n,s){let i=0;const r=[];return this.si.forEach(((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.si.delete(o),r.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)})),j.waitFor(r).next((()=>i))}getTargetCount(t){return j.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return j.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),j.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const i=this.persistence.referenceDelegate,r=[];return i&&n.forEach((o=>{r.push(i.markPotentiallyOrphaned(t,o))})),j.waitFor(r)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),j.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return j.resolve(s)}containsKey(t,n){return j.resolve(this._i.containsKey(n))}}class nT{constructor(t,n){this.ui={},this.overlays={},this.ci=new lu(0),this.li=!1,this.li=!0,this.hi=new _M,this.referenceDelegate=t(this),this.Pi=new TM(this),this.indexManager=new rM,this.remoteDocumentCache=(function(i){return new vM(i)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new sM(n),this.Ii=new gM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new mM,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new yM(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ot("MemoryPersistence","Starting transaction:",t);const i=new wM(this.ci.next());return this.referenceDelegate.Ei(),s(i).next((r=>this.referenceDelegate.di(i).next((()=>r)))).toPromise().then((r=>(i.raiseOnCommittedEvent(),r)))}Ai(t,n){return j.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class wM extends Q2{constructor(t){super(),this.currentSequenceNumber=t}}class Qf{constructor(t){this.persistence=t,this.Ri=new Kf,this.Vi=null}static mi(t){return new Qf(t)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),j.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),j.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),j.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((i=>{i.forEach((r=>this.fi.add(r.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.fi,(s=>{const i=gt.fromPath(s);return this.gi(t,i).next((r=>{r||n.removeEntry(i,bt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return j.or([()=>j.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class xc{constructor(t,n){this.persistence=t,this.pi=new Zi((s=>J2(s.path)),((s,i)=>s.isEqual(i))),this.garbageCollector=hM(this,n)}static mi(t,n){return new xc(t,n)}Ei(){}di(t){return j.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((i=>s+i))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return j.forEach(this.pi,((s,i)=>this.br(t,s,i).next((r=>r?j.resolve():n(i)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const i=this.persistence.getRemoteDocumentCache(),r=i.newChangeBuffer();return i.ii(t,(o=>this.br(t,o,n).next((a=>{a||(s++,r.removeEntry(o,bt.min()))})))).next((()=>r.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),j.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),j.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),j.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),j.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Kl(t.data.value)),n}br(t,n,s){return j.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const i=this.pi.get(n);return j.resolve(i!==void 0&&i>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Yf{constructor(t,n,s,i){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=i}static As(t,n){let s=xt(),i=xt();for(const r of n.docChanges)switch(r.type){case 0:s=s.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new Yf(t,n.fromCache,s,i)}}class EM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class IM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return JC()?8:Y2(qe())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,i){const r={result:null};return this.ys(t,n).next((o=>{r.result=o})).next((()=>{if(!r.result)return this.ws(t,n,i,s).next((o=>{r.result=o}))})).next((()=>{if(r.result)return;const o=new EM;return this.Ss(t,n,o).next((a=>{if(r.result=a,this.Vs)return this.bs(t,n,o,a.size)}))})).next((()=>r.result))}bs(t,n,s,i){return s.documentReadCount<this.fs?(dr()<=kt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",fr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),j.resolve()):(dr()<=kt.DEBUG&&ot("QueryEngine","Query:",fr(n),"scans",s.documentReadCount,"local documents and returns",i,"documents as results."),s.documentReadCount>this.gs*i?(dr()<=kt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",fr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Kn(n))):j.resolve())}ys(t,n){if(__(n))return j.resolve(null);let s=Kn(n);return this.indexManager.getIndexType(t,s).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=bd(n,null,"F"),s=Kn(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((r=>{const o=xt(...r);return this.ps.getDocuments(t,o).next((a=>this.indexManager.getMinOffset(t,s).next((l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(t,bd(n,null,"F")):this.vs(t,c,n,l)}))))})))))}ws(t,n,s,i){return __(n)||i.isEqual(bt.min())?j.resolve(null):this.ps.getDocuments(t,s).next((r=>{const o=this.Ds(n,r);return this.Cs(n,o,s,i)?j.resolve(null):(dr()<=kt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fr(n)),this.vs(t,o,n,W2(i,va)).next((a=>a)))}))}Ds(t,n){let s=new Te(M1(t));return n.forEach(((i,r)=>{fu(t,r)&&(s=s.add(r))})),s}Cs(t,n,s,i){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const r=t.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Ss(t,n,s){return dr()<=kt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",fr(n)),this.ps.getDocumentsMatchingQuery(t,n,ri.min(),s)}vs(t,n,s,i){return this.ps.getDocumentsMatchingQuery(t,s,i).next((r=>(n.forEach((o=>{r=r.insert(o.key,o)})),r)))}}const Xf="LocalStore",SM=3e8;class AM{constructor(t,n,s,i){this.persistence=t,this.Fs=n,this.serializer=i,this.Ms=new ne(Ct),this.xs=new Zi((r=>Bf(r)),Hf),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new pM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function kM(e,t,n,s){return new AM(e,t,n,s)}async function sT(e,t){const n=wt(e);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let i;return n.mutationQueue.getAllMutationBatches(s).next((r=>(i=r,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((r=>{const o=[],a=[];let l=xt();for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of r){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(s,l).next((c=>({Ls:c,removedBatchIds:o,addedBatchIds:a})))}))}))}function CM(e,t){const n=wt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const i=t.batch.keys(),r=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(a,l,c,h){const d=c.batch,f=d.keys();let p=j.resolve();return f.forEach((m=>{p=p.next((()=>h.getEntry(l,m))).next((y=>{const b=c.docVersions.get(m);Ut(b!==null,48541),y.version.compareTo(b)<0&&(d.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),h.addEntry(y)))}))})),p.next((()=>a.mutationQueue.removeMutationBatch(l,d)))})(n,s,t,r).next((()=>r.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,i,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(a){let l=xt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l})(t)))).next((()=>n.localDocuments.getDocuments(s,i)))}))}function iT(e){const t=wt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function xM(e,t){const n=wt(e),s=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(r=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];t.targetChanges.forEach(((h,d)=>{const f=i.get(d);if(!f)return;a.push(n.Pi.removeMatchingKeys(r,h.removedDocuments,d).next((()=>n.Pi.addMatchingKeys(r,h.addedDocuments,d))));let p=f.withSequenceNumber(r.currentSequenceNumber);t.targetMismatches.get(d)!==null?p=p.withResumeToken(Re.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):h.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(h.resumeToken,s)),i=i.insert(d,p),(function(y,b,E){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=SM?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0})(f,p,h)&&a.push(n.Pi.updateTargetData(r,p))}));let l=ws(),c=xt();if(t.documentUpdates.forEach((h=>{t.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(r,h))})),a.push(RM(r,o,t.documentUpdates).next((h=>{l=h.ks,c=h.qs}))),!s.isEqual(bt.min())){const h=n.Pi.getLastRemoteSnapshotVersion(r).next((d=>n.Pi.setTargetsMetadata(r,r.currentSequenceNumber,s)));a.push(h)}return j.waitFor(a).next((()=>o.apply(r))).next((()=>n.localDocuments.getLocalViewOfDocuments(r,l,c))).next((()=>l))})).then((r=>(n.Ms=i,r)))}function RM(e,t,n){let s=xt(),i=xt();return n.forEach((r=>s=s.add(r))),t.getEntries(e,s).next((r=>{let o=ws();return n.forEach(((a,l)=>{const c=r.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(bt.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):ot(Xf,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)})),{ks:o,qs:i}}))}function PM(e,t){const n=wt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Ff),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function OM(e,t){const n=wt(e);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let i;return n.Pi.getTargetData(s,t).next((r=>r?(i=r,j.resolve(i)):n.Pi.allocateTargetId(s).next((o=>(i=new zs(t,o,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,i).next((()=>i)))))))})).then((s=>{const i=n.Ms.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function Sd(e,t,n){const s=wt(e),i=s.Ms.get(t),r=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",r,(o=>s.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ao(o))throw o;ot(Xf,`Failed to update sequence numbers for target ${t}: ${o}`)}s.Ms=s.Ms.remove(t),s.xs.delete(i.target)}function R_(e,t,n){const s=wt(e);let i=bt.min(),r=xt();return s.persistence.runTransaction("Execute query","readwrite",(o=>(function(l,c,h){const d=wt(l),f=d.xs.get(h);return f!==void 0?j.resolve(d.Ms.get(f)):d.Pi.getTargetData(c,h)})(s,o,Kn(t)).next((a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(o,a.targetId).next((l=>{r=l}))})).next((()=>s.Fs.getDocumentsMatchingQuery(o,t,n?i:bt.min(),n?r:xt()))).next((a=>(MM(s,yO(t),a),{documents:a,Qs:r})))))}function MM(e,t,n){let s=e.Os.get(t)||bt.min();n.forEach(((i,r)=>{r.readTime.compareTo(s)>0&&(s=r.readTime)})),e.Os.set(t,s)}class P_{constructor(){this.activeTargetIds=IO()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class DM{constructor(){this.Mo=new P_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new P_,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class LM{Oo(t){}shutdown(){}}const O_="ConnectivityMonitor";class M_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(O_,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ot(O_,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Il=null;function Ad(){return Il===null?Il=(function(){return 268435456+Math.round(2147483648*Math.random())})():Il++,"0x"+Il.toString(16)}const wh="RestConnection",NM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VM{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${i}`,this.Wo=this.databaseId.database===wc?`project_id=${s}`:`project_id=${s}&database_id=${i}`}Go(t,n,s,i,r){const o=Ad(),a=this.zo(t,n.toUriEncodedString());ot(wh,`Sending RPC '${t}' ${o}:`,a,s);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,r);const{host:c}=new URL(a),h=no(c);return this.Jo(t,a,l,s,h).then((d=>(ot(wh,`Received RPC '${t}' ${o}: `,d),d)),(d=>{throw Ki(wh,`RPC '${t}' ${o} failed with error: `,d,"url: ",a,"request:",s),d}))}Ho(t,n,s,i,r,o){return this.Go(t,n,s,i,r)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ro})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,r)=>t[r]=i)),s&&s.headers.forEach(((i,r)=>t[r]=i))}zo(t,n){const s=NM[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class FM{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ue="WebChannelConnection";class UM extends VM{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,i,r){const o=Ad();return new Promise(((a,l)=>{const c=new o1;c.setWithCredentials(!0),c.listenOnce(a1.COMPLETE,(()=>{try{switch(c.getLastErrorCode()){case Gl.NO_ERROR:const d=c.getResponseJson();ot(Ue,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(d)),a(d);break;case Gl.TIMEOUT:ot(Ue,`RPC '${t}' ${o} timed out`),l(new ht(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Gl.HTTP_ERROR:const f=c.getStatus();if(ot(Ue,`RPC '${t}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p?.error;if(m&&m.status&&m.message){const y=(function(E){const L=E.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(L)>=0?L:Q.UNKNOWN})(m.status);l(new ht(y,m.message))}else l(new ht(Q.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ht(Q.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{ot(Ue,`RPC '${t}' ${o} completed.`)}}));const h=JSON.stringify(i);ot(Ue,`RPC '${t}' ${o} sending request:`,i),c.send(n,"POST",h,s,15)}))}T_(t,n,s){const i=Ad(),r=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=u1(),a=c1(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,s),l.encodeInitMessageHeaders=!0;const h=r.join("");ot(Ue,`Creating RPC '${t}' stream ${i}: ${h}`,l);const d=o.createWebChannel(h,l);this.I_(d);let f=!1,p=!1;const m=new FM({Yo:b=>{p?ot(Ue,`Not sending because RPC '${t}' stream ${i} is closed:`,b):(f||(ot(Ue,`Opening RPC '${t}' stream ${i} transport.`),d.open(),f=!0),ot(Ue,`RPC '${t}' stream ${i} sending:`,b),d.send(b))},Zo:()=>d.close()}),y=(b,E,L)=>{b.listen(E,(S=>{try{L(S)}catch(O){setTimeout((()=>{throw O}),0)}}))};return y(d,Vo.EventType.OPEN,(()=>{p||(ot(Ue,`RPC '${t}' stream ${i} transport opened.`),m.o_())})),y(d,Vo.EventType.CLOSE,(()=>{p||(p=!0,ot(Ue,`RPC '${t}' stream ${i} transport closed`),m.a_(),this.E_(d))})),y(d,Vo.EventType.ERROR,(b=>{p||(p=!0,Ki(Ue,`RPC '${t}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),m.a_(new ht(Q.UNAVAILABLE,"The operation could not be completed")))})),y(d,Vo.EventType.MESSAGE,(b=>{if(!p){const E=b.data[0];Ut(!!E,16349);const L=E,S=L?.error||L[0]?.error;if(S){ot(Ue,`RPC '${t}' stream ${i} received error:`,S);const O=S.status;let D=(function(T){const w=de[T];if(w!==void 0)return W1(w)})(O),F=S.message;D===void 0&&(D=Q.INTERNAL,F="Unknown error status: "+O+" with message "+S.message),p=!0,m.a_(new ht(D,F)),d.close()}else ot(Ue,`RPC '${t}' stream ${i} received:`,E),m.u_(E)}})),y(a,l1.STAT_EVENT,(b=>{b.stat===pd.PROXY?ot(Ue,`RPC '${t}' stream ${i} detected buffering proxy`):b.stat===pd.NOPROXY&&ot(Ue,`RPC '${t}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{m.__()}),0),m}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Eh(){return typeof document<"u"?document:null}function _u(e){return new jO(e,!0)}class rT{constructor(t,n,s=1e3,i=1.5,r=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=i,this.R_=r,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-s);i>0&&ot("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const D_="PersistentStream";class oT{constructor(t,n,s,i,r,o,a,l){this.Mi=t,this.S_=s,this.b_=i,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rT(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(Ts(n.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,i])=>{this.D_===n&&this.G_(s,i)}),(s=>{t((()=>{const i=new ht(Q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(i)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{s((()=>this.z_(i)))})),this.stream.onMessage((i=>{s((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(D_,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ot(D_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $M extends oT{constructor(t,n,s,i,r,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=qO(this.serializer,t),s=(function(r){if(!("targetChange"in r))return bt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?bt.min():o.readTime?Yn(o.readTime):bt.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Id(this.serializer),n.addTarget=(function(r,o){let a;const l=o.target;if(a=vd(l)?{documents:QO(r,l)}:{query:YO(r,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=K1(r,o.resumeToken);const c=Td(r,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(bt.min())>0){a.readTime=Cc(r,o.snapshotVersion.toTimestamp());const c=Td(r,o.expectedCount);c!==null&&(a.expectedCount=c)}return a})(this.serializer,t);const s=JO(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Id(this.serializer),n.removeTarget=t,this.q_(n)}}class BM extends oT{constructor(t,n,s,i,r,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Ut(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ut(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ut(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=KO(t.writeResults,t.commitTime),s=Yn(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Id(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>GO(this.serializer,s)))};this.q_(n)}}class HM{}class jM extends HM{constructor(t,n,s,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ht(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,o])=>this.connection.Go(t,wd(n,s),i,r,o))).catch((r=>{throw r.name==="FirebaseError"?(r.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ht(Q.UNKNOWN,r.toString())}))}Ho(t,n,s,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Ho(t,wd(n,s),i,o,a,r))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ht(Q.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class zM{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ts(n),this.aa=!1):ot("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Qi="RemoteStore";class WM{constructor(t,n,s,i,r){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=r,this.Aa.Oo((o=>{s.enqueueAndForget((async()=>{tr(this)&&(ot(Qi,"Restarting streams for network reachability change."),await(async function(l){const c=wt(l);c.Ea.add(4),await Ga(c),c.Ra.set("Unknown"),c.Ea.delete(4),await yu(c)})(this))}))})),this.Ra=new zM(s,i)}}async function yu(e){if(tr(e))for(const t of e.da)await t(!0)}async function Ga(e){for(const t of e.da)await t(!1)}function aT(e,t){const n=wt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),ep(n)?tp(n):lo(n).O_()&&Zf(n,t))}function Jf(e,t){const n=wt(e),s=lo(n);n.Ia.delete(t),s.O_()&&lT(n,t),n.Ia.size===0&&(s.O_()?s.L_():tr(n)&&n.Ra.set("Unknown"))}function Zf(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}lo(e).Y_(t)}function lT(e,t){e.Va.Ue(t),lo(e).Z_(t)}function tp(e){e.Va=new UO({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),lo(e).start(),e.Ra.ua()}function ep(e){return tr(e)&&!lo(e).x_()&&e.Ia.size>0}function tr(e){return wt(e).Ea.size===0}function cT(e){e.Va=void 0}async function qM(e){e.Ra.set("Online")}async function GM(e){e.Ia.forEach(((t,n)=>{Zf(e,t)}))}async function KM(e,t){cT(e),ep(e)?(e.Ra.ha(t),tp(e)):e.Ra.set("Unknown")}async function QM(e,t,n){if(e.Ra.set("Online"),t instanceof G1&&t.state===2&&t.cause)try{await(async function(i,r){const o=r.cause;for(const a of r.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))})(e,t)}catch(s){ot(Qi,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Rc(e,s)}else if(t instanceof Xl?e.Va.Ze(t):t instanceof q1?e.Va.st(t):e.Va.tt(t),!n.isEqual(bt.min()))try{const s=await iT(e.localStore);n.compareTo(s)>=0&&await(function(r,o){const a=r.Va.Tt(o);return a.targetChanges.forEach(((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=r.Ia.get(c);h&&r.Ia.set(c,h.withResumeToken(l.resumeToken,o))}})),a.targetMismatches.forEach(((l,c)=>{const h=r.Ia.get(l);if(!h)return;r.Ia.set(l,h.withResumeToken(Re.EMPTY_BYTE_STRING,h.snapshotVersion)),lT(r,l);const d=new zs(h.target,l,c,h.sequenceNumber);Zf(r,d)})),r.remoteSyncer.applyRemoteEvent(a)})(e,n)}catch(s){ot(Qi,"Failed to raise snapshot:",s),await Rc(e,s)}}async function Rc(e,t,n){if(!ao(t))throw t;e.Ea.add(1),await Ga(e),e.Ra.set("Offline"),n||(n=()=>iT(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ot(Qi,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await yu(e)}))}function uT(e,t){return t().catch((n=>Rc(e,n,t)))}async function vu(e){const t=wt(e),n=ci(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ff;for(;YM(t);)try{const i=await PM(t.localStore,s);if(i===null){t.Ta.length===0&&n.L_();break}s=i.batchId,XM(t,i)}catch(i){await Rc(t,i)}hT(t)&&dT(t)}function YM(e){return tr(e)&&e.Ta.length<10}function XM(e,t){e.Ta.push(t);const n=ci(e);n.O_()&&n.X_&&n.ea(t.mutations)}function hT(e){return tr(e)&&!ci(e).x_()&&e.Ta.length>0}function dT(e){ci(e).start()}async function JM(e){ci(e).ra()}async function ZM(e){const t=ci(e);for(const n of e.Ta)t.ea(n.mutations)}async function tD(e,t,n){const s=e.Ta.shift(),i=Wf.from(s,t,n);await uT(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await vu(e)}async function eD(e,t){t&&ci(e).X_&&await(async function(s,i){if((function(o){return NO(o)&&o!==Q.ABORTED})(i.code)){const r=s.Ta.shift();ci(s).B_(),await uT(s,(()=>s.remoteSyncer.rejectFailedWrite(r.batchId,i))),await vu(s)}})(e,t),hT(e)&&dT(e)}async function L_(e,t){const n=wt(e);n.asyncQueue.verifyOperationInProgress(),ot(Qi,"RemoteStore received new credentials");const s=tr(n);n.Ea.add(3),await Ga(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await yu(n)}async function nD(e,t){const n=wt(e);t?(n.Ea.delete(2),await yu(n)):t||(n.Ea.add(2),await Ga(n),n.Ra.set("Unknown"))}function lo(e){return e.ma||(e.ma=(function(n,s,i){const r=wt(n);return r.sa(),new $M(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)})(e.datastore,e.asyncQueue,{Xo:qM.bind(null,e),t_:GM.bind(null,e),r_:KM.bind(null,e),H_:QM.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),ep(e)?tp(e):e.Ra.set("Unknown")):(await e.ma.stop(),cT(e))}))),e.ma}function ci(e){return e.fa||(e.fa=(function(n,s,i){const r=wt(n);return r.sa(),new BM(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:JM.bind(null,e),r_:eD.bind(null,e),ta:ZM.bind(null,e),na:tD.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await vu(e)):(await e.fa.stop(),e.Ta.length>0&&(ot(Qi,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class np{constructor(t,n,s,i,r){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=i,this.removalCallback=r,this.deferred=new Zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,i,r){const o=Date.now()+s,a=new np(t,n,o,i,r);return a.start(s),a}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(Q.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sp(e,t){if(Ts("AsyncQueue",`${t}: ${e}`),ao(e))return new ht(Q.UNAVAILABLE,`${t}: ${e}`);throw e}class Pr{static emptySet(t){return new Pr(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||gt.comparator(n.key,s.key):(n,s)=>gt.comparator(n.key,s.key),this.keyedMap=Fo(),this.sortedSet=new ne(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Pr)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(!i.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Pr;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class N_{constructor(){this.ga=new ne(gt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):vt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class qr{constructor(t,n,s,i,r,o,a,l,c){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,n,s,i,r){const o=[];return n.forEach((a=>{o.push({type:0,doc:a})})),new qr(t,n,Pr.emptySet(n),o,s,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&du(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==s[i].type||!n[i].doc.isEqual(s[i].doc))return!1;return!0}}class sD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class iD{constructor(){this.queries=V_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const i=wt(n),r=i.queries;i.queries=V_(),r.forEach(((o,a)=>{for(const l of a.Sa)l.onError(s)}))})(this,new ht(Q.ABORTED,"Firestore shutting down"))}}function V_(){return new Zi((e=>O1(e)),du)}async function rD(e,t){const n=wt(e);let s=3;const i=t.query;let r=n.queries.get(i);r?!r.ba()&&t.Da()&&(s=2):(r=new sD,s=t.Da()?0:1);try{switch(s){case 0:r.wa=await n.onListen(i,!0);break;case 1:r.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=sp(o,`Initialization of query '${fr(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,r),r.Sa.push(t),t.va(n.onlineState),r.wa&&t.Fa(r.wa)&&ip(n)}async function oD(e,t){const n=wt(e),s=t.query;let i=3;const r=n.queries.get(s);if(r){const o=r.Sa.indexOf(t);o>=0&&(r.Sa.splice(o,1),r.Sa.length===0?i=t.Da()?0:1:!r.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function aD(e,t){const n=wt(e);let s=!1;for(const i of t){const r=i.query,o=n.queries.get(r);if(o){for(const a of o.Sa)a.Fa(i)&&(s=!0);o.wa=i}}s&&ip(n)}function lD(e,t,n){const s=wt(e),i=s.queries.get(t);if(i)for(const r of i.Sa)r.onError(n);s.queries.delete(t)}function ip(e){e.Ca.forEach((t=>{t.next()}))}var kd,F_;(F_=kd||(kd={})).Ma="default",F_.Cache="cache";class cD{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const i of t.docChanges)i.type!==3&&s.push(i);t=new qr(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=qr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==kd.Cache}}class fT{constructor(t){this.key=t}}class pT{constructor(t){this.key=t}}class uD{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xt(),this.mutatedKeys=xt(),this.eu=M1(t),this.tu=new Pr(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new N_,i=n?n.tu:this.tu;let r=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(((h,d)=>{const f=i.get(h),p=fu(this.query,d)?d:null,m=!!f&&this.mutatedKeys.has(f.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;f&&p?f.data.isEqual(p.data)?m!==y&&(s.track({type:3,doc:p}),b=!0):this.su(f,p)||(s.track({type:2,doc:p}),b=!0,(l&&this.eu(p,l)>0||c&&this.eu(p,c)<0)&&(a=!0)):!f&&p?(s.track({type:0,doc:p}),b=!0):f&&!p&&(s.track({type:1,doc:f}),b=!0,(l||c)&&(a=!0)),b&&(p?(o=o.add(p),r=y?r.add(h):r.delete(h)):(o=o.delete(h),r=r.delete(h)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),r=r.delete(h.key),s.track({type:1,doc:h})}return{tu:o,iu:s,Cs:a,mutatedKeys:r}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,i){const r=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const o=t.iu.ya();o.sort(((h,d)=>(function(p,m){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:b})}};return y(p)-y(m)})(h.type,d.type)||this.eu(h.doc,d.doc))),this.ou(s),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new qr(this.query,t.tu,r,o,t.mutatedKeys,l===0,c,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new N_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=xt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new pT(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new fT(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=xt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return qr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const rp="SyncEngine";class hD{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class dD{constructor(t){this.key=t,this.hu=!1}}class fD{constructor(t,n,s,i,r,o){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Zi((a=>O1(a)),du),this.Iu=new Map,this.Eu=new Set,this.du=new ne(gt.comparator),this.Au=new Map,this.Ru=new Kf,this.Vu={},this.mu=new Map,this.fu=Wr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pD(e,t,n=!0){const s=bT(e);let i;const r=s.Tu.get(t);return r?(s.sharedClientState.addLocalQueryTarget(r.targetId),i=r.view.lu()):i=await gT(s,t,n,!0),i}async function gD(e,t){const n=bT(e);await gT(n,t,!0,!1)}async function gT(e,t,n,s){const i=await OM(e.localStore,Kn(t)),r=i.targetId,o=e.sharedClientState.addLocalQueryTarget(r,n);let a;return s&&(a=await mD(e,t,r,o==="current",i.resumeToken)),e.isPrimaryClient&&n&&aT(e.remoteStore,i),a}async function mD(e,t,n,s,i){e.pu=(d,f,p)=>(async function(y,b,E,L){let S=b.view.ru(E);S.Cs&&(S=await R_(y.localStore,b.query,!1).then((({documents:k})=>b.view.ru(k,S))));const O=L&&L.targetChanges.get(b.targetId),D=L&&L.targetMismatches.get(b.targetId)!=null,F=b.view.applyChanges(S,y.isPrimaryClient,O,D);return $_(y,b.targetId,F.au),F.snapshot})(e,d,f,p);const r=await R_(e.localStore,t,!0),o=new uD(t,r.Qs),a=o.ru(r.documents),l=qa.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",i),c=o.applyChanges(a,e.isPrimaryClient,l);$_(e,n,c.au);const h=new hD(t,n,o);return e.Tu.set(t,h),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function _D(e,t,n){const s=wt(e),i=s.Tu.get(t),r=s.Iu.get(i.targetId);if(r.length>1)return s.Iu.set(i.targetId,r.filter((o=>!du(o,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(i.targetId),s.sharedClientState.isActiveQueryTarget(i.targetId)||await Sd(s.localStore,i.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(i.targetId),n&&Jf(s.remoteStore,i.targetId),Cd(s,i.targetId)})).catch(oo)):(Cd(s,i.targetId),await Sd(s.localStore,i.targetId,!0))}async function yD(e,t){const n=wt(e),s=n.Tu.get(t),i=n.Iu.get(s.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Jf(n.remoteStore,s.targetId))}async function vD(e,t,n){const s=AD(e);try{const i=await(function(o,a){const l=wt(o),c=Kt.now(),h=a.reduce(((p,m)=>p.add(m.key)),xt());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",(p=>{let m=ws(),y=xt();return l.Ns.getEntries(p,h).next((b=>{m=b,m.forEach(((E,L)=>{L.isValidDocument()||(y=y.add(E))}))})).next((()=>l.localDocuments.getOverlayedDocuments(p,m))).next((b=>{d=b;const E=[];for(const L of a){const S=PO(L,d.get(L.key).overlayedDocument);S!=null&&E.push(new fi(L.key,S,S1(S.value.mapValue),Qn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,E,a)})).next((b=>{f=b;const E=b.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(p,b.batchId,E)}))})).then((()=>({batchId:f.batchId,changes:L1(d)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(i.batchId),(function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new ne(Ct)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c})(s,i.batchId,n),await Ka(s,i.changes),await vu(s.remoteStore)}catch(i){const r=sp(i,"Failed to persist write");n.reject(r)}}async function mT(e,t){const n=wt(e);try{const s=await xM(n.localStore,t);t.targetChanges.forEach(((i,r)=>{const o=n.Au.get(r);o&&(Ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Ut(o.hu,14607):i.removedDocuments.size>0&&(Ut(o.hu,42227),o.hu=!1))})),await Ka(n,s,t)}catch(s){await oo(s)}}function U_(e,t,n){const s=wt(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const i=[];s.Tu.forEach(((r,o)=>{const a=o.view.va(t);a.snapshot&&i.push(a.snapshot)})),(function(o,a){const l=wt(o);l.onlineState=a;let c=!1;l.queries.forEach(((h,d)=>{for(const f of d.Sa)f.va(a)&&(c=!0)})),c&&ip(l)})(s.eventManager,t),i.length&&s.Pu.H_(i),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function bD(e,t,n){const s=wt(e);s.sharedClientState.updateQueryState(t,"rejected",n);const i=s.Au.get(t),r=i&&i.key;if(r){let o=new ne(gt.comparator);o=o.insert(r,ze.newNoDocument(r,bt.min()));const a=xt().add(r),l=new mu(bt.min(),new Map,new ne(Ct),o,a);await mT(s,l),s.du=s.du.remove(r),s.Au.delete(t),op(s)}else await Sd(s.localStore,t,!1).then((()=>Cd(s,t,n))).catch(oo)}async function TD(e,t){const n=wt(e),s=t.batch.batchId;try{const i=await CM(n.localStore,t);yT(n,s,null),_T(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ka(n,i)}catch(i){await oo(i)}}async function wD(e,t,n){const s=wt(e);try{const i=await(function(o,a){const l=wt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",(c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next((d=>(Ut(d!==null,37113),h=d.keys(),l.mutationQueue.removeMutationBatch(c,d)))).next((()=>l.mutationQueue.performConsistencyCheck(c))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h))).next((()=>l.localDocuments.getDocuments(c,h)))}))})(s.localStore,t);yT(s,t,n),_T(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Ka(s,i)}catch(i){await oo(i)}}function _T(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function yT(e,t,n){const s=wt(e);let i=s.Vu[s.currentUser.toKey()];if(i){const r=i.get(t);r&&(n?r.reject(n):r.resolve(),i=i.remove(t)),s.Vu[s.currentUser.toKey()]=i}}function Cd(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((s=>{e.Ru.containsKey(s)||vT(e,s)}))}function vT(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(Jf(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),op(e))}function $_(e,t,n){for(const s of n)s instanceof fT?(e.Ru.addReference(s.key,t),ED(e,s)):s instanceof pT?(ot(rp,"Document no longer in limbo: "+s.key),e.Ru.removeReference(s.key,t),e.Ru.containsKey(s.key)||vT(e,s.key)):vt(19791,{wu:s})}function ED(e,t){const n=t.key,s=n.path.canonicalString();e.du.get(n)||e.Eu.has(s)||(ot(rp,"New document in limbo: "+n),e.Eu.add(s),op(e))}function op(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new gt(te.fromString(t)),s=e.fu.next();e.Au.set(s,new dD(n)),e.du=e.du.insert(n,s),aT(e.remoteStore,new zs(Kn(jf(n.path)),s,"TargetPurposeLimboResolution",lu.ce))}}async function Ka(e,t,n){const s=wt(e),i=[],r=[],o=[];s.Tu.isEmpty()||(s.Tu.forEach(((a,l)=>{o.push(s.pu(l,t,n).then((c=>{if((c||n)&&s.isPrimaryClient){const h=c?!c.fromCache:n?.targetChanges.get(l.targetId)?.current;s.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=Yf.As(l.targetId,c);r.push(h)}})))})),await Promise.all(o),s.Pu.H_(i),await(async function(l,c){const h=wt(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(d=>j.forEach(c,(f=>j.forEach(f.Es,(p=>h.persistence.referenceDelegate.addReference(d,f.targetId,p))).next((()=>j.forEach(f.ds,(p=>h.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))))))}catch(d){if(!ao(d))throw d;ot(Xf,"Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const p=h.Ms.get(f),m=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(m);h.Ms=h.Ms.insert(f,y)}}})(s.localStore,r))}async function ID(e,t){const n=wt(e);if(!n.currentUser.isEqual(t)){ot(rp,"User change. New user:",t.toKey());const s=await sT(n.localStore,t);n.currentUser=t,(function(r,o){r.mu.forEach((a=>{a.forEach((l=>{l.reject(new ht(Q.CANCELLED,o))}))})),r.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Ka(n,s.Ls)}}function SD(e,t){const n=wt(e),s=n.Au.get(t);if(s&&s.hu)return xt().add(s.key);{let i=xt();const r=n.Iu.get(t);if(!r)return i;for(const o of r){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function bT(e){const t=wt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=mT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=SD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bD.bind(null,t),t.Pu.H_=aD.bind(null,t.eventManager),t.Pu.yu=lD.bind(null,t.eventManager),t}function AD(e){const t=wt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=TD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wD.bind(null,t),t}class Pc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=_u(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return kM(this.persistence,new IM,t.initialUser,this.serializer)}Cu(t){return new nT(Qf.mi,this.serializer)}Du(t){return new DM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pc.provider={build:()=>new Pc};class kD extends Pc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ut(this.persistence.referenceDelegate instanceof xc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new cM(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Ze.withCacheSize(this.cacheSizeBytes):Ze.DEFAULT;return new nT((s=>xc.mi(s,n)),this.serializer)}}class xd{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>U_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ID.bind(null,this.syncEngine),await nD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new iD})()}createDatastore(t){const n=_u(t.databaseInfo.databaseId),s=(function(r){return new UM(r)})(t.databaseInfo);return(function(r,o,a,l){return new jM(r,o,a,l)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,i,r,o,a){return new WM(s,i,r,o,a)})(this.localStore,this.datastore,t.asyncQueue,(n=>U_(this.syncEngine,n,0)),(function(){return M_.v()?new M_:new LM})())}createSyncEngine(t,n){return(function(i,r,o,a,l,c,h){const d=new fD(i,r,o,a,l,c);return h&&(d.gu=!0),d})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=wt(n);ot(Qi,"RemoteStore shutting down."),s.Ea.add(5),await Ga(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xd.provider={build:()=>new xd};class CD{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ts("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const ui="FirestoreClient";class xD{constructor(t,n,s,i,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=i,this.user=He.UNAUTHENTICATED,this.clientId=au.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(s,(async o=>{ot(ui,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(s,(o=>(ot(ui,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=sp(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Ih(e,t){e.asyncQueue.verifyOperationInProgress(),ot(ui,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener((async i=>{s.isEqual(i)||(await sT(t.localStore,i),s=i)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function B_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await RD(e);ot(ui,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((s=>L_(t.remoteStore,s))),e.setAppCheckTokenChangeListener(((s,i)=>L_(t.remoteStore,i))),e._onlineComponents=t}async function RD(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ot(ui,"Using user provided OfflineComponentProvider");try{await Ih(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(i){return i.name==="FirebaseError"?i.code===Q.FAILED_PRECONDITION||i.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Ki("Error using user provided cache. Falling back to memory cache: "+n),await Ih(e,new Pc)}}else ot(ui,"Using default OfflineComponentProvider"),await Ih(e,new kD(void 0));return e._offlineComponents}async function TT(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ot(ui,"Using user provided OnlineComponentProvider"),await B_(e,e._uninitializedComponentsProvider._online)):(ot(ui,"Using default OnlineComponentProvider"),await B_(e,new xd))),e._onlineComponents}function PD(e){return TT(e).then((t=>t.syncEngine))}async function OD(e){const t=await TT(e),n=t.eventManager;return n.onListen=pD.bind(null,t.syncEngine),n.onUnlisten=_D.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=gD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=yD.bind(null,t.syncEngine),n}function MD(e,t,n={}){const s=new Zs;return e.asyncQueue.enqueueAndForget((async()=>(function(r,o,a,l,c){const h=new CD({next:f=>{h.Nu(),o.enqueueAndForget((()=>oD(r,d)));const p=f.docs.has(a);!p&&f.fromCache?c.reject(new ht(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?c.reject(new ht(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new cD(jf(a.path),h,{includeMetadataChanges:!0,qa:!0});return rD(r,d)})(await OD(e),e.asyncQueue,t,n,s))),s.promise}function wT(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const H_=new Map;const ET="firestore.googleapis.com",j_=!0;class z_{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ET,this.ssl=j_}else this.host=t.host,this.ssl=t.ssl??j_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=eT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<aM)throw new ht(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}p1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wT(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ht(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ht(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ht(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,i){return s.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ap{constructor(t,n,s,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new f1;switch(s.type){case"firstParty":return new F2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ht(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=H_.get(n);s&&(ot("ComponentProvider","Removing Datastore"),H_.delete(n),s.terminate())})(this),Promise.resolve()}}function IT(e,t,n,s={}){e=ii(e,ap);const i=no(t),r=e._getSettings(),o={...r,emulatorOptions:e._getEmulatorOptions()},a=`${t}:${n}`;i&&(_0(`https://${a}`),y0("Firestore",!0)),r.host!==ET&&r.host!==a&&Ki("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...r,host:a,ssl:i,emulatorOptions:s};if(!ji(l,o)&&(e._setSettings(l),s.mockUserToken)){let c,h;if(typeof s.mockUserToken=="string")c=s.mockUserToken,h=He.MOCK_USER;else{c=jC(s.mockUserToken,e._app?.options.projectId);const d=s.mockUserToken.sub||s.mockUserToken.user_id;if(!d)throw new ht(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new He(d)}e._authCredentials=new L2(new d1(c,h))}}class bu{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new bu(this.firestore,t,this._query)}}class pe{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new pe(this.firestore,t,this._key)}toJSON(){return{type:pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(za(n,pe._jsonSchema))return new pe(t,s||null,new gt(te.fromString(n.referencePath)))}}pe._jsonSchemaVersion="firestore/documentReference/1.0",pe._jsonSchema={type:fe("string",pe._jsonSchemaVersion),referencePath:fe("string")};class Gr extends bu{constructor(t,n,s){super(t,n,jf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new pe(this.firestore,null,new gt(t))}withConverter(t){return new Gr(this.firestore,t,this._path)}}function Rd(e,t,...n){if(e=xe(e),arguments.length===1&&(t=au.newId()),z2("doc","path",t),e instanceof ap){const s=te.fromString(t,...n);return i_(s),new pe(e,null,new gt(s))}{if(!(e instanceof pe||e instanceof Gr))throw new ht(Q.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(te.fromString(t,...n));return i_(s),new pe(e.firestore,e instanceof Gr?e.converter:null,new gt(s))}}const W_="AsyncQueue";class q_{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rT(this,"async_queue_retry"),this._c=()=>{const s=Eh();s&&ot(W_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Eh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Eh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Zs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ao(t))throw t;ot(W_,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Ts("INTERNAL UNHANDLED ERROR: ",G_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const i=np.createAndSchedule(this,t,n,s,(r=>this.hc(r)));return this.tc.push(i),i}uc(){this.nc&&vt(47125,{Pc:G_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function G_(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Qa extends ap{constructor(t,n,s,i){super(t,n,s,i),this.type="firestore",this._queue=new q_,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new q_(t),this._firestoreClient=void 0,await t}}}function ST(e,t){const n=typeof e=="object"?e:w0(),s=typeof e=="string"?e:wc,i=kf(n,"firestore").getImmediate({identifier:s});if(!i._initialized){const r=BC("firestore");r&&IT(i,...r)}return i}function lp(e){if(e._terminated)throw new ht(Q.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||DD(e),e._firestoreClient}function DD(e){const t=e._freezeSettings(),n=(function(i,r,o,a){return new eO(i,r,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,wT(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new xD(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(i){const r=i?._online.build();return{_offline:i?._offline.build(r),_online:r}})(e._componentsProvider))}class cn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new cn(Re.fromBase64String(t))}catch(n){throw new ht(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new cn(Re.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:cn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(za(t,cn._jsonSchema))return cn.fromBase64String(t.bytes)}}cn._jsonSchemaVersion="firestore/bytes/1.0",cn._jsonSchema={type:fe("string",cn._jsonSchemaVersion),bytes:fe("string")};class Ya{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ht(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ae(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Tu{constructor(t){this._methodName=t}}class Cn{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ht(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ht(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ct(this._lat,t._lat)||Ct(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Cn._jsonSchemaVersion}}static fromJSON(t){if(za(t,Cn._jsonSchema))return new Cn(t.latitude,t.longitude)}}Cn._jsonSchemaVersion="firestore/geoPoint/1.0",Cn._jsonSchema={type:fe("string",Cn._jsonSchemaVersion),latitude:fe("number"),longitude:fe("number")};class xn{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,i){if(s.length!==i.length)return!1;for(let r=0;r<s.length;++r)if(s[r]!==i[r])return!1;return!0})(this._values,t._values)}toJSON(){return{type:xn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(za(t,xn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new xn(t.vectorValues);throw new ht(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xn._jsonSchemaVersion="firestore/vectorValue/1.0",xn._jsonSchema={type:fe("string",xn._jsonSchemaVersion),vectorValues:fe("object")};const LD=/^__.*__$/;class ND{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new fi(t,this.data,this.fieldMask,n,this.fieldTransforms):new Wa(t,this.data,n,this.fieldTransforms)}}class AT{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new fi(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function kT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:e})}}class cp{constructor(t,n,s,i,r,o){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=i,r===void 0&&this.Rc(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new cp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Oc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(kT(this.Ac)&&LD.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class VD{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||_u(t)}Cc(t,n,s,i=!1){return new cp({Ac:t,methodName:n,Dc:s,path:Ae.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function CT(e){const t=e._freezeSettings(),n=_u(e._databaseId);return new VD(e._databaseId,!!t.ignoreUndefinedProperties,n)}function FD(e,t,n,s,i,r={}){const o=e.Cc(r.merge||r.mergeFields?2:0,t,n,i);up("Data must be an object, but it was:",o,s);const a=xT(s,o);let l,c;if(r.merge)l=new un(o.fieldMask),c=o.fieldTransforms;else if(r.mergeFields){const h=[];for(const d of r.mergeFields){const f=Pd(t,d,n);if(!o.contains(f))throw new ht(Q.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);PT(h,f)||h.push(f)}l=new un(h),c=o.fieldTransforms.filter((d=>l.covers(d.field)))}else l=null,c=o.fieldTransforms;return new ND(new tn(a),l,c)}class wu extends Tu{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof wu}}function UD(e,t,n,s){const i=e.Cc(1,t,n);up("Data must be an object, but it was:",i,s);const r=[],o=tn.empty();di(s,((l,c)=>{const h=hp(t,l,n);c=xe(c);const d=i.yc(h);if(c instanceof wu)r.push(h);else{const f=Eu(c,d);f!=null&&(r.push(h),o.set(h,f))}}));const a=new un(r);return new AT(o,a,i.fieldTransforms)}function $D(e,t,n,s,i,r){const o=e.Cc(1,t,n),a=[Pd(t,s,n)],l=[i];if(r.length%2!=0)throw new ht(Q.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<r.length;f+=2)a.push(Pd(t,r[f])),l.push(r[f+1]);const c=[],h=tn.empty();for(let f=a.length-1;f>=0;--f)if(!PT(c,a[f])){const p=a[f];let m=l[f];m=xe(m);const y=o.yc(p);if(m instanceof wu)c.push(p);else{const b=Eu(m,y);b!=null&&(c.push(p),h.set(p,b))}}const d=new un(c);return new AT(h,d,o.fieldTransforms)}function Eu(e,t){if(RT(e=xe(e)))return up("Unsupported field value:",t,e),xT(e,t);if(e instanceof Tu)return(function(s,i){if(!kT(i.Ac))throw i.Sc(`${s._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${s._methodName}() is not currently supported inside arrays`);const r=s._toFieldTransform(i);r&&i.fieldTransforms.push(r)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,i){const r=[];let o=0;for(const a of s){let l=Eu(a,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),r.push(l),o++}return{arrayValue:{values:r}}})(e,t)}return(function(s,i){if((s=xe(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return SO(i.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const r=Kt.fromDate(s);return{timestampValue:Cc(i.serializer,r)}}if(s instanceof Kt){const r=new Kt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Cc(i.serializer,r)}}if(s instanceof Cn)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof cn)return{bytesValue:K1(i.serializer,s._byteString)};if(s instanceof pe){const r=i.databaseId,o=s.firestore._databaseId;if(!o.isEqual(r))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Gf(s.firestore._databaseId||i.databaseId,s._key.path)}}if(s instanceof xn)return(function(o,a){return{mapValue:{fields:{[E1]:{stringValue:I1},[Ec]:{arrayValue:{values:o.toArray().map((c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return zf(a.serializer,c)}))}}}}}})(s,i);throw i.Sc(`Unsupported field value: ${Vf(s)}`)})(e,t)}function xT(e,t){const n={};return _1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):di(e,((s,i)=>{const r=Eu(i,t.mc(s));r!=null&&(n[s]=r)})),{mapValue:{fields:n}}}function RT(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Kt||e instanceof Cn||e instanceof cn||e instanceof pe||e instanceof Tu||e instanceof xn)}function up(e,t,n){if(!RT(n)||!g1(n)){const s=Vf(n);throw s==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+s)}}function Pd(e,t,n){if((t=xe(t))instanceof Ya)return t._internalPath;if(typeof t=="string")return hp(e,t);throw Oc("Field path arguments must be of type string or ",e,!1,void 0,n)}const BD=new RegExp("[~\\*/\\[\\]]");function hp(e,t,n){if(t.search(BD)>=0)throw Oc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Ya(...t.split("."))._internalPath}catch{throw Oc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Oc(e,t,n,s,i){const r=s&&!s.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(r||o)&&(l+=" (found",r&&(l+=` in field ${s}`),o&&(l+=` in document ${i}`),l+=")"),new ht(Q.INVALID_ARGUMENT,a+e+l)}function PT(e,t){return e.some((n=>n.isEqual(t)))}class OT{constructor(t,n,s,i,r){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new HD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(MT("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HD extends OT{data(){return super.data()}}function MT(e,t){return typeof t=="string"?hp(e,t):t instanceof Ya?t._internalPath:t._delegate._internalPath}class DT{convertValue(t,n="none"){switch(li(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ce(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ai(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return di(t,((i,r)=>{s[i]=this.convertValue(r,n)})),s}convertVectorValue(t){const n=t.fields?.[Ec].arrayValue?.values?.map((s=>ce(s.doubleValue)));return new xn(n)}convertGeoPoint(t){return new Cn(ce(t.latitude),ce(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=uu(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ba(t));default:return null}}convertTimestamp(t){const n=oi(t);return new Kt(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=te.fromString(t);Ut(tT(s),9688,{name:t});const i=new Hr(s.get(1),s.get(3)),r=new gt(s.popFirst(5));return i.isEqual(n)||Ts(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}function jD(e,t,n){let s;return s=e?e.toFirestore(t):t,s}class vr{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ti extends OT{constructor(t,n,s,i,r,o){super(t,n,s,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new na(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(MT("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ti._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ti._jsonSchemaVersion="firestore/documentSnapshot/1.0",ti._jsonSchema={type:fe("string",ti._jsonSchemaVersion),bundleSource:fe("string","DocumentSnapshot"),bundleName:fe("string"),bundle:fe("string")};class na extends ti{data(t={}){return super.data(t)}}class Or{constructor(t,n,s,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new vr(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new na(this._firestore,this._userDataWriter,s.key,s,new vr(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ht(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((a=>{const l=new na(i._firestore,i._userDataWriter,a.doc.key,a.doc,new vr(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((a=>r||a.type!==3)).map((a=>{const l=new na(i._firestore,i._userDataWriter,a.doc.key,a.doc,new vr(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:zD(a.type),doc:l,oldIndex:c,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Or._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=au.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],i=[];return this.docs.forEach((r=>{r._document!==null&&(n.push(r._document),s.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),i.push(r.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function zD(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:e})}}function LT(e){e=ii(e,pe);const t=ii(e.firestore,Qa);return MD(lp(t),e._key).then((n=>GD(t,e,n)))}Or._jsonSchemaVersion="firestore/querySnapshot/1.0",Or._jsonSchema={type:fe("string",Or._jsonSchemaVersion),bundleSource:fe("string","QuerySnapshot"),bundleName:fe("string"),bundle:fe("string")};class WD extends DT{constructor(t){super(),this.firestore=t}convertBytes(t){return new cn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new pe(this.firestore,null,n)}}function NT(e,t,n){e=ii(e,pe);const s=ii(e.firestore,Qa),i=jD(e.converter,t);return dp(s,[FD(CT(s),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,Qn.none())])}function qD(e,t,n,...s){e=ii(e,pe);const i=ii(e.firestore,Qa),r=CT(i);let o;return o=typeof(t=xe(t))=="string"||t instanceof Ya?$D(r,"updateDoc",e._key,t,n,s):UD(r,"updateDoc",e._key,t),dp(i,[o.toMutation(e._key,Qn.exists(!0))])}function dp(e,t){return(function(s,i){const r=new Zs;return s.asyncQueue.enqueueAndForget((async()=>vD(await PD(s),i,r))),r.promise})(lp(e),t)}function GD(e,t,n){const s=n.docs.get(t._key),i=new WD(e);return new ti(e,i,t._key,s,new vr(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(i){ro=i})(so),Ur(new zi("firestore",((s,{instanceIdentifier:i,options:r})=>{const o=s.getProvider("app").getImmediate(),a=new Qa(new N2(s.getProvider("auth-internal")),new U2(o,s.getProvider("app-check-internal")),(function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ht(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hr(c.options.projectId,h)})(o,i),o);return r={useFetchStreams:n,...r},a._setSettings(r),a}),"PUBLIC").setMultipleInstances(!0)),Xs(t_,e_,t),Xs(t_,e_,"esm2020")})();const KD=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:DT,Bytes:cn,CollectionReference:Gr,DocumentReference:pe,DocumentSnapshot:ti,FieldPath:Ya,FieldValue:Tu,Firestore:Qa,FirestoreError:ht,GeoPoint:Cn,Query:bu,QueryDocumentSnapshot:na,QuerySnapshot:Or,SnapshotMetadata:vr,Timestamp:Kt,VectorValue:xn,_AutoId:au,_ByteString:Re,_DatabaseId:Hr,_DocumentKey:gt,_EmptyAuthCredentialsProvider:f1,_FieldPath:Ae,_cast:ii,_logWarn:Ki,_validateIsNotUsedTogether:p1,connectFirestoreEmulator:IT,doc:Rd,ensureFirestoreConfigured:lp,executeWrite:dp,getDoc:LT,getFirestore:ST,setDoc:NT,updateDoc:qD},Symbol.toStringTag,{value:"Module"}));var QD="firebase",YD="12.7.0";Xs(QD,YD,"app");const XD={apiKey:"AIzaSyCx092q7up_BXFgK2e13A-IQ3uDjwf6J5A",authDomain:"accsuite117.firebaseapp.com",projectId:"accsuite117",storageBucket:"accsuite117.firebasestorage.app",messagingSenderId:"352958845592",appId:"1:352958845592:web:bb6a7fbe04f6181707f6ed"};let Ia,Pi,Mc;xm().length?Ia=xm()[0]:Ia=T0(XD);Pi=M2(Ia);Mc=ST(Ia);const JD=Object.freeze(Object.defineProperty({__proto__:null,get app(){return Ia},get auth(){return Pi},get db(){return Mc}},Symbol.toStringTag,{value:"Module"})),fn=ut(null),K_=ut(!0),Ei=ut(null);let Q_=!1;function Iu(){const e=Tt(()=>!!fn.value),t=Tt(()=>fn.value?.emailVerified??!1),n=Tt(()=>fn.value?.email??""),s=Tt(()=>fn.value?.displayName??""),i=()=>{Q_||(Q_=!0,TP(Pi,f=>{fn.value=f,K_.value=!1,console.log("[AUTH] State changed:",f?.email??"logged out")}))},r=async(f,p,m)=>{Ei.value=null;try{const b=(await gP(Pi,f,p)).user;return await yP(b,{displayName:m}),await NT(Rd(Mc,"users",b.uid),{nickname:m,email:f,createdAt:new Date().toISOString(),emailVerified:!1}),await jm(b),console.log("[AUTH] Registered:",f,"Verification email sent"),{success:!0,user:b}}catch(y){return console.error("[AUTH] Register error:",y.code),Ei.value=d(y.code),{success:!1,error:Ei.value}}},o=async(f,p)=>{Ei.value=null;try{const m=await mP(Pi,f,p);return console.log("[AUTH] Logged in:",f),{success:!0,user:m.user}}catch(m){return console.error("[AUTH] Login error:",m.code),Ei.value=d(m.code),{success:!1,error:Ei.value}}},a=async()=>{try{return await wP(Pi),console.log("[AUTH] Logged out"),{success:!0}}catch(f){return console.error("[AUTH] Logout error:",f),{success:!1,error:f.message}}},l=async()=>{if(!fn.value)return{success:!1,error:"Utente non autenticato"};try{return await jm(fn.value),console.log("[AUTH] Verification email resent"),{success:!0}}catch(f){return console.error("[AUTH] Resend error:",f.code),{success:!1,error:d(f.code)}}},c=async()=>{if(!fn.value)return{verified:!1,error:"Utente non autenticato"};try{await fn.value.reload(),fn.value=Pi.currentUser;const f=fn.value?.emailVerified??!1;return console.log("[AUTH] Email verified check:",f),{verified:f,error:null}}catch(f){return console.error("[AUTH] Check verification error:",f),{verified:!1,error:f.message}}},h=async f=>{try{const p=await LT(Rd(Mc,"users",f));return p.exists()?p.data():null}catch(p){return console.error("[AUTH] Get profile error:",p),null}},d=f=>({"auth/email-already-in-use":"Email gi registrata","auth/weak-password":"Password troppo debole (min. 6 caratteri)","auth/invalid-email":"Email non valida","auth/user-not-found":"Utente non trovato","auth/wrong-password":"Password errata","auth/invalid-credential":"Credenziali non valide","auth/too-many-requests":"Troppi tentativi, riprova pi tardi","auth/network-request-failed":"Errore di rete, controlla la connessione"})[f]||"Errore di autenticazione";return i(),{currentUser:fn,isLoading:K_,authError:Ei,isAuthenticated:e,isEmailVerified:t,userEmail:n,userDisplayName:s,register:r,login:o,logout:a,resendVerificationEmail:l,checkEmailVerified:c,getUserProfile:h}}const ZD={class:"auth-overlay"},t4={class:"auth-card__body"},e4={key:0,class:"auth-nav"},n4={class:"auth-form-container"},s4=Ht({__name:"AuthOverlay",emits:["login-success","register-success"],setup(e,{emit:t}){const n=ut("login"),s=ut("login"),i=ut(),r=ut(),o=ut(),{login:a,register:l}=Iu(),c=ut(!1),h=t,d=Tt(()=>{switch(s.value){case"register":return"form-height--register";case"reset":return"form-height--reset";default:return"form-height--login"}}),f=L=>{n.value=L,s.value=L},p=()=>{s.value="reset"},m=()=>{s.value="login",n.value="login",o.value?.reset()},y=async L=>{c.value=!0;const S=await a(L.email,L.password);c.value=!1,S.success?h("login-success",L.email):i.value?.setError(S.error)},b=async L=>{c.value=!0;const S=await l(L.email,L.password,L.nickname);c.value=!1,S.success?h("register-success",L.email):r.value?.setError(S.error)},E=L=>{console.log("[AUTH] Reset:",L),o.value?.setSuccess(!0)};return(L,S)=>{const O=AC,D=CC,F=OC;return B(),Y("div",ZD,[S[4]||(S[4]=v("div",{class:"auth-overlay__ambient"},[v("div",{class:"ambient-glow ambient-glow--red"}),v("div",{class:"ambient-glow ambient-glow--gold"})],-1)),v("div",{class:At(["auth-card",d.value])},[S[3]||(S[3]=v("div",{class:"auth-card__glow"},null,-1)),v("div",t4,[S[2]||(S[2]=v("header",{class:"auth-header"},[v("div",{class:"brand"},[v("span",{class:"brand__badge"},"ACC"),v("span",{class:"brand__name"},"TELEMETRY")])],-1)),s.value!=="reset"?(B(),Y("nav",e4,[v("button",{class:At(["auth-nav__item",{"is-active":n.value==="login"}]),onClick:S[0]||(S[0]=k=>f("login"))}," Login ",2),v("button",{class:At(["auth-nav__item",{"is-active":n.value==="register"}]),onClick:S[1]||(S[1]=k=>f("register"))}," Registrati ",2)])):Gt("",!0),v("div",n4,[mt(tu,{name:"liquid",mode:"out-in"},{default:Ve(()=>[s.value==="login"?(B(),Zt(O,{key:"login",ref_key:"loginFormRef",ref:i,onSubmit:y,onForgotPassword:p},null,512)):s.value==="register"?(B(),Zt(D,{key:"register",ref_key:"registerFormRef",ref:r,onSubmit:b},null,512)):(B(),Zt(F,{key:"reset",ref_key:"resetFormRef",ref:o,onSubmit:E,onBack:m},null,512))]),_:1})])])],2)])}}}),i4=Object.assign(re(s4,[["__scopeId","data-v-5de86b96"]]),{__name:"AuthOverlay"}),r4={class:"email-verification"},o4={class:"verify-email"},a4={key:0,class:"error-message"},l4={key:1,class:"error-message resend-error"},c4=["disabled"],u4=["disabled"],h4=Ht({__name:"RegistrationSuccess",props:{email:{},requireEmailVerification:{type:Boolean}},emits:["goToDashboard","resendEmail"],setup(e,{emit:t}){const n=t,{checkEmailVerified:s,resendVerificationEmail:i}=Iu(),r=ut(!1),o=ut(!1),a=ut(null),l=ut(!1),c=ut(!1),h=async()=>{r.value=!0,a.value=null,c.value=!1;const f=await i();r.value=!1,f.success?(o.value=!0,setTimeout(()=>o.value=!1,3e3)):a.value=f.error||"Errore invio email",n("resendEmail")},d=async()=>{l.value=!0,c.value=!1;const f=await s();l.value=!1,f.verified?n("goToDashboard"):c.value=!0};return(f,p)=>(B(),Y("div",r4,[p[2]||(p[2]=v("div",{class:"verify-icon"},"",-1)),p[3]||(p[3]=v("h2",{class:"verify-title"},"Verifica la tua email",-1)),v("p",o4,H(e.email),1),p[4]||(p[4]=v("div",{class:"verify-box"},[v("p",{class:"verify-text"},"Clicca il link nell'email per attivare l'account."),v("p",{class:"verify-hint"},"Controlla anche Spam")],-1)),c.value?(B(),Y("div",a4," Email non verificata ")):Gt("",!0),a.value?(B(),Y("div",l4,H(a.value),1)):Gt("",!0),v("button",{class:At(["verify-btn",{"verify-btn--loading":l.value}]),disabled:l.value,onClick:d},[l.value?(B(),Y(Et,{key:0},[p[0]||(p[0]=v("span",{class:"spinner"},null,-1)),p[1]||(p[1]=Vt(" Controllo... ",-1))],64)):(B(),Y(Et,{key:1},[Vt(" Ho confermato l'email ")],64))],10,c4),v("button",{class:"resend-btn",disabled:r.value||o.value,onClick:h},[r.value?(B(),Y(Et,{key:0},[Vt("Invio in corso...")],64)):o.value?(B(),Y(Et,{key:1},[Vt(" Email inviata")],64)):(B(),Y(Et,{key:2},[Vt("Rinvia email di verifica")],64))],8,u4)]))}}),d4=Object.assign(re(h4,[["__scopeId","data-v-f958603b"]]),{__name:"AuthRegistrationSuccess"}),f4="modulepreload",p4=function(e,t){return new URL(e,t).href},Y_={},Dc=function(t,n,s){let i=Promise.resolve();if(n&&n.length>0){let c=function(h){return Promise.all(h.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");i=c(n.map(h=>{if(h=p4(h,s),h in Y_)return;Y_[h]=!0;const d=h.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(s)for(let m=o.length-1;m>=0;m--){const y=o[m];if(y.href===h&&(!d||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":f4,d||(p.as="script"),p.crossOrigin="",p.href=h,l&&p.setAttribute("nonce",l),document.head.appendChild(p),d)return new Promise((m,y)=>{p.addEventListener("load",m),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${h}`)))})}))}function r(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&r(a.reason);return t().catch(r)})},g4={class:"user-dropdown"},m4={class:"user-name"},_4={key:0,class:"dropdown-menu"},y4=Ht({__name:"UserDropdown",props:{userName:{}},emits:["logout","goToProfile"],setup(e,{emit:t}){const n=t,s=ut(!1),i=()=>{s.value=!s.value},r=()=>{s.value=!1},o=()=>{r(),n("goToProfile")},a=()=>{r(),n("logout")};return(l,c)=>{const h=fI("click-outside");return ds((B(),Y("div",g4,[v("button",{class:"dropdown-trigger",onClick:i},[v("span",m4,H(e.userName),1),(B(),Y("svg",{class:At(["arrow-icon",{"arrow-icon--open":s.value}]),width:"12",height:"12",viewBox:"0 0 12 12",fill:"none"},[...c[0]||(c[0]=[v("path",{d:"M3 4.5L6 7.5L9 4.5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])],2))]),mt(tu,{name:"dropdown"},{default:Ve(()=>[s.value?(B(),Y("div",_4,[v("button",{class:"dropdown-item",onClick:o},[...c[1]||(c[1]=[v("svg",{class:"item-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},[v("circle",{cx:"8",cy:"5",r:"3",stroke:"currentColor","stroke-width":"1.5"}),v("path",{d:"M2 14c0-3 2.5-5 6-5s6 2 6 5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"})],-1),Vt(" Profilo ",-1)])]),c[3]||(c[3]=v("button",{class:"dropdown-item dropdown-item--disabled",disabled:""},[v("svg",{class:"item-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},[v("circle",{cx:"8",cy:"8",r:"6",stroke:"currentColor","stroke-width":"1.5"}),v("path",{d:"M8 5v3l2 2",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"})]),Vt(" Impostazioni ")],-1)),c[4]||(c[4]=v("div",{class:"dropdown-divider"},null,-1)),v("button",{class:"dropdown-item dropdown-item--danger",onClick:a},[...c[2]||(c[2]=[v("svg",{class:"item-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},[v("path",{d:"M6 2H4a2 2 0 00-2 2v8a2 2 0 002 2h2M11 11l3-3-3-3M14 8H6",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1),Vt(" Logout ",-1)])])])):Gt("",!0)]),_:1})])),[[h,r]])}}}),VT=Object.assign(re(y4,[["__scopeId","data-v-90fbbde4"]]),{__name:"UiUserDropdown"}),v4={class:"profile-page"},b4={class:"profile-header"},T4={class:"header-inner"},w4={class:"header-left"},E4={class:"header-right"},I4={class:"profile-main"},S4={class:"profile-container"},A4={class:"profile-grid"},k4={class:"profile-sidebar"},C4={class:"user-info"},x4={class:"user-nickname"},R4={class:"user-email"},P4={class:"profile-content"},O4={class:"profile-card"},M4={class:"equipment-form"},D4={class:"form-group"},L4={class:"form-group"},N4={class:"form-group"},V4={class:"form-group"},F4=["disabled"],U4=Ht({__name:"ProfilePage",props:{userEmail:{},userNickname:{}},emits:["logout","back"],setup(e,{emit:t}){const n=e,s=t,{currentUser:i,getUserProfile:r}=Iu(),o=Tt(()=>n.userNickname?n.userNickname:n.userEmail?n.userEmail.split("@")[0]??"Utente":"Utente"),a=ut({volante:"",corona:"",pedaliera:"",struttura:""}),l=ut(!1),c=ut(!1);si(async()=>{if(i.value){const p=await r(i.value.uid);p?.equipment&&(a.value={...a.value,...p.equipment})}});const h=async()=>{if(i.value){l.value=!0;try{const{doc:p,updateDoc:m}=await Dc(async()=>{const{doc:b,updateDoc:E}=await Promise.resolve().then(()=>KD);return{doc:b,updateDoc:E}},void 0,import.meta.url),{db:y}=await Dc(async()=>{const{db:b}=await Promise.resolve().then(()=>JD);return{db:b}},void 0,import.meta.url);await m(p(y,"users",i.value.uid),{equipment:a.value}),c.value=!0,setTimeout(()=>c.value=!1,2e3)}catch(p){console.error("[PROFILE] Save error:",p)}finally{l.value=!1}}},d=()=>s("logout"),f=()=>{};return(p,m)=>{const y=VT;return B(),Y("div",v4,[v("header",b4,[v("div",T4,[v("div",w4,[v("button",{class:"back-btn",onClick:m[0]||(m[0]=b=>s("back"))},[...m[5]||(m[5]=[v("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},[v("path",{d:"M12 4L6 10L12 16",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),Vt(" Dashboard ",-1)])])]),m[6]||(m[6]=v("div",{class:"header-brand"},[v("span",{class:"brand-badge"},"ACC"),v("span",{class:"brand-name"},"TELEMETRY")],-1)),v("div",E4,[mt(y,{"user-name":o.value,onLogout:d,onGoToProfile:f},null,8,["user-name"])])])]),v("main",I4,[v("div",S4,[m[13]||(m[13]=v("h1",{class:"page-title"},"Profilo Pilota",-1)),v("div",A4,[v("div",k4,[m[7]||(m[7]=kr('<div class="avatar-container" data-v-ccc9a3bf><svg class="avatar-helmet" viewBox="0 0 100 100" fill="none" data-v-ccc9a3bf><defs data-v-ccc9a3bf><linearGradient id="helmetGrad" x1="0%" y1="0%" x2="100%" y2="100%" data-v-ccc9a3bf><stop offset="0%" stop-color="#e10600" data-v-ccc9a3bf></stop><stop offset="100%" stop-color="#ff6b00" data-v-ccc9a3bf></stop></linearGradient></defs><path d="M50 10C30 10 15 25 15 45V60C15 75 25 85 40 88L45 90H55L60 88C75 85 85 75 85 60V45C85 25 70 10 50 10Z" stroke="url(#helmetGrad)" stroke-width="3" fill="none" data-v-ccc9a3bf></path><path d="M20 45H80C80 45 78 55 50 55C22 55 20 45 20 45Z" stroke="url(#helmetGrad)" stroke-width="2" fill="rgba(225,6,0,0.1)" data-v-ccc9a3bf></path><line x1="50" y1="15" x2="50" y2="85" stroke="url(#helmetGrad)" stroke-width="1.5" data-v-ccc9a3bf></line></svg></div>',1)),v("div",C4,[v("h2",x4,H(o.value),1),v("p",R4,H(e.userEmail),1)])]),v("div",P4,[v("div",O4,[m[12]||(m[12]=v("h3",{class:"card-title"},[v("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[v("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2"}),v("circle",{cx:"12",cy:"12",r:"4",stroke:"currentColor","stroke-width":"2"})]),Vt(" Attrezzatura Sim Racing ")],-1)),v("div",M4,[v("div",D4,[m[8]||(m[8]=v("label",{class:"form-label"},"Volante / Base",-1)),ds(v("input",{"onUpdate:modelValue":m[1]||(m[1]=b=>a.value.volante=b),type:"text",class:"form-input",placeholder:"Es. Fanatec CSL DD 8Nm"},null,512),[[gl,a.value.volante]])]),v("div",L4,[m[9]||(m[9]=v("label",{class:"form-label"},"Corona / Rim",-1)),ds(v("input",{"onUpdate:modelValue":m[2]||(m[2]=b=>a.value.corona=b),type:"text",class:"form-input",placeholder:"Es. ClubSport Formula V2"},null,512),[[gl,a.value.corona]])]),v("div",N4,[m[10]||(m[10]=v("label",{class:"form-label"},"Pedaliera",-1)),ds(v("input",{"onUpdate:modelValue":m[3]||(m[3]=b=>a.value.pedaliera=b),type:"text",class:"form-input",placeholder:"Es. CSL Pedals + Load Cell"},null,512),[[gl,a.value.pedaliera]])]),v("div",V4,[m[11]||(m[11]=v("label",{class:"form-label"},"Struttura / Rig",-1)),ds(v("input",{"onUpdate:modelValue":m[4]||(m[4]=b=>a.value.struttura=b),type:"text",class:"form-input",placeholder:"Es. Next Level Racing 2.0"},null,512),[[gl,a.value.struttura]])]),v("button",{class:At(["save-btn",{"save-btn--success":c.value}]),disabled:l.value,onClick:h},[l.value?(B(),Y(Et,{key:0},[Vt("Salvataggio...")],64)):c.value?(B(),Y(Et,{key:1},[Vt(" Salvato")],64)):(B(),Y(Et,{key:2},[Vt("Salva Modifiche")],64))],10,F4)])])])])])])])}}}),$4=Object.assign(re(U4,[["__scopeId","data-v-ccc9a3bf"]]),{__name:"ProfilePage"}),B4={class:"page-container"},H4=Ht({__name:"PageContainer",setup(e){return(t,n)=>(B(),Y("div",B4,[lf(t.$slots,"default",{},void 0)]))}}),Su=Object.assign(re(H4,[["__scopeId","data-v-71e40101"]]),{__name:"LayoutPageContainer"});function Xa(e){return e+.5|0}const Ws=(e,t,n)=>Math.max(Math.min(e,n),t);function $o(e){return Ws(Xa(e*2.55),0,255)}function ei(e){return Ws(Xa(e*255),0,255)}function cs(e){return Ws(Xa(e/2.55)/100,0,1)}function X_(e){return Ws(Xa(e*100),0,100)}const pn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Od=[..."0123456789ABCDEF"],j4=e=>Od[e&15],z4=e=>Od[(e&240)>>4]+Od[e&15],Sl=e=>(e&240)>>4===(e&15),W4=e=>Sl(e.r)&&Sl(e.g)&&Sl(e.b)&&Sl(e.a);function q4(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&pn[e[1]]*17,g:255&pn[e[2]]*17,b:255&pn[e[3]]*17,a:t===5?pn[e[4]]*17:255}:(t===7||t===9)&&(n={r:pn[e[1]]<<4|pn[e[2]],g:pn[e[3]]<<4|pn[e[4]],b:pn[e[5]]<<4|pn[e[6]],a:t===9?pn[e[7]]<<4|pn[e[8]]:255})),n}const G4=(e,t)=>e<255?t(e):"";function K4(e){var t=W4(e)?j4:z4;return e?"#"+t(e.r)+t(e.g)+t(e.b)+G4(e.a,t):void 0}const Q4=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function FT(e,t,n){const s=t*Math.min(n,1-n),i=(r,o=(r+e/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function Y4(e,t,n){const s=(i,r=(i+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function X4(e,t,n){const s=FT(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)s[i]*=1-t-n,s[i]+=t;return s}function J4(e,t,n,s,i){return e===i?(t-n)/s+(t<n?6:0):t===i?(n-e)/s+2:(e-t)/s+4}function fp(e){const n=e.r/255,s=e.g/255,i=e.b/255,r=Math.max(n,s,i),o=Math.min(n,s,i),a=(r+o)/2;let l,c,h;return r!==o&&(h=r-o,c=a>.5?h/(2-r-o):h/(r+o),l=J4(n,s,i,h,r),l=l*60+.5),[l|0,c||0,a]}function pp(e,t,n,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,s)).map(ei)}function gp(e,t,n){return pp(FT,e,t,n)}function Z4(e,t,n){return pp(X4,e,t,n)}function tL(e,t,n){return pp(Y4,e,t,n)}function UT(e){return(e%360+360)%360}function eL(e){const t=Q4.exec(e);let n=255,s;if(!t)return;t[5]!==s&&(n=t[6]?$o(+t[5]):ei(+t[5]));const i=UT(+t[2]),r=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?s=Z4(i,r,o):t[1]==="hsv"?s=tL(i,r,o):s=gp(i,r,o),{r:s[0],g:s[1],b:s[2],a:n}}function nL(e,t){var n=fp(e);n[0]=UT(n[0]+t),n=gp(n),e.r=n[0],e.g=n[1],e.b=n[2]}function sL(e){if(!e)return;const t=fp(e),n=t[0],s=X_(t[1]),i=X_(t[2]);return e.a<255?`hsla(${n}, ${s}%, ${i}%, ${cs(e.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const J_={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Z_={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function iL(){const e={},t=Object.keys(Z_),n=Object.keys(J_);let s,i,r,o,a;for(s=0;s<t.length;s++){for(o=a=t[s],i=0;i<n.length;i++)r=n[i],a=a.replace(r,J_[r]);r=parseInt(Z_[o],16),e[a]=[r>>16&255,r>>8&255,r&255]}return e}let Al;function rL(e){Al||(Al=iL(),Al.transparent=[0,0,0,0]);const t=Al[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const oL=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function aL(e){const t=oL.exec(e);let n=255,s,i,r;if(t){if(t[7]!==s){const o=+t[7];n=t[8]?$o(o):Ws(o*255,0,255)}return s=+t[1],i=+t[3],r=+t[5],s=255&(t[2]?$o(s):Ws(s,0,255)),i=255&(t[4]?$o(i):Ws(i,0,255)),r=255&(t[6]?$o(r):Ws(r,0,255)),{r:s,g:i,b:r,a:n}}}function lL(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${cs(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Sh=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,cr=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function cL(e,t,n){const s=cr(cs(e.r)),i=cr(cs(e.g)),r=cr(cs(e.b));return{r:ei(Sh(s+n*(cr(cs(t.r))-s))),g:ei(Sh(i+n*(cr(cs(t.g))-i))),b:ei(Sh(r+n*(cr(cs(t.b))-r))),a:e.a+n*(t.a-e.a)}}function kl(e,t,n){if(e){let s=fp(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*n,t===0?360:1)),s=gp(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function $T(e,t){return e&&Object.assign(t||{},e)}function ty(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=ei(e[3]))):(t=$T(e,{r:0,g:0,b:0,a:1}),t.a=ei(t.a)),t}function uL(e){return e.charAt(0)==="r"?aL(e):eL(e)}class Sa{constructor(t){if(t instanceof Sa)return t;const n=typeof t;let s;n==="object"?s=ty(t):n==="string"&&(s=q4(t)||rL(t)||uL(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=$T(this._rgb);return t&&(t.a=cs(t.a)),t}set rgb(t){this._rgb=ty(t)}rgbString(){return this._valid?lL(this._rgb):void 0}hexString(){return this._valid?K4(this._rgb):void 0}hslString(){return this._valid?sL(this._rgb):void 0}mix(t,n){if(t){const s=this.rgb,i=t.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=s.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,s.r=255&c*s.r+r*i.r+.5,s.g=255&c*s.g+r*i.g+.5,s.b=255&c*s.b+r*i.b+.5,s.a=o*s.a+(1-o)*i.a,this.rgb=s}return this}interpolate(t,n){return t&&(this._rgb=cL(this._rgb,t._rgb,n)),this}clone(){return new Sa(this.rgb)}alpha(t){return this._rgb.a=ei(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Xa(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return kl(this._rgb,2,t),this}darken(t){return kl(this._rgb,2,-t),this}saturate(t){return kl(this._rgb,1,t),this}desaturate(t){return kl(this._rgb,1,-t),this}rotate(t){return nL(this._rgb,t),this}}function is(){}const hL=(()=>{let e=0;return()=>e++})();function Qt(e){return e==null}function be(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Dt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Ge(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Vn(e,t){return Ge(e)?e:t}function Ot(e,t){return typeof e>"u"?t:e}const dL=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Xt(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function $t(e,t,n,s){let i,r,o;if(be(e))for(r=e.length,i=0;i<r;i++)t.call(n,e[i],i);else if(Dt(e))for(o=Object.keys(e),r=o.length,i=0;i<r;i++)t.call(n,e[o[i]],o[i])}function Lc(e,t){let n,s,i,r;if(!e||!t||e.length!==t.length)return!1;for(n=0,s=e.length;n<s;++n)if(i=e[n],r=t[n],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function Nc(e){if(be(e))return e.map(Nc);if(Dt(e)){const t=Object.create(null),n=Object.keys(e),s=n.length;let i=0;for(;i<s;++i)t[n[i]]=Nc(e[n[i]]);return t}return e}function BT(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function fL(e,t,n,s){if(!BT(e))return;const i=t[e],r=n[e];Dt(i)&&Dt(r)?Aa(i,r,s):t[e]=Nc(r)}function Aa(e,t,n){const s=be(t)?t:[t],i=s.length;if(!Dt(e))return e;n=n||{};const r=n.merger||fL;let o;for(let a=0;a<i;++a){if(o=s[a],!Dt(o))continue;const l=Object.keys(o);for(let c=0,h=l.length;c<h;++c)r(l[c],e,o,n)}return e}function sa(e,t){return Aa(e,t,{merger:pL})}function pL(e,t,n){if(!BT(e))return;const s=t[e],i=n[e];Dt(s)&&Dt(i)?sa(s,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Nc(i))}const ey={"":e=>e,x:e=>e.x,y:e=>e.y};function gL(e){const t=e.split("."),n=[];let s="";for(const i of t)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function mL(e){const t=gL(e);return n=>{for(const s of t){if(s==="")break;n=n&&n[s]}return n}}function Vc(e,t){return(ey[t]||(ey[t]=mL(t)))(e)}function mp(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Fc=e=>typeof e<"u",hi=e=>typeof e=="function",ny=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function _L(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const ke=Math.PI,Rn=2*ke,yL=Rn+ke,Uc=Number.POSITIVE_INFINITY,vL=ke/180,In=ke/2,Ii=ke/4,sy=ke*2/3,HT=Math.log10,Kr=Math.sign;function ia(e,t,n){return Math.abs(e-t)<n}function iy(e){const t=Math.round(e);e=ia(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(HT(e))),s=e/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function bL(e){const t=[],n=Math.sqrt(e);let s;for(s=1;s<n;s++)e%s===0&&(t.push(s),t.push(e/s));return n===(n|0)&&t.push(n),t.sort((i,r)=>i-r).pop(),t}function TL(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function ka(e){return!TL(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function wL(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function EL(e,t,n){let s,i,r;for(s=0,i=e.length;s<i;s++)r=e[s][n],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function Mi(e){return e*(ke/180)}function IL(e){return e*(180/ke)}function ry(e){if(!Ge(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function SL(e,t){const n=t.x-e.x,s=t.y-e.y,i=Math.sqrt(n*n+s*s);let r=Math.atan2(s,n);return r<-.5*ke&&(r+=Rn),{angle:r,distance:i}}function Md(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function AL(e,t){return(e-t+yL)%Rn-ke}function jn(e){return(e%Rn+Rn)%Rn}function jT(e,t,n,s){const i=jn(e),r=jn(t),o=jn(n),a=jn(r-i),l=jn(o-i),c=jn(i-r),h=jn(i-o);return i===r||i===o||s&&r===o||a>l&&c<h}function _n(e,t,n){return Math.max(t,Math.min(n,e))}function kL(e){return _n(e,-32768,32767)}function br(e,t,n,s=1e-6){return e>=Math.min(t,n)-s&&e<=Math.max(t,n)+s}function _p(e,t,n){n=n||(o=>e[o]<t);let s=e.length-1,i=0,r;for(;s-i>1;)r=i+s>>1,n(r)?i=r:s=r;return{lo:i,hi:s}}const Di=(e,t,n,s)=>_p(e,n,s?i=>{const r=e[i][t];return r<n||r===n&&e[i+1][t]===n}:i=>e[i][t]<n),CL=(e,t,n)=>_p(e,n,s=>e[s][t]>=n);function xL(e,t,n){let s=0,i=e.length;for(;s<i&&e[s]<t;)s++;for(;i>s&&e[i-1]>n;)i--;return s>0||i<e.length?e.slice(s,i):e}const zT=["push","pop","shift","splice","unshift"];function RL(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),zT.forEach(n=>{const s="_onData"+mp(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return e._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...r)}),o}})})}function oy(e,t){const n=e._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(t);i!==-1&&s.splice(i,1),!(s.length>0)&&(zT.forEach(r=>{delete e[r]}),delete e._chartjs)}function PL(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const WT=(function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame})();function qT(e,t){let n=[],s=!1;return function(...i){n=i,s||(s=!0,WT.call(window,()=>{s=!1,e.apply(t,n)}))}}function OL(e,t){let n;return function(...s){return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}const yp=e=>e==="start"?"left":e==="end"?"right":"center",$e=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,ML=(e,t,n,s)=>e===(s?"left":"right")?n:e==="center"?(t+n)/2:t;function DL(e,t,n){const s=t.length;let i=0,r=s;if(e._sorted){const{iScale:o,vScale:a,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,h=o.axis,{min:d,max:f,minDefined:p,maxDefined:m}=o.getUserBounds();if(p){if(i=Math.min(Di(l,h,d).lo,n?s:Di(t,h,o.getPixelForValue(d)).lo),c){const y=l.slice(0,i+1).reverse().findIndex(b=>!Qt(b[a.axis]));i-=Math.max(0,y)}i=_n(i,0,s-1)}if(m){let y=Math.max(Di(l,o.axis,f,!0).hi+1,n?0:Di(t,h,o.getPixelForValue(f),!0).hi+1);if(c){const b=l.slice(y-1).findIndex(E=>!Qt(E[a.axis]));y+=Math.max(0,b)}r=_n(y,i,s)-i}else r=s-i}return{start:i,count:r}}function LL(e){const{xScale:t,yScale:n,_scaleRanges:s}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!s)return e._scaleRanges=i,!0;const r=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,i),r}const Cl=e=>e===0||e===1,ay=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Rn/n)),ly=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Rn/n)+1,ra={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*In)+1,easeOutSine:e=>Math.sin(e*In),easeInOutSine:e=>-.5*(Math.cos(ke*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Cl(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Cl(e)?e:ay(e,.075,.3),easeOutElastic:e=>Cl(e)?e:ly(e,.075,.3),easeInOutElastic(e){return Cl(e)?e:e<.5?.5*ay(e*2,.1125,.45):.5+.5*ly(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-ra.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?ra.easeInBounce(e*2)*.5:ra.easeOutBounce(e*2-1)*.5+.5};function vp(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function cy(e){return vp(e)?e:new Sa(e)}function Ah(e){return vp(e)?e:new Sa(e).saturate(.5).darken(.1).hexString()}const NL=["x","y","borderWidth","radius","tension"],VL=["color","borderColor","backgroundColor"];function FL(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:VL},numbers:{type:"number",properties:NL}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function UL(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const uy=new Map;function $L(e,t){t=t||{};const n=e+JSON.stringify(t);let s=uy.get(n);return s||(s=new Intl.NumberFormat(e,t),uy.set(n,s)),s}function GT(e,t,n){return $L(t,n).format(e)}const BL={values(e){return be(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const s=this.chart.options.locale;let i,r=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),r=HL(e,n)}const o=HT(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),GT(e,s,l)}};function HL(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var KT={formatters:BL};function jL(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:KT.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Yi=Object.create(null),Dd=Object.create(null);function oa(e,t){if(!t)return e;const n=t.split(".");for(let s=0,i=n.length;s<i;++s){const r=n[s];e=e[r]||(e[r]=Object.create(null))}return e}function kh(e,t,n){return typeof t=="string"?Aa(oa(e,t),n):Aa(oa(e,""),t)}class zL{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>Ah(i.backgroundColor),this.hoverBorderColor=(s,i)=>Ah(i.borderColor),this.hoverColor=(s,i)=>Ah(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return kh(this,t,n)}get(t){return oa(this,t)}describe(t,n){return kh(Dd,t,n)}override(t,n){return kh(Yi,t,n)}route(t,n,s,i){const r=oa(this,t),o=oa(this,s),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return Dt(l)?Object.assign({},c,l):Ot(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var ue=new zL({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[FL,UL,jL]);function WL(e){return!e||Qt(e.size)||Qt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function hy(e,t,n,s,i){let r=t[i];return r||(r=t[i]=e.measureText(i).width,n.push(i)),r>s&&(s=r),s}function Si(e,t,n){const s=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*s)/s+i}function dy(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Ld(e,t,n,s){QT(e,t,n,s,null)}function QT(e,t,n,s,i){let r,o,a,l,c,h,d,f;const p=t.pointStyle,m=t.rotation,y=t.radius;let b=(m||0)*vL;if(p&&typeof p=="object"&&(r=p.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){e.save(),e.translate(n,s),e.rotate(b),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore();return}if(!(isNaN(y)||y<=0)){switch(e.beginPath(),p){default:i?e.ellipse(n,s,i/2,y,0,0,Rn):e.arc(n,s,y,0,Rn),e.closePath();break;case"triangle":h=i?i/2:y,e.moveTo(n+Math.sin(b)*h,s-Math.cos(b)*y),b+=sy,e.lineTo(n+Math.sin(b)*h,s-Math.cos(b)*y),b+=sy,e.lineTo(n+Math.sin(b)*h,s-Math.cos(b)*y),e.closePath();break;case"rectRounded":c=y*.516,l=y-c,o=Math.cos(b+Ii)*l,d=Math.cos(b+Ii)*(i?i/2-c:l),a=Math.sin(b+Ii)*l,f=Math.sin(b+Ii)*(i?i/2-c:l),e.arc(n-d,s-a,c,b-ke,b-In),e.arc(n+f,s-o,c,b-In,b),e.arc(n+d,s+a,c,b,b+In),e.arc(n-f,s+o,c,b+In,b+ke),e.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*y,h=i?i/2:l,e.rect(n-h,s-l,2*h,2*l);break}b+=Ii;case"rectRot":d=Math.cos(b)*(i?i/2:y),o=Math.cos(b)*y,a=Math.sin(b)*y,f=Math.sin(b)*(i?i/2:y),e.moveTo(n-d,s-a),e.lineTo(n+f,s-o),e.lineTo(n+d,s+a),e.lineTo(n-f,s+o),e.closePath();break;case"crossRot":b+=Ii;case"cross":d=Math.cos(b)*(i?i/2:y),o=Math.cos(b)*y,a=Math.sin(b)*y,f=Math.sin(b)*(i?i/2:y),e.moveTo(n-d,s-a),e.lineTo(n+d,s+a),e.moveTo(n+f,s-o),e.lineTo(n-f,s+o);break;case"star":d=Math.cos(b)*(i?i/2:y),o=Math.cos(b)*y,a=Math.sin(b)*y,f=Math.sin(b)*(i?i/2:y),e.moveTo(n-d,s-a),e.lineTo(n+d,s+a),e.moveTo(n+f,s-o),e.lineTo(n-f,s+o),b+=Ii,d=Math.cos(b)*(i?i/2:y),o=Math.cos(b)*y,a=Math.sin(b)*y,f=Math.sin(b)*(i?i/2:y),e.moveTo(n-d,s-a),e.lineTo(n+d,s+a),e.moveTo(n+f,s-o),e.lineTo(n-f,s+o);break;case"line":o=i?i/2:Math.cos(b)*y,a=Math.sin(b)*y,e.moveTo(n-o,s-a),e.lineTo(n+o,s+a);break;case"dash":e.moveTo(n,s),e.lineTo(n+Math.cos(b)*(i?i/2:y),s+Math.sin(b)*y);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Ca(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Au(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function ku(e){e.restore()}function qL(e,t,n,s,i){if(!t)return e.lineTo(n.x,n.y);if(i==="middle"){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else i==="after"!=!!s?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function GL(e,t,n,s){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function KL(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Qt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function QL(e,t,n,s,i){if(i.strikethrough||i.underline){const r=e.measureText(s),o=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,h=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,h),e.lineTo(a,h),e.stroke()}}function YL(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function xa(e,t,n,s,i,r={}){const o=be(t)?t:[t],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(e.save(),e.font=i.string,KL(e,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&YL(e,r.backdrop),a&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),Qt(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(c,n,s,r.maxWidth)),e.fillText(c,n,s,r.maxWidth),QL(e,n,s,c,r),s+=Number(i.lineHeight);e.restore()}function Nd(e,t){const{x:n,y:s,w:i,h:r,radius:o}=t;e.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*ke,ke,!0),e.lineTo(n,s+r-o.bottomLeft),e.arc(n+o.bottomLeft,s+r-o.bottomLeft,o.bottomLeft,ke,In,!0),e.lineTo(n+i-o.bottomRight,s+r),e.arc(n+i-o.bottomRight,s+r-o.bottomRight,o.bottomRight,In,0,!0),e.lineTo(n+i,s+o.topRight),e.arc(n+i-o.topRight,s+o.topRight,o.topRight,0,-In,!0),e.lineTo(n+o.topLeft,s)}const XL=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,JL=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function ZL(e,t){const n=(""+e).match(XL);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const tN=e=>+e||0;function YT(e,t){const n={},s=Dt(t),i=s?Object.keys(t):t,r=Dt(e)?s?o=>Ot(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of i)n[o]=tN(r(o));return n}function eN(e){return YT(e,{top:"y",right:"x",bottom:"y",left:"x"})}function aa(e){return YT(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Tn(e){const t=eN(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function We(e,t){e=e||{},t=t||ue.font;let n=Ot(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let s=Ot(e.style,t.style);s&&!(""+s).match(JL)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:Ot(e.family,t.family),lineHeight:ZL(Ot(e.lineHeight,t.lineHeight),n),size:n,style:s,weight:Ot(e.weight,t.weight),string:""};return i.string=WL(i),i}function xl(e,t,n,s){let i,r,o;for(i=0,r=e.length;i<r;++i)if(o=e[i],o!==void 0&&o!==void 0)return o}function nN(e,t,n){const{min:s,max:i}=e,r=dL(t,(i-s)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(s,-Math.abs(r)),max:o(i,r)}}function er(e,t){return Object.assign(Object.create(e),t)}function bp(e,t=[""],n,s,i=()=>e[0]){const r=n||e;typeof s>"u"&&(s=tw("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:s,_getTarget:i,override:a=>bp([a,...e],t,r,s)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return JT(a,l,()=>uN(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return py(a).includes(l)},ownKeys(a){return py(a)},set(a,l,c){const h=a._storage||(a._storage=i());return a[l]=h[l]=c,delete a._keys,!0}})}function Qr(e,t,n,s){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:XT(e,s),setContext:r=>Qr(e,r,n,s),override:r=>Qr(e.override(r),t,n,s)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete e[o],!0},get(r,o,a){return JT(r,o,()=>iN(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(r,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(r,o,a){return e[o]=a,delete r[o],!0}})}function XT(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:s=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:s,isScriptable:hi(n)?n:()=>n,isIndexable:hi(s)?s:()=>s}}const sN=(e,t)=>e?e+mp(t):t,Tp=(e,t)=>Dt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function JT(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const s=n();return e[t]=s,s}function iN(e,t,n){const{_proxy:s,_context:i,_subProxy:r,_descriptors:o}=e;let a=s[t];return hi(a)&&o.isScriptable(t)&&(a=rN(t,a,e,n)),be(a)&&a.length&&(a=oN(t,a,e,o.isIndexable)),Tp(t,a)&&(a=Qr(a,i,r&&r[t],o)),a}function rN(e,t,n,s){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(r,o||s);return a.delete(e),Tp(e,l)&&(l=wp(i._scopes,i,e,l)),l}function oN(e,t,n,s){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&s(e))return t[r.index%t.length];if(Dt(t[0])){const l=t,c=i._scopes.filter(h=>h!==l);t=[];for(const h of l){const d=wp(c,i,e,h);t.push(Qr(d,r,o&&o[e],a))}}return t}function ZT(e,t,n){return hi(e)?e(t,n):e}const aN=(e,t)=>e===!0?t:typeof e=="string"?Vc(t,e):void 0;function lN(e,t,n,s,i){for(const r of t){const o=aN(n,r);if(o){e.add(o);const a=ZT(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function wp(e,t,n,s){const i=t._rootScopes,r=ZT(t._fallback,n,s),o=[...e,...i],a=new Set;a.add(s);let l=fy(a,o,n,r||n,s);return l===null||typeof r<"u"&&r!==n&&(l=fy(a,o,r,l,s),l===null)?!1:bp(Array.from(a),[""],i,r,()=>cN(t,n,s))}function fy(e,t,n,s,i){for(;n;)n=lN(e,t,n,s,i);return n}function cN(e,t,n){const s=e._getTarget();t in s||(s[t]={});const i=s[t];return be(i)&&Dt(n)?n:i||{}}function uN(e,t,n,s){let i;for(const r of t)if(i=tw(sN(r,e),n),typeof i<"u")return Tp(e,i)?wp(n,s,e,i):i}function tw(e,t){for(const n of t){if(!n)continue;const s=n[e];if(typeof s<"u")return s}}function py(e){let t=e._keys;return t||(t=e._keys=hN(e._scopes)),t}function hN(e){const t=new Set;for(const n of e)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(s);return Array.from(t)}const dN=Number.EPSILON||1e-14,Yr=(e,t)=>t<e.length&&!e[t].skip&&e[t],ew=e=>e==="x"?"y":"x";function fN(e,t,n,s){const i=e.skip?t:e,r=t,o=n.skip?t:n,a=Md(r,i),l=Md(o,r);let c=a/(a+l),h=l/(a+l);c=isNaN(c)?0:c,h=isNaN(h)?0:h;const d=s*c,f=s*h;return{previous:{x:r.x-d*(o.x-i.x),y:r.y-d*(o.y-i.y)},next:{x:r.x+f*(o.x-i.x),y:r.y+f*(o.y-i.y)}}}function pN(e,t,n){const s=e.length;let i,r,o,a,l,c=Yr(e,0);for(let h=0;h<s-1;++h)if(l=c,c=Yr(e,h+1),!(!l||!c)){if(ia(t[h],0,dN)){n[h]=n[h+1]=0;continue}i=n[h]/t[h],r=n[h+1]/t[h],a=Math.pow(i,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[h]=i*o*t[h],n[h+1]=r*o*t[h])}}function gN(e,t,n="x"){const s=ew(n),i=e.length;let r,o,a,l=Yr(e,0);for(let c=0;c<i;++c){if(o=a,a=l,l=Yr(e,c+1),!a)continue;const h=a[n],d=a[s];o&&(r=(h-o[n])/3,a[`cp1${n}`]=h-r,a[`cp1${s}`]=d-r*t[c]),l&&(r=(l[n]-h)/3,a[`cp2${n}`]=h+r,a[`cp2${s}`]=d+r*t[c])}}function mN(e,t="x"){const n=ew(t),s=e.length,i=Array(s).fill(0),r=Array(s);let o,a,l,c=Yr(e,0);for(o=0;o<s;++o)if(a=l,l=c,c=Yr(e,o+1),!!l){if(c){const h=c[t]-l[t];i[o]=h!==0?(c[n]-l[n])/h:0}r[o]=a?c?Kr(i[o-1])!==Kr(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}pN(e,i,r),gN(e,r,t)}function Rl(e,t,n){return Math.max(Math.min(e,n),t)}function _N(e,t){let n,s,i,r,o,a=Ca(e[0],t);for(n=0,s=e.length;n<s;++n)o=r,r=a,a=n<s-1&&Ca(e[n+1],t),r&&(i=e[n],o&&(i.cp1x=Rl(i.cp1x,t.left,t.right),i.cp1y=Rl(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=Rl(i.cp2x,t.left,t.right),i.cp2y=Rl(i.cp2y,t.top,t.bottom)))}function yN(e,t,n,s,i){let r,o,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")mN(e,i);else{let c=s?e[e.length-1]:e[0];for(r=0,o=e.length;r<o;++r)a=e[r],l=fN(c,a,e[Math.min(r+1,o-(s?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&_N(e,n)}function Ep(){return typeof window<"u"&&typeof document<"u"}function Ip(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function $c(e,t,n){let s;return typeof e=="string"?(s=parseInt(e,10),e.indexOf("%")!==-1&&(s=s/100*t.parentNode[n])):s=e,s}const Cu=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function vN(e,t){return Cu(e).getPropertyValue(t)}const bN=["top","right","bottom","left"];function $i(e,t,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const r=bN[i];s[r]=parseFloat(e[t+"-"+r+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const TN=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function wN(e,t){const n=e.touches,s=n&&n.length?n[0]:e,{offsetX:i,offsetY:r}=s;let o=!1,a,l;if(TN(i,r,e.target))a=i,l=r;else{const c=t.getBoundingClientRect();a=s.clientX-c.left,l=s.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function xi(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:s}=t,i=Cu(n),r=i.boxSizing==="border-box",o=$i(i,"padding"),a=$i(i,"border","width"),{x:l,y:c,box:h}=wN(e,n),d=o.left+(h&&a.left),f=o.top+(h&&a.top);let{width:p,height:m}=t;return r&&(p-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-d)/p*n.width/s),y:Math.round((c-f)/m*n.height/s)}}function EN(e,t,n){let s,i;if(t===void 0||n===void 0){const r=e&&Ip(e);if(!r)t=e.clientWidth,n=e.clientHeight;else{const o=r.getBoundingClientRect(),a=Cu(r),l=$i(a,"border","width"),c=$i(a,"padding");t=o.width-c.width-l.width,n=o.height-c.height-l.height,s=$c(a.maxWidth,r,"clientWidth"),i=$c(a.maxHeight,r,"clientHeight")}}return{width:t,height:n,maxWidth:s||Uc,maxHeight:i||Uc}}const qs=e=>Math.round(e*10)/10;function IN(e,t,n,s){const i=Cu(e),r=$i(i,"margin"),o=$c(i.maxWidth,e,"clientWidth")||Uc,a=$c(i.maxHeight,e,"clientHeight")||Uc,l=EN(e,t,n);let{width:c,height:h}=l;if(i.boxSizing==="content-box"){const f=$i(i,"border","width"),p=$i(i,"padding");c-=p.width+f.width,h-=p.height+f.height}return c=Math.max(0,c-r.width),h=Math.max(0,s?c/s:h-r.height),c=qs(Math.min(c,o,l.maxWidth)),h=qs(Math.min(h,a,l.maxHeight)),c&&!h&&(h=qs(c/2)),(t!==void 0||n!==void 0)&&s&&l.height&&h>l.height&&(h=l.height,c=qs(Math.floor(h*s))),{width:c,height:h}}function gy(e,t,n){const s=t||1,i=qs(e.height*s),r=qs(e.width*s);e.height=qs(e.height),e.width=qs(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==s||o.height!==i||o.width!==r?(e.currentDevicePixelRatio=s,o.height=i,o.width=r,e.ctx.setTransform(s,0,0,s,0,0),!0):!1}const SN=(function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Ep()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e})();function my(e,t){const n=vN(e,t),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Ri(e,t,n,s){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function AN(e,t,n,s){return{x:e.x+n*(t.x-e.x),y:s==="middle"?n<.5?e.y:t.y:s==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function kN(e,t,n,s){const i={x:e.cp2x,y:e.cp2y},r={x:t.cp1x,y:t.cp1y},o=Ri(e,i,n),a=Ri(i,r,n),l=Ri(r,t,n),c=Ri(o,a,n),h=Ri(a,l,n);return Ri(c,h,n)}const CN=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},xN=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Mr(e,t,n){return e?CN(t,n):xN()}function nw(e,t){let n,s;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=s)}function sw(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function iw(e){return e==="angle"?{between:jT,compare:AL,normalize:jn}:{between:br,compare:(t,n)=>t-n,normalize:t=>t}}function _y({start:e,end:t,count:n,loop:s,style:i}){return{start:e%n,end:t%n,loop:s&&(t-e+1)%n===0,style:i}}function RN(e,t,n){const{property:s,start:i,end:r}=n,{between:o,normalize:a}=iw(s),l=t.length;let{start:c,end:h,loop:d}=e,f,p;if(d){for(c+=l,h+=l,f=0,p=l;f<p&&o(a(t[c%l][s]),i,r);++f)c--,h--;c%=l,h%=l}return h<c&&(h+=l),{start:c,end:h,loop:d,style:e.style}}function rw(e,t,n){if(!n)return[e];const{property:s,start:i,end:r}=n,o=t.length,{compare:a,between:l,normalize:c}=iw(s),{start:h,end:d,loop:f,style:p}=RN(e,t,n),m=[];let y=!1,b=null,E,L,S;const O=()=>l(i,S,E)&&a(i,S)!==0,D=()=>a(r,E)===0||l(r,S,E),F=()=>y||O(),k=()=>!y||D();for(let T=h,w=h;T<=d;++T)L=t[T%o],!L.skip&&(E=c(L[s]),E!==S&&(y=l(E,i,r),b===null&&F()&&(b=a(E,i)===0?T:w),b!==null&&k()&&(m.push(_y({start:b,end:T,loop:f,count:o,style:p})),b=null),w=T,S=E));return b!==null&&m.push(_y({start:b,end:d,loop:f,count:o,style:p})),m}function ow(e,t){const n=[],s=e.segments;for(let i=0;i<s.length;i++){const r=rw(s[i],e.points,t);r.length&&n.push(...r)}return n}function PN(e,t,n,s){let i=0,r=t-1;if(n&&!s)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(r+=i);r>i&&e[r%t].skip;)r--;return r%=t,{start:i,end:r}}function ON(e,t,n,s){const i=e.length,r=[];let o=t,a=e[t],l;for(l=t+1;l<=n;++l){const c=e[l%i];c.skip||c.stop?a.skip||(s=!1,r.push({start:t%i,end:(l-1)%i,loop:s}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&r.push({start:t%i,end:o%i,loop:s}),r}function MN(e,t){const n=e.points,s=e.options.spanGaps,i=n.length;if(!i)return[];const r=!!e._loop,{start:o,end:a}=PN(n,i,r,s);if(s===!0)return yy(e,[{start:o,end:a,loop:r}],n,t);const l=a<o?a+i:a,c=!!e._fullLoop&&o===0&&a===i-1;return yy(e,ON(n,o,l,c),n,t)}function yy(e,t,n,s){return!s||!s.setContext||!n?t:DN(e,t,n,s)}function DN(e,t,n,s){const i=e._chart.getContext(),r=vy(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,c=[];let h=r,d=t[0].start,f=d;function p(m,y,b,E){const L=a?-1:1;if(m!==y){for(m+=l;n[m%l].skip;)m-=L;for(;n[y%l].skip;)y+=L;m%l!==y%l&&(c.push({start:m%l,end:y%l,loop:b,style:E}),h=E,d=y%l)}}for(const m of t){d=a?d:m.start;let y=n[d%l],b;for(f=d+1;f<=m.end;f++){const E=n[f%l];b=vy(s.setContext(er(i,{type:"segment",p0:y,p1:E,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),LN(b,h)&&p(d,f-1,m.loop,h),y=E,h=b}d<f-1&&p(d,f-1,m.loop,h)}return c}function vy(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function LN(e,t){if(!t)return!1;const n=[],s=function(i,r){return vp(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(e,s)!==JSON.stringify(t,s)}function Pl(e,t,n){return e.options.clip?e[n]:t[n]}function NN(e,t){const{xScale:n,yScale:s}=e;return n&&s?{left:Pl(n,t,"left"),right:Pl(n,t,"right"),top:Pl(s,t,"top"),bottom:Pl(s,t,"bottom")}:t}function aw(e,t){const n=t._clip;if(n.disabled)return!1;const s=NN(t,e.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:s.bottom+(n.bottom===!0?0:n.bottom)}}class VN{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,s,i){const r=n.listeners[i],o=n.duration;r.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=WT.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const r=s.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,s,t,"progress")),r.length||(s.running=!1,this._notify(i,s,t,"complete"),s.initial=!1),n+=r.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let s=n.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,s)),s}listen(t,n,s){this._getAnims(t).listeners[n].push(s)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var rs=new VN;const by="transparent",FN={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const s=cy(e||by),i=s.valid&&cy(t||by);return i&&i.valid?i.mix(s,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class UN{constructor(t,n,s,i){const r=n[s];i=xl([t.to,i,r,t.from]);const o=xl([t.from,r,i]);this._active=!0,this._fn=t.fn||FN[t.type||typeof o],this._easing=ra[t.easing]||ra.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=s,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],r=s-this._start,o=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=xl([t.to,n,i,t.from]),this._from=xl([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,s=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<s),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=r;return}l=n/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(r,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,s)=>{t.push({res:n,rej:s})})}_notify(t){const n=t?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}class lw{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Dt(t))return;const n=Object.keys(ue.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const r=t[i];if(!Dt(r))return;const o={};for(const a of n)o[a]=r[a];(be(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!s.has(a))&&s.set(a,o)})})}_animateOptions(t,n){const s=n.options,i=BN(t,s);if(!i)return[];const r=this._createAnimations(i,s);return s.$shared&&$N(t.options.$animations,s).then(()=>{t.options=s},()=>{}),r}_createAnimations(t,n){const s=this._properties,i=[],r=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(t,n));continue}const h=n[c];let d=r[c];const f=s.get(c);if(d)if(f&&d.active()){d.update(f,h,a);continue}else d.cancel();if(!f||!f.duration){t[c]=h;continue}r[c]=d=new UN(f,t,c,h),i.push(d)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const s=this._createAnimations(t,n);if(s.length)return rs.add(this._chart,s),!0}}function $N(e,t){const n=[],s=Object.keys(t);for(let i=0;i<s.length;i++){const r=e[s[i]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function BN(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Ty(e,t){const n=e&&e.options||{},s=n.reverse,i=n.min===void 0?t:0,r=n.max===void 0?t:0;return{start:s?r:i,end:s?i:r}}function HN(e,t,n){if(n===!1)return!1;const s=Ty(e,n),i=Ty(t,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function jN(e){let t,n,s,i;return Dt(e)?(t=e.top,n=e.right,s=e.bottom,i=e.left):t=n=s=i=e,{top:t,right:n,bottom:s,left:i,disabled:e===!1}}function cw(e,t){const n=[],s=e._getSortedDatasetMetas(t);let i,r;for(i=0,r=s.length;i<r;++i)n.push(s[i].index);return n}function wy(e,t,n,s={}){const i=e.keys,r=s.mode==="single";let o,a,l,c;if(t===null)return;let h=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(h=!0,s.all)continue;break}c=e.values[l],Ge(c)&&(r||t===0||Kr(t)===Kr(c))&&(t+=c)}return!h&&!s.all?0:t}function zN(e,t){const{iScale:n,vScale:s}=t,i=n.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,c,h;for(l=0,c=o.length;l<c;++l)h=o[l],a[l]={[i]:h,[r]:e[h]};return a}function Ch(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function WN(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function qN(e){const{min:t,max:n,minDefined:s,maxDefined:i}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function GN(e,t,n){const s=e[t]||(e[t]={});return s[n]||(s[n]={})}function Ey(e,t,n,s){for(const i of t.getMatchingVisibleMetas(s).reverse()){const r=e[i.index];if(n&&r>0||!n&&r<0)return i.index}return null}function Iy(e,t){const{chart:n,_cachedMeta:s}=e,i=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=s,l=r.axis,c=o.axis,h=WN(r,o,s),d=t.length;let f;for(let p=0;p<d;++p){const m=t[p],{[l]:y,[c]:b}=m,E=m._stacks||(m._stacks={});f=E[c]=GN(i,h,y),f[a]=b,f._top=Ey(f,o,!0,s.type),f._bottom=Ey(f,o,!1,s.type);const L=f._visualValues||(f._visualValues={});L[a]=b}}function xh(e,t){const n=e.scales;return Object.keys(n).filter(s=>n[s].axis===t).shift()}function KN(e,t){return er(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function QN(e,t,n){return er(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function xo(e,t){const n=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const i of t){const r=i._stacks;if(!r||r[s]===void 0||r[s][n]===void 0)return;delete r[s][n],r[s]._visualValues!==void 0&&r[s]._visualValues[n]!==void 0&&delete r[s]._visualValues[n]}}}const Rh=e=>e==="reset"||e==="none",Sy=(e,t)=>t?e:Object.assign({},e),YN=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:cw(n,!0),values:null};class uw{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Ch(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&xo(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(d,f,p,m)=>d==="x"?f:d==="r"?m:p,r=n.xAxisID=Ot(s.xAxisID,xh(t,"x")),o=n.yAxisID=Ot(s.yAxisID,xh(t,"y")),a=n.rAxisID=Ot(s.rAxisID,xh(t,"r")),l=n.indexAxis,c=n.iAxisID=i(l,r,o,a),h=n.vAxisID=i(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&oy(this._data,this),t._stacked&&xo(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),s=this._data;if(Dt(n)){const i=this._cachedMeta;this._data=zN(n,i)}else if(s!==n){if(s){oy(s,this);const i=this._cachedMeta;xo(i),i._parsed=[]}n&&Object.isExtensible(n)&&RL(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const r=n._stacked;n._stacked=Ch(n.vScale,n),n.stack!==s.stack&&(i=!0,xo(n),n.stack=s.stack),this._resyncElements(t),(i||r!==n._stacked)&&(Iy(this,n._parsed),n._stacked=Ch(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:s,_data:i}=this,{iScale:r,_stacked:o}=s,a=r.axis;let l=t===0&&n===i.length?!0:s._sorted,c=t>0&&s._parsed[t-1],h,d,f;if(this._parsing===!1)s._parsed=i,s._sorted=!0,f=i;else{be(i[t])?f=this.parseArrayData(s,i,t,n):Dt(i[t])?f=this.parseObjectData(s,i,t,n):f=this.parsePrimitiveData(s,i,t,n);const p=()=>d[a]===null||c&&d[a]<c[a];for(h=0;h<n;++h)s._parsed[h+t]=d=f[h],l&&(p()&&(l=!1),c=d);s._sorted=l}o&&Iy(this,f)}parsePrimitiveData(t,n,s,i){const{iScale:r,vScale:o}=t,a=r.axis,l=o.axis,c=r.getLabels(),h=r===o,d=new Array(i);let f,p,m;for(f=0,p=i;f<p;++f)m=f+s,d[f]={[a]:h||r.parse(c[m],m),[l]:o.parse(n[m],m)};return d}parseArrayData(t,n,s,i){const{xScale:r,yScale:o}=t,a=new Array(i);let l,c,h,d;for(l=0,c=i;l<c;++l)h=l+s,d=n[h],a[l]={x:r.parse(d[0],h),y:o.parse(d[1],h)};return a}parseObjectData(t,n,s,i){const{xScale:r,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let h,d,f,p;for(h=0,d=i;h<d;++h)f=h+s,p=n[f],c[h]={x:r.parse(Vc(p,a),f),y:o.parse(Vc(p,l),f)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,s){const i=this.chart,r=this._cachedMeta,o=n[t.axis],a={keys:cw(i,!0),values:n._stacks[t.axis]._visualValues};return wy(a,o,r.index,{mode:s})}updateRangeFromParsed(t,n,s,i){const r=s[n.axis];let o=r===null?NaN:r;const a=i&&s._stacks[n.axis];i&&a&&(i.values=a,o=wy(i,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const s=this._cachedMeta,i=s._parsed,r=s._sorted&&t===s.iScale,o=i.length,a=this._getOtherScale(t),l=YN(n,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:d}=qN(a);let f,p;function m(){p=i[f];const y=p[a.axis];return!Ge(p[t.axis])||h>y||d<y}for(f=0;f<o&&!(!m()&&(this.updateRangeFromParsed(c,t,p,l),r));++f);if(r){for(f=o-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(c,t,p,l);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,s=[];let i,r,o;for(i=0,r=n.length;i<r;++i)o=n[i][t.axis],Ge(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,s=n.iScale,i=n.vScale,r=this.getParsed(t);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=jN(Ot(this.options.clip,HN(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let h;for(s.dataset&&s.dataset.draw(t,r,a,l),h=a;h<a+l;++h){const d=i[h];d.hidden||(d.active&&c?o.push(d):d.draw(t,r))}for(h=0;h<o.length;++h)o[h].draw(t,r)}getStyle(t,n){const s=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,n,s){const i=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];r=o.$context||(o.$context=QN(this.getContext(),t,o)),r.parsed=this.getParsed(t),r.raw=i.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=KN(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=s,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",s){const i=n==="active",r=this._cachedDataOpts,o=t+"-"+n,a=r[o],l=this.enableOptionSharing&&Fc(s);if(a)return Sy(a,l);const c=this.chart.config,h=c.datasetElementScopeKeys(this._type,t),d=i?[`${t}Hover`,"hover",t,""]:[t,""],f=c.getOptionScopes(this.getDataset(),h),p=Object.keys(ue.elements[t]),m=()=>this.getContext(s,i,n),y=c.resolveNamedOptions(f,p,m,d);return y.$shared&&(y.$shared=l,r[o]=Object.freeze(Sy(y,l))),y}_resolveAnimations(t,n,s){const i=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(i.options.animation!==!1){const h=this.chart.config,d=h.datasetAnimationScopeKeys(this._type,n),f=h.getOptionScopes(this.getDataset(),d);l=h.createResolver(f,this.getContext(t,s,n))}const c=new lw(i,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Rh(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const s=this.resolveDataElementOptions(t,n),i=this._sharedOptions,r=this.getSharedOptions(s),o=this.includeOptions(n,r)||r!==i;return this.updateSharedOptions(r,n,s),{sharedOptions:r,includeOptions:o}}updateElement(t,n,s,i){Rh(i)?Object.assign(t,s):this._resolveAnimations(n,i).update(t,s)}updateSharedOptions(t,n,s){t&&!Rh(n)&&this._resolveAnimations(void 0,n).update(t,s)}_setStyle(t,n,s,i){t.active=i;const r=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(t,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(t,n,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,n,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,s=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=s.length,r=n.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,t):r<i&&this._removeElements(r,i-r)}_insertElements(t,n,s=!0){const i=this._cachedMeta,r=i.data,o=t+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=t;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(t,n),s&&this.updateElements(r,t,n,"reset")}updateElements(t,n,s,i){}_removeElements(t,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(t,n);s._stacked&&xo(s,i)}s.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,s,i]=t;this[n](s,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class XN extends uw{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:s,data:i=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=DL(n,i,o);this._drawStart=a,this._drawCount=l,LL(n)&&(a=0,l=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=i;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:c},t),this.updateElements(i,a,l,t)}updateElements(t,n,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:h,includeOptions:d}=this._getSharedOptions(n,i),f=o.axis,p=a.axis,{spanGaps:m,segment:y}=this.options,b=ka(m)?m:Number.POSITIVE_INFINITY,E=this.chart._animationsDisabled||r||i==="none",L=n+s,S=t.length;let O=n>0&&this.getParsed(n-1);for(let D=0;D<S;++D){const F=t[D],k=E?F:{};if(D<n||D>=L){k.skip=!0;continue}const T=this.getParsed(D),w=Qt(T[p]),C=k[f]=o.getPixelForValue(T[f],D),R=k[p]=r||w?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,T,l):T[p],D);k.skip=isNaN(C)||isNaN(R)||w,k.stop=D>0&&Math.abs(T[f]-O[f])>b,y&&(k.parsed=T,k.raw=c.data[D]),d&&(k.options=h||this.resolveDataElementOptions(D,F.active?"active":i)),E||this.updateElement(F,D,k,i),O=T}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,s=n.options&&n.options.borderWidth||0,i=t.data||[];if(!i.length)return s;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,r,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function Ai(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Sp{static override(t){Object.assign(Sp.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Ai()}parse(){return Ai()}format(){return Ai()}add(){return Ai()}diff(){return Ai()}startOf(){return Ai()}endOf(){return Ai()}}var JN={_date:Sp};function ZN(e,t,n,s){const{controller:i,data:r,_sorted:o}=e,a=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&r.length){const c=a._reversePixels?CL:Di;if(s){if(i._sharedOptions){const h=r[0],d=typeof h.getRange=="function"&&h.getRange(t);if(d){const f=c(r,t,n-d),p=c(r,t,n+d);return{lo:f.lo,hi:p.hi}}}}else{const h=c(r,t,n);if(l){const{vScale:d}=i._cachedMeta,{_parsed:f}=e,p=f.slice(0,h.lo+1).reverse().findIndex(y=>!Qt(y[d.axis]));h.lo-=Math.max(0,p);const m=f.slice(h.hi).findIndex(y=>!Qt(y[d.axis]));h.hi+=Math.max(0,m)}return h}}return{lo:0,hi:r.length-1}}function xu(e,t,n,s,i){const r=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=r.length;a<l;++a){const{index:c,data:h}=r[a],{lo:d,hi:f}=ZN(r[a],t,o,i);for(let p=d;p<=f;++p){const m=h[p];m.skip||s(m,c,p)}}}function tV(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(s,i){const r=t?Math.abs(s.x-i.x):0,o=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Ph(e,t,n,s,i){const r=[];return!i&&!e.isPointInArea(t)||xu(e,n,t,function(a,l,c){!i&&!Ca(a,e.chartArea,0)||a.inRange(t.x,t.y,s)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function eV(e,t,n,s){let i=[];function r(o,a,l){const{startAngle:c,endAngle:h}=o.getProps(["startAngle","endAngle"],s),{angle:d}=SL(o,{x:t.x,y:t.y});jT(d,c,h)&&i.push({element:o,datasetIndex:a,index:l})}return xu(e,n,t,r),i}function nV(e,t,n,s,i,r){let o=[];const a=tV(n);let l=Number.POSITIVE_INFINITY;function c(h,d,f){const p=h.inRange(t.x,t.y,i);if(s&&!p)return;const m=h.getCenterPoint(i);if(!(!!r||e.isPointInArea(m))&&!p)return;const b=a(t,m);b<l?(o=[{element:h,datasetIndex:d,index:f}],l=b):b===l&&o.push({element:h,datasetIndex:d,index:f})}return xu(e,n,t,c),o}function Oh(e,t,n,s,i,r){return!r&&!e.isPointInArea(t)?[]:n==="r"&&!s?eV(e,t,n,i):nV(e,t,n,s,i,r)}function Ay(e,t,n,s,i){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return xu(e,n,t,(l,c,h)=>{l[o]&&l[o](t[n],i)&&(r.push({element:l,datasetIndex:c,index:h}),a=a||l.inRange(t.x,t.y,i))}),s&&!a?[]:r}var sV={modes:{index(e,t,n,s){const i=xi(t,e),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Ph(e,i,r,s,o):Oh(e,i,r,!1,s,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const h=a[0].index,d=c.data[h];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:h})}),l):[]},dataset(e,t,n,s){const i=xi(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Ph(e,i,r,s,o):Oh(e,i,r,!1,s,o);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let h=0;h<c.length;++h)a.push({element:c[h],datasetIndex:l,index:h})}return a},point(e,t,n,s){const i=xi(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;return Ph(e,i,r,s,o)},nearest(e,t,n,s){const i=xi(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;return Oh(e,i,r,n.intersect,s,o)},x(e,t,n,s){const i=xi(t,e);return Ay(e,i,"x",n.intersect,s)},y(e,t,n,s){const i=xi(t,e);return Ay(e,i,"y",n.intersect,s)}}};const hw=["left","top","right","bottom"];function Ro(e,t){return e.filter(n=>n.pos===t)}function ky(e,t){return e.filter(n=>hw.indexOf(n.pos)===-1&&n.box.axis===t)}function Po(e,t){return e.sort((n,s)=>{const i=t?s:n,r=t?n:s;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function iV(e){const t=[];let n,s,i,r,o,a;for(n=0,s=(e||[]).length;n<s;++n)i=e[n],{position:r,options:{stack:o,stackWeight:a=1}}=i,t.push({index:n,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return t}function rV(e){const t={};for(const n of e){const{stack:s,pos:i,stackWeight:r}=n;if(!s||!hw.includes(i))continue;const o=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function oV(e,t){const n=rV(e),{vBoxMaxWidth:s,hBoxMaxHeight:i}=t;let r,o,a;for(r=0,o=e.length;r<o;++r){a=e[r];const{fullSize:l}=a.box,c=n[a.stack],h=c&&a.stackWeight/c.weight;a.horizontal?(a.width=h?h*s:l&&t.availableWidth,a.height=i):(a.width=s,a.height=h?h*i:l&&t.availableHeight)}return n}function aV(e){const t=iV(e),n=Po(t.filter(c=>c.box.fullSize),!0),s=Po(Ro(t,"left"),!0),i=Po(Ro(t,"right")),r=Po(Ro(t,"top"),!0),o=Po(Ro(t,"bottom")),a=ky(t,"x"),l=ky(t,"y");return{fullSize:n,leftAndTop:s.concat(r),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:Ro(t,"chartArea"),vertical:s.concat(i).concat(l),horizontal:r.concat(o).concat(a)}}function Cy(e,t,n,s){return Math.max(e[n],t[n])+Math.max(e[s],t[s])}function dw(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function lV(e,t,n,s){const{pos:i,box:r}=n,o=e.maxPadding;if(!Dt(i)){n.size&&(e[i]-=n.size);const d=s[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?r.height:r.width),n.size=d.size/d.count,e[i]+=n.size}r.getPadding&&dw(o,r.getPadding());const a=Math.max(0,t.outerWidth-Cy(o,e,"left","right")),l=Math.max(0,t.outerHeight-Cy(o,e,"top","bottom")),c=a!==e.w,h=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:h}:{same:h,other:c}}function cV(e){const t=e.maxPadding;function n(s){const i=Math.max(t[s]-e[s],0);return e[s]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function uV(e,t){const n=t.maxPadding;function s(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(t[o],n[o])}),r}return s(e?["left","right"]:["top","bottom"])}function Bo(e,t,n,s){const i=[];let r,o,a,l,c,h;for(r=0,o=e.length,c=0;r<o;++r){a=e[r],l=a.box,l.update(a.width||t.w,a.height||t.h,uV(a.horizontal,t));const{same:d,other:f}=lV(t,n,a,s);c|=d&&i.length,h=h||f,l.fullSize||i.push(a)}return c&&Bo(i,t,n,s)||h}function Ol(e,t,n,s,i){e.top=n,e.left=t,e.right=t+s,e.bottom=n+i,e.width=s,e.height=i}function xy(e,t,n,s){const i=n.padding;let{x:r,y:o}=t;for(const a of e){const l=a.box,c=s[a.stack]||{placed:0,weight:1},h=a.stackWeight/c.weight||1;if(a.horizontal){const d=t.w*h,f=c.size||l.height;Fc(c.start)&&(o=c.start),l.fullSize?Ol(l,i.left,o,n.outerWidth-i.right-i.left,f):Ol(l,t.left+c.placed,o,d,f),c.start=o,c.placed+=d,o=l.bottom}else{const d=t.h*h,f=c.size||l.width;Fc(c.start)&&(r=c.start),l.fullSize?Ol(l,r,i.top,f,n.outerHeight-i.bottom-i.top):Ol(l,r,t.top+c.placed,f,d),c.start=r,c.placed+=d,r=l.right}}t.x=r,t.y=o}var yn={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,s){if(!e)return;const i=Tn(e.options.layout.padding),r=Math.max(t-i.width,0),o=Math.max(n-i.height,0),a=aV(e.boxes),l=a.vertical,c=a.horizontal;$t(e.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const h=l.reduce((y,b)=>b.box.options&&b.box.options.display===!1?y:y+1,0)||1,d=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/h,hBoxMaxHeight:o/2}),f=Object.assign({},i);dw(f,Tn(s));const p=Object.assign({maxPadding:f,w:r,h:o,x:i.left,y:i.top},i),m=oV(l.concat(c),d);Bo(a.fullSize,p,d,m),Bo(l,p,d,m),Bo(c,p,d,m)&&Bo(l,p,d,m),cV(p),xy(a.leftAndTop,p,d,m),p.x+=p.w,p.y+=p.h,xy(a.rightAndBottom,p,d,m),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},$t(a.chartArea,y=>{const b=y.box;Object.assign(b,e.chartArea),b.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class fw{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,s){}removeEventListener(t,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,s,i){return n=Math.max(0,n||t.width),s=s||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(t){return!0}updateConfig(t){}}class hV extends fw{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Jl="$chartjs",dV={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ry=e=>e===null||e==="";function fV(e,t){const n=e.style,s=e.getAttribute("height"),i=e.getAttribute("width");if(e[Jl]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Ry(i)){const r=my(e,"width");r!==void 0&&(e.width=r)}if(Ry(s))if(e.style.height==="")e.height=e.width/(t||2);else{const r=my(e,"height");r!==void 0&&(e.height=r)}return e}const pw=SN?{passive:!0}:!1;function pV(e,t,n){e&&e.addEventListener(t,n,pw)}function gV(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,pw)}function mV(e,t){const n=dV[e.type]||e.type,{x:s,y:i}=xi(e,t);return{type:n,chart:t,native:e,x:s!==void 0?s:null,y:i!==void 0?i:null}}function Bc(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function _V(e,t,n){const s=e.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Bc(a.addedNodes,s),o=o&&!Bc(a.removedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function yV(e,t,n){const s=e.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Bc(a.removedNodes,s),o=o&&!Bc(a.addedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Ra=new Map;let Py=0;function gw(){const e=window.devicePixelRatio;e!==Py&&(Py=e,Ra.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function vV(e,t){Ra.size||window.addEventListener("resize",gw),Ra.set(e,t)}function bV(e){Ra.delete(e),Ra.size||window.removeEventListener("resize",gw)}function TV(e,t,n){const s=e.canvas,i=s&&Ip(s);if(!i)return;const r=qT((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,h=l.contentRect.height;c===0&&h===0||r(c,h)});return o.observe(i),vV(e,r),o}function Mh(e,t,n){n&&n.disconnect(),t==="resize"&&bV(e)}function wV(e,t,n){const s=e.canvas,i=qT(r=>{e.ctx!==null&&n(mV(r,e))},e);return pV(s,t,i),i}class EV extends fw{acquireContext(t,n){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(fV(t,n),s):null}releaseContext(t){const n=t.canvas;if(!n[Jl])return!1;const s=n[Jl].initial;["height","width"].forEach(r=>{const o=s[r];Qt(o)?n.removeAttribute(r):n.setAttribute(r,o)});const i=s.style||{};return Object.keys(i).forEach(r=>{n.style[r]=i[r]}),n.width=n.width,delete n[Jl],!0}addEventListener(t,n,s){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),o={attach:_V,detach:yV,resize:TV}[n]||wV;i[n]=o(t,n,s)}removeEventListener(t,n){const s=t.$proxies||(t.$proxies={}),i=s[n];if(!i)return;({attach:Mh,detach:Mh,resize:Mh}[n]||gV)(t,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,s,i){return IN(t,n,s,i)}isAttached(t){const n=t&&Ip(t);return!!(n&&n.isConnected)}}function IV(e){return!Ep()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?hV:EV}let nr=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}hasValue(){return ka(this.x)&&ka(this.y)}getProps(t,n){const s=this.$animations;if(!n||!s)return this;const i={};return t.forEach(r=>{i[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),i}};function SV(e,t){const n=e.options.ticks,s=AV(e),i=Math.min(n.maxTicksLimit||s,s),r=n.major.enabled?CV(t):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>i)return xV(t,c,r,o/i),c;const h=kV(r,t,i);if(o>0){let d,f;const p=o>1?Math.round((l-a)/(o-1)):null;for(Ml(t,c,h,Qt(p)?0:a-p,a),d=0,f=o-1;d<f;d++)Ml(t,c,h,r[d],r[d+1]);return Ml(t,c,h,l,Qt(p)?t.length:l+p),c}return Ml(t,c,h),c}function AV(e){const t=e.options.offset,n=e._tickSize(),s=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(s,i))}function kV(e,t,n){const s=RV(e),i=t.length/n;if(!s)return Math.max(i,1);const r=bL(s);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>i)return l}return Math.max(i,1)}function CV(e){const t=[];let n,s;for(n=0,s=e.length;n<s;n++)e[n].major&&t.push(n);return t}function xV(e,t,n,s){let i=0,r=n[0],o;for(s=Math.ceil(s),o=0;o<e.length;o++)o===r&&(t.push(e[o]),i++,r=n[i*s])}function Ml(e,t,n,s,i){const r=Ot(s,0),o=Math.min(Ot(i,e.length),e.length);let a=0,l,c,h;for(n=Math.ceil(n),i&&(l=i-s,n=l/Math.floor(l/n)),h=r;h<0;)a++,h=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===h&&(t.push(e[c]),a++,h=Math.round(r+a*n))}function RV(e){const t=e.length;let n,s;if(t<2)return!1;for(s=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==s)return!1;return s}const PV=e=>e==="left"?"right":e==="right"?"left":e,Oy=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,My=(e,t)=>Math.min(t||e,e);function Dy(e,t){const n=[],s=e.length/t,i=e.length;let r=0;for(;r<i;r+=s)n.push(e[Math.floor(r)]);return n}function OV(e,t,n){const s=e.ticks.length,i=Math.min(t,s-1),r=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(i),c;if(!(n&&(s===1?c=Math.max(l-r,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(i-1))/2,l+=i<t?c:-c,l<r-a||l>o+a)))return l}function MV(e,t){$t(e,n=>{const s=n.gc,i=s.length/2;let r;if(i>t){for(r=0;r<i;++r)delete n.data[s[r]];s.splice(0,i)}})}function Oo(e){return e.drawTicks?e.tickLength:0}function Ly(e,t){if(!e.display)return 0;const n=We(e.font,t),s=Tn(e.padding);return(be(e.text)?e.text.length:1)*n.lineHeight+s.height}function DV(e,t){return er(e,{scale:t,type:"scale"})}function LV(e,t,n){return er(e,{tick:n,index:t,type:"tick"})}function NV(e,t,n){let s=yp(e);return(n&&t!=="right"||!n&&t==="right")&&(s=PV(s)),s}function VV(e,t,n,s){const{top:i,left:r,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:h}=l;let d=0,f,p,m;const y=o-i,b=a-r;if(e.isHorizontal()){if(p=$e(s,r,a),Dt(n)){const E=Object.keys(n)[0],L=n[E];m=h[E].getPixelForValue(L)+y-t}else n==="center"?m=(c.bottom+c.top)/2+y-t:m=Oy(e,n,t);f=a-r}else{if(Dt(n)){const E=Object.keys(n)[0],L=n[E];p=h[E].getPixelForValue(L)-b+t}else n==="center"?p=(c.left+c.right)/2-b+t:p=Oy(e,n,t);m=$e(s,o,i),d=n==="left"?-In:In}return{titleX:p,titleY:m,maxWidth:f,rotation:d}}class co extends nr{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return t=Vn(t,Number.POSITIVE_INFINITY),n=Vn(n,Number.NEGATIVE_INFINITY),s=Vn(s,Number.POSITIVE_INFINITY),i=Vn(i,Number.NEGATIVE_INFINITY),{min:Vn(t,s),max:Vn(n,i),minDefined:Ge(t),maxDefined:Ge(n)}}getMinMax(t){let{min:n,max:s,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),i||(n=Math.min(n,o.min)),r||(s=Math.max(s,o.max));return n=r&&n>s?s:n,s=i&&n>s?n:s,{min:Vn(n,Vn(s,n)),max:Vn(s,Vn(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Xt(this.options.beforeUpdate,[this])}update(t,n,s){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=nN(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Dy(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=SV(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,t=!t),this._startPixel=n,this._endPixel=s,this._reversePixels=t,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Xt(this.options.afterUpdate,[this])}beforeSetDimensions(){Xt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Xt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Xt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Xt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let s,i,r;for(s=0,i=t.length;s<i;s++)r=t[s],r.label=Xt(n.callback,[r.value,s,t],this)}afterTickToLabelConversion(){Xt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Xt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,s=My(this.ticks.length,t.ticks.maxTicksLimit),i=n.minRotation||0,r=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=r||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const h=this._getLabelSizes(),d=h.widest.width,f=h.highest.height,p=_n(this.chart.width-d,0,this.maxWidth);a=t.offset?this.maxWidth/s:p/(s-1),d+6>a&&(a=p/(s-(t.offset?.5:1)),l=this.maxHeight-Oo(t.grid)-n.padding-Ly(t.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),o=IL(Math.min(Math.asin(_n((h.highest.height+6)/a,-1,1)),Math.asin(_n(l/c,-1,1))-Math.asin(_n(f/c,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){Xt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Xt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Ly(i,n.options.font);if(a?(t.width=this.maxWidth,t.height=Oo(r)+l):(t.height=this.maxHeight,t.width=Oo(r)+l),s.display&&this.ticks.length){const{first:c,last:h,widest:d,highest:f}=this._getLabelSizes(),p=s.padding*2,m=Mi(this.labelRotation),y=Math.cos(m),b=Math.sin(m);if(a){const E=s.mirror?0:b*d.width+y*f.height;t.height=Math.min(this.maxHeight,t.height+E+p)}else{const E=s.mirror?0:y*d.width+b*f.height;t.width=Math.min(this.maxWidth,t.width+E+p)}this._calculatePadding(c,h,b,y)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,s,i){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?c?(f=i*t.width,p=s*n.height):(f=s*t.height,p=i*n.width):r==="start"?p=n.width:r==="end"?f=t.width:r!=="inner"&&(f=t.width/2,p=n.width/2),this.paddingLeft=Math.max((f-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((p-d+o)*this.width/(this.width-d),0)}else{let h=n.height/2,d=t.height/2;r==="start"?(h=0,d=t.height):r==="end"&&(h=n.height,d=0),this.paddingTop=h+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Xt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,s;for(n=0,s=t.length;n<s;n++)Qt(t[n].label)&&(t.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=Dy(s,n)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,s){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(n/My(n,s));let c=0,h=0,d,f,p,m,y,b,E,L,S,O,D;for(d=0;d<n;d+=l){if(m=t[d].label,y=this._resolveTickFontOptions(d),i.font=b=y.string,E=r[b]=r[b]||{data:{},gc:[]},L=y.lineHeight,S=O=0,!Qt(m)&&!be(m))S=hy(i,E.data,E.gc,S,m),O=L;else if(be(m))for(f=0,p=m.length;f<p;++f)D=m[f],!Qt(D)&&!be(D)&&(S=hy(i,E.data,E.gc,S,D),O+=L);o.push(S),a.push(O),c=Math.max(S,c),h=Math.max(O,h)}MV(r,n);const F=o.indexOf(c),k=a.indexOf(h),T=w=>({width:o[w]||0,height:a[w]||0});return{first:T(0),last:T(n-1),widest:T(F),highest:T(k),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return kL(this._alignToPixels?Si(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const s=n[t];return s.$context||(s.$context=LV(this.getContext(),t,s))}return this.$context||(this.$context=DV(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Mi(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*s>a*i?a/s:l/i:l*i<a*s?l/s:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,s=this.chart,i=this.options,{grid:r,position:o,border:a}=i,l=r.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=Oo(r),p=[],m=a.setContext(this.getContext()),y=m.display?m.width:0,b=y/2,E=function(nt){return Si(s,nt,y)};let L,S,O,D,F,k,T,w,C,R,P,x;if(o==="top")L=E(this.bottom),k=this.bottom-f,w=L-b,R=E(t.top)+b,x=t.bottom;else if(o==="bottom")L=E(this.top),R=t.top,x=E(t.bottom)-b,k=L+b,w=this.top+f;else if(o==="left")L=E(this.right),F=this.right-f,T=L-b,C=E(t.left)+b,P=t.right;else if(o==="right")L=E(this.left),C=t.left,P=E(t.right)-b,F=L+b,T=this.left+f;else if(n==="x"){if(o==="center")L=E((t.top+t.bottom)/2+.5);else if(Dt(o)){const nt=Object.keys(o)[0],lt=o[nt];L=E(this.chart.scales[nt].getPixelForValue(lt))}R=t.top,x=t.bottom,k=L+b,w=k+f}else if(n==="y"){if(o==="center")L=E((t.left+t.right)/2);else if(Dt(o)){const nt=Object.keys(o)[0],lt=o[nt];L=E(this.chart.scales[nt].getPixelForValue(lt))}F=L-b,T=F-f,C=t.left,P=t.right}const st=Ot(i.ticks.maxTicksLimit,d),ct=Math.max(1,Math.ceil(d/st));for(S=0;S<d;S+=ct){const nt=this.getContext(S),lt=r.setContext(nt),it=a.setContext(nt),Rt=lt.lineWidth,Fe=lt.color,Ee=it.dash||[],Wt=it.dashOffset,he=lt.tickWidth,Pe=lt.tickColor,oe=lt.tickBorderDash||[],se=lt.tickBorderDashOffset;O=OV(this,S,l),O!==void 0&&(D=Si(s,O,Rt),c?F=T=C=P=D:k=w=R=x=D,p.push({tx1:F,ty1:k,tx2:T,ty2:w,x1:C,y1:R,x2:P,y2:x,width:Rt,color:Fe,borderDash:Ee,borderDashOffset:Wt,tickWidth:he,tickColor:Pe,tickBorderDash:oe,tickBorderDashOffset:se}))}return this._ticksLength=d,this._borderValue=L,p}_computeLabelItems(t){const n=this.axis,s=this.options,{position:i,ticks:r}=s,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:h,mirror:d}=r,f=Oo(s.grid),p=f+h,m=d?-h:p,y=-Mi(this.labelRotation),b=[];let E,L,S,O,D,F,k,T,w,C,R,P,x="middle";if(i==="top")F=this.bottom-m,k=this._getXAxisLabelAlignment();else if(i==="bottom")F=this.top+m,k=this._getXAxisLabelAlignment();else if(i==="left"){const ct=this._getYAxisLabelAlignment(f);k=ct.textAlign,D=ct.x}else if(i==="right"){const ct=this._getYAxisLabelAlignment(f);k=ct.textAlign,D=ct.x}else if(n==="x"){if(i==="center")F=(t.top+t.bottom)/2+p;else if(Dt(i)){const ct=Object.keys(i)[0],nt=i[ct];F=this.chart.scales[ct].getPixelForValue(nt)+p}k=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")D=(t.left+t.right)/2-p;else if(Dt(i)){const ct=Object.keys(i)[0],nt=i[ct];D=this.chart.scales[ct].getPixelForValue(nt)}k=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?x="top":l==="end"&&(x="bottom"));const st=this._getLabelSizes();for(E=0,L=a.length;E<L;++E){S=a[E],O=S.label;const ct=r.setContext(this.getContext(E));T=this.getPixelForTick(E)+r.labelOffset,w=this._resolveTickFontOptions(E),C=w.lineHeight,R=be(O)?O.length:1;const nt=R/2,lt=ct.color,it=ct.textStrokeColor,Rt=ct.textStrokeWidth;let Fe=k;o?(D=T,k==="inner"&&(E===L-1?Fe=this.options.reverse?"left":"right":E===0?Fe=this.options.reverse?"right":"left":Fe="center"),i==="top"?c==="near"||y!==0?P=-R*C+C/2:c==="center"?P=-st.highest.height/2-nt*C+C:P=-st.highest.height+C/2:c==="near"||y!==0?P=C/2:c==="center"?P=st.highest.height/2-nt*C:P=st.highest.height-R*C,d&&(P*=-1),y!==0&&!ct.showLabelBackdrop&&(D+=C/2*Math.sin(y))):(F=T,P=(1-R)*C/2);let Ee;if(ct.showLabelBackdrop){const Wt=Tn(ct.backdropPadding),he=st.heights[E],Pe=st.widths[E];let oe=P-Wt.top,se=0-Wt.left;switch(x){case"middle":oe-=he/2;break;case"bottom":oe-=he;break}switch(k){case"center":se-=Pe/2;break;case"right":se-=Pe;break;case"inner":E===L-1?se-=Pe:E>0&&(se-=Pe/2);break}Ee={left:se,top:oe,width:Pe+Wt.width,height:he+Wt.height,color:ct.backdropColor}}b.push({label:O,font:w,textOffset:P,options:{rotation:y,color:lt,strokeColor:it,strokeWidth:Rt,textAlign:Fe,textBaseline:x,translation:[D,F],backdrop:Ee}})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Mi(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:s,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=t+r,l=o.widest.width;let c,h;return n==="left"?i?(h=this.right+r,s==="near"?c="left":s==="center"?(c="center",h+=l/2):(c="right",h+=l)):(h=this.right-a,s==="near"?c="right":s==="center"?(c="center",h-=l/2):(c="left",h=this.left)):n==="right"?i?(h=this.left+r,s==="near"?c="right":s==="center"?(c="center",h-=l/2):(c="left",h-=l)):(h=this.left+a,s==="near"?c="left":s==="center"?(c="center",h+=l/2):(c="right",h=this.right)):c="right",{textAlign:c,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:s,top:i,width:r,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(s,i,r,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(r=>r.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const a=(l,c,h)=>{!h.width||!h.color||(s.save(),s.lineWidth=h.width,s.strokeStyle=h.color,s.setLineDash(h.borderDash||[]),s.lineDashOffset=h.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(c.x,c.y),s.stroke(),s.restore())};if(n.display)for(r=0,o=i.length;r<o;++r){const l=i[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:s,grid:i}}=this,r=s.setContext(this.getContext()),o=s.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,h,d,f;this.isHorizontal()?(c=Si(t,this.left,o)-o/2,h=Si(t,this.right,a)+a/2,d=f=l):(d=Si(t,this.top,o)-o/2,f=Si(t,this.bottom,a)+a/2,c=h=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,d),n.lineTo(h,f),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&Au(s,i);const r=this.getLabelItems(t);for(const o of r){const a=o.options,l=o.font,c=o.label,h=o.textOffset;xa(s,c,0,h,l,a)}i&&ku(s)}drawTitle(){const{ctx:t,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const r=We(s.font),o=Tn(s.padding),a=s.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||Dt(n)?(l+=o.bottom,be(s.text)&&(l+=r.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:c,titleY:h,maxWidth:d,rotation:f}=VV(this,l,n,a);xa(t,s.text,0,0,r,{color:s.color,maxWidth:d,rotation:f,textAlign:NV(a,n,i),textBaseline:"middle",translation:[c,h]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,s=Ot(t.grid&&t.grid.z,-1),i=Ot(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==co.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[s]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return We(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Dl{constructor(t,n,s){this.type=t,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let s;$V(n)&&(s=this.register(n));const i=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in i||(i[r]=t,FV(t,o,s),this.override&&ue.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,s=t.id,i=this.scope;s in n&&delete n[s],i&&s in ue[i]&&(delete ue[i][s],this.override&&delete Yi[s])}}function FV(e,t,n){const s=Aa(Object.create(null),[n?ue.get(n):{},ue.get(t),e.defaults]);ue.set(t,s),e.defaultRoutes&&UV(t,e.defaultRoutes),e.descriptors&&ue.describe(t,e.descriptors)}function UV(e,t){Object.keys(t).forEach(n=>{const s=n.split("."),i=s.pop(),r=[e].concat(s).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");ue.route(r,i,l,a)})}function $V(e){return"id"in e&&"defaults"in e}class BV{constructor(){this.controllers=new Dl(uw,"datasets",!0),this.elements=new Dl(nr,"elements"),this.plugins=new Dl(Object,"plugins"),this.scales=new Dl(co,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,s){[...n].forEach(i=>{const r=s||this._getRegistryForType(i);s||r.isForType(i)||r===this.plugins&&i.id?this._exec(t,r,i):$t(i,o=>{const a=s||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,s){const i=mp(t);Xt(s["before"+i],[],s),n[t](s),Xt(s["after"+i],[],s)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(t))return s}return this.plugins}_get(t,n,s){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return i}}var $n=new BV;class HV{constructor(){this._init=void 0}notify(t,n,s,i){if(n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const r=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(r,t,n,s);return n==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),o}_notify(t,n,s,i){i=i||{};for(const r of t){const o=r.plugin,a=o[s],l=[n,i,r.options];if(Xt(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Qt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const s=t&&t.config,i=Ot(s.options&&s.options.plugins,{}),r=jV(s);return i===!1&&!n?[]:WV(t,r,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],s=this._cache,i=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,s),t,"stop"),this._notify(i(s,n),t,"start")}}function jV(e){const t={},n=[],s=Object.keys($n.plugins.items);for(let r=0;r<s.length;r++)n.push($n.getPlugin(s[r]));const i=e.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function zV(e,t){return!t&&e===!1?null:e===!0?{}:e}function WV(e,{plugins:t,localIds:n},s,i){const r=[],o=e.getContext();for(const a of t){const l=a.id,c=zV(s[l],i);c!==null&&r.push({plugin:a,options:qV(e.config,{plugin:a,local:n[l]},c,o)})}return r}function qV(e,{plugin:t,local:n},s,i){const r=e.pluginScopeKeys(t),o=e.getOptionScopes(s,r);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Vd(e,t){const n=ue.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function GV(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function KV(e,t){return e===t?"_index_":"_value_"}function Ny(e){if(e==="x"||e==="y"||e==="r")return e}function QV(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Fd(e,...t){if(Ny(e))return e;for(const n of t){const s=n.axis||QV(n.position)||e.length>1&&Ny(e[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Vy(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function YV(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(s=>s.xAxisID===e||s.yAxisID===e);if(n.length)return Vy(e,"x",n[0])||Vy(e,"y",n[0])}return{}}function XV(e,t){const n=Yi[e.type]||{scales:{}},s=t.scales||{},i=Vd(e.type,t),r=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!Dt(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Fd(o,a,YV(o,e),ue.scales[a.type]),c=KV(l,i),h=n.scales||{};r[o]=sa(Object.create(null),[{axis:l},a,h[l],h[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||Vd(a,t),h=(Yi[a]||{}).scales||{};Object.keys(h).forEach(d=>{const f=GV(d,l),p=o[f+"AxisID"]||f;r[p]=r[p]||Object.create(null),sa(r[p],[{axis:f},s[p],h[d]])})}),Object.keys(r).forEach(o=>{const a=r[o];sa(a,[ue.scales[a.type],ue.scale])}),r}function mw(e){const t=e.options||(e.options={});t.plugins=Ot(t.plugins,{}),t.scales=XV(e,t)}function _w(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function JV(e){return e=e||{},e.data=_w(e.data),mw(e),e}const Fy=new Map,yw=new Set;function Ll(e,t){let n=Fy.get(e);return n||(n=t(),Fy.set(e,n),yw.add(n)),n}const Mo=(e,t,n)=>{const s=Vc(t,n);s!==void 0&&e.add(s)};class ZV{constructor(t){this._config=JV(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=_w(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),mw(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Ll(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Ll(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Ll(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,s=this.type;return Ll(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const s=this._scopeCache;let i=s.get(t);return(!i||n)&&(i=new Map,s.set(t,i)),i}getOptionScopes(t,n,s){const{options:i,type:r}=this,o=this._cachedScopes(t,s),a=o.get(n);if(a)return a;const l=new Set;n.forEach(h=>{t&&(l.add(t),h.forEach(d=>Mo(l,t,d))),h.forEach(d=>Mo(l,i,d)),h.forEach(d=>Mo(l,Yi[r]||{},d)),h.forEach(d=>Mo(l,ue,d)),h.forEach(d=>Mo(l,Dd,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),yw.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,Yi[n]||{},ue.datasets[n]||{},{type:n},ue,Dd]}resolveNamedOptions(t,n,s,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=Uy(this._resolverCache,t,i);let l=o;if(e3(o,n)){r.$shared=!1,s=hi(s)?s():s;const c=this.createResolver(t,s,a);l=Qr(o,s,c)}for(const c of n)r[c]=l[c];return r}createResolver(t,n,s=[""],i){const{resolver:r}=Uy(this._resolverCache,t,s);return Dt(n)?Qr(r,n,void 0,i):r}}function Uy(e,t,n){let s=e.get(t);s||(s=new Map,e.set(t,s));const i=n.join();let r=s.get(i);return r||(r={resolver:bp(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,r)),r}const t3=e=>Dt(e)&&Object.getOwnPropertyNames(e).some(t=>hi(e[t]));function e3(e,t){const{isScriptable:n,isIndexable:s}=XT(e);for(const i of t){const r=n(i),o=s(i),a=(o||r)&&e[i];if(r&&(hi(a)||t3(a))||o&&be(a))return!0}return!1}var n3="4.5.1";const s3=["top","bottom","left","right","chartArea"];function $y(e,t){return e==="top"||e==="bottom"||s3.indexOf(e)===-1&&t==="x"}function By(e,t){return function(n,s){return n[e]===s[e]?n[t]-s[t]:n[e]-s[e]}}function Hy(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Xt(n&&n.onComplete,[e],t)}function i3(e){const t=e.chart,n=t.options.animation;Xt(n&&n.onProgress,[e],t)}function vw(e){return Ep()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Zl={},jy=e=>{const t=vw(e);return Object.values(Zl).filter(n=>n.canvas===t).pop()};function r3(e,t,n){const s=Object.keys(e);for(const i of s){const r=+i;if(r>=t){const o=e[i];delete e[i],(n>0||r>t)&&(e[r+n]=o)}}}function o3(e,t,n,s){return!n||e.type==="mouseout"?null:s?t:e}let Ru=class{static defaults=ue;static instances=Zl;static overrides=Yi;static registry=$n;static version=n3;static getChart=jy;static register(...t){$n.add(...t),zy()}static unregister(...t){$n.remove(...t),zy()}constructor(t,n){const s=this.config=new ZV(n),i=vw(t),r=jy(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||IV(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,h=l&&l.width;if(this.id=hL(),this.ctx=a,this.canvas=l,this.width=h,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new HV,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=OL(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],Zl[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}rs.listen(this,"complete",Hy),rs.listen(this,"progress",i3),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:s,height:i,_aspectRatio:r}=this;return Qt(t)?n&&r?r:i?s/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return $n}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():gy(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return dy(this.canvas,this.ctx),this}stop(){return rs.stop(this),this}resize(t,n){rs.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const s=this.options,i=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,n,r),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,gy(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Xt(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};$t(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,s=this.scales,i=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=Fd(o,a),c=l==="r",h=l==="x";return{options:a,dposition:c?"chartArea":h?"bottom":"left",dtype:c?"radialLinear":h?"category":"linear"}}))),$t(r,o=>{const a=o.options,l=a.id,c=Fd(l,a),h=Ot(a.type,o.dtype);(a.position===void 0||$y(a.position,c)!==$y(o.dposition))&&(a.position=o.dposition),i[l]=!0;let d=null;if(l in s&&s[l].type===h)d=s[l];else{const f=$n.getScale(h);d=new f({id:l,type:h,ctx:this.ctx,chart:this}),s[d.id]=d}d.init(a,t)}),$t(i,(o,a)=>{o||delete s[a]}),$t(s,o=>{yn.configure(this,o,o.options),yn.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,s=t.length;if(t.sort((i,r)=>i.index-r.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);t.splice(n,s-n)}this._sortedMetasets=t.slice(0).sort(By("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((s,i)=>{n.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const r=n[s];let o=this.getDatasetMeta(s);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=r.indexAxis||Vd(a,this.options),o.order=r.order||0,o.index=s,o.label=""+r.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=$n.getController(a),{datasetElementType:c,dataElementType:h}=ue.datasets[a];Object.assign(l,{dataElementType:$n.getElement(h),datasetElementType:c&&$n.getElement(c)}),o.controller=new l(this,s),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){$t(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,h=this.data.datasets.length;c<h;c++){const{controller:d}=this.getDatasetMeta(c),f=!i&&r.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),i||$t(r,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(By("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){$t(this.scales,t=>{yn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!ny(n,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:r}of n){const o=s==="_removeElements"?-r:r;r3(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=r=>new Set(t.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=s(0);for(let r=1;r<n;r++)if(!ny(i,s(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;yn.update(this,this.width,this.height,t);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],$t(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,hi(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const s=this.getDatasetMeta(t),i={meta:s,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(rs.has(this)?this.attached&&!rs.running(this)&&rs.start(this):(this.draw(),Hy({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,s=[];let i,r;for(i=0,r=n.length;i<r;++i){const o=n[i];(!t||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,s={meta:t,index:t.index,cancelable:!0},i=aw(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&Au(n,i),t.controller.draw(),i&&ku(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return Ca(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,s,i){const r=sV.modes[n];return typeof r=="function"?r(this,t,s,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],s=this._metasets;let i=s.filter(r=>r&&r._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=er(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(t,n){const s=this.getDatasetMeta(t);s.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,s){const i=s?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,i);Fc(n)?(r.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),o.update(r,{visible:s}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),rs.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),dy(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Zl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,s=(r,o)=>{n.addEventListener(this,r,o),t[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};$t(this.options.events,r=>s(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,s=(l,c)=>{n.addEventListener(this,l,c),t[l]=c},i=(l,c)=>{t[l]&&(n.removeEventListener(this,l,c),delete t[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",r),s("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){$t(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},$t(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,s){const i=s?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],s=t.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!Lc(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(t,n,s){return this._plugins.notify(this,t,n,s)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,s){const i=this.options.hover,r=(l,c)=>l.filter(h=>!c.some(d=>h.datasetIndex===d.datasetIndex&&h.index===d.index)),o=r(n,t),a=s?t:r(t,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,n){const s={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const r=this._handleEvent(t,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(r||s.changed)&&this.render(),this}_handleEvent(t,n,s){const{_active:i=[],options:r}=this,o=n,a=this._getActiveElements(t,i,s,o),l=_L(t),c=o3(t,this._lastEvent,s,l);s&&(this._lastEvent=null,Xt(r.onHover,[t,a,this],this),l&&Xt(r.onClick,[t,a,this],this));const h=!Lc(a,i);return(h||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,h}_getActiveElements(t,n,s,i){if(t.type==="mouseout")return[];if(!s)return n;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,i)}};function zy(){return $t(Ru.instances,e=>e._plugins.invalidate())}function bw(e,t,n=t){e.lineCap=Ot(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Ot(n.borderDash,t.borderDash)),e.lineDashOffset=Ot(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Ot(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Ot(n.borderWidth,t.borderWidth),e.strokeStyle=Ot(n.borderColor,t.borderColor)}function a3(e,t,n){e.lineTo(n.x,n.y)}function l3(e){return e.stepped?qL:e.tension||e.cubicInterpolationMode==="monotone"?GL:a3}function Tw(e,t,n={}){const s=e.length,{start:i=0,end:r=s-1}=n,{start:o,end:a}=t,l=Math.max(i,o),c=Math.min(r,a),h=i<o&&r<o||i>a&&r>a;return{count:s,start:l,loop:t.loop,ilen:c<l&&!h?s+c-l:c-l}}function c3(e,t,n,s){const{points:i,options:r}=t,{count:o,start:a,loop:l,ilen:c}=Tw(i,n,s),h=l3(r);let{move:d=!0,reverse:f}=s||{},p,m,y;for(p=0;p<=c;++p)m=i[(a+(f?c-p:p))%o],!m.skip&&(d?(e.moveTo(m.x,m.y),d=!1):h(e,y,m,f,r.stepped),y=m);return l&&(m=i[(a+(f?c:0))%o],h(e,y,m,f,r.stepped)),!!l}function u3(e,t,n,s){const i=t.points,{count:r,start:o,ilen:a}=Tw(i,n,s),{move:l=!0,reverse:c}=s||{};let h=0,d=0,f,p,m,y,b,E;const L=O=>(o+(c?a-O:O))%r,S=()=>{y!==b&&(e.lineTo(h,b),e.lineTo(h,y),e.lineTo(h,E))};for(l&&(p=i[L(0)],e.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=i[L(f)],p.skip)continue;const O=p.x,D=p.y,F=O|0;F===m?(D<y?y=D:D>b&&(b=D),h=(d*h+O)/++d):(S(),e.lineTo(O,D),m=F,d=0,y=b=D),E=D}S()}function Ud(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?u3:c3}function h3(e){return e.stepped?AN:e.tension||e.cubicInterpolationMode==="monotone"?kN:Ri}function d3(e,t,n,s){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,s)&&i.closePath()),bw(e,t.options),e.stroke(i)}function f3(e,t,n,s){const{segments:i,options:r}=t,o=Ud(t);for(const a of i)bw(e,r,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+s-1})&&e.closePath(),e.stroke()}const p3=typeof Path2D=="function";function g3(e,t,n,s){p3&&!t.options.segment?d3(e,t,n,s):f3(e,t,n,s)}class Pu extends nr{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;yN(this._points,s,t,i,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=MN(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,s=t.length;return s&&n[t[s-1].end]}interpolate(t,n){const s=this.options,i=t[n],r=this.points,o=ow(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=h3(s);let c,h;for(c=0,h=o.length;c<h;++c){const{start:d,end:f}=o[c],p=r[d],m=r[f];if(p===m){a.push(p);continue}const y=Math.abs((i-p[n])/(m[n]-p[n])),b=l(p,m,y,s.stepped);b[n]=t[n],a.push(b)}return a.length===1?a[0]:a}pathSegment(t,n,s){return Ud(this)(t,this,n,s)}path(t,n,s){const i=this.segments,r=Ud(this);let o=this._loop;n=n||0,s=s||this.points.length-n;for(const a of i)o&=r(t,this,a,{start:n,end:n+s-1});return!!o}draw(t,n,s,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),g3(t,this,s,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Wy(e,t,n,s){const i=e.options,{[n]:r}=e.getProps([n],s);return Math.abs(t-r)<i.radius+i.hitRadius}class m3 extends nr{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,s){const i=this.options,{x:r,y:o}=this.getProps(["x","y"],s);return Math.pow(t-r,2)+Math.pow(n-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,n){return Wy(this,t,"x",n)}inYRange(t,n){return Wy(this,t,"y",n)}getCenterPoint(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const s=n&&t.borderWidth||0;return(n+s)*2}draw(t,n){const s=this.options;this.skip||s.radius<.1||!Ca(this,n,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,Ld(t,s,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function _3(e,t,n){const s=e.segments,i=e.points,r=t.points,o=[];for(const a of s){let{start:l,end:c}=a;c=Ou(l,c,i);const h=$d(n,i[l],i[c],a.loop);if(!t.segments){o.push({source:a,target:h,start:i[l],end:i[c]});continue}const d=ow(t,h);for(const f of d){const p=$d(n,r[f.start],r[f.end],f.loop),m=rw(a,i,p);for(const y of m)o.push({source:y,target:f,start:{[n]:qy(h,p,"start",Math.max)},end:{[n]:qy(h,p,"end",Math.min)}})}}return o}function $d(e,t,n,s){if(s)return;let i=t[e],r=n[e];return e==="angle"&&(i=jn(i),r=jn(r)),{property:e,start:i,end:r}}function y3(e,t){const{x:n=null,y:s=null}=e||{},i=t.points,r=[];return t.segments.forEach(({start:o,end:a})=>{a=Ou(o,a,i);const l=i[o],c=i[a];s!==null?(r.push({x:l.x,y:s}),r.push({x:c.x,y:s})):n!==null&&(r.push({x:n,y:l.y}),r.push({x:n,y:c.y}))}),r}function Ou(e,t,n){for(;t>e;t--){const s=n[t];if(!isNaN(s.x)&&!isNaN(s.y))break}return t}function qy(e,t,n,s){return e&&t?s(e[n],t[n]):e?e[n]:t?t[n]:0}function ww(e,t){let n=[],s=!1;return be(e)?(s=!0,n=e):n=y3(e,t),n.length?new Pu({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function Gy(e){return e&&e.fill!==!1}function v3(e,t,n){let i=e[t].fill;const r=[t];let o;if(!n)return i;for(;i!==!1&&r.indexOf(i)===-1;){if(!Ge(i))return i;if(o=e[i],!o)return!1;if(o.visible)return i;r.push(i),i=o.fill}return!1}function b3(e,t,n){const s=I3(e);if(Dt(s))return isNaN(s.value)?!1:s;let i=parseFloat(s);return Ge(i)&&Math.floor(i)===i?T3(s[0],t,i,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function T3(e,t,n,s){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=s?!1:n}function w3(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:Dt(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function E3(e,t,n){let s;return e==="start"?s=n:e==="end"?s=t.options.reverse?t.min:t.max:Dt(e)?s=e.value:s=t.getBaseValue(),s}function I3(e){const t=e.options,n=t.fill;let s=Ot(n&&n.target,n);return s===void 0&&(s=!!t.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function S3(e){const{scale:t,index:n,line:s}=e,i=[],r=s.segments,o=s.points,a=A3(t,n);a.push(ww({x:null,y:t.bottom},s));for(let l=0;l<r.length;l++){const c=r[l];for(let h=c.start;h<=c.end;h++)k3(i,o[h],a)}return new Pu({points:i,options:{}})}function A3(e,t){const n=[],s=e.getMatchingVisibleMetas("line");for(let i=0;i<s.length;i++){const r=s[i];if(r.index===t)break;r.hidden||n.unshift(r.dataset)}return n}function k3(e,t,n){const s=[];for(let i=0;i<n.length;i++){const r=n[i],{first:o,last:a,point:l}=C3(r,t,"x");if(!(!l||o&&a)){if(o)s.unshift(l);else if(e.push(l),!a)break}}e.push(...s)}function C3(e,t,n){const s=e.interpolate(t,n);if(!s)return{};const i=s[n],r=e.segments,o=e.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const h=r[c],d=o[h.start][n],f=o[h.end][n];if(br(i,d,f)){a=i===d,l=i===f;break}}return{first:a,last:l,point:s}}class Ew{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,s){const{x:i,y:r,radius:o}=this;return n=n||{start:0,end:Rn},t.arc(i,r,o,n.end,n.start,!0),!s.bounds}interpolate(t){const{x:n,y:s,radius:i}=this,r=t.angle;return{x:n+Math.cos(r)*i,y:s+Math.sin(r)*i,angle:r}}}function x3(e){const{chart:t,fill:n,line:s}=e;if(Ge(n))return R3(t,n);if(n==="stack")return S3(e);if(n==="shape")return!0;const i=P3(e);return i instanceof Ew?i:ww(i,s)}function R3(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function P3(e){return(e.scale||{}).getPointPositionForValue?M3(e):O3(e)}function O3(e){const{scale:t={},fill:n}=e,s=w3(n,t);if(Ge(s)){const i=t.isHorizontal();return{x:i?s:null,y:i?null:s}}return null}function M3(e){const{scale:t,fill:n}=e,s=t.options,i=t.getLabels().length,r=s.reverse?t.max:t.min,o=E3(n,t,r),a=[];if(s.grid.circular){const l=t.getPointPositionForValue(0,r);return new Ew({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(t.getPointPositionForValue(l,o));return a}function Dh(e,t,n){const s=x3(t),{chart:i,index:r,line:o,scale:a,axis:l}=t,c=o.options,h=c.fill,d=c.backgroundColor,{above:f=d,below:p=d}=h||{},m=i.getDatasetMeta(r),y=aw(i,m);s&&o.points.length&&(Au(e,n),D3(e,{line:o,target:s,above:f,below:p,area:n,scale:a,axis:l,clip:y}),ku(e))}function D3(e,t){const{line:n,target:s,above:i,below:r,area:o,scale:a,clip:l}=t,c=n._loop?"angle":t.axis;e.save();let h=r;r!==i&&(c==="x"?(Ky(e,s,o.top),Lh(e,{line:n,target:s,color:i,scale:a,property:c,clip:l}),e.restore(),e.save(),Ky(e,s,o.bottom)):c==="y"&&(Qy(e,s,o.left),Lh(e,{line:n,target:s,color:r,scale:a,property:c,clip:l}),e.restore(),e.save(),Qy(e,s,o.right),h=i)),Lh(e,{line:n,target:s,color:h,scale:a,property:c,clip:l}),e.restore()}function Ky(e,t,n){const{segments:s,points:i}=t;let r=!0,o=!1;e.beginPath();for(const a of s){const{start:l,end:c}=a,h=i[l],d=i[Ou(l,c,i)];r?(e.moveTo(h.x,h.y),r=!1):(e.lineTo(h.x,n),e.lineTo(h.x,h.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(d.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function Qy(e,t,n){const{segments:s,points:i}=t;let r=!0,o=!1;e.beginPath();for(const a of s){const{start:l,end:c}=a,h=i[l],d=i[Ou(l,c,i)];r?(e.moveTo(h.x,h.y),r=!1):(e.lineTo(n,h.y),e.lineTo(h.x,h.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(n,d.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function Lh(e,t){const{line:n,target:s,property:i,color:r,scale:o,clip:a}=t,l=_3(n,s,i);for(const{source:c,target:h,start:d,end:f}of l){const{style:{backgroundColor:p=r}={}}=c,m=s!==!0;e.save(),e.fillStyle=p,L3(e,o,a,m&&$d(i,d,f)),e.beginPath();const y=!!n.pathSegment(e,c);let b;if(m){y?e.closePath():Yy(e,s,f,i);const E=!!s.pathSegment(e,h,{move:y,reverse:!0});b=y&&E,b||Yy(e,s,d,i)}e.closePath(),e.fill(b?"evenodd":"nonzero"),e.restore()}}function L3(e,t,n,s){const i=t.chart.chartArea,{property:r,start:o,end:a}=s||{};if(r==="x"||r==="y"){let l,c,h,d;r==="x"?(l=o,c=i.top,h=a,d=i.bottom):(l=i.left,c=o,h=i.right,d=a),e.beginPath(),n&&(l=Math.max(l,n.left),h=Math.min(h,n.right),c=Math.max(c,n.top),d=Math.min(d,n.bottom)),e.rect(l,c,h-l,d-c),e.clip()}}function Yy(e,t,n,s){const i=t.interpolate(n,s);i&&e.lineTo(i.x,i.y)}var N3={id:"filler",afterDatasetsUpdate(e,t,n){const s=(e.data.datasets||[]).length,i=[];let r,o,a,l;for(o=0;o<s;++o)r=e.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof Pu&&(l={visible:e.isDatasetVisible(o),index:o,fill:b3(a,o,s),chart:e,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,i.push(l);for(o=0;o<s;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=v3(i,o,n.propagate))},beforeDraw(e,t,n){const s=n.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),r=e.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),s&&a.fill&&Dh(e.ctx,a,r))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const s=e.getSortedVisibleDatasetMetas();for(let i=s.length-1;i>=0;--i){const r=s[i].$filler;Gy(r)&&Dh(e.ctx,r,e.chartArea)}},beforeDatasetDraw(e,t,n){const s=t.meta.$filler;!Gy(s)||n.drawTime!=="beforeDatasetDraw"||Dh(e.ctx,s,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Xy=(e,t)=>{let{boxHeight:n=t,boxWidth:s=t}=e;return e.usePointStyle&&(n=Math.min(n,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(t,n)}},V3=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Jy extends nr{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,s){this.maxWidth=t,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Xt(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(s=>t.filter(s,this.chart.data))),t.sort&&(n=n.sort((s,i)=>t.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,i=We(s.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Xy(s,r);let c,h;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,h=this._fitRows(o,r,a,l)+10):(h=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,n,s,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],h=i+a;let d=t;r.textAlign="left",r.textBaseline="middle";let f=-1,p=-h;return this.legendItems.forEach((m,y)=>{const b=s+n/2+r.measureText(m.text).width;(y===0||c[c.length-1]+b+2*a>o)&&(d+=h,c[c.length-(y>0?0:1)]=0,p+=h,f++),l[y]={left:0,top:p,row:f,width:b,height:i},c[c.length-1]+=b+a}),d}_fitCols(t,n,s,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],h=o-t;let d=a,f=0,p=0,m=0,y=0;return this.legendItems.forEach((b,E)=>{const{itemWidth:L,itemHeight:S}=F3(s,n,r,b,i);E>0&&p+S+2*a>h&&(d+=f+a,c.push({width:f,height:p}),m+=f+a,y++,f=p=0),l[E]={left:m,top:p,col:y,width:L,height:S},f=Math.max(f,L),p+=S+a}),d+=f,c.push({width:f,height:p}),d}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:r}}=this,o=Mr(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=$e(s,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=$e(s,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+t+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=$e(s,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=$e(s,this.top+t+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Au(t,this),this._draw(),ku(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:s,ctx:i}=this,{align:r,labels:o}=t,a=ue.color,l=Mr(t.rtl,this.left,this.width),c=We(o.font),{padding:h}=o,d=c.size,f=d/2;let p;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:m,boxHeight:y,itemHeight:b}=Xy(o,d),E=function(F,k,T){if(isNaN(m)||m<=0||isNaN(y)||y<0)return;i.save();const w=Ot(T.lineWidth,1);if(i.fillStyle=Ot(T.fillStyle,a),i.lineCap=Ot(T.lineCap,"butt"),i.lineDashOffset=Ot(T.lineDashOffset,0),i.lineJoin=Ot(T.lineJoin,"miter"),i.lineWidth=w,i.strokeStyle=Ot(T.strokeStyle,a),i.setLineDash(Ot(T.lineDash,[])),o.usePointStyle){const C={radius:y*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:w},R=l.xPlus(F,m/2),P=k+f;QT(i,C,R,P,o.pointStyleWidth&&m)}else{const C=k+Math.max((d-y)/2,0),R=l.leftForLtr(F,m),P=aa(T.borderRadius);i.beginPath(),Object.values(P).some(x=>x!==0)?Nd(i,{x:R,y:C,w:m,h:y,radius:P}):i.rect(R,C,m,y),i.fill(),w!==0&&i.stroke()}i.restore()},L=function(F,k,T){xa(i,T.text,F,k+b/2,c,{strikethrough:T.hidden,textAlign:l.textAlign(T.textAlign)})},S=this.isHorizontal(),O=this._computeTitleHeight();S?p={x:$e(r,this.left+h,this.right-s[0]),y:this.top+h+O,line:0}:p={x:this.left+h,y:$e(r,this.top+O+h,this.bottom-n[0].height),line:0},nw(this.ctx,t.textDirection);const D=b+h;this.legendItems.forEach((F,k)=>{i.strokeStyle=F.fontColor,i.fillStyle=F.fontColor;const T=i.measureText(F.text).width,w=l.textAlign(F.textAlign||(F.textAlign=o.textAlign)),C=m+f+T;let R=p.x,P=p.y;l.setWidth(this.width),S?k>0&&R+C+h>this.right&&(P=p.y+=D,p.line++,R=p.x=$e(r,this.left+h,this.right-s[p.line])):k>0&&P+D>this.bottom&&(R=p.x=R+n[p.line].width+h,p.line++,P=p.y=$e(r,this.top+O+h,this.bottom-n[p.line].height));const x=l.x(R);if(E(x,P,F),R=ML(w,R+m+f,S?R+C:this.right,t.rtl),L(l.x(R),P,F),S)p.x+=C+h;else if(typeof F.text!="string"){const st=c.lineHeight;p.y+=Iw(F,st)+h}else p.y+=D}),sw(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,s=We(n.font),i=Tn(n.padding);if(!n.display)return;const r=Mr(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=s.size/2,c=i.top+l;let h,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),h=this.top+c,d=$e(t.align,d,this.right-f);else{const m=this.columnSizes.reduce((y,b)=>Math.max(y,b.height),0);h=c+$e(t.align,this.top,this.bottom-m-t.labels.padding-this._computeTitleHeight())}const p=$e(a,d,d+f);o.textAlign=r.textAlign(yp(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,xa(o,n.text,p,h,s)}_computeTitleHeight(){const t=this.options.title,n=We(t.font),s=Tn(t.padding);return t.display?n.lineHeight+s.height:0}_getLegendItemAt(t,n){let s,i,r;if(br(t,this.left,this.right)&&br(n,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(i=r[s],br(t,i.left,i.left+i.width)&&br(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(t){const n=this.options;if(!B3(t.type,n))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,r=V3(i,s);i&&!r&&Xt(n.onLeave,[t,i,this],this),this._hoveredItem=s,s&&!r&&Xt(n.onHover,[t,s,this],this)}else s&&Xt(n.onClick,[t,s,this],this)}}function F3(e,t,n,s,i){const r=U3(s,e,t,n),o=$3(i,s,t.lineHeight);return{itemWidth:r,itemHeight:o}}function U3(e,t,n,s){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),t+n.size/2+s.measureText(i).width}function $3(e,t,n){let s=e;return typeof t.text!="string"&&(s=Iw(t,n)),s}function Iw(e,t){const n=e.text?e.text.length:0;return t*n}function B3(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var H3={id:"legend",_element:Jy,start(e,t,n){const s=e.legend=new Jy({ctx:e.ctx,options:n,chart:e});yn.configure(e,s,n),yn.addBox(e,s)},stop(e){yn.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const s=e.legend;yn.configure(e,s,n),s.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const s=t.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),t.hidden=!0):(i.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),h=Tn(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:c.borderColor,pointStyle:s||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Sw extends nr{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const i=be(s.text)?s.text.length:1;this._padding=Tn(s.padding);const r=i*We(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:s,bottom:i,right:r,options:o}=this,a=o.align;let l=0,c,h,d;return this.isHorizontal()?(h=$e(a,s,r),d=n+t,c=r-s):(o.position==="left"?(h=s+t,d=$e(a,i,n),l=ke*-.5):(h=r-t,d=$e(a,n,i),l=ke*.5),c=i-n),{titleX:h,titleY:d,maxWidth:c,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const s=We(n.font),r=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);xa(t,n.text,0,0,s,{color:n.color,maxWidth:l,rotation:c,textAlign:yp(n.align),textBaseline:"middle",translation:[o,a]})}}function j3(e,t){const n=new Sw({ctx:e.ctx,options:t,chart:e});yn.configure(e,n,t),yn.addBox(e,n),e.titleBlock=n}var z3={id:"title",_element:Sw,start(e,t,n){j3(e,n)},stop(e){const t=e.titleBlock;yn.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const s=e.titleBlock;yn.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ho={average(e){if(!e.length)return!1;let t,n,s=new Set,i=0,r=0;for(t=0,n=e.length;t<n;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();s.add(l.x),i+=l.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((a,l)=>a+l)/s.size,y:i/r}},nearest(e,t){if(!e.length)return!1;let n=t.x,s=t.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=e.length;r<o;++r){const l=e[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),h=Md(t,c);h<i&&(i=h,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,s=l.y}return{x:n,y:s}}};function Fn(e,t){return t&&(be(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function os(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function W3(e,t){const{element:n,datasetIndex:s,index:i}=t,r=e.getDatasetMeta(s).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:e,label:o,parsed:r.getParsed(i),raw:e.data.datasets[s].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function Zy(e,t){const n=e.chart.ctx,{body:s,footer:i,title:r}=e,{boxWidth:o,boxHeight:a}=t,l=We(t.bodyFont),c=We(t.titleFont),h=We(t.footerFont),d=r.length,f=i.length,p=s.length,m=Tn(t.padding);let y=m.height,b=0,E=s.reduce((O,D)=>O+D.before.length+D.lines.length+D.after.length,0);if(E+=e.beforeBody.length+e.afterBody.length,d&&(y+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),E){const O=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;y+=p*O+(E-p)*l.lineHeight+(E-1)*t.bodySpacing}f&&(y+=t.footerMarginTop+f*h.lineHeight+(f-1)*t.footerSpacing);let L=0;const S=function(O){b=Math.max(b,n.measureText(O).width+L)};return n.save(),n.font=c.string,$t(e.title,S),n.font=l.string,$t(e.beforeBody.concat(e.afterBody),S),L=t.displayColors?o+2+t.boxPadding:0,$t(s,O=>{$t(O.before,S),$t(O.lines,S),$t(O.after,S)}),L=0,n.font=h.string,$t(e.footer,S),n.restore(),b+=m.width,{width:b,height:y}}function q3(e,t){const{y:n,height:s}=t;return n<s/2?"top":n>e.height-s/2?"bottom":"center"}function G3(e,t,n,s){const{x:i,width:r}=s,o=n.caretSize+n.caretPadding;if(e==="left"&&i+r+o>t.width||e==="right"&&i-r-o<0)return!0}function K3(e,t,n,s){const{x:i,width:r}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return s==="center"?c=i<=(a+l)/2?"left":"right":i<=r/2?c="left":i>=o-r/2&&(c="right"),G3(c,e,t,n)&&(c="center"),c}function tv(e,t,n){const s=n.yAlign||t.yAlign||q3(e,n);return{xAlign:n.xAlign||t.xAlign||K3(e,t,n,s),yAlign:s}}function Q3(e,t){let{x:n,width:s}=e;return t==="right"?n-=s:t==="center"&&(n-=s/2),n}function Y3(e,t,n){let{y:s,height:i}=e;return t==="top"?s+=n:t==="bottom"?s-=i+n:s-=i/2,s}function ev(e,t,n,s){const{caretSize:i,caretPadding:r,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=i+r,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:p}=aa(o);let m=Q3(t,a);const y=Y3(t,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(h,f)+i:a==="right"&&(m+=Math.max(d,p)+i),{x:_n(m,0,s.width-t.width),y:_n(y,0,s.height-t.height)}}function Nl(e,t,n){const s=Tn(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-s.right:e.x+s.left}function nv(e){return Fn([],os(e))}function X3(e,t,n){return er(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function sv(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const Aw={beforeTitle:is,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return n[t.dataIndex]}return""},afterTitle:is,beforeBody:is,beforeLabel:is,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Qt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:is,afterBody:is,beforeFooter:is,footer:is,afterFooter:is};function Xe(e,t,n,s){const i=e[t].call(n,s);return typeof i>"u"?Aw[t].call(n,s):i}class iv extends nr{static positioners=Ho;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,r=new lw(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=X3(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:s}=n,i=Xe(s,"beforeTitle",this,t),r=Xe(s,"title",this,t),o=Xe(s,"afterTitle",this,t);let a=[];return a=Fn(a,os(i)),a=Fn(a,os(r)),a=Fn(a,os(o)),a}getBeforeBody(t,n){return nv(Xe(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:s}=n,i=[];return $t(t,r=>{const o={before:[],lines:[],after:[]},a=sv(s,r);Fn(o.before,os(Xe(a,"beforeLabel",this,r))),Fn(o.lines,Xe(a,"label",this,r)),Fn(o.after,os(Xe(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(t,n){return nv(Xe(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:s}=n,i=Xe(s,"beforeFooter",this,t),r=Xe(s,"footer",this,t),o=Xe(s,"afterFooter",this,t);let a=[];return a=Fn(a,os(i)),a=Fn(a,os(r)),a=Fn(a,os(o)),a}_createItems(t){const n=this._active,s=this.chart.data,i=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(W3(this.chart,n[l]));return t.filter&&(a=a.filter((h,d,f)=>t.filter(h,d,f,s))),t.itemSort&&(a=a.sort((h,d)=>t.itemSort(h,d,s))),$t(a,h=>{const d=sv(t.callbacks,h);i.push(Xe(d,"labelColor",this,h)),r.push(Xe(d,"labelPointStyle",this,h)),o.push(Xe(d,"labelTextColor",this,h))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const s=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=Ho[s.position].call(this,i,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=Zy(this,s),c=Object.assign({},a,l),h=tv(this.chart,s,c),d=ev(s,c,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,r={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,s,i){const r=this.getCaretPosition(t,s,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(t,n,s){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:l,topRight:c,bottomLeft:h,bottomRight:d}=aa(a),{x:f,y:p}=t,{width:m,height:y}=n;let b,E,L,S,O,D;return r==="center"?(O=p+y/2,i==="left"?(b=f,E=b-o,S=O+o,D=O-o):(b=f+m,E=b+o,S=O-o,D=O+o),L=b):(i==="left"?E=f+Math.max(l,h)+o:i==="right"?E=f+m-Math.max(c,d)-o:E=this.caretX,r==="top"?(S=p,O=S-o,b=E-o,L=E+o):(S=p+y,O=S+o,b=E+o,L=E-o),D=S),{x1:b,x2:E,x3:L,y1:S,y2:O,y3:D}}drawTitle(t,n,s){const i=this.title,r=i.length;let o,a,l;if(r){const c=Mr(s.rtl,this.x,this.width);for(t.x=Nl(this,s.titleAlign,s),n.textAlign=c.textAlign(s.titleAlign),n.textBaseline="middle",o=We(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(i[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===r&&(t.y+=s.titleMarginBottom-a)}}_drawColorBox(t,n,s,i,r){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:c}=r,h=We(r.bodyFont),d=Nl(this,"left",r),f=i.x(d),p=l<h.lineHeight?(h.lineHeight-l)/2:0,m=n.y+p;if(r.usePointStyle){const y={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=i.leftForLtr(f,c)+c/2,E=m+l/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,Ld(t,y,b,E),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Ld(t,y,b,E)}else{t.lineWidth=Dt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const y=i.leftForLtr(f,c),b=i.leftForLtr(i.xPlus(f,1),c-2),E=aa(o.borderRadius);Object.values(E).some(L=>L!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,Nd(t,{x:y,y:m,w:c,h:l,radius:E}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Nd(t,{x:b,y:m+1,w:c-2,h:l-2,radius:E}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(y,m,c,l),t.strokeRect(y,m,c,l),t.fillStyle=o.backgroundColor,t.fillRect(b,m+1,c-2,l-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,n,s){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:h}=s,d=We(s.bodyFont);let f=d.lineHeight,p=0;const m=Mr(s.rtl,this.x,this.width),y=function(T){n.fillText(T,m.x(t.x+p),t.y+f/2),t.y+=f+r},b=m.textAlign(o);let E,L,S,O,D,F,k;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,t.x=Nl(this,b,s),n.fillStyle=s.bodyColor,$t(this.beforeBody,y),p=a&&b!=="right"?o==="center"?c/2+h:c+2+h:0,O=0,F=i.length;O<F;++O){for(E=i[O],L=this.labelTextColors[O],n.fillStyle=L,$t(E.before,y),S=E.lines,a&&S.length&&(this._drawColorBox(n,t,O,m,s),f=Math.max(d.lineHeight,l)),D=0,k=S.length;D<k;++D)y(S[D]),f=d.lineHeight;$t(E.after,y)}p=0,f=d.lineHeight,$t(this.afterBody,y),t.y-=r}drawFooter(t,n,s){const i=this.footer,r=i.length;let o,a;if(r){const l=Mr(s.rtl,this.x,this.width);for(t.x=Nl(this,s.footerAlign,s),t.y+=s.footerMarginTop,n.textAlign=l.textAlign(s.footerAlign),n.textBaseline="middle",o=We(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(i[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+s.footerSpacing}}drawBackground(t,n,s,i){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:h}=s,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:m}=aa(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(t,n,s,i),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&r==="right"&&this.drawCaret(t,n,s,i),n.lineTo(a+c,l+h-m),n.quadraticCurveTo(a+c,l+h,a+c-m,l+h),o==="bottom"&&this.drawCaret(t,n,s,i),n.lineTo(a+p,l+h),n.quadraticCurveTo(a,l+h,a,l+h-p),o==="center"&&r==="left"&&this.drawCaret(t,n,s,i),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,s=this.$animations,i=s&&s.x,r=s&&s.y;if(i||r){const o=Ho[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Zy(this,t),l=Object.assign({},o,this._size),c=tv(n,t,l),h=ev(t,l,c,n);(i._to!==h.x||r._to!==h.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=Tn(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=s,this.drawBackground(r,t,i,n),nw(t,n.textDirection),r.y+=o.top,this.drawTitle(r,t,n),this.drawBody(r,t,n),this.drawFooter(r,t,n),sw(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const s=this._active,i=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!Lc(s,i),o=this._positionChanged(i,n);(r||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(t,r,n,s),a=this._positionChanged(o,t),l=n||!Lc(o,r)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,s,i){const r=this.options;if(t.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,r.mode,r,s);return r.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:s,caretY:i,options:r}=this,o=Ho[r.position].call(this,t,n);return o!==!1&&(s!==o.x||i!==o.y)}}var J3={id:"tooltip",_element:iv,positioners:Ho,afterInit(e,t,n){n&&(e.tooltip=new iv({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Aw},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Z3=(e,t,n,s)=>(typeof t=="string"?(n=e.push(t)-1,s.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function t5(e,t,n,s){const i=e.indexOf(t);if(i===-1)return Z3(e,t,n,s);const r=e.lastIndexOf(t);return i!==r?n:i}const e5=(e,t)=>e===null?null:_n(Math.round(e),0,t);function rv(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class n5 extends co{static id="category";static defaults={ticks:{callback:rv}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:r}of n)s[i]===r&&s.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Qt(t))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===t?n:t5(s,t,Ot(n,t),this._addedLabels),e5(n,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const t=this.min,n=this.max,s=this.options.offset,i=[];let r=this.getLabels();r=t===0&&n===r.length-1?r:r.slice(t,n+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=t;o<=n;o++)i.push({value:o});return i}getLabelForValue(t){return rv.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function s5(e,t){const n=[],{bounds:i,step:r,min:o,max:a,precision:l,count:c,maxTicks:h,maxDigits:d,includeBounds:f}=e,p=r||1,m=h-1,{min:y,max:b}=t,E=!Qt(o),L=!Qt(a),S=!Qt(c),O=(b-y)/(d+1);let D=iy((b-y)/m/p)*p,F,k,T,w;if(D<1e-14&&!E&&!L)return[{value:y},{value:b}];w=Math.ceil(b/D)-Math.floor(y/D),w>m&&(D=iy(w*D/m/p)*p),Qt(l)||(F=Math.pow(10,l),D=Math.ceil(D*F)/F),i==="ticks"?(k=Math.floor(y/D)*D,T=Math.ceil(b/D)*D):(k=y,T=b),E&&L&&r&&wL((a-o)/r,D/1e3)?(w=Math.round(Math.min((a-o)/D,h)),D=(a-o)/w,k=o,T=a):S?(k=E?o:k,T=L?a:T,w=c-1,D=(T-k)/w):(w=(T-k)/D,ia(w,Math.round(w),D/1e3)?w=Math.round(w):w=Math.ceil(w));const C=Math.max(ry(D),ry(k));F=Math.pow(10,Qt(l)?C:l),k=Math.round(k*F)/F,T=Math.round(T*F)/F;let R=0;for(E&&(f&&k!==o?(n.push({value:o}),k<o&&R++,ia(Math.round((k+R*D)*F)/F,o,ov(o,O,e))&&R++):k<o&&R++);R<w;++R){const P=Math.round((k+R*D)*F)/F;if(L&&P>a)break;n.push({value:P})}return L&&f&&T!==a?n.length&&ia(n[n.length-1].value,a,ov(a,O,e))?n[n.length-1].value=a:n.push({value:a}):(!L||T===a)&&n.push({value:T}),n}function ov(e,t,{horizontal:n,minRotation:s}){const i=Mi(s),r=(n?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/r,o)}class i5 extends co{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Qt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:r}=this;const o=l=>i=n?i:l,a=l=>r=s?r:l;if(t){const l=Kr(i),c=Kr(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===r){let l=r===0?1:Math.abs(r*.05);a(r+l),t||o(i-l)}this.min=i,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=t,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=s5(i,r);return t.bounds==="ticks"&&EL(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const i=(s-n)/Math.max(t.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(t){return GT(t,this.chart.options.locale,this.options.ticks.format)}}class r5 extends i5{static id="linear";static defaults={ticks:{callback:KT.formatters.numeric}};determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Ge(t)?t:0,this.max=Ge(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,s=Mi(this.options.ticks.minRotation),i=(t?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Mu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},en=Object.keys(Mu);function av(e,t){return e-t}function lv(e,t){if(Qt(t))return null;const n=e._adapter,{parser:s,round:i,isoWeekday:r}=e._parseOpts;let o=t;return typeof s=="function"&&(o=s(o)),Ge(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(ka(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,i)),+o)}function cv(e,t,n,s){const i=en.length;for(let r=en.indexOf(e);r<i-1;++r){const o=Mu[en[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=s)return en[r]}return en[i-1]}function o5(e,t,n,s,i){for(let r=en.length-1;r>=en.indexOf(n);r--){const o=en[r];if(Mu[o].common&&e._adapter.diff(i,s,o)>=t-1)return o}return en[n?en.indexOf(n):0]}function a5(e){for(let t=en.indexOf(e)+1,n=en.length;t<n;++t)if(Mu[en[t]].common)return en[t]}function uv(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:s,hi:i}=_p(n,t),r=n[s]>=t?n[s]:n[i];e[r]=!0}}function l5(e,t,n,s){const i=e._adapter,r=+i.startOf(t[0].value,s),o=t[t.length-1].value;let a,l;for(a=r;a<=o;a=+i.add(a,1,s))l=n[a],l>=0&&(t[l].major=!0);return t}function hv(e,t,n){const s=[],i={},r=t.length;let o,a;for(o=0;o<r;++o)a=t[o],i[a]=o,s.push({value:a,major:!1});return r===0||!n?s:l5(e,s,i,n)}class dv extends co{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const s=t.time||(t.time={}),i=this._adapter=new JN._date(t.adapters.date);i.init(n),sa(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:lv(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,s=t.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Ge(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),r=Ge(r)&&!isNaN(r)?r:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],s=t[t.length-1]),{min:n,max:s}}buildTicks(){const t=this.options,n=t.time,s=t.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=xL(i,r,o);return this._unit=n.unit||(s.autoSkip?cv(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):o5(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:a5(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),hv(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,s=0,i,r;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?s=r:s=(r-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=_n(n,0,o),s=_n(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const t=this._adapter,n=this.min,s=this.max,i=this.options,r=i.time,o=r.unit||cv(r.minUnit,n,s,this._getLabelCapacity(n)),a=Ot(i.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=ka(l)||l===!0,h={};let d=n,f,p;if(c&&(d=+t.startOf(d,"isoWeek",l)),d=+t.startOf(d,c?"day":o),t.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const m=i.ticks.source==="data"&&this.getDataTimestamps();for(f=d,p=0;f<s;f=+t.add(f,a,o),p++)uv(h,f,m);return(f===s||i.bounds==="ticks"||p===1)&&uv(h,f,m),Object.keys(h).sort(av).map(y=>+y)}getLabelForValue(t){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(t,s.tooltipFormat):n.format(t,s.displayFormats.datetime)}format(t,n){const i=this.options.time.displayFormats,r=this._unit,o=n||i[r];return this._adapter.format(t,o)}_tickFormatFunction(t,n,s,i){const r=this.options,o=r.ticks.callback;if(o)return Xt(o,[t,n,s],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,h=l&&a[l],d=c&&a[c],f=s[n],p=c&&d&&f&&f.major;return this._adapter.format(t,i||(p?d:h))}generateTickLabels(t){let n,s,i;for(n=0,s=t.length;n<s;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,s=this.ctx.measureText(t).width,i=Mi(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*r+a*o,h:s*o+a*r}}_getLabelCapacity(t){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,r=this._tickFormatFunction(t,0,hv(this,[t],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,s;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,s;if(t.length)return t;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)t.push(lv(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return PL(t.sort(av))}}function Vl(e,t,n){let s=0,i=e.length-1,r,o,a,l;n?(t>=e[s].pos&&t<=e[i].pos&&({lo:s,hi:i}=Di(e,"pos",t)),{pos:r,time:a}=e[s],{pos:o,time:l}=e[i]):(t>=e[s].time&&t<=e[i].time&&({lo:s,hi:i}=Di(e,"time",t)),{time:r,pos:a}=e[s],{time:o,pos:l}=e[i]);const c=o-r;return c?a+(l-a)*(t-r)/c:a}class MU extends dv{static id="timeseries";static defaults=dv.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Vl(n,this.min),this._tableRange=Vl(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:s}=this,i=[],r=[];let o,a,l,c,h;for(o=0,a=t.length;o<a;++o)c=t[o],c>=n&&c<=s&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=i.length;o<a;++o)h=i[o+1],l=i[o-1],c=i[o],Math.round((h+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const t=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((i,r)=>i-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?t=this.normalize(n.concat(s)):t=n.length?n:s,t=this._cache.all=t,t}getDecimalForValue(t){return(Vl(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return Vl(this._table,s*this._tableRange+this._minPos,!0)}}const kw={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},c5={ariaLabel:{type:String},ariaDescribedby:{type:String}},u5={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...kw,...c5},h5=xb[0]==="2"?(e,t)=>Object.assign(e,{attrs:t}):(e,t)=>Object.assign(e,t);function ur(e){return Jr(e)?Pt(e):e}function d5(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;return Jr(t)?new Proxy(e,{}):e}function f5(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function Cw(e,t){e.labels=t}function xw(e,t,n){const s=[];e.datasets=t.map(i=>{const r=e.datasets.find(o=>o[n]===i[n]);return!r||!i.data||s.includes(r)?{...i}:(s.push(r),Object.assign(r,i),r)})}function p5(e,t){const n={labels:[],datasets:[]};return Cw(n,e.labels),xw(n,e.datasets,t),n}const g5=Ht({props:u5,setup(e,t){let{expose:n,slots:s}=t;const i=ut(null),r=Bi(null);n({chart:r});const o=()=>{if(!i.value)return;const{type:c,data:h,options:d,plugins:f,datasetIdKey:p}=e,m=p5(h,p),y=d5(m,h);r.value=new Ru(i.value,{type:c,data:y,options:{...d},plugins:f})},a=()=>{const c=Pt(r.value);c&&(e.destroyDelay>0?setTimeout(()=>{c.destroy(),r.value=null},e.destroyDelay):(c.destroy(),r.value=null))},l=c=>{c.update(e.updateMode)};return si(o),rf(a),Wo([()=>e.options,()=>e.data],(c,h)=>{let[d,f]=c,[p,m]=h;const y=Pt(r.value);if(!y)return;let b=!1;if(d){const E=ur(d),L=ur(p);E&&E!==L&&(f5(y,E),b=!0)}if(f){const E=ur(f.labels),L=ur(m.labels),S=ur(f.datasets),O=ur(m.datasets);E!==L&&(Cw(y.config.data,E),b=!0),S&&S!==O&&(xw(y.config.data,S,e.datasetIdKey),b=!0)}b&&Kc(()=>{l(y)})},{deep:!0}),()=>kn("canvas",{role:"img","aria-label":e.ariaLabel,"aria-describedby":e.ariaDescribedby,ref:i},[kn("p",{},[s.default?s.default():""])])}});function m5(e,t){return Ru.register(t),Ht({props:kw,setup(n,s){let{expose:i}=s;const r=Bi(null),o=a=>{r.value=a?.chart};return i({chart:r}),()=>kn(g5,h5({ref:o},{type:e,...n}))}})}const _5=m5("line",XN),y5={class:"nav-bar"},v5={class:"session-header"},b5={class:"header-row"},T5={class:"track-name"},w5={class:"header-meta"},E5={class:"car"},I5={class:"master-detail"},S5={class:"master"},A5={class:"master-title"},k5={key:0,class:"sh-checkbox"},C5={key:0,class:"single-stint-note"},x5={class:"stint-list"},R5=["onClick"],P5={key:0,class:"stint-checkbox"},O5={key:0,class:"checkbox-checked"},M5={key:1,class:"checkbox-empty"},D5=["title"],L5={class:"stint-num"},N5={class:"stint-laps"},V5={class:"delta-val"},F5={class:"delta-lbl"},U5={class:"detail"},$5={key:0,class:"compare-header"},B5={class:"compare-info"},H5={class:"compare-a"},j5={class:"compare-b"},z5={key:1,class:"detail-header"},W5={class:"detail-title"},q5={key:0,class:"best-tag"},G5={key:2,class:"limited-data"},K5={class:"times-comparison"},Q5={class:"tc-conditions"},Y5={class:"tc-cond-item"},X5={class:"tc-cond-val"},J5={class:"tc-cond-item"},Z5={class:"tc-cond-val"},t6={class:"tc-cond-item"},e6={class:"tc-cond-val"},n6={class:"tc-cond-item"},s6={class:"tc-cond-val"},i6={class:"tc-main"},r6={class:"tc-column tc-actual"},o6={class:"tc-row"},a6={class:"tc-value"},l6={class:"tc-row"},c6={class:"tc-value"},u6={class:"tc-column tc-theo"},h6={class:"tc-row"},d6={class:"tc-value"},f6={class:"tc-row"},p6={class:"tc-value"},g6={class:"tc-column tc-deltas"},m6={class:"tc-row"},_6={class:"tc-row"},y6={class:"tc-duration"},v6={class:"tc-duration-value"},b6={class:"tc-duration-value"},T6={key:0,class:"tc-consistency"},w6={class:"tc-cons-simple"},E6={class:"tc-cons-number"},I6={class:"tc-cons-bar-wide"},S6={class:"tc-cons-pct"},A6={class:"tc-toggles-row"},k6={class:"tc-toggle",title:"Mostra target zone sul grafico"},C6={key:0,class:"tc-toggle",title:"Mostra zone grip sul grafico"},x6={key:1,class:"tc-validity"},R6={class:"tc-cons-simple"},P6={class:"tc-cons-number"},O6={class:"tc-cons-bar-wide"},M6={key:0,class:"tc-invalid-badge"},D6={class:"chart-section"},L6={class:"chart-title"},N6={class:"chart-wrap"},V6={key:0,class:"grip-legend"},F6={class:"grip-legend-label"},U6={class:"grip-legend-laps"},$6={class:"laps-section"},B6={class:"laps-header-row"},H6={key:0,class:"laps-tabs"},j6={key:1,class:"laps-title"},z6={class:"laps-table-wrap"},W6={class:"laps-table"},q6={class:"time"},G6={class:"status"},K6=Ht({__name:"SessionDetailPage",props:{sessionId:{}},emits:["back","open-track"],setup(e,{emit:t}){Ru.register(n5,r5,m3,Pu,z3,J3,H3,N3);const n=e,s=t,i=ut(!1),r=ut(!1),o=ut([]),a=ut("A"),l=Tt(()=>r.value&&o.value.length===2),c=Tt(()=>o.value[0]??y.value),h=Tt(()=>o.value[1]??null);function d(K){r.value?f(K):y.value=K}function f(K){const N=o.value.indexOf(K);N>=0?o.value.splice(N,1):o.value.length<2&&o.value.push(K)}function p(){o.value=[],r.value=!1,a.value="A"}const m=Tt(()=>({id:n.sessionId,track:"Monza",trackId:"monza",type:"practice",date:"6 Gennaio 2026",time:"19:12",car:"Ford Mustang GT3",startConditions:{weather:"Clear",airTemp:12,trackTemp:17},bestQualy:"1:47.112",bestRace:"1:49.234",theoQualy:"1:46.900",theoRace:"1:49.500",bestDeltaQ:{value:"+0.212",stintNum:3},bestDeltaR:{value:"-0.266",stintNum:4},stints:[{number:1,type:"Q",intent:"Out Lap",fuelStart:10,laps:2,best:"1:52.456",avg:"1:55.678",theoretical:"1:46.900",deltaVsTheo:"+5.556",conditions:{weather:"Dry",avgAirTemp:11,avgTrackTemp:15},breakdown:{base:"1:46.500",deltaTemp:"+0.250",deltaGrip:"+0.150"}},{number:2,type:"Q",intent:"Qualy Push",fuelStart:8,laps:5,best:"1:47.456",avg:"1:48.234",theoretical:"1:46.900",deltaVsTheo:"+0.556",conditions:{weather:"Dry",avgAirTemp:12,avgTrackTemp:18},breakdown:{base:"1:46.500",deltaTemp:"+0.250",deltaGrip:"+0.150"}},{number:3,type:"Q",intent:"Qualy Push",fuelStart:6,laps:6,best:"1:47.112",avg:"1:47.890",theoretical:"1:46.900",deltaVsTheo:"+0.212",conditions:{weather:"Dry",avgAirTemp:13,avgTrackTemp:21},breakdown:{base:"1:46.500",deltaTemp:"+0.300",deltaGrip:"+0.100"}},{number:4,type:"R",intent:"Race Pace",fuelStart:55,laps:10,best:"1:49.234",avg:"1:49.678",theoretical:"1:49.500",deltaVsTheo:"-0.266",conditions:{weather:"Dry",avgAirTemp:14,avgTrackTemp:24},breakdown:{base:"1:49.100",deltaTemp:"+0.300",deltaGrip:"+0.100"}},{number:5,type:"R",intent:"Long Run",fuelStart:70,laps:20,best:"1:49.567",avg:"1:50.234",theoretical:"1:49.500",deltaVsTheo:"+0.067",conditions:{weather:"Dry",avgAirTemp:15,avgTrackTemp:26},breakdown:{base:"1:49.100",deltaTemp:"+0.350",deltaGrip:"+0.050"}},{number:6,type:"Q",intent:"Aborted",fuelStart:5,laps:1,best:"1:53.123",avg:"1:53.123",theoretical:"1:46.900",deltaVsTheo:"+6.223",conditions:{weather:"Dry",avgAirTemp:14,avgTrackTemp:23},breakdown:{base:"1:46.500",deltaTemp:"+0.250",deltaGrip:"+0.150"}},{number:7,type:"R",intent:"Race Pace",fuelStart:45,laps:3,best:"1:49.890",avg:"1:50.345",theoretical:"1:49.500",deltaVsTheo:"+0.390",conditions:{weather:"Dry",avgAirTemp:13,avgTrackTemp:22},breakdown:{base:"1:49.100",deltaTemp:"+0.250",deltaGrip:"+0.150"}},{number:8,type:"R",intent:"Race Pace",fuelStart:60,laps:12,best:"1:49.456",avg:"1:50.012",theoretical:"1:49.500",deltaVsTheo:"-0.044",conditions:{weather:"Dry",avgAirTemp:12,avgTrackTemp:20},breakdown:{base:"1:49.100",deltaTemp:"+0.200",deltaGrip:"+0.200"}},{number:9,type:"R",intent:"Race Distance",fuelStart:110,laps:30,best:"1:49.345",avg:"1:50.123",theoretical:"1:49.500",deltaVsTheo:"-0.155",conditions:{weather:"Dry",avgAirTemp:16,avgTrackTemp:28},breakdown:{base:"1:49.100",deltaTemp:"+0.300",deltaGrip:"+0.100"}},{number:10,type:"R",intent:"Wet Transition",fuelStart:80,laps:15,best:"1:50.234",avg:"1:53.567",theoretical:"1:49.500",deltaVsTheo:"+0.734",conditions:{weather:"Rain",avgAirTemp:14,avgTrackTemp:20},breakdown:{base:"1:49.100",deltaTemp:"+0.300",deltaGrip:"+1.200"}}],lapsData:{1:[{lap:1,time:"1:58.901",delta:"+12.001",valid:!1,pit:!1,sectors:["35.2","45.6","38.1"],fuel:10,trackTemp:15,grip:"Grn"},{lap:2,time:"1:52.456",delta:"+5.556",valid:!0,pit:!0,sectors:["33.1","43.2","36.2"],fuel:9,trackTemp:16,grip:"Opt"}],2:[{lap:1,time:"1:49.234",delta:"+2.334",valid:!0,pit:!1,sectors:["31.5","41.2","36.5"],fuel:8,trackTemp:17,grip:"Opt"},{lap:2,time:"1:48.012",delta:"+1.112",valid:!0,pit:!1,sectors:["31.1","40.8","36.1"],fuel:7,trackTemp:18,grip:"Opt"},{lap:3,time:"1:47.890",delta:"+0.990",valid:!0,pit:!1,sectors:["31.0","40.7","36.2"],fuel:6,trackTemp:18,grip:"Opt"},{lap:4,time:"1:47.456",delta:"+0.556",valid:!0,pit:!1,sectors:["30.8","40.5","36.2"],fuel:5,trackTemp:18,grip:"Opt"},{lap:5,time:"1:48.579",delta:"+1.679",valid:!0,pit:!0,sectors:["31.2","41.0","36.4"],fuel:4,trackTemp:19,grip:"Opt"}],3:[{lap:1,time:"1:48.567",delta:"+1.667",valid:!0,pit:!1,sectors:["31.2","41.0","36.4"],fuel:6,trackTemp:20,grip:"Opt"},{lap:2,time:"1:47.890",delta:"+0.990",valid:!1,pit:!1,sectors:["31.0","40.7","36.2"],fuel:5,trackTemp:21,grip:"Opt"},{lap:3,time:"1:47.456",delta:"+0.556",valid:!0,pit:!1,sectors:["30.8","40.5","36.2"],fuel:4,trackTemp:21,grip:"Opt"},{lap:4,time:"1:47.112",delta:"+0.212",valid:!0,pit:!1,sectors:["30.6","40.3","36.2"],fuel:3,trackTemp:21,grip:"Opt"},{lap:5,time:"1:47.234",delta:"+0.334",valid:!0,pit:!1,sectors:["30.7","40.4","36.1"],fuel:2,trackTemp:22,grip:"Opt"},{lap:6,time:"1:49.101",delta:"+2.201",valid:!0,pit:!0,sectors:["31.5","41.2","36.4"],fuel:1,trackTemp:22,grip:"Opt"}],4:[{lap:1,time:"1:51.234",delta:"+1.734",valid:!0,pit:!1,sectors:["32.5","42.0","36.7"],fuel:55,trackTemp:23,grip:"Opt"},{lap:2,time:"1:50.123",delta:"+0.623",valid:!1,pit:!1,sectors:["32.1","41.5","36.5"],fuel:53,trackTemp:24,grip:"Opt"},{lap:3,time:"1:49.567",delta:"+0.067",valid:!0,pit:!1,sectors:["31.8","41.2","36.6"],fuel:51,trackTemp:24,grip:"Opt"},{lap:4,time:"1:49.345",delta:"-0.155",valid:!0,pit:!1,sectors:["31.6","41.1","36.6"],fuel:49,trackTemp:24,grip:"Opt"},{lap:5,time:"1:49.234",delta:"-0.266",valid:!0,pit:!1,sectors:["31.5","41.0","36.7"],fuel:47,trackTemp:24,grip:"Opt"},{lap:6,time:"1:49.456",delta:"-0.044",valid:!0,pit:!1,sectors:["31.6","41.1","36.8"],fuel:45,trackTemp:25,grip:"Opt"},{lap:7,time:"1:49.567",delta:"+0.067",valid:!1,pit:!1,sectors:["31.7","41.2","36.7"],fuel:43,trackTemp:25,grip:"Opt"},{lap:8,time:"1:49.678",delta:"+0.178",valid:!0,pit:!1,sectors:["31.7","41.3","36.7"],fuel:41,trackTemp:25,grip:"Opt"},{lap:9,time:"1:49.890",delta:"+0.390",valid:!0,pit:!1,sectors:["31.8","41.4","36.7"],fuel:39,trackTemp:25,grip:"Opt"},{lap:10,time:"1:50.687",delta:"+1.187",valid:!0,pit:!0,sectors:["32.0","41.8","36.9"],fuel:37,trackTemp:25,grip:"Opt"}],5:[{lap:1,time:"1:51.890",delta:"+2.390",valid:!0,pit:!1,sectors:["32.8","42.3","36.8"],fuel:70,trackTemp:25,grip:"Opt"},{lap:2,time:"1:50.567",delta:"+1.067",valid:!0,pit:!1,sectors:["32.2","41.7","36.7"],fuel:68,trackTemp:25,grip:"Opt"},{lap:3,time:"1:50.123",delta:"+0.623",valid:!0,pit:!1,sectors:["32.0","41.4","36.7"],fuel:66,trackTemp:26,grip:"Opt"},{lap:4,time:"1:49.890",delta:"+0.390",valid:!0,pit:!1,sectors:["31.9","41.3","36.7"],fuel:64,trackTemp:26,grip:"Opt"},{lap:5,time:"1:49.678",delta:"+0.178",valid:!0,pit:!1,sectors:["31.8","41.2","36.7"],fuel:62,trackTemp:26,grip:"Opt"},{lap:6,time:"1:49.567",delta:"+0.067",valid:!1,pit:!1,sectors:["31.7","41.2","36.7"],fuel:60,trackTemp:26,grip:"Opt"},{lap:7,time:"1:49.789",delta:"+0.289",valid:!0,pit:!1,sectors:["31.8","41.3","36.7"],fuel:58,trackTemp:27,grip:"Opt"},{lap:8,time:"1:49.890",delta:"+0.390",valid:!0,pit:!1,sectors:["31.9","41.3","36.7"],fuel:56,trackTemp:27,grip:"Opt"},{lap:9,time:"1:50.012",delta:"+0.512",valid:!0,pit:!1,sectors:["31.9","41.4","36.7"],fuel:54,trackTemp:27,grip:"Opt"},{lap:10,time:"1:50.234",delta:"+0.734",valid:!0,pit:!1,sectors:["32.0","41.5","36.7"],fuel:52,trackTemp:27,grip:"Opt"},{lap:11,time:"1:50.345",delta:"+0.845",valid:!0,pit:!1,sectors:["32.1","41.5","36.7"],fuel:50,trackTemp:27,grip:"Opt"},{lap:12,time:"1:50.456",delta:"+0.956",valid:!1,pit:!1,sectors:["32.1","41.6","36.8"],fuel:48,trackTemp:26,grip:"Opt"},{lap:13,time:"1:50.567",delta:"+1.067",valid:!0,pit:!1,sectors:["32.2","41.6","36.8"],fuel:46,trackTemp:26,grip:"Opt"},{lap:14,time:"1:50.678",delta:"+1.178",valid:!0,pit:!1,sectors:["32.2","41.7","36.8"],fuel:44,trackTemp:26,grip:"Opt"},{lap:15,time:"1:50.789",delta:"+1.289",valid:!0,pit:!1,sectors:["32.3","41.7","36.8"],fuel:42,trackTemp:26,grip:"Opt"},{lap:16,time:"1:50.890",delta:"+1.390",valid:!1,pit:!1,sectors:["32.3","41.8","36.8"],fuel:40,trackTemp:25,grip:"Opt"},{lap:17,time:"1:50.012",delta:"+0.512",valid:!0,pit:!1,sectors:["32.0","41.4","36.6"],fuel:38,trackTemp:25,grip:"Opt"},{lap:18,time:"1:49.890",delta:"+0.390",valid:!0,pit:!1,sectors:["31.9","41.3","36.7"],fuel:36,trackTemp:25,grip:"Opt"},{lap:19,time:"1:49.789",delta:"+0.289",valid:!0,pit:!1,sectors:["31.8","41.3","36.7"],fuel:34,trackTemp:24,grip:"Opt"},{lap:20,time:"1:51.234",delta:"+1.734",valid:!0,pit:!0,sectors:["32.5","42.0","36.7"],fuel:32,trackTemp:24,grip:"Opt"}],6:[{lap:1,time:"1:53.123",delta:"+6.223",valid:!1,pit:!0,sectors:["33.5","43.2","36.4"],fuel:5,trackTemp:23,grip:"Opt"}],7:[{lap:1,time:"1:51.234",delta:"+1.734",valid:!0,pit:!1,sectors:["32.5","42.0","36.7"],fuel:45,trackTemp:22,grip:"Opt"},{lap:2,time:"1:50.345",delta:"+0.845",valid:!0,pit:!1,sectors:["32.1","41.5","36.7"],fuel:43,trackTemp:22,grip:"Opt"},{lap:3,time:"1:49.890",delta:"+0.390",valid:!0,pit:!0,sectors:["31.9","41.3","36.7"],fuel:41,trackTemp:22,grip:"Opt"}],8:[{lap:1,time:"1:51.567",delta:"+2.067",valid:!0,pit:!1,sectors:["32.6","42.1","36.9"],fuel:60,trackTemp:20,grip:"Opt"},{lap:2,time:"1:50.456",delta:"+0.956",valid:!0,pit:!1,sectors:["32.1","41.6","36.8"],fuel:58,trackTemp:20,grip:"Opt"},{lap:3,time:"1:49.890",delta:"+0.390",valid:!0,pit:!1,sectors:["31.9","41.3","36.7"],fuel:56,trackTemp:20,grip:"Opt"},{lap:4,time:"1:49.567",delta:"+0.067",valid:!1,pit:!1,sectors:["31.7","41.2","36.7"],fuel:54,trackTemp:20,grip:"Opt"},{lap:5,time:"1:49.456",delta:"-0.044",valid:!0,pit:!1,sectors:["31.6","41.1","36.8"],fuel:52,trackTemp:20,grip:"Opt"},{lap:6,time:"1:49.678",delta:"+0.178",valid:!0,pit:!1,sectors:["31.7","41.2","36.8"],fuel:50,trackTemp:20,grip:"Opt"},{lap:7,time:"1:49.890",delta:"+0.390",valid:!0,pit:!1,sectors:["31.9","41.3","36.7"],fuel:48,trackTemp:20,grip:"Opt"},{lap:8,time:"1:50.012",delta:"+0.512",valid:!0,pit:!1,sectors:["32.0","41.4","36.6"],fuel:46,trackTemp:19,grip:"Opt"},{lap:9,time:"1:50.234",delta:"+0.734",valid:!1,pit:!1,sectors:["32.1","41.5","36.6"],fuel:44,trackTemp:19,grip:"Opt"},{lap:10,time:"1:50.345",delta:"+0.845",valid:!0,pit:!1,sectors:["32.2","41.5","36.6"],fuel:42,trackTemp:19,grip:"Opt"},{lap:11,time:"1:50.123",delta:"+0.623",valid:!0,pit:!1,sectors:["32.0","41.4","36.7"],fuel:40,trackTemp:19,grip:"Opt"},{lap:12,time:"1:51.789",delta:"+2.289",valid:!0,pit:!0,sectors:["32.8","42.2","36.8"],fuel:38,trackTemp:19,grip:"Opt"}],9:[{lap:1,time:"1:52.345",delta:"+2.845",valid:!0,pit:!1,sectors:["33.0","42.5","36.8"],fuel:110,trackTemp:27,grip:"Opt"},{lap:2,time:"1:50.890",delta:"+1.390",valid:!0,pit:!1,sectors:["32.3","41.8","36.8"],fuel:108,trackTemp:27,grip:"Opt"},{lap:3,time:"1:50.123",delta:"+0.623",valid:!1,pit:!1,sectors:["32.0","41.4","36.7"],fuel:106,trackTemp:27,grip:"Opt"},{lap:4,time:"1:49.678",delta:"+0.178",valid:!0,pit:!1,sectors:["31.8","41.2","36.7"],fuel:104,trackTemp:28,grip:"Opt"},{lap:5,time:"1:49.567",delta:"+0.067",valid:!0,pit:!1,sectors:["31.7","41.1","36.8"],fuel:102,trackTemp:28,grip:"Opt"},{lap:6,time:"1:49.456",delta:"-0.044",valid:!1,pit:!1,sectors:["31.6","41.1","36.8"],fuel:100,trackTemp:28,grip:"Opt"},{lap:7,time:"1:50.234",delta:"+0.734",valid:!0,pit:!1,sectors:["32.0","41.5","36.7"],fuel:98,trackTemp:28,grip:"Opt"},{lap:8,time:"1:49.789",delta:"+0.289",valid:!0,pit:!1,sectors:["31.9","41.2","36.7"],fuel:96,trackTemp:28,grip:"Opt"},{lap:9,time:"1:49.345",delta:"-0.155",valid:!0,pit:!1,sectors:["31.5","41.1","36.7"],fuel:94,trackTemp:28,grip:"Opt"},{lap:10,time:"1:50.456",delta:"+0.956",valid:!1,pit:!1,sectors:["32.1","41.6","36.8"],fuel:92,trackTemp:28,grip:"Opt"},{lap:11,time:"1:49.678",delta:"+0.178",valid:!0,pit:!1,sectors:["31.8","41.2","36.7"],fuel:90,trackTemp:28,grip:"Opt"},{lap:12,time:"1:49.567",delta:"+0.067",valid:!1,pit:!1,sectors:["31.7","41.1","36.8"],fuel:88,trackTemp:28,grip:"Opt"},{lap:13,time:"1:50.012",delta:"+0.512",valid:!0,pit:!1,sectors:["31.9","41.4","36.7"],fuel:86,trackTemp:28,grip:"Opt"},{lap:14,time:"1:49.890",delta:"+0.390",valid:!0,pit:!1,sectors:["31.9","41.3","36.7"],fuel:84,trackTemp:27,grip:"Opt"},{lap:15,time:"1:49.456",delta:"-0.044",valid:!0,pit:!1,sectors:["31.6","41.1","36.8"],fuel:82,trackTemp:27,grip:"Opt"},{lap:16,time:"1:50.567",delta:"+1.067",valid:!0,pit:!1,sectors:["32.2","41.6","36.8"],fuel:80,trackTemp:27,grip:"Opt"},{lap:17,time:"1:49.678",delta:"+0.178",valid:!1,pit:!1,sectors:["31.8","41.2","36.7"],fuel:78,trackTemp:27,grip:"Opt"},{lap:18,time:"1:50.234",delta:"+0.734",valid:!0,pit:!1,sectors:["32.0","41.5","36.7"],fuel:76,trackTemp:27,grip:"Opt"},{lap:19,time:"1:49.567",delta:"+0.067",valid:!0,pit:!1,sectors:["31.7","41.1","36.8"],fuel:74,trackTemp:27,grip:"Opt"},{lap:20,time:"1:50.789",delta:"+1.289",valid:!1,pit:!1,sectors:["32.3","41.7","36.8"],fuel:72,trackTemp:27,grip:"Opt"},{lap:21,time:"1:49.789",delta:"+0.289",valid:!0,pit:!1,sectors:["31.9","41.2","36.7"],fuel:70,trackTemp:26,grip:"Opt"},{lap:22,time:"1:50.123",delta:"+0.623",valid:!0,pit:!1,sectors:["32.0","41.4","36.7"],fuel:68,trackTemp:26,grip:"Opt"},{lap:23,time:"1:49.678",delta:"+0.178",valid:!0,pit:!1,sectors:["31.8","41.2","36.7"],fuel:66,trackTemp:26,grip:"Opt"},{lap:24,time:"1:50.345",delta:"+0.845",valid:!0,pit:!1,sectors:["32.1","41.5","36.7"],fuel:64,trackTemp:26,grip:"Opt"},{lap:25,time:"1:49.456",delta:"-0.044",valid:!1,pit:!1,sectors:["31.6","41.1","36.8"],fuel:62,trackTemp:26,grip:"Opt"},{lap:26,time:"1:49.567",delta:"+0.067",valid:!0,pit:!1,sectors:["31.7","41.1","36.8"],fuel:60,trackTemp:26,grip:"Opt"},{lap:27,time:"1:50.012",delta:"+0.512",valid:!0,pit:!1,sectors:["31.9","41.4","36.7"],fuel:58,trackTemp:25,grip:"Opt"},{lap:28,time:"1:49.789",delta:"+0.289",valid:!0,pit:!1,sectors:["31.9","41.2","36.7"],fuel:56,trackTemp:25,grip:"Opt"},{lap:29,time:"1:49.678",delta:"+0.178",valid:!0,pit:!1,sectors:["31.8","41.2","36.7"],fuel:54,trackTemp:25,grip:"Opt"},{lap:30,time:"1:52.123",delta:"+2.623",valid:!0,pit:!0,sectors:["33.2","42.1","36.8"],fuel:52,trackTemp:25,grip:"Opt"}],10:[{lap:1,time:"1:50.234",delta:"+0.734",valid:!0,pit:!1,sectors:["32.0","41.4","36.8"],fuel:80,trackTemp:22,grip:"Opt"},{lap:2,time:"1:50.123",delta:"+0.623",valid:!0,pit:!1,sectors:["31.9","41.4","36.8"],fuel:78,trackTemp:22,grip:"Opt"},{lap:3,time:"1:49.890",delta:"+0.390",valid:!1,pit:!1,sectors:["31.8","41.3","36.8"],fuel:76,trackTemp:21,grip:"Opt"},{lap:4,time:"1:51.234",delta:"+1.734",valid:!0,pit:!1,sectors:["32.4","41.9","36.9"],fuel:74,trackTemp:20,grip:"Green"},{lap:5,time:"1:51.567",delta:"+2.067",valid:!0,pit:!1,sectors:["32.5","42.1","37.0"],fuel:72,trackTemp:19,grip:"Green"},{lap:6,time:"1:51.890",delta:"+2.390",valid:!0,pit:!1,sectors:["32.6","42.2","37.1"],fuel:70,trackTemp:19,grip:"Green"},{lap:7,time:"1:53.234",delta:"+3.734",valid:!0,pit:!1,sectors:["33.2","42.9","37.1"],fuel:68,trackTemp:18,grip:"Greasy"},{lap:8,time:"1:54.567",delta:"+5.067",valid:!1,pit:!1,sectors:["33.8","43.5","37.3"],fuel:66,trackTemp:18,grip:"Greasy"},{lap:9,time:"1:53.890",delta:"+4.390",valid:!0,pit:!1,sectors:["33.4","43.3","37.2"],fuel:64,trackTemp:17,grip:"Greasy"},{lap:10,time:"1:55.234",delta:"+5.734",valid:!0,pit:!1,sectors:["34.0","43.8","37.4"],fuel:62,trackTemp:17,grip:"Damp"},{lap:11,time:"1:56.567",delta:"+7.067",valid:!1,pit:!1,sectors:["34.5","44.5","37.6"],fuel:60,trackTemp:16,grip:"Damp"},{lap:12,time:"1:55.890",delta:"+6.390",valid:!0,pit:!1,sectors:["34.2","44.2","37.5"],fuel:58,trackTemp:16,grip:"Damp"},{lap:13,time:"1:58.234",delta:"+8.734",valid:!0,pit:!1,sectors:["35.0","45.2","38.0"],fuel:56,trackTemp:15,grip:"Wet"},{lap:14,time:"1:59.567",delta:"+10.067",valid:!0,pit:!1,sectors:["35.5","45.8","38.3"],fuel:54,trackTemp:15,grip:"Wet"},{lap:15,time:"2:02.123",delta:"+12.623",valid:!0,pit:!0,sectors:["36.2","46.5","39.4"],fuel:52,trackTemp:14,grip:"Wet"}]}})),y=ut(1);si(()=>{const K=m.value.stints.filter(N=>N.laps>=2);if(K.length>0){let N=K[0],dt=parseFloat(N.deltaVsTheo);K.forEach(I=>{const M=parseFloat(I.deltaVsTheo);M<dt&&(N=I,dt=M)}),y.value=N.number}});const b=Tt(()=>m.value.stints.find(K=>K.number===y.value)),E=Tt(()=>m.value.lapsData[y.value]||m.value.lapsData[1]);Tt(()=>E.value.length<=1);const L=Tt(()=>m.value.stints.length===1),S=Tt(()=>c.value?m.value.stints.find(K=>K.number===c.value):null),O=Tt(()=>h.value?m.value.stints.find(K=>K.number===h.value):null),D=Tt(()=>c.value?m.value.lapsData[c.value]||[]:[]),F=Tt(()=>h.value?m.value.lapsData[h.value]||[]:[]),k=Tt(()=>a.value==="A"?D.value:F.value);Tt(()=>a.value==="A"?S.value:O.value);const T=Tt(()=>{const K=m.value.stints.filter(dt=>dt.type==="Q"&&dt.laps>=2);if(K.length===0)return null;let N=K[0];return K.forEach(dt=>{parseFloat(dt.deltaVsTheo)<parseFloat(N.deltaVsTheo)&&(N=dt)}),N}),w=Tt(()=>{const K=m.value.stints.filter(dt=>dt.type==="R"&&dt.laps>=2);if(K.length===0)return null;let N=K[0];return K.forEach(dt=>{parseFloat(dt.deltaVsTheo)<parseFloat(N.deltaVsTheo)&&(N=dt)}),N});function C(K){return K.type==="Q"?T.value?.number===K.number:K.type==="R"?w.value?.number===K.number:!1}function R(K){const dt=(m.value.lapsData[K.number]||[]).filter(M=>!M.pit),I=dt.filter(M=>M.valid);return dt.length>0&&I.length===0?{icon:"",message:"Tutti i giri invalidi"}:K.type==="R"&&dt.length<5?{icon:"",message:`Stint gara troppo corto (${dt.length} giri, min. 5)`}:K.type==="Q"&&dt.length<=1?{icon:"",message:"Dati limitati (1 giro)"}:null}const P=Tt(()=>{const K=l.value?D.value:E.value,N=l.value?S.value:b.value,dt=st(N?.theoretical),I=N?.type==="R",M=dt+.3,$=N?.best;st($);const W=J=>J.pit?!1:st(J.time)<=M,z=J=>J.pit||!J.valid?!1:W(J),q=J=>J.pit||!J.valid?!1:J.time===$,Z=K.map(J=>J.pit?"#6b7280":J.valid?oe.value&&q(J)?"#a855f7":oe.value&&z(J)?"#10b981":"#3b82f6":"#ef4444"),X=K.map(J=>J.pit?"#6b7280":J.valid?oe.value&&q(J)?"#a855f7":oe.value&&z(J)?"#10b981":"#3b82f6":oe.value&&W(J)?"#10b981":"#ef4444"),tt=K.map(J=>!J.valid&&!J.pit&&oe.value&&W(J)?2:1),G=[{label:l.value?`A: Stint #${c.value}`:"Tempo",data:K.map(J=>st(J.time)),borderColor:"#3b82f6",backgroundColor:"rgba(59,130,246,0.1)",pointBackgroundColor:Z,pointBorderColor:X,pointBorderWidth:tt,pointRadius:5,tension:.2,order:1},{label:`Teorico ${N?.type==="Q"?"Q":"R"}`,data:K.map(()=>dt),borderColor:"#f59e0b",borderDash:[5,5],pointRadius:0,order:3}];if(I&&oe.value&&K.length>0&&G.push({label:"Target (+0.3s)",data:K.map(()=>M),borderColor:"rgba(16, 185, 129, 0.6)",borderWidth:2,borderDash:[3,3],backgroundColor:"rgba(16, 185, 129, 0.05)",fill:"origin",pointRadius:0,order:4}),se.value&&wn.value&&K.length>0){const J=Math.max(...K.map(at=>st(at.time)))+5;ks.value.forEach((at,It)=>{const Nt=sn[at.gripLevel]||sn.Opt,Lt=K.map((Oe,ae)=>{const Me=ae+1;return Me>=at.startLap&&Me<=at.endLap?J:null});G.push({label:`_grip_${It}`,data:Lt,borderColor:"transparent",backgroundColor:Nt?.bg,fill:"origin",pointRadius:0,order:10+It,spanGaps:!1})})}if(l.value&&F.value.length>0){const J=F.value;G.splice(1,0,{label:`B: Stint #${h.value}`,data:J.map(at=>st(at.time)),borderColor:"#8b5cf6",backgroundColor:"rgba(139,92,246,0.1)",pointBackgroundColor:J.map(at=>at.pit?"#6b7280":at.valid?"#8b5cf6":"#ef4444"),pointRadius:5,tension:.2})}const ft=l.value?Math.max(K.length,F.value.length):K.length;return{labels:Array.from({length:ft},(J,at)=>`G${at+1}`),datasets:G}}),x={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"bottom",labels:{color:"rgba(255,255,255,0.7)",font:{size:11},filter:K=>!K.text.startsWith("_")}},tooltip:{backgroundColor:"rgba(15,15,25,0.95)",callbacks:{label:K=>K.dataset.label?.startsWith("_")?"":`${K.dataset.label}: ${ct(K.raw)}`}}},scales:{x:{grid:{color:"rgba(255,255,255,0.08)"},ticks:{color:"rgba(255,255,255,0.6)",font:{size:11}}},y:{grid:{color:"rgba(255,255,255,0.08)"},ticks:{color:"rgba(255,255,255,0.6)",font:{size:11},callback:K=>typeof K=="number"?ct(K):K}}}};function st(K){if(!K)return 0;const N=K.split(":"),dt=Number(N[0])||0,I=Number(N[1])||0;return dt*60+I}function ct(K){return`${Math.floor(K/60)}:${(K%60).toFixed(3).padStart(6,"0")}`}function nt(K){return{practice:"PRACTICE",qualify:"QUALIFY",race:"RACE"}[K]||K.toUpperCase()}function lt(K){if(!K)return"far";const N=parseFloat(K);return N<=0?"fast":N<=.3?"ok":N<=.5?"margin":"far"}function it(K){const N=parseFloat(K);return N<=0?"FAST":N<=.3?"OK":N<=.5?"MARGIN":"LONTANO"}function Rt(){if(!b.value)return"-";const K=st(b.value.theoretical);return ct(K+.5)}const Fe=Tt(()=>{if(!b.value)return{value:"-",seconds:0,class:"neutral"};const K=st(b.value.best),N=st(b.value.theoretical),dt=K-N,I=dt>=0?`+${dt.toFixed(3)}`:dt.toFixed(3);return{value:I,seconds:dt,class:lt(I)}}),Ee=Tt(()=>{if(!b.value)return{value:"-",seconds:0,class:"neutral"};const K=st(b.value.avg),dt=st(b.value.theoretical)+.5,I=K-dt,M=I>=0?`+${I.toFixed(3)}`:I.toFixed(3);return{value:M,seconds:I,class:lt(M)}}),Wt=Tt(()=>{if(!b.value||E.value.length===0)return{onTarget:0,total:0,pct:0,targetLine:"-"};const N=st(b.value.theoretical)+.3,dt=E.value.filter($=>$.valid&&!$.pit),I=dt.length;let M=0;return dt.forEach($=>{st($.time)<=N&&M++}),{onTarget:M,total:I,pct:I>0?Math.round(M/I*100):0,targetLine:ct(N)}}),he=Tt(()=>{const K=E.value.filter(M=>!M.pit),N=K.length,dt=K.filter(M=>M.valid).length,I=N-dt;return{valid:dt,invalid:I,total:N,pct:N>0?Math.round(dt/N*100):100}}),Pe=Tt(()=>{if(!E.value||E.value.length===0)return{minutes:0,seconds:0,formatted:"0:00"};let K=0;E.value.forEach(M=>{K+=st(M.time)});const N=Math.floor(K/60),dt=Math.floor(K%60),I=`${N}:${dt.toString().padStart(2,"0")}`;return{minutes:N,seconds:dt,formatted:I}}),oe=ut(!0),se=ut(!0),sn={Opt:{bg:"rgba(16, 185, 129, 0.15)",border:"#10b981",label:"Optimum"},Green:{bg:"rgba(132, 204, 22, 0.15)",border:"#84cc16",label:"Green"},Greasy:{bg:"rgba(234, 179, 8, 0.15)",border:"#eab308",label:"Greasy"},Damp:{bg:"rgba(249, 115, 22, 0.15)",border:"#f97316",label:"Damp"},Wet:{bg:"rgba(59, 130, 246, 0.15)",border:"#3b82f6",label:"Wet"},Flooded:{bg:"rgba(139, 92, 246, 0.15)",border:"#8b5cf6",label:"Flooded"}},wn=Tt(()=>{const K=E.value;if(K.length<2)return!1;const N=K[0]?.grip;return K.some(dt=>dt.grip!==N)}),ks=Tt(()=>{const K=E.value;if(K.length===0)return[];const N=[];let dt=K[0]?.grip||"Opt",I=1;return K.forEach((M,$)=>{M.grip!==dt&&(N.push({gripLevel:dt,startLap:I,endLap:$}),dt=M.grip,I=$+1)}),N.push({gripLevel:dt,startLap:I,endLap:K.length}),N});return(K,N)=>{const dt=Su;return B(),Zt(dt,{class:"session-detail-page"},{default:Ve(()=>[v("div",y5,[v("button",{class:"nav-btn",onClick:N[0]||(N[0]=I=>s("back"))},[...N[7]||(N[7]=[v("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[v("path",{d:"M15 18l-6-6 6-6"})],-1),Vt(" Torna alle sessioni ",-1)])]),v("button",{class:"nav-btn nav-btn--accent",onClick:N[1]||(N[1]=I=>s("open-track",m.value.trackId))},[...N[8]||(N[8]=[Vt(" Apri pista ",-1),v("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[v("path",{d:"M9 18l6-6-6-6"})],-1)])])]),v("header",v5,[v("div",b5,[v("h1",T5,H(m.value.track.toUpperCase()),1),v("span",{class:At(["type-badge",`type-badge--${m.value.type}`])},H(nt(m.value.type)),3)]),v("div",w5,[v("span",null,H(m.value.date),1),N[9]||(N[9]=v("span",{class:"sep"},"",-1)),v("span",null,H(m.value.time),1),N[10]||(N[10]=v("span",{class:"sep"},"",-1)),v("span",E5,H(m.value.car),1)])]),v("div",I5,[v("aside",S5,[v("h2",A5,"Stint ("+H(m.value.stints.length)+")",1),N[16]||(N[16]=v("div",{class:"control-panel"},[v("button",{class:"control-btn control-btn--disabled",disabled:"",title:"Coming soon"},[v("span",{class:"control-icon"},""),v("span",{class:"control-label"},"Confronta stint")]),v("span",{class:"control-hint"},"Coming soon")],-1)),v("div",{class:At(["stint-header",{"stint-header--compare":r.value}])},[r.value?(B(),Y("span",k5,"")):Gt("",!0),N[11]||(N[11]=v("span",{class:"sh-best-icon"},null,-1)),N[12]||(N[12]=v("span",{class:"sh-type"},"Tipo",-1)),N[13]||(N[13]=v("span",{class:"sh-num"},"#",-1)),N[14]||(N[14]=v("span",{class:"sh-laps"},"Giri",-1)),N[15]||(N[15]=v("span",{class:"sh-delta"}," Theo",-1))],2),L.value?(B(),Y("div",C5," 1 stint in sessione  Nessun confronto interno disponibile ")):Gt("",!0),v("div",x5,[(B(!0),Y(Et,null,an(m.value.stints,I=>(B(),Y("button",{key:I.number,class:At(["stint-item",{"stint-item--compare":r.value,selected:!r.value&&y.value===I.number,"compare-selected":r.value&&o.value.includes(I.number),"compare-a":r.value&&o.value[0]===I.number,"compare-b":r.value&&o.value[1]===I.number,"best-stint":C(I)}]),onClick:M=>d(I.number)},[r.value?(B(),Y("span",P5,[o.value.includes(I.number)?(B(),Y("span",O5,H(o.value[0]===I.number?"A":"B"),1)):(B(),Y("span",M5))])):Gt("",!0),v("span",{class:"stint-best-icon",title:R(I)?.message},[C(I)?(B(),Y(Et,{key:0},[Vt("")],64)):R(I)?(B(),Y(Et,{key:1},[Vt(H(R(I)?.icon),1)],64)):Gt("",!0)],8,D5),v("span",{class:At(["stint-type",`stint-type--${I.type.toLowerCase()}`])},H(I.type),3),v("span",L5,"#"+H(I.number),1),v("span",N5,H(I.laps),1),v("span",{class:At(["stint-delta",`delta--${lt(I.deltaVsTheo)}`])},[v("span",V5,H(I.deltaVsTheo),1),v("span",F5,H(it(I.deltaVsTheo)),1)],2)],10,R5))),128))])]),v("section",U5,[l.value?(B(),Y("div",$5,[v("div",B5,[N[17]||(N[17]=v("span",{class:"compare-label"},"Confronto Stint:",-1)),v("span",H5,"A: #"+H(c.value)+" "+H(S.value?.type),1),N[18]||(N[18]=v("span",{class:"compare-vs"},"vs",-1)),v("span",j5,"B: #"+H(h.value)+" "+H(O.value?.type),1)]),v("button",{class:"compare-close",onClick:p}," Chiudi confronto")])):Gt("",!0),l.value?Gt("",!0):(B(),Y("div",z5,[v("span",{class:At(["stint-type-tag",`stint-type-tag--${b.value?.type?.toLowerCase()}`])},H(b.value?.type==="Q"?"QUALY":"RACE"),3),v("h3",W5,"Stint #"+H(y.value)+"  "+H(b.value?.intent??"Seleziona uno stint"),1),b.value&&C(b.value)?(B(),Y("span",q5," Best")):Gt("",!0)])),b.value&&R(b.value)?(B(),Y("div",G5,H(R(b.value)?.icon)+" "+H(R(b.value)?.message),1)):Gt("",!0),v("div",K5,[v("div",Q5,[v("span",Y5,[N[19]||(N[19]=v("span",{class:"tc-cond-icon"},"",-1)),v("span",X5,H(b.value?.conditions?.weather??"Dry"),1)]),v("span",J5,[N[20]||(N[20]=v("span",{class:"tc-cond-lbl"},"Aria",-1)),v("span",Z5,H(m.value.startConditions.airTemp)+"",1)]),v("span",t6,[N[21]||(N[21]=v("span",{class:"tc-cond-lbl"},"Asfalto",-1)),v("span",e6,H(b.value?.conditions?.avgTrackTemp??"-")+"",1)]),v("span",n6,[N[22]||(N[22]=v("span",{class:"tc-cond-lbl"},"Grip",-1)),v("span",s6,H(E.value[0]?.grip??"Opt"),1)])]),v("div",i6,[v("div",r6,[N[25]||(N[25]=v("h5",{class:"tc-header"},"TEMPI STINT",-1)),v("div",o6,[N[23]||(N[23]=v("span",{class:"tc-label"},"BEST:",-1)),v("span",a6,H(b.value?.best??"-"),1)]),v("div",l6,[N[24]||(N[24]=v("span",{class:"tc-label"},"AVG:",-1)),v("span",c6,H(b.value?.avg??"-"),1)])]),N[30]||(N[30]=v("div",{class:"tc-divider"},null,-1)),v("div",u6,[N[28]||(N[28]=v("h5",{class:"tc-header"},"TEORICI",-1)),v("div",h6,[N[26]||(N[26]=v("span",{class:"tc-label"},"THEO BEST:",-1)),v("span",d6,H(b.value?.theoretical??"-"),1)]),v("div",f6,[N[27]||(N[27]=v("span",{class:"tc-label"},"THEO AVG:",-1)),v("span",p6,H(Rt()),1)])]),N[31]||(N[31]=v("div",{class:"tc-divider"},null,-1)),v("div",g6,[N[29]||(N[29]=v("h5",{class:"tc-header"},"DELTA",-1)),v("div",m6,[v("span",{class:At(["tc-delta-inline",Fe.value.class])},H(Fe.value.value),3)]),v("div",_6,[v("span",{class:At(["tc-delta-inline",Ee.value.class])},H(Ee.value.value),3)])])]),v("div",y6,[N[32]||(N[32]=v("span",{class:"tc-duration-label"},"DURATA STINT:",-1)),v("span",v6,H(Pe.value.minutes),1),N[33]||(N[33]=v("span",{class:"tc-duration-unit"},"min",-1)),v("span",b6,H(Pe.value.seconds.toString().padStart(2,"0")),1),N[34]||(N[34]=v("span",{class:"tc-duration-unit"},"sec",-1))]),b.value?.type==="R"&&Wt.value.total>0?(B(),Y("div",T6,[N[40]||(N[40]=v("span",{class:"tc-cons-title"},"COSTANZA",-1)),v("div",w6,[v("span",E6,H(Wt.value.onTarget)+"/"+H(Wt.value.total),1),N[35]||(N[35]=v("span",{class:"tc-cons-desc"},"giri sotto target (theo +0.3s)",-1)),v("div",I6,[v("div",{class:"tc-cons-fill tc-cons-fill--target",style:vn({width:Wt.value.pct+"%"})},null,4)]),v("span",S6,H(Wt.value.pct)+"%",1)]),v("div",A6,[v("label",k6,[ds(v("input",{type:"checkbox","onUpdate:modelValue":N[2]||(N[2]=I=>oe.value=I)},null,512),[[Jg,oe.value]]),N[36]||(N[36]=v("span",{class:"tc-toggle-slider"},null,-1)),N[37]||(N[37]=v("span",{class:"tc-toggle-label"},"Target",-1))]),wn.value?(B(),Y("label",C6,[ds(v("input",{type:"checkbox","onUpdate:modelValue":N[3]||(N[3]=I=>se.value=I)},null,512),[[Jg,se.value]]),N[38]||(N[38]=v("span",{class:"tc-toggle-slider"},null,-1)),N[39]||(N[39]=v("span",{class:"tc-toggle-label"},"Grip",-1))])):Gt("",!0)])])):Gt("",!0),he.value.total>0?(B(),Y("div",x6,[N[43]||(N[43]=v("span",{class:"tc-cons-title"},"VALIDIT",-1)),v("div",R6,[v("span",P6,H(he.value.valid)+"/"+H(he.value.total),1),N[41]||(N[41]=v("span",{class:"tc-cons-desc"},"giri validi",-1)),v("div",O6,[v("div",{class:"tc-cons-fill tc-cons-fill--validity",style:vn({width:he.value.pct+"%"})},null,4)]),v("span",{class:At(["tc-cons-pct",he.value.pct<100?"tc-cons-pct--warning":""])},H(he.value.pct)+"%",3)]),he.value.invalid>0?(B(),Y("span",M6,[N[42]||(N[42]=v("span",{class:"tc-invalid-dot"},null,-1)),Vt(" "+H(he.value.invalid)+" invalidi ",1)])):Gt("",!0)])):Gt("",!0)]),v("div",D6,[v("h4",L6,[l.value?(B(),Y(Et,{key:0},[Vt("Confronto Tempi  A: Stint #"+H(c.value)+" vs B: Stint #"+H(h.value),1)],64)):(B(),Y(Et,{key:1},[Vt("Tempi Giro  Stint "+H(y.value),1)],64))]),v("div",N6,[mt(Jt(_5),{data:P.value,options:x},null,8,["data"])]),wn.value&&se.value?(B(),Y("div",V6,[N[44]||(N[44]=v("span",{class:"grip-legend-title"},"Grip:",-1)),(B(!0),Y(Et,null,an(ks.value,I=>(B(),Y("div",{key:`${I.gripLevel}-${I.startLap}`,class:"grip-legend-item"},[v("span",{class:"grip-legend-dot",style:vn({backgroundColor:sn[I.gripLevel]?.border||"#fff"})},null,4),v("span",F6,H(sn[I.gripLevel]?.label||I.gripLevel),1),v("span",U6,"(G"+H(I.startLap)+"-G"+H(I.endLap)+")",1)]))),128))])):Gt("",!0)]),v("div",$6,[v("div",B6,[l.value?(B(),Y("div",H6,[v("button",{class:At(["lap-tab",{"lap-tab--active":a.value==="A"}]),onClick:N[4]||(N[4]=I=>a.value="A")}," A: Stint #"+H(c.value),3),v("button",{class:At(["lap-tab",{"lap-tab--active":a.value==="B"}]),onClick:N[5]||(N[5]=I=>a.value="B")}," B: Stint #"+H(h.value),3)])):(B(),Y("h4",j6,"Tabella Giri  Stint "+H(y.value),1)),v("button",{class:"toggle-btn",onClick:N[6]||(N[6]=I=>i.value=!i.value)},H(i.value?"Vista semplice":"Dettagli"),1)]),v("div",z6,[v("table",W6,[v("thead",null,[v("tr",null,[N[51]||(N[51]=v("th",null,"Giro",-1)),N[52]||(N[52]=v("th",null,"Tempo",-1)),N[53]||(N[53]=v("th",null," Teorico",-1)),N[54]||(N[54]=v("th",null,"Stato",-1)),i.value?(B(),Y(Et,{key:0},[N[45]||(N[45]=v("th",null,"S1",-1)),N[46]||(N[46]=v("th",null,"S2",-1)),N[47]||(N[47]=v("th",null,"S3",-1)),N[48]||(N[48]=v("th",null,"Fuel",-1)),N[49]||(N[49]=v("th",null,"Track",-1)),N[50]||(N[50]=v("th",null,"Grip",-1))],64)):Gt("",!0)])]),v("tbody",null,[(B(!0),Y(Et,null,an(l.value?k.value:E.value,I=>(B(),Y("tr",{key:I.lap,class:At({invalid:!I.valid,pit:I.pit})},[v("td",null,H(I.lap),1),v("td",q6,H(I.time),1),v("td",{class:At(["delta",`delta--${lt(I.delta)}`])},H(I.delta),3),v("td",G6,H(I.pit?"PIT":I.valid?"":"INV"),1),i.value?(B(),Y(Et,{key:0},[v("td",null,H(I.sectors[0]),1),v("td",null,H(I.sectors[1]),1),v("td",null,H(I.sectors[2]),1),v("td",null,H(I.fuel)+"L",1),v("td",null,H(I.trackTemp)+"",1),v("td",null,H(I.grip),1)],64)):Gt("",!0)],2))),128))])])])])])])]),_:1})}}}),Q6=Object.assign(re(K6,[["__scopeId","data-v-cf2385a2"]]),{__name:"PagesSessionDetailPage"}),Y6={class:"car-image-container"},X6={key:0,class:"car-placeholder",viewBox:"0 0 400 200",fill:"none"},J6={class:"car-info"},Z6={class:"car-name"},tF={class:"car-meta"},eF={class:"car-subtitle"},nF={key:0,class:"car-date"},sF=Ht({__name:"FeaturedCarCard",props:{carName:{},carImage:{},subtitle:{},date:{}},setup(e){return(t,n)=>(B(),Y("div",{class:"featured-car",onClick:n[1]||(n[1]=s=>t.$emit("click"))},[v("div",Y6,[v("div",{class:"car-image",style:vn(e.carImage?{backgroundImage:`url(${e.carImage})`}:{})},[e.carImage?Gt("",!0):(B(),Y("svg",X6,[...n[2]||(n[2]=[kr('<defs data-v-1b2fbc93><linearGradient id="carGrad" x1="0%" y1="0%" x2="100%" y2="100%" data-v-1b2fbc93><stop offset="0%" stop-color="#e10600" stop-opacity="0.3" data-v-1b2fbc93></stop><stop offset="100%" stop-color="#ff6b00" stop-opacity="0.1" data-v-1b2fbc93></stop></linearGradient></defs><path d="M50 140 L80 120 L120 115 L150 100 L200 95 L280 95 L320 100 L350 115 L380 130 L380 150 L50 150 Z" fill="url(#carGrad)" stroke="#e10600" stroke-width="1.5" data-v-1b2fbc93></path><circle cx="110" cy="150" r="20" fill="#1a1a22" stroke="#e10600" stroke-width="1.5" data-v-1b2fbc93></circle><circle cx="110" cy="150" r="10" fill="none" stroke="#e10600" stroke-width="1" data-v-1b2fbc93></circle><circle cx="310" cy="150" r="20" fill="#1a1a22" stroke="#e10600" stroke-width="1.5" data-v-1b2fbc93></circle><circle cx="310" cy="150" r="10" fill="none" stroke="#e10600" stroke-width="1" data-v-1b2fbc93></circle><path d="M160 100 L200 92 L260 92 L290 100 L280 110 L170 110 Z" fill="rgba(255,255,255,0.05)" stroke="#e10600" stroke-width="1" data-v-1b2fbc93></path>',7)])]))],4),n[4]||(n[4]=v("div",{class:"image-overlay"},null,-1)),v("button",{class:"cta-button",title:"Vedi dettagli",onClick:n[0]||(n[0]=Va(s=>t.$emit("cta-click"),["stop"]))},[...n[3]||(n[3]=[v("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[v("path",{d:"M5 12h14"}),v("path",{d:"M12 5l7 7-7 7"})],-1)])])]),v("div",J6,[v("h2",Z6,H(e.carName||"MUSTANG GT3"),1),v("div",tF,[v("span",eF,H(e.subtitle||"Ultima auto utilizzata"),1),e.date?(B(),Y("span",nF,H(e.date),1)):Gt("",!0)])]),n[5]||(n[5]=v("div",{class:"accent-glow"},null,-1))]))}}),iF=Object.assign(re(sF,[["__scopeId","data-v-1b2fbc93"]]),{__name:"CardsFeaturedCarCard"}),rF={class:"track-image-container"},oF={class:"title-badge"},aF={class:"track-info"},lF={class:"track-name"},cF={class:"stats-row"},uF={class:"stat-box"},hF={class:"stat-value-row"},dF={class:"stat-time"},fF={class:"stat-box"},pF={class:"stat-value-row"},gF={class:"stat-time"},mF={class:"stat-box stat-box--subtle"},_F={class:"stat-value-row"},yF={class:"stat-time"},vF=Ht({__name:"TrackPerformanceCard",props:{title:{},trackName:{},trackImage:{},bestQualy:{},bestRace:{},avgTime:{}},setup(e){return(t,n)=>(B(),Y("div",{class:"track-card",onClick:n[1]||(n[1]=s=>t.$emit("click"))},[v("div",rF,[v("div",{class:"track-image",style:vn({backgroundImage:`url(${e.trackImage})`})},null,4),n[3]||(n[3]=v("div",{class:"image-overlay"},null,-1)),v("span",oF,H(e.title),1),v("button",{class:"cta-button",title:"Vedi sessioni",onClick:n[0]||(n[0]=Va(s=>t.$emit("cta-click"),["stop"]))},[...n[2]||(n[2]=[v("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[v("path",{d:"M5 12h14"}),v("path",{d:"M12 5l7 7-7 7"})],-1)])])]),v("div",aF,[v("h2",lF,H(e.trackName),1),v("div",cF,[v("div",uF,[n[5]||(n[5]=v("span",{class:"stat-label"},"BEST QUALY",-1)),v("div",hF,[v("span",dF,H(e.bestQualy||"--:--.---"),1),n[4]||(n[4]=kr('<svg class="medal-svg medal-gold" viewBox="0 0 48 56" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-00d25e74><path d="M18 0L24 16L30 0H36L28 20L24 28L20 20L12 0H18Z" fill="#E53935" data-v-00d25e74></path><path d="M24 16L30 0H36L28 20L24 28" fill="#C62828" data-v-00d25e74></path><circle cx="24" cy="38" r="16" fill="#FFD54F" data-v-00d25e74></circle><circle cx="24" cy="38" r="16" fill="url(#goldGradient)" data-v-00d25e74></circle><circle cx="24" cy="38" r="13" stroke="#FFC107" stroke-width="2" fill="none" data-v-00d25e74></circle><path d="M24 28L26.5 34H33L28 38L30 45L24 41L18 45L20 38L15 34H21.5L24 28Z" fill="#FFC107" data-v-00d25e74></path><defs data-v-00d25e74><linearGradient id="goldGradient" x1="8" y1="22" x2="40" y2="54" gradientUnits="userSpaceOnUse" data-v-00d25e74><stop stop-color="#FFE082" data-v-00d25e74></stop><stop offset="1" stop-color="#FFB300" data-v-00d25e74></stop></linearGradient></defs></svg>',1))])]),v("div",fF,[n[7]||(n[7]=v("span",{class:"stat-label"},"BEST RACE",-1)),v("div",pF,[v("span",gF,H(e.bestRace||"--:--.---"),1),n[6]||(n[6]=kr('<svg class="medal-svg medal-silver" viewBox="0 0 48 56" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-00d25e74><path d="M18 0L24 16L30 0H36L28 20L24 28L20 20L12 0H18Z" fill="#1E88E5" data-v-00d25e74></path><path d="M24 16L30 0H36L28 20L24 28" fill="#1565C0" data-v-00d25e74></path><circle cx="24" cy="38" r="16" fill="#E0E0E0" data-v-00d25e74></circle><circle cx="24" cy="38" r="16" fill="url(#silverGradient)" data-v-00d25e74></circle><circle cx="24" cy="38" r="13" stroke="#BDBDBD" stroke-width="2" fill="none" data-v-00d25e74></circle><text x="24" y="43" text-anchor="middle" font-size="14" font-weight="bold" fill="#757575" data-v-00d25e74>2</text><defs data-v-00d25e74><linearGradient id="silverGradient" x1="8" y1="22" x2="40" y2="54" gradientUnits="userSpaceOnUse" data-v-00d25e74><stop stop-color="#F5F5F5" data-v-00d25e74></stop><stop offset="1" stop-color="#9E9E9E" data-v-00d25e74></stop></linearGradient></defs></svg>',1))])]),v("div",mF,[n[9]||(n[9]=v("span",{class:"stat-label"},"AVG TIME",-1)),v("div",_F,[v("span",yF,H(e.avgTime||"--:--.---"),1),n[8]||(n[8]=kr('<svg class="medal-svg medal-bronze" viewBox="0 0 48 56" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-00d25e74><path d="M18 0L24 16L30 0H36L28 20L24 28L20 20L12 0H18Z" fill="#8D6E63" data-v-00d25e74></path><path d="M24 16L30 0H36L28 20L24 28" fill="#6D4C41" data-v-00d25e74></path><circle cx="24" cy="38" r="16" fill="#BCAAA4" data-v-00d25e74></circle><circle cx="24" cy="38" r="16" fill="url(#bronzeGradient)" data-v-00d25e74></circle><circle cx="24" cy="38" r="13" stroke="#A1887F" stroke-width="2" fill="none" data-v-00d25e74></circle><text x="24" y="43" text-anchor="middle" font-size="14" font-weight="bold" fill="#5D4037" data-v-00d25e74>3</text><defs data-v-00d25e74><linearGradient id="bronzeGradient" x1="8" y1="22" x2="40" y2="54" gradientUnits="userSpaceOnUse" data-v-00d25e74><stop stop-color="#D7CCC8" data-v-00d25e74></stop><stop offset="1" stop-color="#8D6E63" data-v-00d25e74></stop></linearGradient></defs></svg>',1))])])])]),n[10]||(n[10]=v("div",{class:"accent-glow"},null,-1))]))}}),bF=Object.assign(re(vF,[["__scopeId","data-v-00d25e74"]]),{__name:"CardsTrackPerformanceCard"}),TF={class:"activity-card"},wF={class:"card-content"},EF={class:"chart-area"},IF={class:"y-axis"},SF={class:"bars-container"},AF={class:"bar-stack"},kF={class:"day-label"},CF={class:"legend"},xF={class:"legend-item legend-item--practice"},RF={class:"legend-text"},PF={class:"legend-value"},OF={class:"legend-sessions"},MF={class:"legend-item legend-item--qualify"},DF={class:"legend-text"},LF={class:"legend-value"},NF={class:"legend-sessions"},VF={class:"legend-item legend-item--race"},FF={class:"legend-text"},UF={class:"legend-value"},$F={class:"legend-sessions"},BF=Ht({__name:"ActivityCard",props:{data:{},practiceTotal:{},qualifyTotal:{},raceTotal:{}},setup(e){const t=e,n=ut(!1);si(()=>{setTimeout(()=>{n.value=!0},100)});const s=Tt(()=>t.data||[{day:"Lun",practice:45,qualify:0,race:0},{day:"Mar",practice:0,qualify:0,race:0},{day:"Mer",practice:25,qualify:15,race:0},{day:"Gio",practice:12,qualify:0,race:95},{day:"Ven",practice:35,qualify:8,race:0},{day:"Sab",practice:0,qualify:0,race:38},{day:"Dom",practice:20,qualify:0,race:0}]),i=Tt(()=>{const h=s.value.map(d=>d.practice+d.qualify+d.race);return Math.max(...h,60)}),r=Tt(()=>{const h=i.value;return[0,Math.round(h/2),h]}),o=Tt(()=>t.practiceTotal||{minutes:137,sessions:5}),a=Tt(()=>t.qualifyTotal||{minutes:23,sessions:3}),l=Tt(()=>t.raceTotal||{minutes:133,sessions:2}),c=h=>"sess.";return(h,d)=>(B(),Y("div",TF,[d[9]||(d[9]=v("h2",{class:"card-title"},"Attivit (ultimi 7 giorni)",-1)),v("div",wF,[v("div",EF,[v("div",IF,[(B(!0),Y(Et,null,an(r.value.slice().reverse(),f=>(B(),Y("span",{key:f},H(f),1))),128))]),v("div",SF,[(B(!0),Y(Et,null,an(s.value,(f,p)=>(B(),Y("div",{key:f.day,class:"bar-column"},[v("div",AF,[f.race>0?(B(),Y("div",{key:0,class:"bar bar--race",style:vn({height:n.value?`${f.race/i.value*100}%`:"0%",transitionDelay:`${p*40+200}ms`})},null,4)):Gt("",!0),f.qualify>0?(B(),Y("div",{key:1,class:"bar bar--qualify",style:vn({height:n.value?`${f.qualify/i.value*100}%`:"0%",transitionDelay:`${p*40+100}ms`})},null,4)):Gt("",!0),f.practice>0?(B(),Y("div",{key:2,class:"bar bar--practice",style:vn({height:n.value?`${f.practice/i.value*100}%`:"0%",transitionDelay:`${p*40}ms`})},null,4)):Gt("",!0)]),v("span",kF,H(f.day),1)]))),128))])]),v("div",CF,[v("div",xF,[d[2]||(d[2]=v("span",{class:"legend-dot"},null,-1)),v("div",RF,[d[1]||(d[1]=v("span",{class:"legend-label"},"PRACTICE",-1)),v("span",PF,[Vt(H(o.value.minutes),1),d[0]||(d[0]=v("small",null,"min",-1))]),v("span",OF,H(o.value.sessions)+" "+H(c(o.value.sessions)),1)])]),v("div",MF,[d[5]||(d[5]=v("span",{class:"legend-dot"},null,-1)),v("div",DF,[d[4]||(d[4]=v("span",{class:"legend-label"},"QUALIFY",-1)),v("span",LF,[Vt(H(a.value.minutes),1),d[3]||(d[3]=v("small",null,"min",-1))]),v("span",NF,H(a.value.sessions)+" "+H(c(a.value.sessions)),1)])]),v("div",VF,[d[8]||(d[8]=v("span",{class:"legend-dot"},null,-1)),v("div",FF,[d[7]||(d[7]=v("span",{class:"legend-label"},"RACE",-1)),v("span",UF,[Vt(H(l.value.minutes),1),d[6]||(d[6]=v("small",null,"min",-1))]),v("span",$F,H(l.value.sessions)+" "+H(c(l.value.sessions)),1)])])])]),d[10]||(d[10]=v("div",{class:"accent-glow"},null,-1))]))}}),HF=Object.assign(re(BF,[["__scopeId","data-v-44f7baed"]]),{__name:"CardsActivityCard"}),jF=""+new URL("mustang_gt3.DdC5zVl9.png",import.meta.url).href,zF=""+new URL("spa.eyW79qze.jpg",import.meta.url).href,WF=""+new URL("monza.Bfqq58V6.jpg",import.meta.url).href,qF={class:"panoramica-grid"},GF=Ht({__name:"PanoramicaPage",setup(e){return(t,n)=>{const s=iF,i=bF,r=HF,o=Su;return B(),Zt(o,null,{default:Ve(()=>[v("div",qF,[mt(s,{"car-name":"MUSTANG GT3","car-image":Jt(jF),subtitle:"Ultima auto utilizzata",date:"12/01/2026"},null,8,["car-image"]),mt(i,{title:"Ultima pista","track-name":"SPA  FRANCORCHAMPS","track-image":Jt(zF),"best-qualy":"2:15.872","best-race":"2:18.430","avg-time":"2:19.256"},null,8,["track-image"]),mt(r),mt(i,{title:"Penultima pista","track-name":"AUTODROMO DI MONZA","track-image":Jt(WF),"best-qualy":"1:47.234","best-race":"1:49.012","avg-time":"1:50.445"},null,8,["track-image"])])]),_:1})}}}),KF=Object.assign(re(GF,[["__scopeId","data-v-b507f41f"]]),{__name:"PagesPanoramicaPage"}),QF={class:"filters"},YF={class:"filters-left"},XF={class:"filter-group"},JF={class:"segmented-control"},ZF={class:"filter-group"},t9=["value"],e9={class:"filter-group"},n9=["value"],s9={class:"filter-group"},i9={class:"segmented-control segmented-control--compact"},r9={class:"filters-right"},o9={class:"view-toggle"},a9={key:0,class:"no-results"},l9={key:1,class:"day-groups"},c9={class:"day-header"},u9={class:"day-date"},h9={class:"day-count"},d9={class:"sessions-list"},f9=["onClick"],p9={class:"row-left"},g9={class:"session-time"},m9={class:"session-track"},_9={class:"session-car"},y9={class:"row-right"},v9={class:"stat-chips"},b9={class:"stat-chip"},T9={class:"stat-chip"},w9={class:"time-slot"},E9={key:0,class:"time-badge time-badge--qualy"},I9={key:1,class:"time-badge time-badge--qualy time-badge--empty"},S9={class:"time-slot"},A9={key:0,class:"time-badge time-badge--race"},k9={key:1,class:"time-badge time-badge--race time-badge--empty"},C9={key:2,class:"day-cards"},x9={class:"card-header"},R9={class:"card-header-info"},P9={class:"card-date"},O9={class:"card-count"},M9={class:"card-sessions"},D9=["onClick"],L9={class:"card-session-time"},N9={class:"card-session-track"},V9={class:"card-session-car"},F9={class:"card-stat-chips"},U9={class:"stat-chip"},$9={class:"stat-chip"},B9={class:"card-time-slot"},H9={key:0,class:"time-badge time-badge--qualy"},j9={key:1,class:"time-badge time-badge--qualy time-badge--empty"},z9={class:"card-time-slot"},W9={key:0,class:"time-badge time-badge--race"},q9={key:1,class:"time-badge time-badge--race time-badge--empty"},G9=Ht({__name:"SessioniPage",emits:["go-to-session"],setup(e,{emit:t}){const n=t,s=ut("all"),i=ut("all"),r=ut("all"),o=ut("all"),a=ut("list"),l=[{id:"s1",date:"2026-01-13",time:"19:34",type:"practice",track:"Donington",car:"Ford Mustang GT3",laps:18,stints:2,bestQualy:"1:29.456"},{id:"s2",date:"2026-01-13",time:"18:22",type:"practice",track:"Valencia",car:"Ford Mustang GT3",laps:12,stints:1,bestQualy:"1:31.890"},{id:"s3",date:"2026-01-10",time:"20:15",type:"race",track:"Spa",car:"AMR V8 Vantage GT3",laps:18,stints:2,bestRace:"2:17.890"},{id:"s4",date:"2026-01-10",time:"18:45",type:"practice",track:"Spa",car:"AMR V8 Vantage GT3",laps:24,stints:3,bestQualy:"2:16.543",bestRace:"2:18.234"},{id:"s5",date:"2026-01-10",time:"15:30",type:"qualify",track:"Spa",car:"AMR V8 Vantage GT3",laps:8,stints:1,bestQualy:"2:16.874"},{id:"s6",date:"2026-01-06",time:"21:00",type:"race",track:"Monza",car:"Ford Mustang GT3",laps:22,stints:2,bestRace:"1:48.345"},{id:"s7",date:"2026-01-06",time:"19:12",type:"qualify",track:"Monza",car:"Ford Mustang GT3",laps:6,stints:1,bestQualy:"1:47.234"},{id:"s8",date:"2026-01-06",time:"17:45",type:"practice",track:"Monza",car:"Ford Mustang GT3",laps:32,stints:3,bestQualy:"1:47.890",bestRace:"1:48.567"},{id:"s9",date:"2026-01-06",time:"15:30",type:"practice",track:"Monza",car:"Ford Mustang GT3",laps:28,stints:2,bestQualy:"1:48.234"},{id:"s10",date:"2026-01-06",time:"13:00",type:"race",track:"Monza",car:"Ford Mustang GT3",laps:20,stints:2,bestRace:"1:48.567",bestQualy:"1:47.890"},{id:"s11",date:"2026-01-06",time:"11:30",type:"qualify",track:"Monza",car:"Ford Mustang GT3",laps:5,stints:1,bestQualy:"1:47.678"},{id:"s12",date:"2026-01-06",time:"09:00",type:"race",track:"Monza",car:"Ford Mustang GT3",laps:18,stints:2,bestRace:"1:48.123"},{id:"s13",date:"2026-01-03",time:"20:30",type:"race",track:"Monza",car:"Ford Mustang GT3",laps:16,stints:2,bestRace:"1:49.234"},{id:"s14",date:"2026-01-03",time:"18:00",type:"practice",track:"Monza",car:"Ford Mustang GT3",laps:24,stints:2,bestQualy:"1:48.567"},{id:"s15",date:"2026-01-03",time:"16:30",type:"qualify",track:"Monza",car:"Ford Mustang GT3",laps:6,stints:1,bestQualy:"1:48.012",bestRace:"1:49.890"},{id:"s16",date:"2025-12-31",time:"22:00",type:"practice",track:"Paul Ricard",car:"Ford Mustang GT3",laps:20,stints:2,bestQualy:"1:54.234"},{id:"s17",date:"2025-12-31",time:"19:30",type:"practice",track:"Donington",car:"Ford Mustang GT3",laps:18,stints:2,bestQualy:"1:29.890"},{id:"s18",date:"2025-12-30",time:"21:15",type:"practice",track:"Donington",car:"Ford Mustang GT3",laps:27,stints:3,bestQualy:"1:29.123"},{id:"s19",date:"2025-12-30",time:"18:00",type:"practice",track:"Paul Ricard",car:"Ford Mustang GT3",laps:22,stints:2,bestQualy:"1:54.567"},{id:"s20",date:"2025-12-30",time:"15:30",type:"practice",track:"Donington",car:"AMR V8 Vantage GT3",laps:16,stints:2,bestQualy:"1:30.234"},{id:"s21",date:"2025-12-30",time:"12:00",type:"practice",track:"Donington",car:"Ford Mustang GT3",laps:30,stints:3,bestQualy:"1:29.456",bestRace:"1:30.890"}],c=Tt(()=>[...new Set(l.map(b=>b.track))].sort()),h=Tt(()=>[...new Set(l.map(b=>b.car))].sort()),d=Tt(()=>l.filter(b=>{if(s.value!=="all"&&b.type!==s.value||i.value!=="all"&&b.track!==i.value||r.value!=="all"&&b.car!==r.value)return!1;if(o.value!=="all"){const E=new Date("2026-01-13"),L=new Date(b.date),S=Math.floor((E.getTime()-L.getTime())/(1e3*60*60*24));if(o.value==="today"&&S>0||o.value==="7d"&&S>7||o.value==="30d"&&S>30)return!1}return!0})),f=Tt(()=>{const b={};for(const E of d.value)b[E.date]||(b[E.date]=[]),b[E.date].push(E);return Object.entries(b).sort(([E],[L])=>L.localeCompare(E)).map(([E,L])=>({date:E,sessions:L}))});function p(b){const E=new Date(b),L=E.getDate(),O=["GENNAIO","FEBBRAIO","MARZO","APRILE","MAGGIO","GIUGNO","LUGLIO","AGOSTO","SETTEMBRE","OTTOBRE","NOVEMBRE","DICEMBRE"][E.getMonth()],D=E.getFullYear();return`${L} ${O} ${D}`}function m(b){return{practice:"PRACTICE",qualify:"QUALIFY",race:"RACE"}[b]}function y(b){n("go-to-session",b)}return(b,E)=>{const L=Su;return B(),Zt(L,null,{default:Ve(()=>[E[19]||(E[19]=v("h1",{class:"page-title"},"SESSIONI",-1)),v("div",QF,[v("div",YF,[v("div",XF,[v("div",JF,[v("button",{class:At(["seg-btn",{"seg-btn--active":s.value==="all"}]),onClick:E[0]||(E[0]=S=>s.value="all")},"Tutto",2),v("button",{class:At(["seg-btn","seg-btn--practice",{"seg-btn--active":s.value==="practice"}]),onClick:E[1]||(E[1]=S=>s.value="practice")},"Practice",2),v("button",{class:At(["seg-btn","seg-btn--qualify",{"seg-btn--active":s.value==="qualify"}]),onClick:E[2]||(E[2]=S=>s.value="qualify")},"Qualify",2),v("button",{class:At(["seg-btn","seg-btn--race",{"seg-btn--active":s.value==="race"}]),onClick:E[3]||(E[3]=S=>s.value="race")},"Race",2)])]),v("div",ZF,[ds(v("select",{"onUpdate:modelValue":E[4]||(E[4]=S=>i.value=S),class:"filter-select"},[E[12]||(E[12]=v("option",{value:"all"},"Tutte le piste",-1)),(B(!0),Y(Et,null,an(c.value,S=>(B(),Y("option",{key:S,value:S},H(S),9,t9))),128))],512),[[tm,i.value]])]),v("div",e9,[ds(v("select",{"onUpdate:modelValue":E[5]||(E[5]=S=>r.value=S),class:"filter-select"},[E[13]||(E[13]=v("option",{value:"all"},"Tutte le auto",-1)),(B(!0),Y(Et,null,an(h.value,S=>(B(),Y("option",{key:S,value:S},H(S),9,n9))),128))],512),[[tm,r.value]])]),v("div",s9,[v("div",i9,[v("button",{class:At(["seg-btn",{"seg-btn--active":o.value==="today"}]),onClick:E[6]||(E[6]=S=>o.value="today")},"Oggi",2),v("button",{class:At(["seg-btn",{"seg-btn--active":o.value==="7d"}]),onClick:E[7]||(E[7]=S=>o.value="7d")},"7g",2),v("button",{class:At(["seg-btn",{"seg-btn--active":o.value==="30d"}]),onClick:E[8]||(E[8]=S=>o.value="30d")},"30g",2),v("button",{class:At(["seg-btn",{"seg-btn--active":o.value==="all"}]),onClick:E[9]||(E[9]=S=>o.value="all")},"Tutto",2)])])]),v("div",r9,[v("div",o9,[v("button",{class:At(["view-btn",{"view-btn--active":a.value==="list"}]),onClick:E[10]||(E[10]=S=>a.value="list"),title:"Vista lista"},[...E[14]||(E[14]=[v("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[v("path",{d:"M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01"})],-1)])],2),v("button",{class:At(["view-btn",{"view-btn--active":a.value==="card"}]),onClick:E[11]||(E[11]=S=>a.value="card"),title:"Vista card"},[...E[15]||(E[15]=[v("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[v("rect",{x:"3",y:"3",width:"7",height:"7",rx:"1"}),v("rect",{x:"14",y:"3",width:"7",height:"7",rx:"1"}),v("rect",{x:"3",y:"14",width:"7",height:"7",rx:"1"}),v("rect",{x:"14",y:"14",width:"7",height:"7",rx:"1"})],-1)])],2)])])]),f.value.length===0?(B(),Y("div",a9,[...E[16]||(E[16]=[v("p",null,"Nessuna sessione trovata con i filtri selezionati.",-1)])])):a.value==="list"?(B(),Y("div",l9,[(B(!0),Y(Et,null,an(f.value,S=>(B(),Y("div",{key:S.date,class:"day-group"},[v("div",c9,[v("span",u9,H(p(S.date)),1),v("span",h9,H(S.sessions.length)+" sessioni",1)]),v("div",d9,[(B(!0),Y(Et,null,an(S.sessions,O=>(B(),Y("div",{key:O.id,class:"session-row",onClick:D=>y(O.id)},[v("div",p9,[v("span",{class:At(["session-chip",`session-chip--${O.type}`])},H(m(O.type)),3),v("span",g9,H(O.time),1),v("span",m9,H(O.track),1),v("span",_9,H(O.car),1)]),v("div",y9,[v("div",v9,[v("span",b9,"GIRI "+H(O.laps),1),v("span",T9,"STINT "+H(O.stints),1)]),v("div",w9,[O.bestQualy?(B(),Y("span",E9," Q "+H(O.bestQualy),1)):(B(),Y("span",I9," Q  "))]),v("div",S9,[O.bestRace?(B(),Y("span",A9," R "+H(O.bestRace),1)):(B(),Y("span",k9," R  "))]),E[17]||(E[17]=v("span",{class:"session-cta"},[v("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[v("path",{d:"M9 18l6-6-6-6"})])],-1))])],8,f9))),128))])]))),128))])):(B(),Y("div",C9,[(B(!0),Y(Et,null,an(f.value,S=>(B(),Y("div",{key:S.date,class:"day-card"},[v("div",x9,[v("div",R9,[v("span",P9,H(p(S.date)),1),v("span",O9,H(S.sessions.length)+" sessioni",1)])]),v("div",M9,[(B(!0),Y(Et,null,an(S.sessions,O=>(B(),Y("div",{key:O.id,class:"card-session-row",onClick:D=>y(O.id)},[v("span",{class:At(["session-chip",`session-chip--${O.type}`])},H(m(O.type)),3),v("span",L9,H(O.time),1),v("span",N9,H(O.track),1),v("span",V9,H(O.car),1),v("div",F9,[v("span",U9,"GIRI "+H(O.laps),1),v("span",$9,"STINT "+H(O.stints),1)]),v("div",B9,[O.bestQualy?(B(),Y("span",H9," Q "+H(O.bestQualy),1)):(B(),Y("span",j9," Q  "))]),v("div",z9,[O.bestRace?(B(),Y("span",W9," R "+H(O.bestRace),1)):(B(),Y("span",q9," R  "))]),E[18]||(E[18]=v("span",{class:"session-cta"},[v("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[v("path",{d:"M9 18l6-6-6-6"})])],-1))],8,D9))),128))])]))),128))]))]),_:1})}}}),K9=Object.assign(re(G9,[["__scopeId","data-v-fd930230"]]),{__name:"PagesSessioniPage"}),Q9={class:"tracks-grid"},Y9={class:"track-name"},X9={class:"track-stats"},J9=Ht({__name:"PistePage",setup(e){const t=[{name:"Spa",hours:"--",bestQ:"--",bestR:"--"},{name:"Monza",hours:"--",bestQ:"--",bestR:"--"},{name:"Nrburgring",hours:"--",bestQ:"--",bestR:"--"},{name:"Imola",hours:"--",bestQ:"--",bestR:"--"},{name:"Barcelona",hours:"--",bestQ:"--",bestR:"--"},{name:"Silverstone",hours:"--",bestQ:"--",bestR:"--"}];return(n,s)=>{const i=Su;return B(),Zt(i,null,{default:Ve(()=>[s[0]||(s[0]=v("h1",{class:"page-title"},"Piste",-1)),v("div",Q9,[(B(),Y(Et,null,an(t,r=>v("div",{key:r.name,class:"track-card"},[v("h3",Y9,H(r.name),1),v("div",X9,[v("span",null,"Ore: "+H(r.hours),1),v("span",null,"Best Q: "+H(r.bestQ),1),v("span",null,"Best R: "+H(r.bestR),1)])])),64))])]),_:1})}}}),Z9=Object.assign(re(J9,[["__scopeId","data-v-3010ceb5"]]),{__name:"PagesPistePage"}),tU={class:"topbar"},eU={class:"topbar__inner"},nU={class:"topbar__user"},sU=Ht({__name:"TopBar",props:{userName:{}},emits:["logout","goToProfile"],setup(e,{emit:t}){const n=e,s=t,i=Tt(()=>n.userName??"Utente");return(r,o)=>{const a=VT;return B(),Y("header",tU,[v("div",eU,[o[2]||(o[2]=v("div",{class:"topbar__brand"},[v("span",{class:"brand-badge"},"ACC"),v("span",{class:"brand-name"},"TELEMETRY")],-1)),o[3]||(o[3]=v("div",{class:"topbar__spacer"},null,-1)),v("div",nU,[mt(a,{"user-name":i.value,onLogout:o[0]||(o[0]=l=>s("logout")),onGoToProfile:o[1]||(o[1]=l=>s("goToProfile"))},null,8,["user-name"])])])])}}}),iU=Object.assign(re(sU,[["__scopeId","data-v-2f973bfa"]]),{__name:"LayoutTopBar"}),rU={class:"tabsbar"},oU={class:"tabsbar__inner"},aU=["onClick"],lU=Ht({__name:"TabsBar",props:{activeTab:{}},emits:["navigate"],setup(e,{emit:t}){const n=t,s=[{id:"panoramica",label:"PANORAMICA"},{id:"sessioni",label:"SESSIONI"},{id:"piste",label:"PISTE"}];return(i,r)=>(B(),Y("nav",rU,[v("div",oU,[(B(),Y(Et,null,an(s,o=>v("button",{key:o.id,class:At(["tab",{"tab--active":e.activeTab===o.id}]),onClick:a=>n("navigate",o.id)},H(o.label),11,aU)),64))])]))}}),cU=Object.assign(re(lU,[["__scopeId","data-v-8662b1e4"]]),{__name:"LayoutTabsBar"}),uU={class:"main-layout"},hU={class:"main-content"},dU=Ht({__name:"MainLayout",props:{userName:{},activeTab:{}},emits:["logout","goToProfile","navigate"],setup(e,{emit:t}){const n=t;return(s,i)=>{const r=iU,o=cU;return B(),Y("div",uU,[mt(r,{"user-name":e.userName,onLogout:i[0]||(i[0]=a=>n("logout")),onGoToProfile:i[1]||(i[1]=a=>n("goToProfile"))},null,8,["user-name"]),mt(o,{"active-tab":e.activeTab,onNavigate:i[2]||(i[2]=a=>n("navigate",a))},null,8,["active-tab"]),v("main",hU,[lf(s.$slots,"default",{},void 0)])])}}}),fU=Object.assign(re(dU,[["__scopeId","data-v-89f8b09a"]]),{__name:"LayoutMainLayout"}),pU=Ht({__name:"DashboardMain",props:{userEmail:{},userNickname:{}},emits:["logout","goToProfile"],setup(e,{emit:t}){const n=e,s=t,i=ut("panoramica"),r=ut(null),o=h=>{i.value=h,r.value=null},a=h=>{r.value=h},l=()=>{r.value=null};tf("goToSession",a);const c=Tt(()=>n.userNickname?n.userNickname:n.userEmail?n.userEmail.split("@")[0]:"Utente");return(h,d)=>{const f=Q6,p=KF,m=K9,y=Z9,b=fU;return B(),Zt(b,{"user-name":c.value,"active-tab":i.value,onLogout:d[0]||(d[0]=E=>s("logout")),onGoToProfile:d[1]||(d[1]=E=>s("goToProfile")),onNavigate:o},{default:Ve(()=>[mt(tu,{name:"fade",mode:"out-in"},{default:Ve(()=>[i.value==="sessioni"&&r.value?(B(),Zt(f,{key:"session-detail","session-id":r.value,onBack:l},null,8,["session-id"])):i.value==="panoramica"?(B(),Zt(p,{key:"panoramica"})):i.value==="sessioni"?(B(),Zt(m,{key:"sessioni",onGoToSession:a})):i.value==="piste"?(B(),Zt(y,{key:"piste"})):Gt("",!0)]),_:1})]),_:1},8,["user-name","active-tab"])}}}),gU=Object.assign(re(pU,[["__scopeId","data-v-eaeab76e"]]),{__name:"DashboardMain"}),mU=pC(yC),_U={id:"app"},yU={key:"register-success",class:"auth-wrapper"},vU={class:"auth-card-standalone"},bU={key:"loading",class:"loading-screen"},TU="dissolve-fade-zoom",wU=Ht({__name:"app",setup(e){const{currentUser:t,userDisplayName:n,logout:s}=Iu(),i=ut("auth"),r=ut("login"),o=ut(""),a=ut(!1);Wo(t,y=>{y&&(o.value=y.email||"",a.value&&!y.emailVerified?(i.value!=="auth"||r.value!=="register-success")&&(i.value="auth",r.value="register-success"):i.value==="auth"&&r.value!=="register-success"&&(i.value="loading",setTimeout(()=>{i.value="dashboard"},1e3)))});const l=y=>{if(o.value=y,a.value&&t.value&&!t.value.emailVerified){r.value="register-success";return}i.value="loading",setTimeout(()=>{i.value="dashboard"},1500)},c=y=>{o.value=y,a.value?r.value="register-success":(i.value="loading",setTimeout(()=>{i.value="dashboard"},1500))},h=()=>{i.value="loading",setTimeout(()=>{i.value="dashboard"},1500)},d=()=>{console.log("[AUTH] Resending verification email to:",o.value)},f=async()=>{await s(),o.value="",r.value="login",i.value="auth"},p=()=>{i.value="profile"},m=()=>{i.value="dashboard"};return(y,b)=>{const E=mU,L=i4,S=d4,O=$4,D=gU;return B(),Y("div",_U,[mt(E),mt(tu,{name:TU,mode:"out-in"},{default:Ve(()=>[i.value==="auth"&&r.value!=="register-success"?(B(),Zt(L,{key:"auth",onLoginSuccess:l,onRegisterSuccess:c})):i.value==="auth"&&r.value==="register-success"?(B(),Y("div",yU,[v("div",vU,[mt(S,{email:o.value,"require-email-verification":a.value,onGoToDashboard:h,onResendEmail:d},null,8,["email","require-email-verification"])])])):i.value==="loading"?(B(),Y("div",bU,[...b[0]||(b[0]=[v("div",{class:"loading-content"},[v("div",{class:"loading-spinner"}),v("p",{class:"loading-text"},"Caricamento Dashboard...")],-1)])])):i.value==="profile"?(B(),Zt(O,{key:"profile","user-email":o.value,"user-nickname":Jt(n),onLogout:f,onBack:m},null,8,["user-email","user-nickname"])):(B(),Zt(D,{key:"dashboard","user-email":o.value,"user-nickname":Jt(n),onLogout:f,onGoToProfile:p},null,8,["user-email","user-nickname"]))]),_:1})])}}}),EU={__name:"nuxt-error-page",props:{error:Object},setup(e){const n=e.error,s=Number(n.statusCode||500),i=s===404,r=n.statusMessage??(i?"Page Not Found":"Internal Server Error"),o=n.message||n.toString(),a=void 0,h=i?wg(()=>Dc(()=>import("./-vAHPvjF.js"),__vite__mapDeps([0,1]),import.meta.url)):wg(()=>Dc(()=>import("./DXQGrEh6.js"),__vite__mapDeps([2,3]),import.meta.url));return(d,f)=>(B(),Zt(Jt(h),oE(Ab({statusCode:Jt(s),statusMessage:Jt(r),description:Jt(o),stack:Jt(a)})),null,16))}},IU={key:0},fv={__name:"nuxt-root",setup(e){const t=()=>null,n=we(),s=n.deferHydration();if(n.isHydrating){const c=n.hooks.hookOnce("app:error",s);Hi().beforeEach(c)}const i=!1;tf(Zb,t0()),n.hooks.callHookWith(c=>c.map(h=>h()),"vue:setup");const r=mf(),o=!1,a=/bot\b|chrome-lighthouse|facebookexternalhit|google\b/i;tb((c,h,d)=>{if(n.hooks.callHook("vue:error",c,h,d).catch(f=>console.error("[nuxt] Error in `vue:error` hook",f)),a.test(navigator.userAgent))return n.hooks.callHook("app:error",c),console.error(`[nuxt] Not rendering error page for bot with user agent \`${navigator.userAgent}\`:`,c),!1;if(ik(c)&&(c.fatal||c.unhandled))return n.runWithContext(()=>nk(c)),!1});const l=!1;return(c,h)=>(B(),Zt(UI,{onResolve:Jt(s)},{default:Ve(()=>[Jt(o)?(B(),Y("div",IU)):Jt(r)?(B(),Zt(Jt(EU),{key:1,error:Jt(r)},null,8,["error"])):Jt(l)?(B(),Zt(Jt(t),{key:2,context:Jt(l)},null,8,["context"])):Jt(i)?(B(),Zt(dI(Jt(i)),{key:3})):(B(),Zt(Jt(wU),{key:4}))]),_:1},8,["onResolve"]))}};let pv;{let e;pv=async function(){if(e)return e;const n=!!(window.__NUXT__?.serverRendered??document.getElementById("__NUXT_DATA__")?.dataset.ssr==="true"),s=n?OS(fv):PS(fv),i=$A({vueApp:s});async function r(o){await i.callHook("app:error",o),i.payload.error||=_f(o)}s.config.errorHandler=r,i.hook("app:suspense:resolve",()=>{s.config.errorHandler===r&&(s.config.errorHandler=void 0)}),!n&&lm.id&&i.hook("app:suspense:resolve",()=>{document.getElementById(lm.id)?.remove()});try{await jA(i,uC)}catch(o){r(o)}try{await i.hooks.callHook("app:created",s),await i.hooks.callHook("app:beforeMount",s),s.mount(VA),await i.hooks.callHook("app:mounted",s),await Kc()}catch(o){r(o)}return s},e=pv().catch(t=>{throw console.error("Error while mounting app:",t),t})}export{kU as A,mt as B,Ve as C,Vt as D,re as _,v as a,Hi as b,Y as c,Ht as d,we as e,si as f,Tf as g,bm as h,sf as i,xU as j,kn as k,SU as l,ek as m,Tt as n,B as o,ff as p,eo as q,ut as r,Bi as s,H as t,CU as u,eu as v,ga as w,tk as x,Jh as y,Vb as z};
