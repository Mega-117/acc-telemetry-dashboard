import{_ as G}from"./Kh7Qobji.js";import{_ as M}from"./BgBuwQKA.js";import{_ as $}from"./DI1sh24C.js";import{_ as D}from"./B0B2GNX7.js";import{_ as E}from"./CNmJPLqa.js";import{_ as V}from"./CbTCIEEp.js";import{b as z,M as L,r as c,o as A,X as H,Q as O,R,m as F,C as t,D as e,E as o,N as d,G as p,H as J,I as k,F as f,O as g,P as Q,J as P,Z as X,_ as Z}from"./hYsFsQyf.js";import{p as j}from"./BqdIpVr7.js";import"./COQjm_4k.js";import"./7s1O-cZz.js";import"./Dht6GFpX.js";const q={class:"pilot-view"},K={class:"pilot-header"},U={class:"viewing-badge"},W={key:0,class:"pilot-tabs"},Y=["onClick"],oo={key:1,class:"detail-back-bar"},eo={class:"pilot-content"},to={key:0,class:"loading"},ao={key:0,class:"tab-content"},so={key:1,class:"tab-content"},no={key:2,class:"tab-content"},io=z({__name:"[id]",setup(lo){const h=L().params.id;j(h);const l=c(null),b=c(!0),n=c("panoramica"),i=c("none"),r=c(null),u=c(null),x=[{id:"panoramica",label:"PANORAMICA"},{id:"sessioni",label:"SESSIONI"},{id:"piste",label:"PISTE"}];A(async()=>{try{const a=await H(O(R,"users",h));a.exists()&&(l.value=a.data())}catch(a){console.error("Error loading pilot:",a)}finally{b.value=!1}});const y=F(()=>l.value?.firstName&&l.value?.lastName?`${l.value.firstName} ${l.value.lastName}`:l.value?.nickname||"Pilota");function v(a){r.value=a,u.value=null,i.value="track"}function T(a){u.value=a,r.value=null,i.value="session"}function m(){i.value="none",r.value=null,u.value=null}return(a,s)=>{const w=G,C=M,N=$,S=D,B=E,I=V;return e(),t("div",q,[o("div",K,[p(w,{to:"/piloti",class:"back-link"},{default:J(()=>[...s[0]||(s[0]=[o("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("path",{d:"M19 12H5M12 19l-7-7 7-7"})],-1),k(" Torna ai piloti ",-1)])]),_:1}),o("div",U,[s[2]||(s[2]=o("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),o("circle",{cx:"12",cy:"12",r:"3"})],-1)),o("span",null,[s[1]||(s[1]=k("Stai visualizzando: ",-1)),o("strong",null,f(y.value),1)])])]),i.value==="none"?(e(),t("nav",W,[(e(),t(g,null,Q(x,_=>o("button",{key:_.id,class:X(["pilot-tab",{"pilot-tab--active":n.value===_.id}]),onClick:ro=>n.value=_.id},f(_.label),11,Y)),64))])):d("",!0),i.value!=="none"?(e(),t("div",oo,[o("button",{class:"detail-back-btn",onClick:m},[s[3]||(s[3]=o("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("path",{d:"M19 12H5M12 19l-7-7 7-7"})],-1)),k(" Torna a "+f(n.value==="panoramica"?"Panoramica":n.value==="sessioni"?"Sessioni":"Piste"),1)])])):d("",!0),o("div",eo,[b.value?(e(),t("div",to,"Caricamento...")):(e(),t(g,{key:1},[i.value==="track"&&r.value?(e(),P(C,{key:0,"track-id":r.value,onBack:m,onGoToSession:T},null,8,["track-id"])):i.value==="session"&&u.value?(e(),P(N,{key:1,"session-id":u.value,onBack:m,onGoToTrack:v},null,8,["session-id"])):(e(),t(g,{key:2},[n.value==="panoramica"?(e(),t("div",ao,[p(S,{onGoToTrack:v})])):d("",!0),n.value==="sessioni"?(e(),t("div",so,[p(B,{onGoToSession:T})])):d("",!0),n.value==="piste"?(e(),t("div",no,[p(I,{onGoToTrack:v})])):d("",!0)],64))],64))])])}}}),Po=Z(io,[["__scopeId","data-v-d69e9fb1"]]);export{Po as default};
