import{_ as L}from"./B1tr0lWw.js";import{_ as U}from"./DI7hZavl.js";import{d as $,r as g,k as v,Q as j,G as x,z as i,D as Y,A as t,y as l,C as H,M as d,W as P,K as m,L as b,B as o,Y as A,_ as K,H as W,q as Z}from"./5e6YxTzV.js";const J={class:"filters"},X={class:"filters-left"},tt={class:"filter-group"},et={class:"segmented-control"},st={class:"filter-group"},at=["value"],it={class:"filter-group"},nt=["value"],lt={class:"filter-group"},ot={class:"segmented-control segmented-control--compact"},ct={class:"filters-right"},rt={class:"view-toggle"},dt={key:0,class:"no-results"},ut={class:"day-header"},pt={class:"day-date"},gt={class:"day-count"},yt={class:"sessions-list"},vt=["onClick"],mt={class:"row-left"},bt={class:"session-time"},_t={class:"session-track"},kt={class:"session-car"},ft={class:"row-right"},Mt={class:"stat-chips"},Tt={class:"stat-chip"},ht={class:"stat-chip"},Gt={class:"time-slot"},Rt={key:0,class:"time-badge time-badge--qualy"},Qt={key:1,class:"time-badge time-badge--qualy time-badge--empty"},Ft={class:"time-slot"},Vt={key:0,class:"time-badge time-badge--race"},Ct={key:1,class:"time-badge time-badge--race time-badge--empty"},wt={key:2,class:"day-cards"},St={class:"card-header"},Dt={class:"card-header-info"},Pt={class:"card-date"},At={class:"card-count"},$t={class:"card-sessions"},xt=["onClick"],qt={class:"card-session-time"},zt={class:"card-session-track"},It={class:"card-session-car"},Bt={class:"card-stat-chips"},Ot={class:"stat-chip"},Et={class:"stat-chip"},Nt={class:"card-time-slot"},Lt={key:0,class:"time-badge time-badge--qualy"},Ut={key:1,class:"time-badge time-badge--qualy time-badge--empty"},jt={class:"card-time-slot"},Yt={key:0,class:"time-badge time-badge--race"},Ht={key:1,class:"time-badge time-badge--race time-badge--empty"},F=20,Kt=$({__name:"SessioniPage",emits:["go-to-session"],setup(q,{emit:f}){const M=f,c=g("all"),y=g("all"),_=g("all"),r=g("all"),k=g("list"),h=[{id:"s1",date:"2026-01-13",time:"19:34",type:"practice",track:"Donington",car:"Ford Mustang GT3",laps:18,stints:2,bestQualy:"1:29.456"},{id:"s2",date:"2026-01-13",time:"18:22",type:"practice",track:"Valencia",car:"Ford Mustang GT3",laps:12,stints:1,bestQualy:"1:31.890"},{id:"s3",date:"2026-01-10",time:"20:15",type:"race",track:"Spa",car:"AMR V8 Vantage GT3",laps:18,stints:2,bestRace:"2:17.890"},{id:"s4",date:"2026-01-10",time:"18:45",type:"practice",track:"Spa",car:"AMR V8 Vantage GT3",laps:24,stints:3,bestQualy:"2:16.543",bestRace:"2:18.234"},{id:"s5",date:"2026-01-10",time:"15:30",type:"qualify",track:"Spa",car:"AMR V8 Vantage GT3",laps:8,stints:1,bestQualy:"2:16.874"},{id:"s6",date:"2026-01-06",time:"21:00",type:"race",track:"Monza",car:"Ford Mustang GT3",laps:22,stints:2,bestRace:"1:48.345"},{id:"s7",date:"2026-01-06",time:"19:12",type:"qualify",track:"Monza",car:"Ford Mustang GT3",laps:6,stints:1,bestQualy:"1:47.234"},{id:"s8",date:"2026-01-06",time:"17:45",type:"practice",track:"Monza",car:"Ford Mustang GT3",laps:32,stints:3,bestQualy:"1:47.890",bestRace:"1:48.567"},{id:"s9",date:"2026-01-06",time:"15:30",type:"practice",track:"Monza",car:"Ford Mustang GT3",laps:28,stints:2,bestQualy:"1:48.234"},{id:"s10",date:"2026-01-06",time:"13:00",type:"race",track:"Monza",car:"Ford Mustang GT3",laps:20,stints:2,bestRace:"1:48.567",bestQualy:"1:47.890"},{id:"s11",date:"2026-01-06",time:"11:30",type:"qualify",track:"Monza",car:"Ford Mustang GT3",laps:5,stints:1,bestQualy:"1:47.678"},{id:"s12",date:"2026-01-06",time:"09:00",type:"race",track:"Monza",car:"Ford Mustang GT3",laps:18,stints:2,bestRace:"1:48.123"},{id:"s13",date:"2026-01-03",time:"20:30",type:"race",track:"Monza",car:"Ford Mustang GT3",laps:16,stints:2,bestRace:"1:49.234"},{id:"s14",date:"2026-01-03",time:"18:00",type:"practice",track:"Monza",car:"Ford Mustang GT3",laps:24,stints:2,bestQualy:"1:48.567"},{id:"s15",date:"2026-01-03",time:"16:30",type:"qualify",track:"Monza",car:"Ford Mustang GT3",laps:6,stints:1,bestQualy:"1:48.012",bestRace:"1:49.890"},{id:"s16",date:"2025-12-31",time:"22:00",type:"practice",track:"Paul Ricard",car:"Ford Mustang GT3",laps:20,stints:2,bestQualy:"1:54.234"},{id:"s17",date:"2025-12-31",time:"19:30",type:"practice",track:"Donington",car:"Ford Mustang GT3",laps:18,stints:2,bestQualy:"1:29.890"},{id:"s18",date:"2025-12-30",time:"21:15",type:"practice",track:"Donington",car:"Ford Mustang GT3",laps:27,stints:3,bestQualy:"1:29.123"},{id:"s19",date:"2025-12-30",time:"18:00",type:"practice",track:"Paul Ricard",car:"Ford Mustang GT3",laps:22,stints:2,bestQualy:"1:54.567"},{id:"s20",date:"2025-12-30",time:"15:30",type:"practice",track:"Donington",car:"AMR V8 Vantage GT3",laps:16,stints:2,bestQualy:"1:30.234"},{id:"s21",date:"2025-12-30",time:"12:00",type:"practice",track:"Donington",car:"Ford Mustang GT3",laps:30,stints:3,bestQualy:"1:29.456",bestRace:"1:30.890"},{id:"s22",date:"2025-12-28",time:"20:00",type:"race",track:"Spa",car:"Ford Mustang GT3",laps:20,stints:2,bestRace:"2:18.456"},{id:"s23",date:"2025-12-28",time:"18:30",type:"qualify",track:"Spa",car:"Ford Mustang GT3",laps:8,stints:1,bestQualy:"2:17.890"},{id:"s24",date:"2025-12-28",time:"16:00",type:"practice",track:"Spa",car:"Ford Mustang GT3",laps:24,stints:2,bestQualy:"2:18.234"},{id:"s25",date:"2025-12-25",time:"15:00",type:"practice",track:"Monza",car:"AMR V8 Vantage GT3",laps:18,stints:2,bestQualy:"1:49.123"},{id:"s26",date:"2025-12-25",time:"12:00",type:"race",track:"Monza",car:"AMR V8 Vantage GT3",laps:16,stints:2,bestRace:"1:49.890"},{id:"s27",date:"2025-12-22",time:"21:00",type:"practice",track:"Valencia",car:"Ford Mustang GT3",laps:22,stints:2,bestQualy:"1:32.456"},{id:"s28",date:"2025-12-22",time:"19:00",type:"qualify",track:"Valencia",car:"Ford Mustang GT3",laps:6,stints:1,bestQualy:"1:31.890"},{id:"s29",date:"2025-12-22",time:"17:00",type:"race",track:"Valencia",car:"Ford Mustang GT3",laps:18,stints:2,bestRace:"1:32.234"},{id:"s30",date:"2025-12-20",time:"20:30",type:"practice",track:"Donington",car:"Ford Mustang GT3",laps:28,stints:3,bestQualy:"1:28.890"},{id:"s31",date:"2025-12-20",time:"18:00",type:"practice",track:"Donington",car:"Ford Mustang GT3",laps:20,stints:2,bestQualy:"1:29.234"},{id:"s32",date:"2025-12-20",time:"15:30",type:"qualify",track:"Donington",car:"Ford Mustang GT3",laps:5,stints:1,bestQualy:"1:28.567"},{id:"s33",date:"2025-12-20",time:"13:00",type:"race",track:"Donington",car:"Ford Mustang GT3",laps:16,stints:2,bestRace:"1:29.123"},{id:"s34",date:"2025-12-18",time:"21:30",type:"practice",track:"Paul Ricard",car:"AMR V8 Vantage GT3",laps:24,stints:2,bestQualy:"1:55.234"},{id:"s35",date:"2025-12-18",time:"19:00",type:"practice",track:"Paul Ricard",car:"AMR V8 Vantage GT3",laps:20,stints:2,bestQualy:"1:55.890"},{id:"s36",date:"2025-12-15",time:"20:00",type:"race",track:"Monza",car:"Ford Mustang GT3",laps:22,stints:2,bestRace:"1:47.890"},{id:"s37",date:"2025-12-15",time:"18:00",type:"qualify",track:"Monza",car:"Ford Mustang GT3",laps:6,stints:1,bestQualy:"1:47.234"},{id:"s38",date:"2025-12-15",time:"16:00",type:"practice",track:"Monza",car:"Ford Mustang GT3",laps:28,stints:3,bestQualy:"1:47.567",bestRace:"1:48.123"},{id:"s39",date:"2025-12-12",time:"21:00",type:"practice",track:"Spa",car:"Ford Mustang GT3",laps:20,stints:2,bestQualy:"2:17.456"},{id:"s40",date:"2025-12-12",time:"19:00",type:"practice",track:"Spa",car:"Ford Mustang GT3",laps:18,stints:2,bestQualy:"2:18.123"},{id:"s41",date:"2025-12-12",time:"17:00",type:"race",track:"Spa",car:"Ford Mustang GT3",laps:16,stints:2,bestRace:"2:18.567"},{id:"s42",date:"2025-12-10",time:"20:30",type:"practice",track:"Donington",car:"AMR V8 Vantage GT3",laps:22,stints:2,bestQualy:"1:30.456"},{id:"s43",date:"2025-12-10",time:"18:00",type:"qualify",track:"Donington",car:"AMR V8 Vantage GT3",laps:6,stints:1,bestQualy:"1:30.123"},{id:"s44",date:"2025-12-10",time:"15:30",type:"race",track:"Donington",car:"AMR V8 Vantage GT3",laps:18,stints:2,bestRace:"1:30.890"},{id:"s45",date:"2025-12-08",time:"21:00",type:"practice",track:"Valencia",car:"Ford Mustang GT3",laps:24,stints:2,bestQualy:"1:32.789"},{id:"s46",date:"2025-12-08",time:"18:30",type:"practice",track:"Valencia",car:"Ford Mustang GT3",laps:20,stints:2,bestQualy:"1:33.123"}],z=v(()=>[...new Set(h.map(n=>n.track))].sort()),I=v(()=>[...new Set(h.map(n=>n.car))].sort()),G=v(()=>h.filter(n=>{if(c.value!=="all"&&n.type!==c.value||y.value!=="all"&&n.track!==y.value||_.value!=="all"&&n.car!==_.value)return!1;if(r.value!=="all"){const e=new Date("2026-01-13"),u=new Date(n.date),p=Math.floor((e.getTime()-u.getTime())/(1e3*60*60*24));if(r.value==="today"&&p>0||r.value==="7d"&&p>7||r.value==="30d"&&p>30)return!1}return!0}));v(()=>{const n={};for(const e of G.value)n[e.date]||(n[e.date]=[]),n[e.date].push(e);return Object.entries(n).sort(([e],[u])=>u.localeCompare(e)).map(([e,u])=>({date:e,sessions:u}))});const T=g(1),V=v(()=>G.value.length),B=v(()=>Math.max(1,Math.ceil(V.value/F))),R=v(()=>{const n=(T.value-1)*F,e=n+F,u=G.value.slice(n,e),p={};for(const s of u)p[s.date]||(p[s.date]=[]),p[s.date].push(s);return Object.entries(p).sort(([s],[a])=>a.localeCompare(s)).map(([s,a])=>({date:s,sessions:a}))});function O(){T.value=1}j([c,y,_,r],O);const C=g(null),Q=g(!1);function E(){Q.value=!0}function w(n){const e=new Date(n),u=e.getDate(),s=["GENNAIO","FEBBRAIO","MARZO","APRILE","MAGGIO","GIUGNO","LUGLIO","AGOSTO","SETTEMBRE","OTTOBRE","NOVEMBRE","DICEMBRE"][e.getMonth()],a=e.getFullYear();return`${u} ${s} ${a}`}function S(n){return{practice:"PRACTICE",qualify:"QUALIFY",race:"RACE"}[n]}function D(n){M("go-to-session",n)}return(n,e)=>{const u=L,p=U;return i(),x(p,null,{default:Y(()=>[e[21]||(e[21]=t("h1",{class:"page-title"},"SESSIONI",-1)),t("div",J,[t("div",X,[t("div",tt,[t("div",et,[t("button",{class:d(["seg-btn",{"seg-btn--active":c.value==="all"}]),onClick:e[0]||(e[0]=s=>c.value="all")},"Tutto",2),t("button",{class:d(["seg-btn","seg-btn--practice",{"seg-btn--active":c.value==="practice"}]),onClick:e[1]||(e[1]=s=>c.value="practice")},"Practice",2),t("button",{class:d(["seg-btn","seg-btn--qualify",{"seg-btn--active":c.value==="qualify"}]),onClick:e[2]||(e[2]=s=>c.value="qualify")},"Qualify",2),t("button",{class:d(["seg-btn","seg-btn--race",{"seg-btn--active":c.value==="race"}]),onClick:e[3]||(e[3]=s=>c.value="race")},"Race",2)])]),t("div",st,[P(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>y.value=s),class:"filter-select"},[e[14]||(e[14]=t("option",{value:"all"},"Tutte le piste",-1)),(i(!0),l(m,null,b(z.value,s=>(i(),l("option",{key:s,value:s},o(s),9,at))),128))],512),[[A,y.value]])]),t("div",it,[P(t("select",{"onUpdate:modelValue":e[5]||(e[5]=s=>_.value=s),class:"filter-select"},[e[15]||(e[15]=t("option",{value:"all"},"Tutte le auto",-1)),(i(!0),l(m,null,b(I.value,s=>(i(),l("option",{key:s,value:s},o(s),9,nt))),128))],512),[[A,_.value]])]),t("div",lt,[t("div",ot,[t("button",{class:d(["seg-btn",{"seg-btn--active":r.value==="today"}]),onClick:e[6]||(e[6]=s=>r.value="today")},"Oggi",2),t("button",{class:d(["seg-btn",{"seg-btn--active":r.value==="7d"}]),onClick:e[7]||(e[7]=s=>r.value="7d")},"7g",2),t("button",{class:d(["seg-btn",{"seg-btn--active":r.value==="30d"}]),onClick:e[8]||(e[8]=s=>r.value="30d")},"30g",2),t("button",{class:d(["seg-btn",{"seg-btn--active":r.value==="all"}]),onClick:e[9]||(e[9]=s=>r.value="all")},"Tutto",2)])])]),t("div",ct,[t("div",rt,[t("button",{class:d(["view-btn",{"view-btn--active":k.value==="list"}]),onClick:e[10]||(e[10]=s=>k.value="list"),title:"Vista lista"},[...e[16]||(e[16]=[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01"})],-1)])],2),t("button",{class:d(["view-btn",{"view-btn--active":k.value==="card"}]),onClick:e[11]||(e[11]=s=>k.value="card"),title:"Vista card"},[...e[17]||(e[17]=[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("rect",{x:"3",y:"3",width:"7",height:"7",rx:"1"}),t("rect",{x:"14",y:"3",width:"7",height:"7",rx:"1"}),t("rect",{x:"3",y:"14",width:"7",height:"7",rx:"1"}),t("rect",{x:"14",y:"14",width:"7",height:"7",rx:"1"})],-1)])],2)])])]),R.value.length===0?(i(),l("div",dt,[...e[18]||(e[18]=[t("p",null,"Nessuna sessione trovata con i filtri selezionati.",-1)])])):k.value==="list"?(i(),l("div",{key:1,ref_key:"sessionsRef",ref:C,class:d(["day-groups",{"day-groups--fading":Q.value}]),onTransitionend:e[12]||(e[12]=s=>Q.value=!1)},[(i(!0),l(m,null,b(R.value,s=>(i(),l("div",{key:s.date,class:"day-group"},[t("div",ut,[t("span",pt,o(w(s.date)),1),t("span",gt,o(s.sessions.length)+" sessioni",1)]),t("div",yt,[(i(!0),l(m,null,b(s.sessions,a=>(i(),l("div",{key:a.id,class:"session-row",onClick:N=>D(a.id)},[t("div",mt,[t("span",{class:d(["session-chip",`session-chip--${a.type}`])},o(S(a.type)),3),t("span",bt,o(a.time),1),t("span",_t,o(a.track),1),t("span",kt,o(a.car),1)]),t("div",ft,[t("div",Mt,[t("span",Tt,"GIRI "+o(a.laps),1),t("span",ht,"STINT "+o(a.stints),1)]),t("div",Gt,[a.bestQualy?(i(),l("span",Rt," Q "+o(a.bestQualy),1)):(i(),l("span",Qt," Q — "))]),t("div",Ft,[a.bestRace?(i(),l("span",Vt," R "+o(a.bestRace),1)):(i(),l("span",Ct," R — "))]),e[19]||(e[19]=t("span",{class:"session-cta"},[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M9 18l6-6-6-6"})])],-1))])],8,vt))),128))])]))),128))],34)):(i(),l("div",wt,[(i(!0),l(m,null,b(R.value,s=>(i(),l("div",{key:s.date,class:"day-card"},[t("div",St,[t("div",Dt,[t("span",Pt,o(w(s.date)),1),t("span",At,o(s.sessions.length)+" sessioni",1)])]),t("div",$t,[(i(!0),l(m,null,b(s.sessions,a=>(i(),l("div",{key:a.id,class:"card-session-row",onClick:N=>D(a.id)},[t("span",{class:d(["session-chip",`session-chip--${a.type}`])},o(S(a.type)),3),t("span",qt,o(a.time),1),t("span",zt,o(a.track),1),t("span",It,o(a.car),1),t("div",Bt,[t("span",Ot,"GIRI "+o(a.laps),1),t("span",Et,"STINT "+o(a.stints),1)]),t("div",Nt,[a.bestQualy?(i(),l("span",Lt," Q "+o(a.bestQualy),1)):(i(),l("span",Ut," Q — "))]),t("div",jt,[a.bestRace?(i(),l("span",Yt," R "+o(a.bestRace),1)):(i(),l("span",Ht," R — "))]),e[20]||(e[20]=t("span",{class:"session-cta"},[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M9 18l6-6-6-6"})])],-1))],8,xt))),128))])]))),128))])),H(u,{currentPage:T.value,"onUpdate:currentPage":e[13]||(e[13]=s=>T.value=s),"total-pages":B.value,"total-items":V.value,"scroll-target":C.value,"item-label":"sessioni",onPageChange:E},null,8,["currentPage","total-pages","total-items","scroll-target"])]),_:1})}}}),Wt=Object.assign(K(Kt,[["__scopeId","data-v-bdaf1e7b"]]),{__name:"PagesSessioniPage"}),te=$({__name:"index",setup(q){return(f,M)=>{const c=Wt;return i(),x(c,{onGoToSession:M[0]||(M[0]=y=>("navigateTo"in f?f.navigateTo:W(Z))(`/sessioni/${y}`))})}}});export{te as default};
