import{_ as H}from"./71DE3hRz.js";import{_ as J}from"./LOra1s14.js";import{C as W,a as Y,L as j,P as K,b as X,p as Z,c as tt,d as st,i as et,e as at}from"./BP87v2qa.js";import{u as it}from"./DSS2oPRJ.js";import{d as L,r as u,l as b,G as q,z as r,D as ot,A as t,E as f,H as k,B as a,C as w,M as I,y as d,K as nt,L as lt,J as G,_ as rt,U as ct,q as dt}from"./CpYqbRI5.js";const ut={class:"track-header"},pt={class:"track-header-image"},mt=["src","alt"],bt={class:"track-header-info"},gt={class:"track-country-badge"},vt={class:"track-title"},yt={class:"track-fullname"},_t={class:"track-meta"},ft={class:"meta-item"},kt={class:"meta-item"},Tt={class:"meta-item"},ht={class:"page-layout"},Rt={class:"main-content"},Ct={class:"section"},Mt={class:"chart-container"},Qt={class:"chart-wrapper"},Gt=["onClick"],Ft={class:"row-left"},Pt={class:"session-time"},xt={class:"session-date"},At={class:"session-car"},Bt={class:"row-right"},St={class:"stat-chips"},wt={class:"stat-chip"},It={class:"stat-chip"},Lt={class:"time-slot"},qt={key:0,class:"time-badge time-badge--qualy"},Dt={key:1,class:"time-badge time-badge--qualy time-badge--empty"},$t={class:"time-slot"},zt={key:0,class:"time-badge time-badge--race"},Nt={key:1,class:"time-badge time-badge--race time-badge--empty"},Ot={class:"sidebar"},Et={class:"sidebar-section"},Ut={class:"best-times-stack"},Vt={class:"best-time-card best-time-card--qualy"},Ht={class:"time-value"},Jt={key:0,class:"time-conditions"},Wt={class:"best-time-card best-time-card--race"},Yt={class:"time-value"},jt={key:0,class:"time-conditions"},Kt={class:"best-time-card best-time-card--avg"},Xt={class:"time-value"},Zt={key:0,class:"time-conditions"},ts={class:"sidebar-section"},ss={class:"activity-stack"},es={class:"activity-item"},as={class:"activity-value"},is={class:"activity-item"},os={class:"activity-value"},ns={class:"activity-label"},ls={class:"activity-item"},rs={class:"activity-value"},cs={class:"activity-item"},ds={class:"activity-value"},F=20,us=L({__name:"TrackDetailPage",props:{trackId:{}},emits:["back"],setup(P,{emit:T}){const{getPublicPath:h}=it();W.register(Y,j,K,X,Z,tt,st,et);const v=P,y=T,i=u({id:v.trackId,name:"Monza",fullName:"Autodromo Nazionale Monza",country:"Italia",countryCode:"IT",length:"5.793 km",turns:11,image:"/tracks/track_monza.png",sessions:12,lastSession:"2026-01-06",bestQualy:"1:47.234",bestQualyConditions:{airTemp:22,trackTemp:28,grip:"Optimum"},bestRace:"1:48.123",bestRaceConditions:{airTemp:19,trackTemp:24,grip:"Fast"},bestAvgRace:"1:48.890",bestAvgRaceConditions:{airTemp:21,trackTemp:26,grip:"Optimum"}}),_=u({qualy:{pro:"1:46.500",amateur:"1:48.000",rookie:"1:50.000"},race:{pro:"1:47.500",amateur:"1:49.000",rookie:"1:51.000"},avgRace:{pro:"1:48.000",amateur:"1:49.500",rookie:"1:51.500"}});function R(o,s){if(!o)return"rookie";const n=p(o),c=p(s.pro),e=p(s.amateur);return n<=c?"pro":n<=e?"amateur":"rookie"}b(()=>({qualy:R(i.value.bestQualy,_.value.qualy),race:R(i.value.bestRace,_.value.race),avgRace:R(i.value.bestAvgRace,_.value.avgRace)}));const g=u({totalLaps:127,validLaps:98,validPercentage:77,timeOnTrack:"3h 42m",sessionsCount:5,lastActivity:"2026-01-06"}),C=u([{id:"1",date:"2026-01-06",time:"21:00",type:"race",car:"Ford Mustang GT3",laps:22,stints:2,bestRace:"1:48.123"},{id:"2",date:"2026-01-06",time:"19:12",type:"qualify",car:"Ford Mustang GT3",laps:6,stints:1,bestQualy:"1:47.234"},{id:"3",date:"2026-01-06",time:"17:45",type:"practice",car:"Ford Mustang GT3",laps:32,stints:3,bestQualy:"1:47.890",bestRace:"1:48.567"},{id:"4",date:"2026-01-03",time:"20:30",type:"race",car:"Ford Mustang GT3",laps:16,stints:2,bestRace:"1:49.234"},{id:"5",date:"2026-01-03",time:"18:00",type:"practice",car:"Ford Mustang GT3",laps:24,stints:2,bestQualy:"1:48.567"},{id:"6",date:"2025-12-28",time:"21:15",type:"practice",car:"Ford Mustang GT3",laps:20,stints:2,bestQualy:"1:48.890"},{id:"7",date:"2025-12-28",time:"19:00",type:"qualify",car:"Ford Mustang GT3",laps:5,stints:1,bestQualy:"1:48.234"},{id:"8",date:"2025-12-20",time:"20:30",type:"race",car:"Ford Mustang GT3",laps:18,stints:2,bestRace:"1:49.567"},{id:"9",date:"2025-12-20",time:"18:00",type:"practice",car:"Ford Mustang GT3",laps:28,stints:3,bestQualy:"1:48.123",bestRace:"1:49.234"},{id:"10",date:"2025-12-12",time:"21:00",type:"practice",car:"Ford Mustang GT3",laps:22,stints:2,bestQualy:"1:49.567"},{id:"11",date:"2025-12-12",time:"19:00",type:"qualify",car:"Ford Mustang GT3",laps:6,stints:1,bestQualy:"1:49.123"},{id:"12",date:"2025-12-05",time:"20:00",type:"race",car:"Ford Mustang GT3",laps:20,stints:2,bestRace:"1:50.234"},{id:"13",date:"2025-12-05",time:"18:00",type:"practice",car:"Ford Mustang GT3",laps:26,stints:2,bestQualy:"1:49.890"},{id:"14",date:"2025-11-28",time:"21:30",type:"practice",car:"Ford Mustang GT3",laps:24,stints:2,bestQualy:"1:50.567"},{id:"15",date:"2025-11-28",time:"19:15",type:"race",car:"Ford Mustang GT3",laps:16,stints:2,bestRace:"1:51.234"},{id:"16",date:"2025-11-20",time:"20:00",type:"practice",car:"Ford Mustang GT3",laps:22,stints:2,bestQualy:"1:51.890"},{id:"17",date:"2025-11-20",time:"18:00",type:"qualify",car:"Ford Mustang GT3",laps:5,stints:1,bestQualy:"1:51.234"},{id:"18",date:"2025-11-15",time:"21:00",type:"race",car:"Ford Mustang GT3",laps:18,stints:2,bestRace:"1:52.567"},{id:"19",date:"2025-11-15",time:"19:00",type:"practice",car:"Ford Mustang GT3",laps:28,stints:3,bestQualy:"1:52.123"},{id:"20",date:"2025-11-10",time:"20:30",type:"practice",car:"Ford Mustang GT3",laps:20,stints:2,bestQualy:"1:52.890"},{id:"21",date:"2025-11-10",time:"18:00",type:"qualify",car:"Ford Mustang GT3",laps:6,stints:1,bestQualy:"1:52.456"},{id:"22",date:"2025-11-05",time:"21:00",type:"race",car:"Ford Mustang GT3",laps:16,stints:2,bestRace:"1:53.234"},{id:"23",date:"2025-11-05",time:"19:00",type:"practice",car:"Ford Mustang GT3",laps:24,stints:2,bestQualy:"1:53.890"},{id:"24",date:"2025-10-28",time:"20:00",type:"practice",car:"Ford Mustang GT3",laps:22,stints:2,bestQualy:"1:54.123"},{id:"25",date:"2025-10-28",time:"18:00",type:"race",car:"Ford Mustang GT3",laps:18,stints:2,bestRace:"1:54.567"}]),M=u(1),D=b(()=>Math.max(1,Math.ceil(C.value.length/F))),$=b(()=>{const o=(M.value-1)*F,s=o+F;return C.value.slice(o,s)}),x=u(null),Q=u(!1);function z(){Q.value=!0}const A=u([{date:"2025-11-15",bestQualy:"1:52.456",bestRace:"1:53.890"},{date:"2025-11-28",bestQualy:"1:51.234",bestRace:"1:52.567"},{date:"2025-12-05",bestQualy:"1:50.123",bestRace:"1:51.234"},{date:"2025-12-12",bestQualy:"1:49.567",bestRace:"1:50.890"},{date:"2025-12-20",bestQualy:"1:48.890",bestRace:"1:49.567"},{date:"2025-12-28",bestQualy:"1:48.234",bestRace:"1:49.123"},{date:"2026-01-03",bestQualy:"1:47.890",bestRace:"1:48.890"},{date:"2026-01-06",bestQualy:"1:47.234",bestRace:"1:48.123"}]);function p(o){if(!o||!o.includes(":"))return 0;const s=o.split(":"),n=parseInt(s[0]||"0"),e=(s[1]||"0.000").split("."),m=parseInt(e[0]||"0"),l=parseInt(e[1]||"0");return n*60+m+l/1e3}function B(o){const s=Math.floor(o/60),n=(o%60).toFixed(3);return`${s}:${n.padStart(6,"0")}`}const N=b(()=>{const o=A.value,s=o.map(e=>new Date(e.date).toLocaleDateString("it-IT",{day:"2-digit",month:"short"})),n=o.map(e=>e.bestQualy?p(e.bestQualy):null),c=o.map(e=>e.bestRace?p(e.bestRace):null);return{labels:s,datasets:[{label:"Best Qualifying",data:n,borderColor:"#f0b400",backgroundColor:"rgba(240, 180, 0, 0.1)",borderWidth:2.5,pointRadius:5,pointHoverRadius:7,pointBackgroundColor:"#f0b400",pointBorderColor:"#f0b400",tension:.3,fill:!1},{label:"Best Race",data:c,borderColor:"#ff6464",backgroundColor:"rgba(255, 100, 100, 0.1)",borderWidth:2.5,pointRadius:5,pointHoverRadius:7,pointBackgroundColor:"#ff6464",pointBorderColor:"#ff6464",tension:.3,fill:!1}]}}),O=b(()=>{const o=A.value,s=o.filter(l=>l.bestQualy).map(l=>p(l.bestQualy)),n=o.filter(l=>l.bestRace).map(l=>p(l.bestRace)),c=[...s,...n],e=Math.min(...c)-.5,m=Math.max(...c)+.5;return{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},plugins:{legend:{display:!0,position:"bottom",labels:{color:"rgba(255, 255, 255, 0.7)",usePointStyle:!0,padding:20,font:{family:"'Inter', sans-serif",size:12}}},tooltip:{enabled:!0,backgroundColor:"rgba(20, 20, 30, 0.95)",titleColor:"#fff",bodyColor:"rgba(255, 255, 255, 0.8)",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,cornerRadius:8,padding:12,callbacks:{label:function(l){const S=l.parsed.y;return S===null?"":`${l.dataset.label}: ${B(S)}`}}}},scales:{x:{grid:{color:"rgba(255, 255, 255, 0.06)",drawBorder:!1},ticks:{color:"rgba(255, 255, 255, 0.5)",font:{family:"'Inter', sans-serif",size:11}}},y:{min:e,max:m,grid:{color:"rgba(255, 255, 255, 0.06)",drawBorder:!1},ticks:{color:"rgba(255, 255, 255, 0.5)",font:{family:"'JetBrains Mono', monospace",size:11},callback:function(l){return B(l)}}}}}});function E(o){const s=new Date(o),n=s.getDate(),e=["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"][s.getMonth()],m=s.getFullYear();return`${n} ${e} ${m}`}function U(o){return{practice:"PRACTICE",qualify:"QUALIFY",race:"RACE"}[o]}function V(o){console.log("Navigate to session:",o)}return(o,s)=>{const n=H,c=J;return r(),q(c,null,{default:ot(()=>[t("button",{class:"back-button",onClick:s[0]||(s[0]=e=>y("back"))},[...s[3]||(s[3]=[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M19 12H5M12 19l-7-7 7-7"})],-1),f(" Torna alle piste ",-1)])]),t("div",ut,[t("div",pt,[t("img",{src:k(h)(i.value.image),alt:i.value.name},null,8,mt)]),t("div",bt,[t("span",gt,a(i.value.countryCode),1),t("h1",vt,a(i.value.name),1),t("p",yt,a(i.value.fullName),1),t("div",_t,[t("span",ft,[s[4]||(s[4]=t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),t("path",{d:"M2 17l10 5 10-5"}),t("path",{d:"M2 12l10 5 10-5"})],-1)),f(" "+a(i.value.length),1)]),t("span",kt,[s[5]||(s[5]=t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),t("path",{d:"M9 12l2 2 4-4"})],-1)),f(" "+a(i.value.turns)+" curve ",1)]),t("span",Tt,[s[6]||(s[6]=t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),t("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),t("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),t("line",{x1:"3",y1:"10",x2:"21",y2:"10"})],-1)),f(" "+a(i.value.sessions)+" sessioni ",1)])])])]),t("div",ht,[t("div",Rt,[t("div",Ct,[s[7]||(s[7]=t("h2",{class:"section-title"},"Storico Tempi",-1)),t("div",Mt,[t("div",Qt,[w(k(at),{data:N.value,options:O.value},null,8,["data","options"])])])]),t("div",{ref_key:"sessionsRef",ref:x,class:"section"},[s[9]||(s[9]=t("h2",{class:"section-title"},"Sessioni Recenti",-1)),t("div",{class:I(["sessions-list",{"sessions-list--fading":Q.value}]),onTransitionend:s[1]||(s[1]=e=>Q.value=!1)},[(r(!0),d(nt,null,lt($.value,e=>(r(),d("div",{key:e.id,class:"session-row",onClick:m=>V(e.id)},[t("div",Ft,[t("span",{class:I(["session-chip",`session-chip--${e.type}`])},a(U(e.type)),3),t("span",Pt,a(e.time),1),t("span",xt,a(E(e.date)),1),t("span",At,a(e.car),1)]),t("div",Bt,[t("div",St,[t("span",wt,"GIRI "+a(e.laps),1),t("span",It,"STINT "+a(e.stints),1)]),t("div",Lt,[e.bestQualy?(r(),d("span",qt," Q "+a(e.bestQualy),1)):(r(),d("span",Dt," Q — "))]),t("div",$t,[e.bestRace?(r(),d("span",zt," R "+a(e.bestRace),1)):(r(),d("span",Nt," R — "))]),s[8]||(s[8]=t("span",{class:"session-cta"},[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M9 18l6-6-6-6"})])],-1))])],8,Gt))),128))],34)],512),w(n,{currentPage:M.value,"onUpdate:currentPage":s[2]||(s[2]=e=>M.value=e),"total-pages":D.value,"total-items":C.value.length,"scroll-target":x.value,"item-label":"sessioni",onPageChange:z},null,8,["currentPage","total-pages","total-items","scroll-target"])]),t("aside",Ot,[t("div",Et,[s[19]||(s[19]=t("h2",{class:"section-title"},"Migliori Tempi",-1)),t("div",Ut,[t("div",Vt,[s[12]||(s[12]=t("span",{class:"time-label"},"Best Qualifying",-1)),t("span",Ht,a(i.value.bestQualy||"—:—.---"),1),i.value.bestQualyConditions?(r(),d("span",Jt,[t("span",null,"Aria "+a(i.value.bestQualyConditions.airTemp)+"°C",1),s[10]||(s[10]=t("span",{class:"condition-separator"},"·",-1)),t("span",null,"Asfalto "+a(i.value.bestQualyConditions.trackTemp)+"°C",1),s[11]||(s[11]=t("span",{class:"condition-separator"},"·",-1)),t("span",null,a(i.value.bestQualyConditions.grip),1)])):G("",!0)]),t("div",Wt,[s[15]||(s[15]=t("span",{class:"time-label"},"Best Race",-1)),t("span",Yt,a(i.value.bestRace||"—:—.---"),1),i.value.bestRaceConditions?(r(),d("span",jt,[t("span",null,"Aria "+a(i.value.bestRaceConditions.airTemp)+"°C",1),s[13]||(s[13]=t("span",{class:"condition-separator"},"·",-1)),t("span",null,"Asfalto "+a(i.value.bestRaceConditions.trackTemp)+"°C",1),s[14]||(s[14]=t("span",{class:"condition-separator"},"·",-1)),t("span",null,a(i.value.bestRaceConditions.grip),1)])):G("",!0)]),t("div",Kt,[s[18]||(s[18]=t("span",{class:"time-label"},"Best Average Race",-1)),t("span",Xt,a(i.value.bestAvgRace||"—:—.---"),1),i.value.bestAvgRaceConditions?(r(),d("span",Zt,[t("span",null,"Aria "+a(i.value.bestAvgRaceConditions.airTemp)+"°C",1),s[16]||(s[16]=t("span",{class:"condition-separator"},"·",-1)),t("span",null,"Asfalto "+a(i.value.bestAvgRaceConditions.trackTemp)+"°C",1),s[17]||(s[17]=t("span",{class:"condition-separator"},"·",-1)),t("span",null,a(i.value.bestAvgRaceConditions.grip),1)])):G("",!0)])])]),t("div",ts,[s[23]||(s[23]=t("h2",{class:"section-title"},"Attività Ultimi 7 Giorni",-1)),t("div",ss,[t("div",es,[t("span",as,a(g.value.totalLaps),1),s[20]||(s[20]=t("span",{class:"activity-label"},"Giri Totali",-1))]),t("div",is,[t("span",os,a(g.value.validLaps),1),t("span",ns,"Giri Validi ("+a(g.value.validPercentage)+"%)",1)]),t("div",ls,[t("span",rs,a(g.value.timeOnTrack),1),s[21]||(s[21]=t("span",{class:"activity-label"},"Tempo in Pista",-1))]),t("div",cs,[t("span",ds,a(g.value.sessionsCount),1),s[22]||(s[22]=t("span",{class:"activity-label"},"Sessioni",-1))])])])])])]),_:1})}}}),ps=Object.assign(rt(us,[["__scopeId","data-v-11035b5f"]]),{__name:"PagesTrackDetailPage"}),_s=L({__name:"[id]",setup(P){const T=ct(),h=b(()=>T.params.id);return(v,y)=>{const i=ps;return r(),q(i,{"track-id":k(h),onBack:y[0]||(y[0]=_=>("navigateTo"in v?v.navigateTo:k(dt))("/piste"))},null,8,["track-id"])}}});export{_s as default};
