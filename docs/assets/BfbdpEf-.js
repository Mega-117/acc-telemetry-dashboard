import{b as v,a as T,t as b,E as u,F as d,G as o,P as $,M as l,a0 as x,ab as B,I as p,ag as P,n as y,_ as h,O as N,Q as I,R as k,J as A,K as E,H as R,c as S,i as w,af as M}from"./CnFtmtvV.js";import{_ as G}from"./Dx7LuXN3.js";const O={class:"topbar"},V={class:"topbar__inner"},U=["title"],j={class:"topbar__user"},D=v({__name:"TopBar",props:{userName:{}},emits:["logout","goToProfile"],setup(m,{emit:e}){const n=m,r=e,{isCoach:i,isAdmin:s}=T(),_=b(()=>n.userName??"Utente"),a=()=>{y("/piloti")};return(f,t)=>{const c=P;return d(),u("header",O,[o("div",V,[t[3]||(t[3]=o("div",{class:"topbar__brand"},[o("span",{class:"brand-badge"},"ACC"),o("span",{class:"brand-name"},"TELEMETRY")],-1)),t[4]||(t[4]=o("div",{class:"topbar__spacer"},null,-1)),l(i)||l(s)?(d(),u("button",{key:0,class:x(["coach-button",{"coach-button--admin":l(s)}]),onClick:a,title:l(s)?"Gestione utenti":"I miei piloti"},[...t[2]||(t[2]=[B('<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-v-a640716d><circle cx="9" cy="7" r="4" data-v-a640716d></circle><path d="M3 21v-2a4 4 0 014-4h4a4 4 0 014 4v2" data-v-a640716d></path><path d="M16 3.13a4 4 0 010 7.75" data-v-a640716d></path><path d="M21 21v-2a4 4 0 00-3-3.85" data-v-a640716d></path></svg>',1)])],10,U)):$("",!0),o("div",j,[p(c,{"user-name":_.value,onLogout:t[0]||(t[0]=g=>r("logout")),onGoToProfile:t[1]||(t[1]=g=>r("goToProfile"))},null,8,["user-name"])])])])}}}),F=Object.assign(h(D,[["__scopeId","data-v-a640716d"]]),{__name:"LayoutTopBar"}),W={class:"tabsbar"},z={class:"tabsbar__inner"},H=v({__name:"TabsBarRouter",setup(m){const e=N(),n=[{id:"panoramica",label:"PANORAMICA",to:"/panoramica"},{id:"sessioni",label:"SESSIONI",to:"/sessioni"},{id:"piste",label:"PISTE",to:"/piste"}],r=i=>e.path.startsWith(i);return(i,s)=>{const _=G;return d(),u("nav",W,[o("div",z,[(d(),u(I,null,k(n,a=>p(_,{key:a.id,to:a.to,class:x(["tab",{"tab--active":r(a.to)}])},{default:A(()=>[E(R(a.label),1)]),_:2},1032,["to","class"])),64))])])}}}),J=Object.assign(h(H,[["__scopeId","data-v-db7e86c1"]]),{__name:"LayoutTabsBarRouter"}),K={class:"dashboard-layout"},Q={class:"main-content"},Y=v({__name:"dashboard",setup(m){const{userDisplayName:e,userEmail:n,logout:r}=T(),i=N();S();const s=w("goToProfile"),_=b(()=>{const c=i.path;return c.startsWith("/sessioni")?"sessioni":c.startsWith("/piste")?"piste":"panoramica"}),a=b(()=>e.value?e.value:n.value?n.value.split("@")[0]:"Utente"),f=async()=>{await r(),y("/")},t=()=>{s&&s()};return(c,g)=>{const C=F,L=J;return d(),u("div",K,[p(C,{"user-name":l(a),onLogout:f,onGoToProfile:t},null,8,["user-name"]),p(L,{"active-tab":l(_)},null,8,["active-tab"]),o("main",Q,[M(c.$slots,"default",{},void 0)])])}}}),Z=h(Y,[["__scopeId","data-v-64b88201"]]);export{Z as default};
