import{b as N,E as u,F as d,G as a,$ as C,P as x,ad as G,H as o,_ as E,r as la,o as ca,t as c,Q as W,R as Y,K as F,a2 as $a,a7 as Ta,at as Ia,a4 as J,w as Ra,a5 as w,c as Ua,L as Aa,J as Sa,M as B,I as z}from"./DRE7tGjo.js";import{_ as Ba}from"./DcZKsx5T.js";import{u as za}from"./SOVV8oBU.js";import{u as X}from"./Rc8wkXTP.js";const qa={class:"featured-car"},Da={class:"car-image-container"},Ga={key:0,class:"car-placeholder",viewBox:"0 0 400 200",fill:"none"},Na={class:"car-info"},Ea={class:"car-name"},Fa={class:"car-meta"},Pa={class:"car-subtitle"},Ma={key:0,class:"car-date"},Qa=N({__name:"FeaturedCarCard",props:{carName:{},carImage:{},subtitle:{},date:{}},setup(i){return(_,e)=>(d(),u("div",qa,[a("div",Da,[a("div",{class:"car-image",style:C(i.carImage?{backgroundImage:`url(${i.carImage})`}:{})},[i.carImage?x("",!0):(d(),u("svg",Ga,[...e[0]||(e[0]=[G('<defs data-v-ed41f108><linearGradient id="carGrad" x1="0%" y1="0%" x2="100%" y2="100%" data-v-ed41f108><stop offset="0%" stop-color="#e10600" stop-opacity="0.3" data-v-ed41f108></stop><stop offset="100%" stop-color="#ff6b00" stop-opacity="0.1" data-v-ed41f108></stop></linearGradient></defs><path d="M50 140 L80 120 L120 115 L150 100 L200 95 L280 95 L320 100 L350 115 L380 130 L380 150 L50 150 Z" fill="url(#carGrad)" stroke="#e10600" stroke-width="1.5" data-v-ed41f108></path><circle cx="110" cy="150" r="20" fill="#1a1a22" stroke="#e10600" stroke-width="1.5" data-v-ed41f108></circle><circle cx="110" cy="150" r="10" fill="none" stroke="#e10600" stroke-width="1" data-v-ed41f108></circle><circle cx="310" cy="150" r="20" fill="#1a1a22" stroke="#e10600" stroke-width="1.5" data-v-ed41f108></circle><circle cx="310" cy="150" r="10" fill="none" stroke="#e10600" stroke-width="1" data-v-ed41f108></circle><path d="M160 100 L200 92 L260 92 L290 100 L280 110 L170 110 Z" fill="rgba(255,255,255,0.05)" stroke="#e10600" stroke-width="1" data-v-ed41f108></path>',7)])]))],4),e[1]||(e[1]=a("div",{class:"image-overlay"},null,-1))]),a("div",Na,[a("h2",Ea,o(i.carName||"MUSTANG GT3"),1),a("div",Fa,[a("span",Pa,o(i.subtitle||"Ultima auto utilizzata"),1),i.date?(d(),u("span",Ma,o(i.date),1)):x("",!0)])]),e[2]||(e[2]=a("div",{class:"accent-glow"},null,-1))]))}}),Oa=Object.assign(E(Qa,[["__scopeId","data-v-ed41f108"]]),{__name:"CardsFeaturedCarCard"}),Va={class:"track-layout"},Ha={class:"track-left"},ja={class:"track-info-overlay"},Ka={class:"track-name"},Za={class:"title-badge"},Wa={class:"track-right"},Ya={class:"stat-box"},Ja={class:"stat-value-row"},Xa={class:"stat-time"},at={class:"stat-box"},tt={class:"stat-value-row"},et={class:"stat-time"},st={class:"stat-box stat-box--subtle"},rt={class:"stat-value-row"},nt={class:"stat-time"},lt=N({__name:"TrackPerformanceCard",props:{title:{},trackName:{},trackImage:{},bestQualy:{},bestRace:{},avgTime:{}},setup(i){return(_,e)=>(d(),u("div",{class:"track-card",onClick:e[0]||(e[0]=g=>_.$emit("click"))},[a("div",Va,[a("div",Ha,[a("div",{class:"track-image",style:C({backgroundImage:`url(${i.trackImage})`})},null,4),e[1]||(e[1]=a("div",{class:"track-image-overlay"},null,-1)),a("div",ja,[a("h2",Ka,o(i.trackName),1),a("span",Za,o(i.title),1)])]),a("div",Wa,[a("div",Ya,[e[3]||(e[3]=a("span",{class:"stat-label"},"BEST QUALY",-1)),a("div",Ja,[a("span",Xa,o(i.bestQualy||"--:--.---"),1),e[2]||(e[2]=G('<svg class="medal-svg medal-gold" viewBox="0 0 48 56" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-011d9960><path d="M18 0L24 16L30 0H36L28 20L24 28L20 20L12 0H18Z" fill="#E53935" data-v-011d9960></path><path d="M24 16L30 0H36L28 20L24 28" fill="#C62828" data-v-011d9960></path><circle cx="24" cy="38" r="16" fill="#FFD54F" data-v-011d9960></circle><circle cx="24" cy="38" r="16" fill="url(#goldGradient)" data-v-011d9960></circle><circle cx="24" cy="38" r="13" stroke="#FFC107" stroke-width="2" fill="none" data-v-011d9960></circle><path d="M24 28L26.5 34H33L28 38L30 45L24 41L18 45L20 38L15 34H21.5L24 28Z" fill="#FFC107" data-v-011d9960></path><defs data-v-011d9960><linearGradient id="goldGradient" x1="8" y1="22" x2="40" y2="54" gradientUnits="userSpaceOnUse" data-v-011d9960><stop stop-color="#FFE082" data-v-011d9960></stop><stop offset="1" stop-color="#FFB300" data-v-011d9960></stop></linearGradient></defs></svg>',1))])]),a("div",at,[e[5]||(e[5]=a("span",{class:"stat-label"},"BEST RACE",-1)),a("div",tt,[a("span",et,o(i.bestRace||"--:--.---"),1),e[4]||(e[4]=G('<svg class="medal-svg medal-silver" viewBox="0 0 48 56" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-011d9960><path d="M18 0L24 16L30 0H36L28 20L24 28L20 20L12 0H18Z" fill="#1E88E5" data-v-011d9960></path><path d="M24 16L30 0H36L28 20L24 28" fill="#1565C0" data-v-011d9960></path><circle cx="24" cy="38" r="16" fill="#E0E0E0" data-v-011d9960></circle><circle cx="24" cy="38" r="16" fill="url(#silverGradient)" data-v-011d9960></circle><circle cx="24" cy="38" r="13" stroke="#BDBDBD" stroke-width="2" fill="none" data-v-011d9960></circle><text x="24" y="43" text-anchor="middle" font-size="14" font-weight="bold" fill="#757575" data-v-011d9960>2</text><defs data-v-011d9960><linearGradient id="silverGradient" x1="8" y1="22" x2="40" y2="54" gradientUnits="userSpaceOnUse" data-v-011d9960><stop stop-color="#F5F5F5" data-v-011d9960></stop><stop offset="1" stop-color="#9E9E9E" data-v-011d9960></stop></linearGradient></defs></svg>',1))])]),a("div",st,[e[7]||(e[7]=a("span",{class:"stat-label"},"AVG TIME",-1)),a("div",rt,[a("span",nt,o(i.avgTime||"--:--.---"),1),e[6]||(e[6]=G('<svg class="medal-svg medal-bronze" viewBox="0 0 48 56" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-011d9960><path d="M18 0L24 16L30 0H36L28 20L24 28L20 20L12 0H18Z" fill="#8D6E63" data-v-011d9960></path><path d="M24 16L30 0H36L28 20L24 28" fill="#6D4C41" data-v-011d9960></path><circle cx="24" cy="38" r="16" fill="#BCAAA4" data-v-011d9960></circle><circle cx="24" cy="38" r="16" fill="url(#bronzeGradient)" data-v-011d9960></circle><circle cx="24" cy="38" r="13" stroke="#A1887F" stroke-width="2" fill="none" data-v-011d9960></circle><text x="24" y="43" text-anchor="middle" font-size="14" font-weight="bold" fill="#5D4037" data-v-011d9960>3</text><defs data-v-011d9960><linearGradient id="bronzeGradient" x1="8" y1="22" x2="40" y2="54" gradientUnits="userSpaceOnUse" data-v-011d9960><stop stop-color="#D7CCC8" data-v-011d9960></stop><stop offset="1" stop-color="#8D6E63" data-v-011d9960></stop></linearGradient></defs></svg>',1))])])])]),e[8]||(e[8]=a("div",{class:"accent-glow"},null,-1))]))}}),ct=Object.assign(E(lt,[["__scopeId","data-v-011d9960"]]),{__name:"CardsTrackPerformanceCard"}),ot={class:"activity-card"},it={class:"card-content"},dt={class:"chart-area"},ut={class:"y-axis"},mt={class:"bars-container"},vt={key:0,class:"bar-total"},gt={class:"day-label"},pt={class:"legend"},_t={class:"legend-item legend-item--practice"},kt={class:"legend-text"},ft={class:"legend-value"},yt={class:"legend-sessions"},ht={class:"legend-item legend-item--qualify"},bt={class:"legend-text"},Lt={class:"legend-value"},wt={class:"legend-sessions"},Ct={class:"legend-item legend-item--race"},xt={class:"legend-text"},$t={class:"legend-value"},Tt={class:"legend-sessions"},It=N({__name:"ActivityCard",props:{data:{},practiceTotal:{},qualifyTotal:{},raceTotal:{}},setup(i){const _=i,e=la(!1);ca(()=>{setTimeout(()=>{e.value=!0},100)});const g=l=>l.practice+l.qualify+l.race,y=c(()=>_.data||[{day:"Lun",practice:45,qualify:0,race:0},{day:"Mar",practice:0,qualify:0,race:0},{day:"Mer",practice:25,qualify:15,race:0},{day:"Gio",practice:12,qualify:0,race:95},{day:"Ven",practice:35,qualify:8,race:0},{day:"Sab",practice:0,qualify:0,race:38},{day:"Dom",practice:20,qualify:0,race:0}]),$=c(()=>{const l=y.value.map(r=>r.practice+r.qualify+r.race);return Math.max(...l,60)}),h=c(()=>{const l=$.value;return[0,Math.round(l/2),l]}),b=c(()=>_.practiceTotal||{minutes:137,sessions:5}),L=c(()=>_.qualifyTotal||{minutes:23,sessions:3}),k=c(()=>_.raceTotal||{minutes:133,sessions:2}),T=l=>"sess.",f=l=>{if(l>=60){const r=Math.floor(l/60),s=l%60;return s===0?{value:`${r}`,unit:"h"}:{value:`${r}h ${s.toString().padStart(2,"0")}`,unit:""}}return{value:`${l}`,unit:"min"}},I=l=>{if(l===0)return"0";if(l>=60){const r=Math.floor(l/60),s=l%60;return s===0?`${r}h`:`${r}h${s.toString().padStart(2,"0")}`}return`${l}min`};return(l,r)=>(d(),u("div",ot,[r[6]||(r[6]=a("h2",{class:"card-title"},"Attività (ultimi 7 giorni)",-1)),a("div",it,[a("div",dt,[a("div",ut,[(d(!0),u(W,null,Y(h.value.slice().reverse(),s=>(d(),u("span",{key:s},o(I(s)),1))),128))]),a("div",mt,[(d(!0),u(W,null,Y(y.value,(s,R)=>(d(),u("div",{key:s.day,class:"bar-column"},[g(s)>0?(d(),u("span",vt,o(I(g(s))),1)):x("",!0),a("div",{class:"bar-stack",style:C({height:`${g(s)/$.value*100}%`})},[s.race>0?(d(),u("div",{key:0,class:"bar bar--race",style:C({height:e.value?`${s.race/g(s)*100}%`:"0%",transitionDelay:`${R*40+200}ms`})},null,4)):x("",!0),s.qualify>0?(d(),u("div",{key:1,class:"bar bar--qualify",style:C({height:e.value?`${s.qualify/g(s)*100}%`:"0%",transitionDelay:`${R*40+100}ms`})},null,4)):x("",!0),s.practice>0?(d(),u("div",{key:2,class:"bar bar--practice",style:C({height:e.value?`${s.practice/g(s)*100}%`:"0%",transitionDelay:`${R*40}ms`})},null,4)):x("",!0)],4),a("span",gt,o(s.day),1)]))),128))])]),a("div",pt,[a("div",_t,[r[1]||(r[1]=a("span",{class:"legend-dot"},null,-1)),a("div",kt,[r[0]||(r[0]=a("span",{class:"legend-label"},"PRACTICE",-1)),a("span",ft,[F(o(f(b.value.minutes).value),1),a("small",null,o(f(b.value.minutes).unit),1)]),a("span",yt,o(b.value.sessions)+" "+o(T(b.value.sessions)),1)])]),a("div",ht,[r[3]||(r[3]=a("span",{class:"legend-dot"},null,-1)),a("div",bt,[r[2]||(r[2]=a("span",{class:"legend-label"},"QUALIFY",-1)),a("span",Lt,[F(o(f(L.value.minutes).value),1),a("small",null,o(f(L.value.minutes).unit),1)]),a("span",wt,o(L.value.sessions)+" "+o(T(L.value.sessions)),1)])]),a("div",Ct,[r[5]||(r[5]=a("span",{class:"legend-dot"},null,-1)),a("div",xt,[r[4]||(r[4]=a("span",{class:"legend-label"},"RACE",-1)),a("span",$t,[F(o(f(k.value.minutes).value),1),a("small",null,o(f(k.value.minutes).unit),1)]),a("span",Tt,o(k.value.sessions)+" "+o(T(k.value.sessions)),1)])])])]),r[7]||(r[7]=a("div",{class:"accent-glow"},null,-1))]))}}),Rt=Object.assign(E(It,[["__scopeId","data-v-d1517733"]]),{__name:"CardsActivityCard"}),aa=""+new URL("mustang_gt3.DdC5zVl9.png",import.meta.url).href,A=""+new URL("aston_martin_gt3.C7QgKu8Z.png",import.meta.url).href,ta=""+new URL("ferrari_296_gt3.Crj5-Idz.png",import.meta.url).href,P=""+new URL("ferrari_488_gt3.BRaN14KV.png",import.meta.url).href,S=""+new URL("bmw_m4_gt3.BUssi1fv.png",import.meta.url).href,M=""+new URL("mclaren_720s_gt3.C3x6HAQW.png",import.meta.url).href,Q=""+new URL("audi_r8_gt3.Ba_F7OtO.png",import.meta.url).href,ea=""+new URL("bentley_continental_gt3.Q_dbVOmB.png",import.meta.url).href,sa=""+new URL("honda_nsx_gt3.Cnb1Zyps.png",import.meta.url).href,O=""+new URL("lamborghini_huracan_gt3.BdVrgxzY.png",import.meta.url).href,V=""+new URL("mercedes_amg_gt3.Delb_tx1.png",import.meta.url).href,q=""+new URL("porsche_911_gt3.BepnLlTq.png",import.meta.url).href,D=""+new URL("nissan_gtr_gt3.CC-42WGe.png",import.meta.url).href,H=""+new URL("lexus_rcf_gt3.DKITE67Z.png",import.meta.url).href,ra=""+new URL("jaguar_gt3.DByDBVZz.png",import.meta.url).href,na=""+new URL("default_gt3.Dh0cUdN5.png",import.meta.url).href,Ut=""+new URL("spa.eyW79qze.jpg",import.meta.url).href,At=""+new URL("monza.Bfqq58V6.jpg",import.meta.url).href,St={key:0,class:"loading-state"},Bt={key:1,class:"panoramica-grid"},zt=N({__name:"PanoramicaPage",emits:["go-to-track"],setup(i,{emit:_}){const e={mustang:aa,ford_mustang:aa,amr:A,aston:A,aston_martin:A,v8_vantage:A,v12_vantage:A,ferrari_296:ta,"296_gt3":ta,ferrari_488:P,"488_gt3":P,488:P,bmw:S,m4:S,m4_gt3:S,m6:S,m6_gt3:S,mclaren:M,"720s":M,"650s":M,audi:Q,r8:Q,r8_lms:Q,bentley:ea,continental:ea,honda:sa,nsx:sa,lamborghini:O,huracan:O,huracán:O,mercedes:V,amg:V,amg_gt:V,porsche:q,911:q,991:q,992:q,nissan:D,gtr:D,"gt-r":D,nismo:D,lexus:H,rcf:H,rc_f:H,jaguar:ra,emil_frey:ra},{getPublicPath:g}=za(),y=X(),{lastSession:$,lastUsedCar:h,trackStats:b,getActivityData:L,activityTotals:k,isLoading:T,loadSessions:f,getBestTimesForGrip:I,isPrefetchComplete:l}=$a(),r=c(()=>L(7)),s=la({});ca(async()=>{await f(y.value||void 0)});const R=c(()=>{if(!h.value)return na;const n=h.value.toLowerCase();for(const[t,U]of Object.entries(e))if(n.includes(t))return U;return na}),oa=c(()=>h.value?Ta(h.value).toUpperCase():"NESSUNA AUTO"),ia=c(()=>$.value?Ia($.value.meta.date_start):"-"),j=c(()=>[...b.value].sort((n,t)=>(t.lastSession||"").localeCompare(n.lastSession||""))),m=c(()=>j.value[0]||null),da=c(()=>m.value?J(m.value.track).toUpperCase():"NESSUNA PISTA"),v=c(()=>j.value[1]||null),ua=c(()=>v.value?J(v.value.track).toUpperCase():"NESSUNA PISTA");Ra([m,v,l],async([n,t,U])=>{if(!U){console.log("[PANORAMICA] Waiting for prefetch to complete...");return}if(n?.track){const p=await I(n.track,"Optimum","GT3",y.value||void 0);s.value[n.track.toLowerCase()]={bestQualy:p.bestQualy,bestRace:p.bestRace,bestAvgRace:p.bestAvgRace}}if(t?.track){const p=await I(t.track,"Optimum","GT3",y.value||void 0);s.value[t.track.toLowerCase()]={bestQualy:p.bestQualy,bestRace:p.bestRace,bestAvgRace:p.bestAvgRace}}},{immediate:!0});const ma=c(()=>{if(!m.value?.track)return"--:--.---";const n=m.value.track.toLowerCase(),t=s.value[n]?.bestQualy;return t?w(t):"--:--.---"}),va=c(()=>{if(!m.value?.track)return"--:--.---";const n=m.value.track.toLowerCase(),t=s.value[n]?.bestRace;return t?w(t):"--:--.---"}),ga=c(()=>{if(!m.value?.track)return"--:--.---";const n=m.value.track.toLowerCase(),t=s.value[n]?.bestAvgRace;return t?w(t):"--:--.---"}),pa=c(()=>{if(!v.value?.track)return"--:--.---";const n=v.value.track.toLowerCase(),t=s.value[n]?.bestQualy;return t?w(t):"--:--.---"}),_a=c(()=>{if(!v.value?.track)return"--:--.---";const n=v.value.track.toLowerCase(),t=s.value[n]?.bestRace;return t?w(t):"--:--.---"}),ka=c(()=>{if(!v.value?.track)return"--:--.---";const n=v.value.track.toLowerCase(),t=s.value[n]?.bestAvgRace;return t?w(t):"--:--.---"}),K={monza:"/tracks/track_monza.png",donington:"/tracks/track_donington.png",spa:"/tracks/track_spa.png",paul_ricard:"/tracks/track_paul_ricard.png",valencia:"/tracks/track_valencia.png",barcelona:"/tracks/track_barcelona.png",brands_hatch:"/tracks/track_brands_hatch.png",hungaroring:"/tracks/track_hungaroring.png",imola:"/tracks/track_imola.png",kyalami:"/tracks/track_kyalami.png",laguna_seca:"/tracks/track_laguna_seca.png",misano:"/tracks/track_misano.png",mount_panorama:"/tracks/track_mount_panorama.png",nurburgring:"/tracks/track_nurburgring.png",oulton_park:"/tracks/track_oulton_park.png",silverstone:"/tracks/track_silverstone.png",snetterton:"/tracks/track_snetterton.png",suzuka:"/tracks/track_suzuka.png",watkins_glen:"/tracks/track_watkins_glen.png",zandvoort:"/tracks/track_zandvoort.png",zolder:"/tracks/track_zolder.png",cota:"/tracks/track_cota.png",indianapolis:"/tracks/track_indianapolis.png",red_bull_ring:"/tracks/track_red_bull_ring.png"},fa=c(()=>{const n=m.value?.track.toLowerCase().replace(/[^a-z0-9]/g,"_")||"",t=K[n];return t?g(t):Ut}),ya=c(()=>{const n=v.value?.track.toLowerCase().replace(/[^a-z0-9]/g,"_")||"",t=K[n];return t?g(t):At}),ha=_,ba=X(),La=Ua(),Z=n=>{if(!n)return;const t=n.track.toLowerCase().replace(/[^a-z0-9]/g,"_");ha("go-to-track",t),ba.value||La.push(`/piste/${t}`)};return(n,t)=>{const U=Oa,p=ct,wa=Rt,Ca=Ba;return d(),Aa(Ca,null,{default:Sa(()=>[B(T)?(d(),u("div",St,[...t[2]||(t[2]=[a("p",null,"Caricamento dati...",-1)])])):(d(),u("div",Bt,[z(U,{"car-name":oa.value,"car-image":R.value,subtitle:"Ultima auto utilizzata",date:ia.value},null,8,["car-name","car-image","date"]),z(p,{title:"Ultima pista","track-name":da.value,"track-image":fa.value,"best-qualy":ma.value,"best-race":va.value,"avg-time":ga.value,onClick:t[0]||(t[0]=xa=>Z(m.value))},null,8,["track-name","track-image","best-qualy","best-race","avg-time"]),z(wa,{data:r.value,"practice-total":B(k).practice,"qualify-total":B(k).qualify,"race-total":B(k).race},null,8,["data","practice-total","qualify-total","race-total"]),z(p,{title:"Penultima pista","track-name":ua.value,"track-image":ya.value,"best-qualy":pa.value,"best-race":_a.value,"avg-time":ka.value,onClick:t[1]||(t[1]=xa=>Z(v.value))},null,8,["track-name","track-image","best-qualy","best-race","avg-time"])]))]),_:1})}}}),Et=Object.assign(E(zt,[["__scopeId","data-v-9c546621"]]),{__name:"PagesPanoramicaPage"});export{Et as _};
