const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BRkE21eC.js","./index.Du2RZnax.css","./eZLxDSGd.js","./DoBDeAf2.js","./zZe5Kl3A.js","./PageContainer.DMW25oBZ.css","./PanoramicaPage.Ra4IU2cN.css","./CtnZZ9u9.js","./DnoIRUWj.js","./PaginationControls.CNLm8WGw.css","./DJbMTefb.js","./CjBaocuj.js","./_id_.DQ1Y8UBO.css","./L0Uz9y6_.js","./B83gYLgo.js","./Ba8mhwRG.js","./SessioniPage.2miBoUzQ.css","./BLFF86iF.js","./PistePage.CeQXJD_3.css","./_id_.l7jb1vsl.css","./DDF7zfo7.js","./D_UsK51w.js","./index.BciVHbmO.css","./Ba0ldvTx.js","./_id_.XoyxGSz8.css","./D4sfDHx4.js","./Dv7U3h7q.js","./coach.CxAeVU2u.css","./BOcF1QCF.js","./dashboard.B4rx-ixW.css","./DcszX7Ua.js","./error-404.BLrjNXsr.css","./CHm4qY9s.js","./error-500.DLkAwcfL.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function wh(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Fe={},Js=[],Cn=()=>{},Hg=()=>!1,jo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ih=t=>t.startsWith("onUpdate:"),vt=Object.assign,Ah=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},ew=Object.prototype.hasOwnProperty,Ve=(t,e)=>ew.call(t,e),ae=Array.isArray,Xs=t=>Si(t)==="[object Map]",Ri=t=>Si(t)==="[object Set]",xd=t=>Si(t)==="[object Date]",tw=t=>Si(t)==="[object RegExp]",fe=t=>typeof t=="function",Ge=t=>typeof t=="string",mn=t=>typeof t=="symbol",Me=t=>t!==null&&typeof t=="object",bh=t=>(Me(t)||fe(t))&&fe(t.then)&&fe(t.catch),jg=Object.prototype.toString,Si=t=>jg.call(t),nw=t=>Si(t).slice(8,-1),$g=t=>Si(t)==="[object Object]",xc=t=>Ge(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Zs=wh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Mc=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},rw=/-\w/g,an=Mc(t=>t.replace(rw,e=>e.slice(1).toUpperCase())),sw=/\B([A-Z])/g,Ps=Mc(t=>t.replace(sw,"-$1").toLowerCase()),Lc=Mc(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ml=Mc(t=>t?`on${Lc(t)}`:""),Dr=(t,e)=>!Object.is(t,e),ei=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},qg=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Uc=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Wg=t=>{const e=Ge(t)?Number(t):NaN;return isNaN(e)?t:e};let Md;const Fc=()=>Md||(Md=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Bc(t){if(ae(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=Ge(r)?cw(r):Bc(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(Ge(t)||Me(t))return t}const iw=/;(?![^(]*\))/g,ow=/:([^]+)/,aw=/\/\*[^]*?\*\//g;function cw(t){const e={};return t.replace(aw,"").split(iw).forEach(n=>{if(n){const r=n.split(ow);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function rn(t){let e="";if(Ge(t))e=t;else if(ae(t))for(let n=0;n<t.length;n++){const r=rn(t[n]);r&&(e+=r+" ")}else if(Me(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function lw(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Ge(e)&&(t.class=rn(e)),n&&(t.style=Bc(n)),t}const uw="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",hw=wh(uw);function Gg(t){return!!t||t===""}function fw(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=$o(t[r],e[r]);return n}function $o(t,e){if(t===e)return!0;let n=xd(t),r=xd(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=mn(t),r=mn(e),n||r)return t===e;if(n=ae(t),r=ae(e),n||r)return n&&r?fw(t,e):!1;if(n=Me(t),r=Me(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!$o(t[o],e[o]))return!1}}return String(t)===String(e)}function Rh(t,e){return t.findIndex(n=>$o(n,e))}const Kg=t=>!!(t&&t.__v_isRef===!0),ys=t=>Ge(t)?t:t==null?"":ae(t)||Me(t)&&(t.toString===jg||!fe(t.toString))?Kg(t)?ys(t.value):JSON.stringify(t,zg,2):String(t),zg=(t,e)=>Kg(e)?zg(t,e.value):Xs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[Ll(r,i)+" =>"]=s,n),{})}:Ri(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Ll(n))}:mn(e)?Ll(e):Me(e)&&!ae(e)&&!$g(e)?String(e):e,Ll=(t,e="")=>{var n;return mn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};let Pt;class Qg{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Pt,!e&&Pt&&(this.index=(Pt.scopes||(Pt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Pt;try{return Pt=this,e()}finally{Pt=n}}}on(){++this._on===1&&(this.prevScope=Pt,Pt=this)}off(){this._on>0&&--this._on===0&&(Pt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function dw(t){return new Qg(t)}function Sh(){return Pt}function pw(t,e=!1){Pt&&Pt.cleanups.push(t)}let Be;const Ul=new WeakSet;class Yg{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Pt&&Pt.active&&Pt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ul.has(this)&&(Ul.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Xg(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ld(this),Zg(this);const e=Be,n=fn;Be=this,fn=!0;try{return this.fn()}finally{e_(this),Be=e,fn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)kh(e);this.deps=this.depsTail=void 0,Ld(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ul.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){yu(this)&&this.run()}get dirty(){return yu(this)}}let Jg=0,uo,ho;function Xg(t,e=!1){if(t.flags|=8,e){t.next=ho,ho=t;return}t.next=uo,uo=t}function Ch(){Jg++}function Ph(){if(--Jg>0)return;if(ho){let e=ho;for(ho=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;uo;){let e=uo;for(uo=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function Zg(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function e_(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),kh(r),mw(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function yu(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(t_(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function t_(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ro)||(t.globalVersion=Ro,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!yu(t))))return;t.flags|=2;const e=t.dep,n=Be,r=fn;Be=t,fn=!0;try{Zg(t);const s=t.fn(t._value);(e.version===0||Dr(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{Be=n,fn=r,e_(t),t.flags&=-3}}function kh(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)kh(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function mw(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let fn=!0;const n_=[];function rr(){n_.push(fn),fn=!1}function sr(){const t=n_.pop();fn=t===void 0?!0:t}function Ld(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Be;Be=void 0;try{e()}finally{Be=n}}}let Ro=0;class gw{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Nh{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Be||!fn||Be===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Be)n=this.activeLink=new gw(Be,this),Be.deps?(n.prevDep=Be.depsTail,Be.depsTail.nextDep=n,Be.depsTail=n):Be.deps=Be.depsTail=n,r_(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Be.depsTail,n.nextDep=void 0,Be.depsTail.nextDep=n,Be.depsTail=n,Be.deps===n&&(Be.deps=r)}return n}trigger(e){this.version++,Ro++,this.notify(e)}notify(e){Ch();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Ph()}}}function r_(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)r_(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Xa=new WeakMap,ds=Symbol(""),vu=Symbol(""),So=Symbol("");function Ot(t,e,n){if(fn&&Be){let r=Xa.get(t);r||Xa.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new Nh),s.map=r,s.key=n),s.track()}}function Kn(t,e,n,r,s,i){const o=Xa.get(t);if(!o){Ro++;return}const a=l=>{l&&l.trigger()};if(Ch(),e==="clear")o.forEach(a);else{const l=ae(t),u=l&&xc(n);if(l&&n==="length"){const h=Number(r);o.forEach((d,p)=>{(p==="length"||p===So||!mn(p)&&p>=h)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),u&&a(o.get(So)),e){case"add":l?u&&a(o.get("length")):(a(o.get(ds)),Xs(t)&&a(o.get(vu)));break;case"delete":l||(a(o.get(ds)),Xs(t)&&a(o.get(vu)));break;case"set":Xs(t)&&a(o.get(ds));break}}Ph()}function _w(t,e){const n=Xa.get(t);return n&&n.get(e)}function Bs(t){const e=Ce(t);return e===t?e:(Ot(e,"iterate",So),Jt(t)?e:e.map(gn))}function Hc(t){return Ot(t=Ce(t),"iterate",So),t}function wr(t,e){return Vn(t)?Vr(t)?li(gn(e)):li(e):gn(e)}const yw={__proto__:null,[Symbol.iterator](){return Fl(this,Symbol.iterator,t=>wr(this,t))},concat(...t){return Bs(this).concat(...t.map(e=>ae(e)?Bs(e):e))},entries(){return Fl(this,"entries",t=>(t[1]=wr(this,t[1]),t))},every(t,e){return jn(this,"every",t,e,void 0,arguments)},filter(t,e){return jn(this,"filter",t,e,n=>n.map(r=>wr(this,r)),arguments)},find(t,e){return jn(this,"find",t,e,n=>wr(this,n),arguments)},findIndex(t,e){return jn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return jn(this,"findLast",t,e,n=>wr(this,n),arguments)},findLastIndex(t,e){return jn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return jn(this,"forEach",t,e,void 0,arguments)},includes(...t){return Bl(this,"includes",t)},indexOf(...t){return Bl(this,"indexOf",t)},join(t){return Bs(this).join(t)},lastIndexOf(...t){return Bl(this,"lastIndexOf",t)},map(t,e){return jn(this,"map",t,e,void 0,arguments)},pop(){return Xi(this,"pop")},push(...t){return Xi(this,"push",t)},reduce(t,...e){return Ud(this,"reduce",t,e)},reduceRight(t,...e){return Ud(this,"reduceRight",t,e)},shift(){return Xi(this,"shift")},some(t,e){return jn(this,"some",t,e,void 0,arguments)},splice(...t){return Xi(this,"splice",t)},toReversed(){return Bs(this).toReversed()},toSorted(t){return Bs(this).toSorted(t)},toSpliced(...t){return Bs(this).toSpliced(...t)},unshift(...t){return Xi(this,"unshift",t)},values(){return Fl(this,"values",t=>wr(this,t))}};function Fl(t,e,n){const r=Hc(t),s=r[e]();return r!==t&&!Jt(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.done||(i.value=n(i.value)),i}),s}const vw=Array.prototype;function jn(t,e,n,r,s,i){const o=Hc(t),a=o!==t&&!Jt(t),l=o[e];if(l!==vw[e]){const d=l.apply(t,i);return a?gn(d):d}let u=n;o!==t&&(a?u=function(d,p){return n.call(this,wr(t,d),p,t)}:n.length>2&&(u=function(d,p){return n.call(this,d,p,t)}));const h=l.call(o,u,r);return a&&s?s(h):h}function Ud(t,e,n,r){const s=Hc(t);let i=n;return s!==t&&(Jt(t)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,t)}):i=function(o,a,l){return n.call(this,o,wr(t,a),l,t)}),s[e](i,...r)}function Bl(t,e,n){const r=Ce(t);Ot(r,"iterate",So);const s=r[e](...n);return(s===-1||s===!1)&&jc(n[0])?(n[0]=Ce(n[0]),r[e](...n)):s}function Xi(t,e,n=[]){rr(),Ch();const r=Ce(t)[e].apply(t,n);return Ph(),sr(),r}const Ew=wh("__proto__,__v_isRef,__isVue"),s_=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(mn));function Tw(t){mn(t)||(t=String(t));const e=Ce(this);return Ot(e,"has",t),e.hasOwnProperty(t)}class i_{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?Nw:l_:i?c_:a_).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=ae(e);if(!s){let l;if(o&&(l=yw[n]))return l;if(n==="hasOwnProperty")return Tw}const a=Reflect.get(e,n,ot(e)?e:r);if((mn(n)?s_.has(n):Ew(n))||(s||Ot(e,"get",n),i))return a;if(ot(a)){const l=o&&xc(n)?a:a.value;return s&&Me(l)?Tu(l):l}return Me(a)?s?Tu(a):Kr(a):a}}class o_ extends i_{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];const o=ae(e)&&xc(n);if(!this._isShallow){const u=Vn(i);if(!Jt(r)&&!Vn(r)&&(i=Ce(i),r=Ce(r)),!o&&ot(i)&&!ot(r))return u||(i.value=r),!0}const a=o?Number(n)<e.length:Ve(e,n),l=Reflect.set(e,n,r,ot(e)?e:s);return e===Ce(s)&&(a?Dr(r,i)&&Kn(e,"set",n,r):Kn(e,"add",n,r)),l}deleteProperty(e,n){const r=Ve(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&Kn(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!mn(n)||!s_.has(n))&&Ot(e,"has",n),r}ownKeys(e){return Ot(e,"iterate",ae(e)?"length":ds),Reflect.ownKeys(e)}}class ww extends i_{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Iw=new o_,Aw=new ww,bw=new o_(!0);const Eu=t=>t,Ea=t=>Reflect.getPrototypeOf(t);function Rw(t,e,n){return function(...r){const s=this.__v_raw,i=Ce(s),o=Xs(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=s[t](...r),h=n?Eu:e?li:gn;return!e&&Ot(i,"iterate",l?vu:ds),{next(){const{value:d,done:p}=u.next();return p?{value:d,done:p}:{value:a?[h(d[0]),h(d[1])]:h(d),done:p}},[Symbol.iterator](){return this}}}}function Ta(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Sw(t,e){const n={get(s){const i=this.__v_raw,o=Ce(i),a=Ce(s);t||(Dr(s,a)&&Ot(o,"get",s),Ot(o,"get",a));const{has:l}=Ea(o),u=e?Eu:t?li:gn;if(l.call(o,s))return u(i.get(s));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&Ot(Ce(s),"iterate",ds),s.size},has(s){const i=this.__v_raw,o=Ce(i),a=Ce(s);return t||(Dr(s,a)&&Ot(o,"has",s),Ot(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,l=Ce(a),u=e?Eu:t?li:gn;return!t&&Ot(l,"iterate",ds),a.forEach((h,d)=>s.call(i,u(h),u(d),o))}};return vt(n,t?{add:Ta("add"),set:Ta("set"),delete:Ta("delete"),clear:Ta("clear")}:{add(s){!e&&!Jt(s)&&!Vn(s)&&(s=Ce(s));const i=Ce(this);return Ea(i).has.call(i,s)||(i.add(s),Kn(i,"add",s,s)),this},set(s,i){!e&&!Jt(i)&&!Vn(i)&&(i=Ce(i));const o=Ce(this),{has:a,get:l}=Ea(o);let u=a.call(o,s);u||(s=Ce(s),u=a.call(o,s));const h=l.call(o,s);return o.set(s,i),u?Dr(i,h)&&Kn(o,"set",s,i):Kn(o,"add",s,i),this},delete(s){const i=Ce(this),{has:o,get:a}=Ea(i);let l=o.call(i,s);l||(s=Ce(s),l=o.call(i,s)),a&&a.call(i,s);const u=i.delete(s);return l&&Kn(i,"delete",s,void 0),u},clear(){const s=Ce(this),i=s.size!==0,o=s.clear();return i&&Kn(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=Rw(s,t,e)}),n}function Oh(t,e){const n=Sw(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Ve(n,s)&&s in r?n:r,s,i)}const Cw={get:Oh(!1,!1)},Pw={get:Oh(!1,!0)},kw={get:Oh(!0,!1)};const a_=new WeakMap,c_=new WeakMap,l_=new WeakMap,Nw=new WeakMap;function Ow(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Dw(t){return t.__v_skip||!Object.isExtensible(t)?0:Ow(nw(t))}function Kr(t){return Vn(t)?t:Dh(t,!1,Iw,Cw,a_)}function Sn(t){return Dh(t,!1,bw,Pw,c_)}function Tu(t){return Dh(t,!0,Aw,kw,l_)}function Dh(t,e,n,r,s){if(!Me(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=Dw(t);if(i===0)return t;const o=s.get(t);if(o)return o;const a=new Proxy(t,i===2?r:n);return s.set(t,a),a}function Vr(t){return Vn(t)?Vr(t.__v_raw):!!(t&&t.__v_isReactive)}function Vn(t){return!!(t&&t.__v_isReadonly)}function Jt(t){return!!(t&&t.__v_isShallow)}function jc(t){return t?!!t.__v_raw:!1}function Ce(t){const e=t&&t.__v_raw;return e?Ce(e):t}function Vw(t){return!Ve(t,"__v_skip")&&Object.isExtensible(t)&&qg(t,"__v_skip",!0),t}const gn=t=>Me(t)?Kr(t):t,li=t=>Me(t)?Tu(t):t;function ot(t){return t?t.__v_isRef===!0:!1}function ue(t){return u_(t,!1)}function ir(t){return u_(t,!0)}function u_(t,e){return ot(t)?t:new xw(t,e)}class xw{constructor(e,n){this.dep=new Nh,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Ce(e),this._value=n?e:gn(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Jt(e)||Vn(e);e=r?e:Ce(e),Dr(e,n)&&(this._rawValue=e,this._value=r?e:gn(e),this.dep.trigger())}}function He(t){return ot(t)?t.value:t}function Mw(t){return fe(t)?t():He(t)}const Lw={get:(t,e,n)=>e==="__v_raw"?t:He(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return ot(s)&&!ot(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function h_(t){return Vr(t)?t:new Proxy(t,Lw)}class Uw{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0,this._raw=Ce(e);let s=!0,i=e;if(!ae(e)||!xc(String(n)))do s=!jc(i)||Jt(i);while(s&&(i=i.__v_raw));this._shallow=s}get value(){let e=this._object[this._key];return this._shallow&&(e=He(e)),this._value=e===void 0?this._defaultValue:e}set value(e){if(this._shallow&&ot(this._raw[this._key])){const n=this._object[this._key];if(ot(n)){n.value=e;return}}this._object[this._key]=e}get dep(){return _w(this._raw,this._key)}}class Fw{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Bw(t,e,n){return ot(t)?t:fe(t)?new Fw(t):Me(t)&&arguments.length>1?Hw(t,e,n):ue(t)}function Hw(t,e,n){return new Uw(t,e,n)}class jw{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Nh(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ro-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Be!==this)return Xg(this,!0),!0}get value(){const e=this.dep.track();return t_(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function $w(t,e,n=!1){let r,s;return fe(t)?r=t:(r=t.get,s=t.set),new jw(r,s,n)}const wa={},Za=new WeakMap;let as;function qw(t,e=!1,n=as){if(n){let r=Za.get(n);r||Za.set(n,r=[]),r.push(t)}}function Ww(t,e,n=Fe){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:a,call:l}=n,u=k=>s?k:Jt(k)||s===!1||s===0?zn(k,1):zn(k);let h,d,p,g,_=!1,y=!1;if(ot(t)?(d=()=>t.value,_=Jt(t)):Vr(t)?(d=()=>u(t),_=!0):ae(t)?(y=!0,_=t.some(k=>Vr(k)||Jt(k)),d=()=>t.map(k=>{if(ot(k))return k.value;if(Vr(k))return u(k);if(fe(k))return l?l(k,2):k()})):fe(t)?e?d=l?()=>l(t,2):t:d=()=>{if(p){rr();try{p()}finally{sr()}}const k=as;as=h;try{return l?l(t,3,[g]):t(g)}finally{as=k}}:d=Cn,e&&s){const k=d,V=s===!0?1/0:s;d=()=>zn(k(),V)}const N=Sh(),D=()=>{h.stop(),N&&N.active&&Ah(N.effects,h)};if(i&&e){const k=e;e=(...V)=>{k(...V),D()}}let O=y?new Array(t.length).fill(wa):wa;const E=k=>{if(!(!(h.flags&1)||!h.dirty&&!k))if(e){const V=h.run();if(s||_||(y?V.some((U,b)=>Dr(U,O[b])):Dr(V,O))){p&&p();const U=as;as=h;try{const b=[V,O===wa?void 0:y&&O[0]===wa?[]:O,g];O=V,l?l(e,3,b):e(...b)}finally{as=U}}}else h.run()};return a&&a(E),h=new Yg(d),h.scheduler=o?()=>o(E,!1):E,g=k=>qw(k,!1,h),p=h.onStop=()=>{const k=Za.get(h);if(k){if(l)l(k,4);else for(const V of k)V();Za.delete(h)}},e?r?E(!0):O=h.run():o?o(E.bind(null,!0),!0):h.run(),D.pause=h.pause.bind(h),D.resume=h.resume.bind(h),D.stop=D,D}function zn(t,e=1/0,n){if(e<=0||!Me(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,ot(t))zn(t.value,e,n);else if(ae(t))for(let r=0;r<t.length;r++)zn(t[r],e,n);else if(Ri(t)||Xs(t))t.forEach(r=>{zn(r,e,n)});else if($g(t)){for(const r in t)zn(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&zn(t[r],e,n)}return t}function qo(t,e,n,r){try{return r?t(...r):t()}catch(s){Ci(s,e,n)}}function _n(t,e,n,r){if(fe(t)){const s=qo(t,e,n,r);return s&&bh(s)&&s.catch(i=>{Ci(i,e,n)}),s}if(ae(t)){const s=[];for(let i=0;i<t.length;i++)s.push(_n(t[i],e,n,r));return s}}function Ci(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Fe;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const h=a.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](t,l,u)===!1)return}a=a.parent}if(i){rr(),qo(i,null,10,[t,l,u]),sr();return}}Gw(t,n,s,r,o)}function Gw(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const Ut=[];let An=-1;const ti=[];let Ir=null,js=0;const f_=Promise.resolve();let ec=null;function vs(t){const e=ec||f_;return t?e.then(this?t.bind(this):t):e}function Kw(t){let e=An+1,n=Ut.length;for(;e<n;){const r=e+n>>>1,s=Ut[r],i=Co(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function Vh(t){if(!(t.flags&1)){const e=Co(t),n=Ut[Ut.length-1];!n||!(t.flags&2)&&e>=Co(n)?Ut.push(t):Ut.splice(Kw(e),0,t),t.flags|=1,d_()}}function d_(){ec||(ec=f_.then(p_))}function wu(t){ae(t)?ti.push(...t):Ir&&t.id===-1?Ir.splice(js+1,0,t):t.flags&1||(ti.push(t),t.flags|=1),d_()}function Fd(t,e,n=An+1){for(;n<Ut.length;n++){const r=Ut[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Ut.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function tc(t){if(ti.length){const e=[...new Set(ti)].sort((n,r)=>Co(n)-Co(r));if(ti.length=0,Ir){Ir.push(...e);return}for(Ir=e,js=0;js<Ir.length;js++){const n=Ir[js];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ir=null,js=0}}const Co=t=>t.id==null?t.flags&2?-1:1/0:t.id;function p_(t){try{for(An=0;An<Ut.length;An++){const e=Ut[An];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),qo(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;An<Ut.length;An++){const e=Ut[An];e&&(e.flags&=-2)}An=-1,Ut.length=0,tc(),ec=null,(Ut.length||ti.length)&&p_()}}let At=null,m_=null;function nc(t){const e=At;return At=t,m_=t&&t.type.__scopeId||null,e}function sn(t,e=At,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&cc(-1);const i=nc(e);let o;try{o=t(...s)}finally{nc(i),r._d&&cc(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function no(t,e){if(At===null)return t;const n=Kc(At),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,l=Fe]=e[s];i&&(fe(i)&&(i={mounted:i,updated:i}),i.deep&&zn(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function bn(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(rr(),_n(l,n,8,[t.el,a,t,e]),sr())}}function Jn(t,e){if(It){let n=It.provides;const r=It.parent&&It.parent.provides;r===n&&(n=It.provides=Object.create(r)),n[t]=e}}function bt(t,e,n=!1){const r=ks();if(r||ps){let s=ps?ps._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&fe(e)?e.call(r&&r.proxy):e}}function $c(){return!!(ks()||ps)}const zw=Symbol.for("v-scx"),Qw=()=>bt(zw);function Yw(t,e){return xh(t,null,e)}function xr(t,e,n){return xh(t,e,n)}function xh(t,e,n=Fe){const{immediate:r,deep:s,flush:i,once:o}=n,a=vt({},n),l=e&&r||!e&&i!=="post";let u;if(pi){if(i==="sync"){const g=Qw();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=Cn,g.resume=Cn,g.pause=Cn,g}}const h=It;a.call=(g,_,y)=>_n(g,h,_,y);let d=!1;i==="post"?a.scheduler=g=>{gt(g,h&&h.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(g,_)=>{_?g():Vh(g)}),a.augmentJob=g=>{e&&(g.flags|=4),d&&(g.flags|=2,h&&(g.id=h.uid,g.i=h))};const p=Ww(t,e,a);return pi&&(u?u.push(p):l&&p()),p}function Jw(t,e,n){const r=this.proxy,s=Ge(t)?t.includes(".")?g_(r,t):()=>r[t]:t.bind(r,r);let i;fe(e)?i=e:(i=e.handler,n=e);const o=Ko(this),a=xh(s,i.bind(r),n);return o(),a}function g_(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const Xw=Symbol("_vte"),__=t=>t.__isTeleport,Gn=Symbol("_leaveCb"),Ia=Symbol("_enterCb");function Zw(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return hi(()=>{t.isMounted=!0}),Go(()=>{t.isUnmounting=!0}),t}const Zt=[Function,Array],y_={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Zt,onEnter:Zt,onAfterEnter:Zt,onEnterCancelled:Zt,onBeforeLeave:Zt,onLeave:Zt,onAfterLeave:Zt,onLeaveCancelled:Zt,onBeforeAppear:Zt,onAppear:Zt,onAfterAppear:Zt,onAppearCancelled:Zt},v_=t=>{const e=t.subTree;return e.component?v_(e.component):e},eI={name:"BaseTransition",props:y_,setup(t,{slots:e}){const n=ks(),r=Zw();return()=>{const s=e.default&&w_(e.default(),!0);if(!s||!s.length)return;const i=E_(s),o=Ce(t),{mode:a}=o;if(r.isLeaving)return Hl(i);const l=Bd(i);if(!l)return Hl(i);let u=Iu(l,o,r,n,d=>u=d);l.type!==rt&&ui(l,u);let h=n.subTree&&Bd(n.subTree);if(h&&h.type!==rt&&!un(h,l)&&v_(n).type!==rt){let d=Iu(h,o,r,n);if(ui(h,d),a==="out-in"&&l.type!==rt)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,h=void 0},Hl(i);a==="in-out"&&l.type!==rt?d.delayLeave=(p,g,_)=>{const y=T_(r,h);y[String(h.key)]=h,p[Gn]=()=>{g(),p[Gn]=void 0,delete u.delayedLeave,h=void 0},u.delayedLeave=()=>{_(),delete u.delayedLeave,h=void 0}}:h=void 0}else h&&(h=void 0);return i}}};function E_(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==rt){e=n;break}}return e}const tI=eI;function T_(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Iu(t,e,n,r,s){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:h,onEnterCancelled:d,onBeforeLeave:p,onLeave:g,onAfterLeave:_,onLeaveCancelled:y,onBeforeAppear:N,onAppear:D,onAfterAppear:O,onAppearCancelled:E}=e,k=String(t.key),V=T_(n,t),U=(T,R)=>{T&&_n(T,r,9,R)},b=(T,R)=>{const C=R[1];U(T,R),ae(T)?T.every(S=>S.length<=1)&&C():T.length<=1&&C()},w={mode:o,persisted:a,beforeEnter(T){let R=l;if(!n.isMounted)if(i)R=N||l;else return;T[Gn]&&T[Gn](!0);const C=V[k];C&&un(t,C)&&C.el[Gn]&&C.el[Gn](),U(R,[T])},enter(T){let R=u,C=h,S=d;if(!n.isMounted)if(i)R=D||u,C=O||h,S=E||d;else return;let I=!1;const le=T[Ia]=Ie=>{I||(I=!0,Ie?U(S,[T]):U(C,[T]),w.delayedLeave&&w.delayedLeave(),T[Ia]=void 0)};R?b(R,[T,le]):le()},leave(T,R){const C=String(t.key);if(T[Ia]&&T[Ia](!0),n.isUnmounting)return R();U(p,[T]);let S=!1;const I=T[Gn]=le=>{S||(S=!0,R(),le?U(y,[T]):U(_,[T]),T[Gn]=void 0,V[C]===t&&delete V[C])};V[C]=t,g?b(g,[T,I]):I()},clone(T){const R=Iu(T,e,n,r,s);return s&&s(R),R}};return w}function Hl(t){if(Wo(t))return t=on(t),t.children=null,t}function Bd(t){if(!Wo(t))return __(t.type)&&t.children?E_(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&fe(n.default))return n.default()}}function ui(t,e){t.shapeFlag&6&&t.component?(t.transition=e,ui(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function w_(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===We?(o.patchFlag&128&&s++,r=r.concat(w_(o.children,e,a))):(e||o.type!==rt)&&r.push(a!=null?on(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function ct(t,e){return fe(t)?vt({name:t.name},e,{setup:t}):t}function Mh(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const rc=new WeakMap;function ni(t,e,n,r,s=!1){if(ae(t)){t.forEach((_,y)=>ni(_,e&&(ae(e)?e[y]:e),n,r,s));return}if(Xn(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&ni(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?Kc(r.component):r.el,o=s?null:i,{i:a,r:l}=t,u=e&&e.r,h=a.refs===Fe?a.refs={}:a.refs,d=a.setupState,p=Ce(d),g=d===Fe?Hg:_=>Ve(p,_);if(u!=null&&u!==l){if(Hd(e),Ge(u))h[u]=null,g(u)&&(d[u]=null);else if(ot(u)){u.value=null;const _=e;_.k&&(h[_.k]=null)}}if(fe(l))qo(l,a,12,[o,h]);else{const _=Ge(l),y=ot(l);if(_||y){const N=()=>{if(t.f){const D=_?g(l)?d[l]:h[l]:l.value;if(s)ae(D)&&Ah(D,i);else if(ae(D))D.includes(i)||D.push(i);else if(_)h[l]=[i],g(l)&&(d[l]=h[l]);else{const O=[i];l.value=O,t.k&&(h[t.k]=O)}}else _?(h[l]=o,g(l)&&(d[l]=o)):y&&(l.value=o,t.k&&(h[t.k]=o))};if(o){const D=()=>{N(),rc.delete(t)};D.id=-1,rc.set(t,D),gt(D,n)}else Hd(t),N()}}}function Hd(t){const e=rc.get(t);e&&(e.flags|=8,rc.delete(t))}let jd=!1;const Hs=()=>{jd||(console.error("Hydration completed but contains mismatches."),jd=!0)},nI=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",rI=t=>t.namespaceURI.includes("MathML"),Aa=t=>{if(t.nodeType===1){if(nI(t))return"svg";if(rI(t))return"mathml"}},zs=t=>t.nodeType===8;function sI(t){const{mt:e,p:n,o:{patchProp:r,createText:s,nextSibling:i,parentNode:o,remove:a,insert:l,createComment:u}}=t,h=(E,k)=>{if(!k.hasChildNodes()){n(null,E,k),tc(),k._vnode=E;return}d(k.firstChild,E,null,null,null),tc(),k._vnode=E},d=(E,k,V,U,b,w=!1)=>{w=w||!!k.dynamicChildren;const T=zs(E)&&E.data==="[",R=()=>y(E,k,V,U,b,T),{type:C,ref:S,shapeFlag:I,patchFlag:le}=k;let Ie=E.nodeType;k.el=E,le===-2&&(w=!1,k.dynamicChildren=null);let re=null;switch(C){case ms:Ie!==3?k.children===""?(l(k.el=s(""),o(E),E),re=E):re=R():(E.data!==k.children&&(Hs(),E.data=k.children),re=i(E));break;case rt:O(E)?(re=i(E),D(k.el=E.content.firstChild,E,V)):Ie!==8||T?re=R():re=i(E);break;case po:if(T&&(E=i(E),Ie=E.nodeType),Ie===1||Ie===3){re=E;const pe=!k.children.length;for(let ee=0;ee<k.staticCount;ee++)pe&&(k.children+=re.nodeType===1?re.outerHTML:re.data),ee===k.staticCount-1&&(k.anchor=re),re=i(re);return T?i(re):re}else R();break;case We:T?re=_(E,k,V,U,b,w):re=R();break;default:if(I&1)(Ie!==1||k.type.toLowerCase()!==E.tagName.toLowerCase())&&!O(E)?re=R():re=p(E,k,V,U,b,w);else if(I&6){k.slotScopeIds=b;const pe=o(E);if(T?re=N(E):zs(E)&&E.data==="teleport start"?re=N(E,E.data,"teleport end"):re=i(E),e(k,pe,null,V,U,Aa(pe),w),Xn(k)&&!k.type.__asyncResolved){let ee;T?(ee=ge(We),ee.anchor=re?re.previousSibling:pe.lastChild):ee=E.nodeType===3?Ye(""):ge("div"),ee.el=E,k.component.subTree=ee}}else I&64?Ie!==8?re=R():re=k.type.hydrate(E,k,V,U,b,w,t,g):I&128&&(re=k.type.hydrate(E,k,V,U,Aa(o(E)),b,w,t,d))}return S!=null&&ni(S,null,U,k),re},p=(E,k,V,U,b,w)=>{w=w||!!k.dynamicChildren;const{type:T,props:R,patchFlag:C,shapeFlag:S,dirs:I,transition:le}=k,Ie=T==="input"||T==="option";if(Ie||C!==-1){I&&bn(k,null,V,"created");let re=!1;if(O(E)){re=q_(null,le)&&V&&V.vnode.props&&V.vnode.props.appear;const ee=E.content.firstChild;if(re){const Ne=ee.getAttribute("class");Ne&&(ee.$cls=Ne),le.beforeEnter(ee)}D(ee,E,V),k.el=E=ee}if(S&16&&!(R&&(R.innerHTML||R.textContent))){let ee=g(E.firstChild,k,E,V,U,b,w);for(;ee;){ba(E,1)||Hs();const Ne=ee;ee=ee.nextSibling,a(Ne)}}else if(S&8){let ee=k.children;ee[0]===`
`&&(E.tagName==="PRE"||E.tagName==="TEXTAREA")&&(ee=ee.slice(1));const{textContent:Ne}=E;Ne!==ee&&Ne!==ee.replace(/\r\n|\r/g,`
`)&&(ba(E,0)||Hs(),E.textContent=k.children)}if(R){if(Ie||!w||C&48){const ee=E.tagName.includes("-");for(const Ne in R)(Ie&&(Ne.endsWith("value")||Ne==="indeterminate")||jo(Ne)&&!Zs(Ne)||Ne[0]==="."||ee)&&r(E,Ne,null,R[Ne],void 0,V)}else if(R.onClick)r(E,"onClick",null,R.onClick,void 0,V);else if(C&4&&Vr(R.style))for(const ee in R.style)R.style[ee]}let pe;(pe=R&&R.onVnodeBeforeMount)&&Bt(pe,V,k),I&&bn(k,null,V,"beforeMount"),((pe=R&&R.onVnodeMounted)||I||re)&&Q_(()=>{pe&&Bt(pe,V,k),re&&le.enter(E),I&&bn(k,null,V,"mounted")},U)}return E.nextSibling},g=(E,k,V,U,b,w,T)=>{T=T||!!k.dynamicChildren;const R=k.children,C=R.length;for(let S=0;S<C;S++){const I=T?R[S]:R[S]=Kt(R[S]),le=I.type===ms;E?(le&&!T&&S+1<C&&Kt(R[S+1]).type===ms&&(l(s(E.data.slice(I.children.length)),V,i(E)),E.data=I.children),E=d(E,I,U,b,w,T)):le&&!I.children?l(I.el=s(""),V):(ba(V,1)||Hs(),n(null,I,V,null,U,b,Aa(V),w))}return E},_=(E,k,V,U,b,w)=>{const{slotScopeIds:T}=k;T&&(b=b?b.concat(T):T);const R=o(E),C=g(i(E),k,R,V,U,b,w);return C&&zs(C)&&C.data==="]"?i(k.anchor=C):(Hs(),l(k.anchor=u("]"),R,C),C)},y=(E,k,V,U,b,w)=>{if(ba(E.parentElement,1)||Hs(),k.el=null,w){const C=N(E);for(;;){const S=i(E);if(S&&S!==C)a(S);else break}}const T=i(E),R=o(E);return a(E),n(null,k,R,T,V,U,Aa(R),b),V&&(V.vnode.el=k.el,Gc(V,k.el)),T},N=(E,k="[",V="]")=>{let U=0;for(;E;)if(E=i(E),E&&zs(E)&&(E.data===k&&U++,E.data===V)){if(U===0)return i(E);U--}return E},D=(E,k,V)=>{const U=k.parentNode;U&&U.replaceChild(E,k);let b=V;for(;b;)b.vnode.el===k&&(b.vnode.el=b.subTree.el=E),b=b.parent},O=E=>E.nodeType===1&&E.tagName==="TEMPLATE";return[h,d]}const $d="data-allow-mismatch",iI={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function ba(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute($d);)t=t.parentElement;const n=t&&t.getAttribute($d);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return e===0&&r.includes("children")?!0:r.includes(iI[e])}}Fc().requestIdleCallback;Fc().cancelIdleCallback;function oI(t,e){if(zs(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1){if(e(r)===!1)break}else if(zs(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}const Xn=t=>!!t.type.__asyncLoader;function sc(t){fe(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:s=200,hydrate:i,timeout:o,suspensible:a=!0,onError:l}=t;let u=null,h,d=0;const p=()=>(d++,u=null,g()),g=()=>{let _;return u||(_=u=e().catch(y=>{if(y=y instanceof Error?y:new Error(String(y)),l)return new Promise((N,D)=>{l(y,()=>N(p()),()=>D(y),d+1)});throw y}).then(y=>_!==u&&u?u:(y&&(y.__esModule||y[Symbol.toStringTag]==="Module")&&(y=y.default),h=y,y)))};return ct({name:"AsyncComponentWrapper",__asyncLoader:g,__asyncHydrate(_,y,N){let D=!1;(y.bu||(y.bu=[])).push(()=>D=!0);const O=()=>{D||N()},E=i?()=>{const k=i(O,V=>oI(_,V));k&&(y.bum||(y.bum=[])).push(k)}:O;h?E():g().then(()=>!y.isUnmounted&&E())},get __asyncResolved(){return h},setup(){const _=It;if(Mh(_),h)return()=>Ra(h,_);const y=E=>{u=null,Ci(E,_,13,!r)};if(a&&_.suspense||pi)return g().then(E=>()=>Ra(E,_)).catch(E=>(y(E),()=>r?ge(r,{error:E}):null));const N=ue(!1),D=ue(),O=ue(!!s);return s&&setTimeout(()=>{O.value=!1},s),o!=null&&setTimeout(()=>{if(!N.value&&!D.value){const E=new Error(`Async component timed out after ${o}ms.`);y(E),D.value=E}},o),g().then(()=>{N.value=!0,_.parent&&Wo(_.parent.vnode)&&_.parent.update()}).catch(E=>{y(E),D.value=E}),()=>{if(N.value&&h)return Ra(h,_);if(D.value&&r)return ge(r,{error:D.value});if(n&&!O.value)return Ra(n,_)}}})}function Ra(t,e){const{ref:n,props:r,children:s,ce:i}=e.vnode,o=ge(t,r,s);return o.ref=n,o.ce=i,delete e.vnode.ce,o}const Wo=t=>t.type.__isKeepAlive,aI={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=ks(),r=n.ctx;if(!r.renderer)return()=>{const O=e.default&&e.default();return O&&O.length===1?O[0]:O};const s=new Map,i=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:u,um:h,o:{createElement:d}}}=r,p=d("div");r.activate=(O,E,k,V,U)=>{const b=O.component;u(O,E,k,0,a),l(b.vnode,O,E,k,b,a,V,O.slotScopeIds,U),gt(()=>{b.isDeactivated=!1,b.a&&ei(b.a);const w=O.props&&O.props.onVnodeMounted;w&&Bt(w,b.parent,O)},a)},r.deactivate=O=>{const E=O.component;oc(E.m),oc(E.a),u(O,p,null,1,a),gt(()=>{E.da&&ei(E.da);const k=O.props&&O.props.onVnodeUnmounted;k&&Bt(k,E.parent,O),E.isDeactivated=!0},a)};function g(O){jl(O),h(O,n,a,!0)}function _(O){s.forEach((E,k)=>{const V=Nu(Xn(E)?E.type.__asyncResolved||{}:E.type);V&&!O(V)&&y(k)})}function y(O){const E=s.get(O);E&&(!o||!un(E,o))?g(E):o&&jl(o),s.delete(O),i.delete(O)}xr(()=>[t.include,t.exclude],([O,E])=>{O&&_(k=>ro(O,k)),E&&_(k=>!ro(E,k))},{flush:"post",deep:!0});let N=null;const D=()=>{N!=null&&(ac(n.subTree.type)?gt(()=>{s.set(N,Sa(n.subTree))},n.subTree.suspense):s.set(N,Sa(n.subTree)))};return hi(D),R_(D),Go(()=>{s.forEach(O=>{const{subTree:E,suspense:k}=n,V=Sa(E);if(O.type===V.type&&O.key===V.key){jl(V);const U=V.component.da;U&&gt(U,k);return}g(O)})}),()=>{if(N=null,!e.default)return o=null;const O=e.default(),E=O[0];if(O.length>1)return o=null,O;if(!Es(E)||!(E.shapeFlag&4)&&!(E.shapeFlag&128))return o=null,E;let k=Sa(E);if(k.type===rt)return o=null,k;const V=k.type,U=Nu(Xn(k)?k.type.__asyncResolved||{}:V),{include:b,exclude:w,max:T}=t;if(b&&(!U||!ro(b,U))||w&&U&&ro(w,U))return k.shapeFlag&=-257,o=k,E;const R=k.key==null?V:k.key,C=s.get(R);return k.el&&(k=on(k),E.shapeFlag&128&&(E.ssContent=k)),N=R,C?(k.el=C.el,k.component=C.component,k.transition&&ui(k,k.transition),k.shapeFlag|=512,i.delete(R),i.add(R)):(i.add(R),T&&i.size>parseInt(T,10)&&y(i.values().next().value)),k.shapeFlag|=256,o=k,ac(E.type)?E:k}}},cI=aI;function ro(t,e){return ae(t)?t.some(n=>ro(n,e)):Ge(t)?t.split(",").includes(e):tw(t)?(t.lastIndex=0,t.test(e)):!1}function I_(t,e){b_(t,"a",e)}function A_(t,e){b_(t,"da",e)}function b_(t,e,n=It){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(qc(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Wo(s.parent.vnode)&&lI(r,e,n,s),s=s.parent}}function lI(t,e,n,r){const s=qc(e,t,r,!0);S_(()=>{Ah(r[e],s)},n)}function jl(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Sa(t){return t.shapeFlag&128?t.ssContent:t}function qc(t,e,n=It,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{rr();const a=Ko(n),l=_n(e,n,t,o);return a(),sr(),l});return r?s.unshift(i):s.push(i),i}}const ur=t=>(e,n=It)=>{(!pi||t==="sp")&&qc(t,(...r)=>e(...r),n)},uI=ur("bm"),hi=ur("m"),hI=ur("bu"),R_=ur("u"),Go=ur("bum"),S_=ur("um"),fI=ur("sp"),dI=ur("rtg"),pI=ur("rtc");function C_(t,e=It){qc("ec",t,e)}const Lh="components",mI="directives";function Hx(t,e){return Uh(Lh,t,!0,e)||t}const P_=Symbol.for("v-ndc");function gI(t){return Ge(t)?Uh(Lh,t,!1)||t:t||P_}function _I(t){return Uh(mI,t)}function Uh(t,e,n=!0,r=!1){const s=At||It;if(s){const i=s.type;if(t===Lh){const a=Nu(i,!1);if(a&&(a===e||a===an(e)||a===Lc(an(e))))return i}const o=qd(s[t]||i[t],e)||qd(s.appContext[t],e);return!o&&r?i:o}}function qd(t,e){return t&&(t[e]||t[an(e)]||t[Lc(an(e))])}function jx(t,e,n,r){let s;const i=n,o=ae(t);if(o||Ge(t)){const a=o&&Vr(t);let l=!1,u=!1;a&&(l=!Jt(t),u=Vn(t),t=Hc(t)),s=new Array(t.length);for(let h=0,d=t.length;h<d;h++)s[h]=e(l?u?li(gn(t[h])):gn(t[h]):t[h],h,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i)}else if(Me(t))if(t[Symbol.iterator])s=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);s=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const h=a[l];s[l]=e(t[h],h,l,i)}}else s=[];return s}function yI(t,e,n={},r,s){if(At.ce||At.parent&&Xn(At.parent)&&At.parent.ce){const u=Object.keys(n).length>0;return _e(),zt(We,null,[ge("slot",n,r)],u?-2:64)}let i=t[e];i&&i._c&&(i._d=!1),_e();const o=i&&k_(i(n)),a=n.key||o&&o.key,l=zt(We,{key:(a&&!mn(a)?a:`_${e}`)+(!o&&r?"_fb":"")},o||[],o&&t._===1?64:-2);return i&&i._c&&(i._d=!0),l}function k_(t){return t.some(e=>Es(e)?!(e.type===rt||e.type===We&&!k_(e.children)):!0)?t:null}const Au=t=>t?ny(t)?Kc(t):Au(t.parent):null,fo=vt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Au(t.parent),$root:t=>Au(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>O_(t),$forceUpdate:t=>t.f||(t.f=()=>{Vh(t.update)}),$nextTick:t=>t.n||(t.n=vs.bind(t.proxy)),$watch:t=>Jw.bind(t)}),$l=(t,e)=>t!==Fe&&!t.__isScriptSetup&&Ve(t,e),vI={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=t;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if($l(r,e))return o[e]=1,r[e];if(s!==Fe&&Ve(s,e))return o[e]=2,s[e];if(Ve(i,e))return o[e]=3,i[e];if(n!==Fe&&Ve(n,e))return o[e]=4,n[e];bu&&(o[e]=0)}}const u=fo[e];let h,d;if(u)return e==="$attrs"&&Ot(t.attrs,"get",""),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==Fe&&Ve(n,e))return o[e]=4,n[e];if(d=l.config.globalProperties,Ve(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return $l(s,e)?(s[e]=n,!0):r!==Fe&&Ve(r,e)?(r[e]=n,!0):Ve(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,props:i,type:o}},a){let l;return!!(n[a]||t!==Fe&&a[0]!=="$"&&Ve(t,a)||$l(e,a)||Ve(i,a)||Ve(r,a)||Ve(fo,a)||Ve(s.config.globalProperties,a)||(l=o.__cssModules)&&l[a])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ve(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Wd(t){return ae(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let bu=!0;function EI(t){const e=O_(t),n=t.proxy,r=t.ctx;bu=!1,e.beforeCreate&&Gd(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:u,created:h,beforeMount:d,mounted:p,beforeUpdate:g,updated:_,activated:y,deactivated:N,beforeDestroy:D,beforeUnmount:O,destroyed:E,unmounted:k,render:V,renderTracked:U,renderTriggered:b,errorCaptured:w,serverPrefetch:T,expose:R,inheritAttrs:C,components:S,directives:I,filters:le}=e;if(u&&TI(u,r,null),o)for(const pe in o){const ee=o[pe];fe(ee)&&(r[pe]=ee.bind(n))}if(s){const pe=s.call(n,n);Me(pe)&&(t.data=Kr(pe))}if(bu=!0,i)for(const pe in i){const ee=i[pe],Ne=fe(ee)?ee.bind(n,n):fe(ee.get)?ee.get.bind(n,n):Cn,Tn=!fe(ee)&&fe(ee.set)?ee.set.bind(n):Cn,qt=dt({get:Ne,set:Tn});Object.defineProperty(r,pe,{enumerable:!0,configurable:!0,get:()=>qt.value,set:Tt=>qt.value=Tt})}if(a)for(const pe in a)N_(a[pe],r,n,pe);if(l){const pe=fe(l)?l.call(n):l;Reflect.ownKeys(pe).forEach(ee=>{Jn(ee,pe[ee])})}h&&Gd(h,t,"c");function re(pe,ee){ae(ee)?ee.forEach(Ne=>pe(Ne.bind(n))):ee&&pe(ee.bind(n))}if(re(uI,d),re(hi,p),re(hI,g),re(R_,_),re(I_,y),re(A_,N),re(C_,w),re(pI,U),re(dI,b),re(Go,O),re(S_,k),re(fI,T),ae(R))if(R.length){const pe=t.exposed||(t.exposed={});R.forEach(ee=>{Object.defineProperty(pe,ee,{get:()=>n[ee],set:Ne=>n[ee]=Ne,enumerable:!0})})}else t.exposed||(t.exposed={});V&&t.render===Cn&&(t.render=V),C!=null&&(t.inheritAttrs=C),S&&(t.components=S),I&&(t.directives=I),T&&Mh(t)}function TI(t,e,n=Cn){ae(t)&&(t=Ru(t));for(const r in t){const s=t[r];let i;Me(s)?"default"in s?i=bt(s.from||r,s.default,!0):i=bt(s.from||r):i=bt(s),ot(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Gd(t,e,n){_n(ae(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function N_(t,e,n,r){let s=r.includes(".")?g_(n,r):()=>n[r];if(Ge(t)){const i=e[t];fe(i)&&xr(s,i)}else if(fe(t))xr(s,t.bind(n));else if(Me(t))if(ae(t))t.forEach(i=>N_(i,e,n,r));else{const i=fe(t.handler)?t.handler.bind(n):e[t.handler];fe(i)&&xr(s,i,t)}}function O_(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(u=>ic(l,u,o,!0)),ic(l,e,o)),Me(e)&&i.set(e,l),l}function ic(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&ic(t,i,n,!0),s&&s.forEach(o=>ic(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=wI[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const wI={data:Kd,props:zd,emits:zd,methods:so,computed:so,beforeCreate:Mt,created:Mt,beforeMount:Mt,mounted:Mt,beforeUpdate:Mt,updated:Mt,beforeDestroy:Mt,beforeUnmount:Mt,destroyed:Mt,unmounted:Mt,activated:Mt,deactivated:Mt,errorCaptured:Mt,serverPrefetch:Mt,components:so,directives:so,watch:AI,provide:Kd,inject:II};function Kd(t,e){return e?t?function(){return vt(fe(t)?t.call(this,this):t,fe(e)?e.call(this,this):e)}:e:t}function II(t,e){return so(Ru(t),Ru(e))}function Ru(t){if(ae(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Mt(t,e){return t?[...new Set([].concat(t,e))]:e}function so(t,e){return t?vt(Object.create(null),t,e):e}function zd(t,e){return t?ae(t)&&ae(e)?[...new Set([...t,...e])]:vt(Object.create(null),Wd(t),Wd(e??{})):e}function AI(t,e){if(!t)return e;if(!e)return t;const n=vt(Object.create(null),t);for(const r in e)n[r]=Mt(t[r],e[r]);return n}function D_(){return{app:null,config:{isNativeTag:Hg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let bI=0;function RI(t,e){return function(r,s=null){fe(r)||(r=vt({},r)),s!=null&&!Me(s)&&(s=null);const i=D_(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:bI++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:sA,get config(){return i.config},set config(h){},use(h,...d){return o.has(h)||(h&&fe(h.install)?(o.add(h),h.install(u,...d)):fe(h)&&(o.add(h),h(u,...d))),u},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),u},component(h,d){return d?(i.components[h]=d,u):i.components[h]},directive(h,d){return d?(i.directives[h]=d,u):i.directives[h]},mount(h,d,p){if(!l){const g=u._ceVNode||ge(r,s);return g.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),d&&e?e(g,h):t(g,h,p),l=!0,u._container=h,h.__vue_app__=u,Kc(g.component)}},onUnmount(h){a.push(h)},unmount(){l&&(_n(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(h,d){return i.provides[h]=d,u},runWithContext(h){const d=ps;ps=u;try{return h()}finally{ps=d}}};return u}}let ps=null;const SI=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${an(e)}Modifiers`]||t[`${Ps(e)}Modifiers`];function CI(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Fe;let s=n;const i=e.startsWith("update:"),o=i&&SI(r,e.slice(7));o&&(o.trim&&(s=n.map(h=>Ge(h)?h.trim():h)),o.number&&(s=n.map(Uc)));let a,l=r[a=Ml(e)]||r[a=Ml(an(e))];!l&&i&&(l=r[a=Ml(Ps(e))]),l&&_n(l,t,6,s);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,_n(u,t,6,s)}}const PI=new WeakMap;function V_(t,e,n=!1){const r=n?PI:e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!fe(t)){const l=u=>{const h=V_(u,e,!0);h&&(a=!0,vt(o,h))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Me(t)&&r.set(t,null),null):(ae(i)?i.forEach(l=>o[l]=null):vt(o,i),Me(t)&&r.set(t,o),o)}function Wc(t,e){return!t||!jo(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ve(t,e[0].toLowerCase()+e.slice(1))||Ve(t,Ps(e))||Ve(t,e))}function ql(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:h,props:d,data:p,setupState:g,ctx:_,inheritAttrs:y}=t,N=nc(t);let D,O;try{if(n.shapeFlag&4){const k=s||r,V=k;D=Kt(u.call(V,k,h,d,g,p,_)),O=a}else{const k=e;D=Kt(k.length>1?k(d,{attrs:a,slots:o,emit:l}):k(d,null)),O=e.props?a:NI(a)}}catch(k){mo.length=0,Ci(k,t,1),D=ge(rt)}let E=D;if(O&&y!==!1){const k=Object.keys(O),{shapeFlag:V}=E;k.length&&V&7&&(i&&k.some(Ih)&&(O=OI(O,i)),E=on(E,O,!1,!0))}return n.dirs&&(E=on(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&ui(E,n.transition),D=E,nc(N),D}function kI(t,e=!0){let n;for(let r=0;r<t.length;r++){const s=t[r];if(Es(s)){if(s.type!==rt||s.children==="v-if"){if(n)return;n=s}}else return}return n}const NI=t=>{let e;for(const n in t)(n==="class"||n==="style"||jo(n))&&((e||(e={}))[n]=t[n]);return e},OI=(t,e)=>{const n={};for(const r in t)(!Ih(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function DI(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Qd(r,o,u):!!o;if(l&8){const h=e.dynamicProps;for(let d=0;d<h.length;d++){const p=h[d];if(o[p]!==r[p]&&!Wc(u,p))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Qd(r,o,u):!0:!!o;return!1}function Qd(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!Wc(n,i))return!0}return!1}function Gc({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const x_={},M_=()=>Object.create(x_),L_=t=>Object.getPrototypeOf(t)===x_;function VI(t,e,n,r=!1){const s={},i=M_();t.propsDefaults=Object.create(null),U_(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:Sn(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function xI(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=Ce(s),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let d=0;d<h.length;d++){let p=h[d];if(Wc(t.emitsOptions,p))continue;const g=e[p];if(l)if(Ve(i,p))g!==i[p]&&(i[p]=g,u=!0);else{const _=an(p);s[_]=Su(l,a,_,g,t,!1)}else g!==i[p]&&(i[p]=g,u=!0)}}}else{U_(t,e,s,i)&&(u=!0);let h;for(const d in a)(!e||!Ve(e,d)&&((h=Ps(d))===d||!Ve(e,h)))&&(l?n&&(n[d]!==void 0||n[h]!==void 0)&&(s[d]=Su(l,a,d,void 0,t,!0)):delete s[d]);if(i!==a)for(const d in i)(!e||!Ve(e,d))&&(delete i[d],u=!0)}u&&Kn(t.attrs,"set","")}function U_(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Zs(l))continue;const u=e[l];let h;s&&Ve(s,h=an(l))?!i||!i.includes(h)?n[h]=u:(a||(a={}))[h]=u:Wc(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=Ce(n),u=a||Fe;for(let h=0;h<i.length;h++){const d=i[h];n[d]=Su(s,l,d,u[d],t,!Ve(u,d))}}return o}function Su(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=Ve(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&fe(l)){const{propsDefaults:u}=s;if(n in u)r=u[n];else{const h=Ko(s);r=u[n]=l.call(null,e),h()}}else r=l;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Ps(n))&&(r=!0))}return r}const MI=new WeakMap;function F_(t,e,n=!1){const r=n?MI:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let l=!1;if(!fe(t)){const h=d=>{l=!0;const[p,g]=F_(d,e,!0);vt(o,p),g&&a.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!i&&!l)return Me(t)&&r.set(t,Js),Js;if(ae(i))for(let h=0;h<i.length;h++){const d=an(i[h]);Yd(d)&&(o[d]=Fe)}else if(i)for(const h in i){const d=an(h);if(Yd(d)){const p=i[h],g=o[d]=ae(p)||fe(p)?{type:p}:vt({},p),_=g.type;let y=!1,N=!0;if(ae(_))for(let D=0;D<_.length;++D){const O=_[D],E=fe(O)&&O.name;if(E==="Boolean"){y=!0;break}else E==="String"&&(N=!1)}else y=fe(_)&&_.name==="Boolean";g[0]=y,g[1]=N,(y||Ve(g,"default"))&&a.push(d)}}const u=[o,a];return Me(t)&&r.set(t,u),u}function Yd(t){return t[0]!=="$"&&!Zs(t)}const Fh=t=>t==="_"||t==="_ctx"||t==="$stable",Bh=t=>ae(t)?t.map(Kt):[Kt(t)],LI=(t,e,n)=>{if(e._n)return e;const r=sn((...s)=>Bh(e(...s)),n);return r._c=!1,r},B_=(t,e,n)=>{const r=t._ctx;for(const s in t){if(Fh(s))continue;const i=t[s];if(fe(i))e[s]=LI(s,i,r);else if(i!=null){const o=Bh(i);e[s]=()=>o}}},H_=(t,e)=>{const n=Bh(e);t.slots.default=()=>n},j_=(t,e,n)=>{for(const r in e)(n||!Fh(r))&&(t[r]=e[r])},UI=(t,e,n)=>{const r=t.slots=M_();if(t.vnode.shapeFlag&32){const s=e._;s?(j_(r,e,n),n&&qg(r,"_",s,!0)):B_(e,r)}else e&&H_(t,e)},FI=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=Fe;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:j_(s,e,n):(i=!e.$stable,B_(e,s)),o=e}else e&&(H_(t,e),o={default:1});if(i)for(const a in s)!Fh(a)&&o[a]==null&&delete s[a]},gt=Q_;function BI(t){return $_(t)}function HI(t){return $_(t,sI)}function $_(t,e){const n=Fc();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:h,parentNode:d,nextSibling:p,setScopeId:g=Cn,insertStaticContent:_}=t,y=(A,P,M,$=null,F=null,q=null,K=void 0,G=null,Q=!!P.dynamicChildren)=>{if(A===P)return;A&&!un(A,P)&&($=B(A),Tt(A,F,q,!0),A=null),P.patchFlag===-2&&(Q=!1,P.dynamicChildren=null);const{type:W,ref:ce,shapeFlag:Z}=P;switch(W){case ms:N(A,P,M,$);break;case rt:D(A,P,M,$);break;case po:A==null&&O(P,M,$,K);break;case We:S(A,P,M,$,F,q,K,G,Q);break;default:Z&1?V(A,P,M,$,F,q,K,G,Q):Z&6?I(A,P,M,$,F,q,K,G,Q):(Z&64||Z&128)&&W.process(A,P,M,$,F,q,K,G,Q,ie)}ce!=null&&F?ni(ce,A&&A.ref,q,P||A,!P):ce==null&&A&&A.ref!=null&&ni(A.ref,null,q,A,!0)},N=(A,P,M,$)=>{if(A==null)r(P.el=a(P.children),M,$);else{const F=P.el=A.el;P.children!==A.children&&u(F,P.children)}},D=(A,P,M,$)=>{A==null?r(P.el=l(P.children||""),M,$):P.el=A.el},O=(A,P,M,$)=>{[A.el,A.anchor]=_(A.children,P,M,$,A.el,A.anchor)},E=({el:A,anchor:P},M,$)=>{let F;for(;A&&A!==P;)F=p(A),r(A,M,$),A=F;r(P,M,$)},k=({el:A,anchor:P})=>{let M;for(;A&&A!==P;)M=p(A),s(A),A=M;s(P)},V=(A,P,M,$,F,q,K,G,Q)=>{if(P.type==="svg"?K="svg":P.type==="math"&&(K="mathml"),A==null)U(P,M,$,F,q,K,G,Q);else{const W=A.el&&A.el._isVueCE?A.el:null;try{W&&W._beginPatch(),T(A,P,F,q,K,G,Q)}finally{W&&W._endPatch()}}},U=(A,P,M,$,F,q,K,G)=>{let Q,W;const{props:ce,shapeFlag:Z,transition:se,dirs:me}=A;if(Q=A.el=o(A.type,q,ce&&ce.is,ce),Z&8?h(Q,A.children):Z&16&&w(A.children,Q,null,$,F,Wl(A,q),K,G),me&&bn(A,null,$,"created"),b(Q,A,A.scopeId,K,$),ce){for(const Oe in ce)Oe!=="value"&&!Zs(Oe)&&i(Q,Oe,null,ce[Oe],q,$);"value"in ce&&i(Q,"value",null,ce.value,q),(W=ce.onVnodeBeforeMount)&&Bt(W,$,A)}me&&bn(A,null,$,"beforeMount");const we=q_(F,se);we&&se.beforeEnter(Q),r(Q,P,M),((W=ce&&ce.onVnodeMounted)||we||me)&&gt(()=>{W&&Bt(W,$,A),we&&se.enter(Q),me&&bn(A,null,$,"mounted")},F)},b=(A,P,M,$,F)=>{if(M&&g(A,M),$)for(let q=0;q<$.length;q++)g(A,$[q]);if(F){let q=F.subTree;if(P===q||ac(q.type)&&(q.ssContent===P||q.ssFallback===P)){const K=F.vnode;b(A,K,K.scopeId,K.slotScopeIds,F.parent)}}},w=(A,P,M,$,F,q,K,G,Q=0)=>{for(let W=Q;W<A.length;W++){const ce=A[W]=G?Ar(A[W]):Kt(A[W]);y(null,ce,P,M,$,F,q,K,G)}},T=(A,P,M,$,F,q,K)=>{const G=P.el=A.el;let{patchFlag:Q,dynamicChildren:W,dirs:ce}=P;Q|=A.patchFlag&16;const Z=A.props||Fe,se=P.props||Fe;let me;if(M&&ts(M,!1),(me=se.onVnodeBeforeUpdate)&&Bt(me,M,P,A),ce&&bn(P,A,M,"beforeUpdate"),M&&ts(M,!0),(Z.innerHTML&&se.innerHTML==null||Z.textContent&&se.textContent==null)&&h(G,""),W?R(A.dynamicChildren,W,G,M,$,Wl(P,F),q):K||ee(A,P,G,null,M,$,Wl(P,F),q,!1),Q>0){if(Q&16)C(G,Z,se,M,F);else if(Q&2&&Z.class!==se.class&&i(G,"class",null,se.class,F),Q&4&&i(G,"style",Z.style,se.style,F),Q&8){const we=P.dynamicProps;for(let Oe=0;Oe<we.length;Oe++){const ke=we[Oe],St=Z[ke],lt=se[ke];(lt!==St||ke==="value")&&i(G,ke,St,lt,F,M)}}Q&1&&A.children!==P.children&&h(G,P.children)}else!K&&W==null&&C(G,Z,se,M,F);((me=se.onVnodeUpdated)||ce)&&gt(()=>{me&&Bt(me,M,P,A),ce&&bn(P,A,M,"updated")},$)},R=(A,P,M,$,F,q,K)=>{for(let G=0;G<P.length;G++){const Q=A[G],W=P[G],ce=Q.el&&(Q.type===We||!un(Q,W)||Q.shapeFlag&198)?d(Q.el):M;y(Q,W,ce,null,$,F,q,K,!0)}},C=(A,P,M,$,F)=>{if(P!==M){if(P!==Fe)for(const q in P)!Zs(q)&&!(q in M)&&i(A,q,P[q],null,F,$);for(const q in M){if(Zs(q))continue;const K=M[q],G=P[q];K!==G&&q!=="value"&&i(A,q,G,K,F,$)}"value"in M&&i(A,"value",P.value,M.value,F)}},S=(A,P,M,$,F,q,K,G,Q)=>{const W=P.el=A?A.el:a(""),ce=P.anchor=A?A.anchor:a("");let{patchFlag:Z,dynamicChildren:se,slotScopeIds:me}=P;me&&(G=G?G.concat(me):me),A==null?(r(W,M,$),r(ce,M,$),w(P.children||[],M,ce,F,q,K,G,Q)):Z>0&&Z&64&&se&&A.dynamicChildren&&A.dynamicChildren.length===se.length?(R(A.dynamicChildren,se,M,F,q,K,G),(P.key!=null||F&&P===F.subTree)&&W_(A,P,!0)):ee(A,P,M,ce,F,q,K,G,Q)},I=(A,P,M,$,F,q,K,G,Q)=>{P.slotScopeIds=G,A==null?P.shapeFlag&512?F.ctx.activate(P,M,$,K,Q):le(P,M,$,F,q,K,Q):Ie(A,P,Q)},le=(A,P,M,$,F,q,K)=>{const G=A.component=XI(A,$,F);if(Wo(A)&&(G.ctx.renderer=ie),ZI(G,!1,K),G.asyncDep){if(F&&F.registerDep(G,re,K),!A.el){const Q=G.subTree=ge(rt);D(null,Q,P,M),A.placeholder=Q.el}}else re(G,A,P,M,F,q,K)},Ie=(A,P,M)=>{const $=P.component=A.component;if(DI(A,P,M))if($.asyncDep&&!$.asyncResolved){pe($,P,M);return}else $.next=P,$.update();else P.el=A.el,$.vnode=P},re=(A,P,M,$,F,q,K)=>{const G=()=>{if(A.isMounted){let{next:Z,bu:se,u:me,parent:we,vnode:Oe}=A;{const ut=G_(A);if(ut){Z&&(Z.el=Oe.el,pe(A,Z,K)),ut.asyncDep.then(()=>{A.isUnmounted||G()});return}}let ke=Z,St;ts(A,!1),Z?(Z.el=Oe.el,pe(A,Z,K)):Z=Oe,se&&ei(se),(St=Z.props&&Z.props.onVnodeBeforeUpdate)&&Bt(St,we,Z,Oe),ts(A,!0);const lt=ql(A),Ft=A.subTree;A.subTree=lt,y(Ft,lt,d(Ft.el),B(Ft),A,F,q),Z.el=lt.el,ke===null&&Gc(A,lt.el),me&&gt(me,F),(St=Z.props&&Z.props.onVnodeUpdated)&&gt(()=>Bt(St,we,Z,Oe),F)}else{let Z;const{el:se,props:me}=P,{bm:we,m:Oe,parent:ke,root:St,type:lt}=A,Ft=Xn(P);if(ts(A,!1),we&&ei(we),!Ft&&(Z=me&&me.onVnodeBeforeMount)&&Bt(Z,ke,P),ts(A,!0),se&&Le){const ut=()=>{A.subTree=ql(A),Le(se,A.subTree,A,F,null)};Ft&&lt.__asyncHydrate?lt.__asyncHydrate(se,A,ut):ut()}else{St.ce&&St.ce._def.shadowRoot!==!1&&St.ce._injectChildStyle(lt);const ut=A.subTree=ql(A);y(null,ut,M,$,A,F,q),P.el=ut.el}if(Oe&&gt(Oe,F),!Ft&&(Z=me&&me.onVnodeMounted)){const ut=P;gt(()=>Bt(Z,ke,ut),F)}(P.shapeFlag&256||ke&&Xn(ke.vnode)&&ke.vnode.shapeFlag&256)&&A.a&&gt(A.a,F),A.isMounted=!0,P=M=$=null}};A.scope.on();const Q=A.effect=new Yg(G);A.scope.off();const W=A.update=Q.run.bind(Q),ce=A.job=Q.runIfDirty.bind(Q);ce.i=A,ce.id=A.uid,Q.scheduler=()=>Vh(ce),ts(A,!0),W()},pe=(A,P,M)=>{P.component=A;const $=A.vnode.props;A.vnode=P,A.next=null,xI(A,P.props,$,M),FI(A,P.children,M),rr(),Fd(A),sr()},ee=(A,P,M,$,F,q,K,G,Q=!1)=>{const W=A&&A.children,ce=A?A.shapeFlag:0,Z=P.children,{patchFlag:se,shapeFlag:me}=P;if(se>0){if(se&128){Tn(W,Z,M,$,F,q,K,G,Q);return}else if(se&256){Ne(W,Z,M,$,F,q,K,G,Q);return}}me&8?(ce&16&&Rt(W,F,q),Z!==W&&h(M,Z)):ce&16?me&16?Tn(W,Z,M,$,F,q,K,G,Q):Rt(W,F,q,!0):(ce&8&&h(M,""),me&16&&w(Z,M,$,F,q,K,G,Q))},Ne=(A,P,M,$,F,q,K,G,Q)=>{A=A||Js,P=P||Js;const W=A.length,ce=P.length,Z=Math.min(W,ce);let se;for(se=0;se<Z;se++){const me=P[se]=Q?Ar(P[se]):Kt(P[se]);y(A[se],me,M,null,F,q,K,G,Q)}W>ce?Rt(A,F,q,!0,!1,Z):w(P,M,$,F,q,K,G,Q,Z)},Tn=(A,P,M,$,F,q,K,G,Q)=>{let W=0;const ce=P.length;let Z=A.length-1,se=ce-1;for(;W<=Z&&W<=se;){const me=A[W],we=P[W]=Q?Ar(P[W]):Kt(P[W]);if(un(me,we))y(me,we,M,null,F,q,K,G,Q);else break;W++}for(;W<=Z&&W<=se;){const me=A[Z],we=P[se]=Q?Ar(P[se]):Kt(P[se]);if(un(me,we))y(me,we,M,null,F,q,K,G,Q);else break;Z--,se--}if(W>Z){if(W<=se){const me=se+1,we=me<ce?P[me].el:$;for(;W<=se;)y(null,P[W]=Q?Ar(P[W]):Kt(P[W]),M,we,F,q,K,G,Q),W++}}else if(W>se)for(;W<=Z;)Tt(A[W],F,q,!0),W++;else{const me=W,we=W,Oe=new Map;for(W=we;W<=se;W++){const et=P[W]=Q?Ar(P[W]):Kt(P[W]);et.key!=null&&Oe.set(et.key,W)}let ke,St=0;const lt=se-we+1;let Ft=!1,ut=0;const Hn=new Array(lt);for(W=0;W<lt;W++)Hn[W]=0;for(W=me;W<=Z;W++){const et=A[W];if(St>=lt){Tt(et,F,q,!0);continue}let Wt;if(et.key!=null)Wt=Oe.get(et.key);else for(ke=we;ke<=se;ke++)if(Hn[ke-we]===0&&un(et,P[ke])){Wt=ke;break}Wt===void 0?Tt(et,F,q,!0):(Hn[Wt-we]=W+1,Wt>=ut?ut=Wt:Ft=!0,y(et,P[Wt],M,null,F,q,K,G,Q),St++)}const Ms=Ft?jI(Hn):Js;for(ke=Ms.length-1,W=lt-1;W>=0;W--){const et=we+W,Wt=P[et],Yr=P[et+1],Li=et+1<ce?Yr.el||K_(Yr):$;Hn[W]===0?y(null,Wt,M,Li,F,q,K,G,Q):Ft&&(ke<0||W!==Ms[ke]?qt(Wt,M,Li,2):ke--)}}},qt=(A,P,M,$,F=null)=>{const{el:q,type:K,transition:G,children:Q,shapeFlag:W}=A;if(W&6){qt(A.component.subTree,P,M,$);return}if(W&128){A.suspense.move(P,M,$);return}if(W&64){K.move(A,P,M,ie);return}if(K===We){r(q,P,M);for(let Z=0;Z<Q.length;Z++)qt(Q[Z],P,M,$);r(A.anchor,P,M);return}if(K===po){E(A,P,M);return}if($!==2&&W&1&&G)if($===0)G.beforeEnter(q),r(q,P,M),gt(()=>G.enter(q),F);else{const{leave:Z,delayLeave:se,afterLeave:me}=G,we=()=>{A.ctx.isUnmounted?s(q):r(q,P,M)},Oe=()=>{q._isLeaving&&q[Gn](!0),Z(q,()=>{we(),me&&me()})};se?se(q,we,Oe):Oe()}else r(q,P,M)},Tt=(A,P,M,$=!1,F=!1)=>{const{type:q,props:K,ref:G,children:Q,dynamicChildren:W,shapeFlag:ce,patchFlag:Z,dirs:se,cacheIndex:me}=A;if(Z===-2&&(F=!1),G!=null&&(rr(),ni(G,null,M,A,!0),sr()),me!=null&&(P.renderCache[me]=void 0),ce&256){P.ctx.deactivate(A);return}const we=ce&1&&se,Oe=!Xn(A);let ke;if(Oe&&(ke=K&&K.onVnodeBeforeUnmount)&&Bt(ke,P,A),ce&6)ln(A.component,M,$);else{if(ce&128){A.suspense.unmount(M,$);return}we&&bn(A,null,P,"beforeUnmount"),ce&64?A.type.remove(A,P,M,ie,$):W&&!W.hasOnce&&(q!==We||Z>0&&Z&64)?Rt(W,P,M,!1,!0):(q===We&&Z&384||!F&&ce&16)&&Rt(Q,P,M),$&&Bn(A)}(Oe&&(ke=K&&K.onVnodeUnmounted)||we)&&gt(()=>{ke&&Bt(ke,P,A),we&&bn(A,null,P,"unmounted")},M)},Bn=A=>{const{type:P,el:M,anchor:$,transition:F}=A;if(P===We){cn(M,$);return}if(P===po){k(A);return}const q=()=>{s(M),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(A.shapeFlag&1&&F&&!F.persisted){const{leave:K,delayLeave:G}=F,Q=()=>K(M,q);G?G(A.el,q,Q):Q()}else q()},cn=(A,P)=>{let M;for(;A!==P;)M=p(A),s(A),A=M;s(P)},ln=(A,P,M)=>{const{bum:$,scope:F,job:q,subTree:K,um:G,m:Q,a:W}=A;oc(Q),oc(W),$&&ei($),F.stop(),q&&(q.flags|=8,Tt(K,A,P,M)),G&&gt(G,P),gt(()=>{A.isUnmounted=!0},P)},Rt=(A,P,M,$=!1,F=!1,q=0)=>{for(let K=q;K<A.length;K++)Tt(A[K],P,M,$,F)},B=A=>{if(A.shapeFlag&6)return B(A.component.subTree);if(A.shapeFlag&128)return A.suspense.next();const P=p(A.anchor||A.el),M=P&&P[Xw];return M?p(M):P};let te=!1;const J=(A,P,M)=>{let $;A==null?P._vnode&&(Tt(P._vnode,null,null,!0),$=P._vnode.component):y(P._vnode||null,A,P,null,null,null,M),P._vnode=A,te||(te=!0,Fd($),tc(),te=!1)},ie={p:y,um:Tt,m:qt,r:Bn,mt:le,mc:w,pc:ee,pbc:R,n:B,o:t};let Te,Le;return e&&([Te,Le]=e(ie)),{render:J,hydrate:Te,createApp:RI(J,Te)}}function Wl({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function ts({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function q_(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function W_(t,e,n=!1){const r=t.children,s=e.children;if(ae(r)&&ae(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=Ar(s[i]),a.el=o.el),!n&&a.patchFlag!==-2&&W_(o,a)),a.type===ms&&(a.patchFlag!==-1?a.el=o.el:a.__elIndex=i+(t.type===We?1:0)),a.type===rt&&!a.el&&(a.el=o.el)}}function jI(t){const e=t.slice(),n=[0];let r,s,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(s=n[n.length-1],t[s]<u){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<u?i=a+1:o=a;u<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function G_(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:G_(e)}function oc(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}function K_(t){if(t.placeholder)return t.placeholder;const e=t.component;return e?K_(e.subTree):null}const ac=t=>t.__isSuspense;let Cu=0;const $I={name:"Suspense",__isSuspense:!0,process(t,e,n,r,s,i,o,a,l,u){if(t==null)qI(e,n,r,s,i,o,a,l,u);else{if(i&&i.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}WI(t,e,n,r,s,o,a,l,u)}},hydrate:GI,normalize:KI},Hh=$I;function Po(t,e){const n=t.props&&t.props[e];fe(n)&&n()}function qI(t,e,n,r,s,i,o,a,l){const{p:u,o:{createElement:h}}=l,d=h("div"),p=t.suspense=z_(t,s,r,e,d,n,i,o,a,l);u(null,p.pendingBranch=t.ssContent,d,null,r,p,i,o),p.deps>0?(Po(t,"onPending"),Po(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,i,o),ri(p,t.ssFallback)):p.resolve(!1,!0)}function WI(t,e,n,r,s,i,o,a,{p:l,um:u,o:{createElement:h}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const p=e.ssContent,g=e.ssFallback,{activeBranch:_,pendingBranch:y,isInFallback:N,isHydrating:D}=d;if(y)d.pendingBranch=p,un(y,p)?(l(y,p,d.hiddenContainer,null,s,d,i,o,a),d.deps<=0?d.resolve():N&&(D||(l(_,g,n,r,s,null,i,o,a),ri(d,g)))):(d.pendingId=Cu++,D?(d.isHydrating=!1,d.activeBranch=y):u(y,s,d),d.deps=0,d.effects.length=0,d.hiddenContainer=h("div"),N?(l(null,p,d.hiddenContainer,null,s,d,i,o,a),d.deps<=0?d.resolve():(l(_,g,n,r,s,null,i,o,a),ri(d,g))):_&&un(_,p)?(l(_,p,n,r,s,d,i,o,a),d.resolve(!0)):(l(null,p,d.hiddenContainer,null,s,d,i,o,a),d.deps<=0&&d.resolve()));else if(_&&un(_,p))l(_,p,n,r,s,d,i,o,a),ri(d,p);else if(Po(e,"onPending"),d.pendingBranch=p,p.shapeFlag&512?d.pendingId=p.component.suspenseId:d.pendingId=Cu++,l(null,p,d.hiddenContainer,null,s,d,i,o,a),d.deps<=0)d.resolve();else{const{timeout:O,pendingId:E}=d;O>0?setTimeout(()=>{d.pendingId===E&&d.fallback(g)},O):O===0&&d.fallback(g)}}function z_(t,e,n,r,s,i,o,a,l,u,h=!1){const{p:d,m:p,um:g,n:_,o:{parentNode:y,remove:N}}=u;let D;const O=zI(t);O&&e&&e.pendingBranch&&(D=e.pendingId,e.deps++);const E=t.props?Wg(t.props.timeout):void 0,k=i,V={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:s,deps:0,pendingId:Cu++,timeout:typeof E=="number"?E:-1,activeBranch:null,pendingBranch:null,isInFallback:!h,isHydrating:h,isUnmounted:!1,effects:[],resolve(U=!1,b=!1){const{vnode:w,activeBranch:T,pendingBranch:R,pendingId:C,effects:S,parentComponent:I,container:le,isInFallback:Ie}=V;let re=!1;V.isHydrating?V.isHydrating=!1:U||(re=T&&R.transition&&R.transition.mode==="out-in",re&&(T.transition.afterLeave=()=>{C===V.pendingId&&(p(R,le,i===k?_(T):i,0),wu(S),Ie&&w.ssFallback&&(w.ssFallback.el=null))}),T&&(y(T.el)===le&&(i=_(T)),g(T,I,V,!0),!re&&Ie&&w.ssFallback&&gt(()=>w.ssFallback.el=null,V)),re||p(R,le,i,0)),ri(V,R),V.pendingBranch=null,V.isInFallback=!1;let pe=V.parent,ee=!1;for(;pe;){if(pe.pendingBranch){pe.effects.push(...S),ee=!0;break}pe=pe.parent}!ee&&!re&&wu(S),V.effects=[],O&&e&&e.pendingBranch&&D===e.pendingId&&(e.deps--,e.deps===0&&!b&&e.resolve()),Po(w,"onResolve")},fallback(U){if(!V.pendingBranch)return;const{vnode:b,activeBranch:w,parentComponent:T,container:R,namespace:C}=V;Po(b,"onFallback");const S=_(w),I=()=>{V.isInFallback&&(d(null,U,R,S,T,null,C,a,l),ri(V,U))},le=U.transition&&U.transition.mode==="out-in";le&&(w.transition.afterLeave=I),V.isInFallback=!0,g(w,T,null,!0),le||I()},move(U,b,w){V.activeBranch&&p(V.activeBranch,U,b,w),V.container=U},next(){return V.activeBranch&&_(V.activeBranch)},registerDep(U,b,w){const T=!!V.pendingBranch;T&&V.deps++;const R=U.vnode.el;U.asyncDep.catch(C=>{Ci(C,U,0)}).then(C=>{if(U.isUnmounted||V.isUnmounted||V.pendingId!==U.suspenseId)return;U.asyncResolved=!0;const{vnode:S}=U;ku(U,C),R&&(S.el=R);const I=!R&&U.subTree.el;b(U,S,y(R||U.subTree.el),R?null:_(U.subTree),V,o,w),I&&(S.placeholder=null,N(I)),Gc(U,S.el),T&&--V.deps===0&&V.resolve()})},unmount(U,b){V.isUnmounted=!0,V.activeBranch&&g(V.activeBranch,n,U,b),V.pendingBranch&&g(V.pendingBranch,n,U,b)}};return V}function GI(t,e,n,r,s,i,o,a,l){const u=e.suspense=z_(e,r,n,t.parentNode,document.createElement("div"),null,s,i,o,a,!0),h=l(t,u.pendingBranch=e.ssContent,n,u,i,o);return u.deps===0&&u.resolve(!1,!0),h}function KI(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=Jd(r?n.default:n),t.ssFallback=r?Jd(n.fallback):ge(rt)}function Jd(t){let e;if(fe(t)){const n=fi&&t._c;n&&(t._d=!1,_e()),t=t(),n&&(t._d=!0,e=$t,Y_())}return ae(t)&&(t=kI(t)),t=Kt(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function Q_(t,e){e&&e.pendingBranch?ae(t)?e.effects.push(...t):e.effects.push(t):wu(t)}function ri(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;n.el=s,r&&r.subTree===n&&(r.vnode.el=s,Gc(r,s))}function zI(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const We=Symbol.for("v-fgt"),ms=Symbol.for("v-txt"),rt=Symbol.for("v-cmt"),po=Symbol.for("v-stc"),mo=[];let $t=null;function _e(t=!1){mo.push($t=t?null:[])}function Y_(){mo.pop(),$t=mo[mo.length-1]||null}let fi=1;function cc(t,e=!1){fi+=t,t<0&&$t&&e&&($t.hasOnce=!0)}function J_(t){return t.dynamicChildren=fi>0?$t||Js:null,Y_(),fi>0&&$t&&$t.push(t),t}function Pe(t,e,n,r,s,i){return J_(z(t,e,n,r,s,i,!0))}function zt(t,e,n,r,s){return J_(ge(t,e,n,r,s,!0))}function Es(t){return t?t.__v_isVNode===!0:!1}function un(t,e){return t.type===e.type&&t.key===e.key}const X_=({key:t})=>t??null,Ua=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ge(t)||ot(t)||fe(t)?{i:At,r:t,k:e,f:!!n}:t:null);function z(t,e=null,n=null,r=0,s=null,i=t===We?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&X_(e),ref:e&&Ua(e),scopeId:m_,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:At};return a?(jh(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=Ge(n)?8:16),fi>0&&!o&&$t&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&$t.push(l),l}const ge=QI;function QI(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===P_)&&(t=rt),Es(t)){const a=on(t,e,!0);return n&&jh(a,n),fi>0&&!i&&$t&&(a.shapeFlag&6?$t[$t.indexOf(t)]=a:$t.push(a)),a.patchFlag=-2,a}if(rA(t)&&(t=t.__vccOpts),e){e=Z_(e);let{class:a,style:l}=e;a&&!Ge(a)&&(e.class=rn(a)),Me(l)&&(jc(l)&&!ae(l)&&(l=vt({},l)),e.style=Bc(l))}const o=Ge(t)?1:ac(t)?128:__(t)?64:Me(t)?4:fe(t)?2:0;return z(t,e,n,r,s,o,i,!0)}function Z_(t){return t?jc(t)||L_(t)?vt({},t):t:null}function on(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?ty(s||{},e):s,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&X_(u),ref:e&&e.ref?n&&i?ae(i)?i.concat(Ua(e)):[i,Ua(e)]:Ua(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==We?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&on(t.ssContent),ssFallback:t.ssFallback&&on(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&ui(h,l.clone(h)),h}function Ye(t=" ",e=0){return ge(ms,null,t,e)}function ey(t,e){const n=ge(po,null,t);return n.staticCount=e,n}function di(t="",e=!1){return e?(_e(),zt(rt,null,t)):ge(rt,null,t)}function Kt(t){return t==null||typeof t=="boolean"?ge(rt):ae(t)?ge(We,null,t.slice()):Es(t)?Ar(t):ge(ms,null,String(t))}function Ar(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:on(t)}function jh(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ae(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),jh(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!L_(e)?e._ctx=At:s===3&&At&&(At.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else fe(e)?(e={default:e,_ctx:At},n=32):(e=String(e),r&64?(n=16,e=[Ye(e)]):n=8);t.children=e,t.shapeFlag|=n}function ty(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=rn([e.class,r.class]));else if(s==="style")e.style=Bc([e.style,r.style]);else if(jo(s)){const i=e[s],o=r[s];o&&i!==o&&!(ae(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function Bt(t,e,n,r=null){_n(t,e,7,[n,r])}const YI=D_();let JI=0;function XI(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||YI,i={uid:JI++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Qg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:F_(r,s),emitsOptions:V_(r,s),emit:null,emitted:null,propsDefaults:Fe,inheritAttrs:r.inheritAttrs,ctx:Fe,data:Fe,props:Fe,attrs:Fe,slots:Fe,refs:Fe,setupState:Fe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=CI.bind(null,i),t.ce&&t.ce(i),i}let It=null;const ks=()=>It||At;let lc,Pu;{const t=Fc(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};lc=e("__VUE_INSTANCE_SETTERS__",n=>It=n),Pu=e("__VUE_SSR_SETTERS__",n=>pi=n)}const Ko=t=>{const e=It;return lc(t),t.scope.on(),()=>{t.scope.off(),lc(e)}},Xd=()=>{It&&It.scope.off(),lc(null)};function ny(t){return t.vnode.shapeFlag&4}let pi=!1;function ZI(t,e=!1,n=!1){e&&Pu(e);const{props:r,children:s}=t.vnode,i=ny(t);VI(t,r,i,e),UI(t,s,n||e);const o=i?eA(t,e):void 0;return e&&Pu(!1),o}function eA(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,vI);const{setup:r}=n;if(r){rr();const s=t.setupContext=r.length>1?nA(t):null,i=Ko(t),o=qo(r,t,0,[t.props,s]),a=bh(o);if(sr(),i(),(a||t.sp)&&!Xn(t)&&Mh(t),a){if(o.then(Xd,Xd),e)return o.then(l=>{ku(t,l)}).catch(l=>{Ci(l,t,0)});t.asyncDep=o}else ku(t,o)}else ry(t)}function ku(t,e,n){fe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Me(e)&&(t.setupState=h_(e)),ry(t)}function ry(t,e,n){const r=t.type;t.render||(t.render=r.render||Cn);{const s=Ko(t);rr();try{EI(t)}finally{sr(),s()}}}const tA={get(t,e){return Ot(t,"get",""),t[e]}};function nA(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,tA),slots:t.slots,emit:t.emit,expose:e}}function Kc(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(h_(Vw(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in fo)return fo[n](t)},has(e,n){return n in e||n in fo}})):t.proxy}function Nu(t,e=!0){return fe(t)?t.displayName||t.name:t.name||e&&t.__name}function rA(t){return fe(t)&&"__vccOpts"in t}const dt=(t,e)=>$w(t,e,pi);function Je(t,e,n){try{cc(-1);const r=arguments.length;return r===2?Me(e)&&!ae(e)?Es(e)?ge(t,null,[e]):ge(t,e):ge(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Es(n)&&(n=[n]),ge(t,e,n))}finally{cc(1)}}const sA="3.5.26";let Ou;const Zd=typeof window<"u"&&window.trustedTypes;if(Zd)try{Ou=Zd.createPolicy("vue",{createHTML:t=>t})}catch{}const sy=Ou?t=>Ou.createHTML(t):t=>t,iA="http://www.w3.org/2000/svg",oA="http://www.w3.org/1998/Math/MathML",Wn=typeof document<"u"?document:null,ep=Wn&&Wn.createElement("template"),aA={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?Wn.createElementNS(iA,t):e==="mathml"?Wn.createElementNS(oA,t):n?Wn.createElement(t,{is:n}):Wn.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Wn.createTextNode(t),createComment:t=>Wn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Wn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{ep.innerHTML=sy(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=ep.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},vr="transition",Zi="animation",ko=Symbol("_vtc"),iy={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},cA=vt({},y_,iy),lA=t=>(t.displayName="Transition",t.props=cA,t),zc=lA((t,{slots:e})=>Je(tI,uA(t),e)),ns=(t,e=[])=>{ae(t)?t.forEach(n=>n(...e)):t&&t(...e)},tp=t=>t?ae(t)?t.some(e=>e.length>1):t.length>1:!1;function uA(t){const e={};for(const S in t)S in iy||(e[S]=t[S]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:h=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=t,_=hA(s),y=_&&_[0],N=_&&_[1],{onBeforeEnter:D,onEnter:O,onEnterCancelled:E,onLeave:k,onLeaveCancelled:V,onBeforeAppear:U=D,onAppear:b=O,onAppearCancelled:w=E}=e,T=(S,I,le,Ie)=>{S._enterCancelled=Ie,rs(S,I?h:a),rs(S,I?u:o),le&&le()},R=(S,I)=>{S._isLeaving=!1,rs(S,d),rs(S,g),rs(S,p),I&&I()},C=S=>(I,le)=>{const Ie=S?b:O,re=()=>T(I,S,le);ns(Ie,[I,re]),np(()=>{rs(I,S?l:i),$n(I,S?h:a),tp(Ie)||rp(I,r,y,re)})};return vt(e,{onBeforeEnter(S){ns(D,[S]),$n(S,i),$n(S,o)},onBeforeAppear(S){ns(U,[S]),$n(S,l),$n(S,u)},onEnter:C(!1),onAppear:C(!0),onLeave(S,I){S._isLeaving=!0;const le=()=>R(S,I);$n(S,d),S._enterCancelled?($n(S,p),op(S)):(op(S),$n(S,p)),np(()=>{S._isLeaving&&(rs(S,d),$n(S,g),tp(k)||rp(S,r,N,le))}),ns(k,[S,le])},onEnterCancelled(S){T(S,!1,void 0,!0),ns(E,[S])},onAppearCancelled(S){T(S,!0,void 0,!0),ns(w,[S])},onLeaveCancelled(S){R(S),ns(V,[S])}})}function hA(t){if(t==null)return null;if(Me(t))return[Gl(t.enter),Gl(t.leave)];{const e=Gl(t);return[e,e]}}function Gl(t){return Wg(t)}function $n(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[ko]||(t[ko]=new Set)).add(e)}function rs(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[ko];n&&(n.delete(e),n.size||(t[ko]=void 0))}function np(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let fA=0;function rp(t,e,n,r){const s=t._endId=++fA,i=()=>{s===t._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=dA(t,e);if(!o)return r();const u=o+"end";let h=0;const d=()=>{t.removeEventListener(u,p),i()},p=g=>{g.target===t&&++h>=l&&d()};setTimeout(()=>{h<l&&d()},a+1),t.addEventListener(u,p)}function dA(t,e){const n=window.getComputedStyle(t),r=_=>(n[_]||"").split(", "),s=r(`${vr}Delay`),i=r(`${vr}Duration`),o=sp(s,i),a=r(`${Zi}Delay`),l=r(`${Zi}Duration`),u=sp(a,l);let h=null,d=0,p=0;e===vr?o>0&&(h=vr,d=o,p=i.length):e===Zi?u>0&&(h=Zi,d=u,p=l.length):(d=Math.max(o,u),h=d>0?o>u?vr:Zi:null,p=h?h===vr?i.length:l.length:0);const g=h===vr&&/\b(?:transform|all)(?:,|$)/.test(r(`${vr}Property`).toString());return{type:h,timeout:d,propCount:p,hasTransform:g}}function sp(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>ip(n)+ip(t[r])))}function ip(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function op(t){return(t?t.ownerDocument:document).body.offsetHeight}function pA(t,e,n){const r=t[ko];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const ap=Symbol("_vod"),mA=Symbol("_vsh"),gA=Symbol(""),_A=/(?:^|;)\s*display\s*:/;function yA(t,e,n){const r=t.style,s=Ge(n);let i=!1;if(n&&!s){if(e)if(Ge(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Fa(r,a,"")}else for(const o in e)n[o]==null&&Fa(r,o,"");for(const o in n)o==="display"&&(i=!0),Fa(r,o,n[o])}else if(s){if(e!==n){const o=r[gA];o&&(n+=";"+o),r.cssText=n,i=_A.test(n)}}else e&&t.removeAttribute("style");ap in t&&(t[ap]=i?r.display:"",t[mA]&&(r.display="none"))}const cp=/\s*!important$/;function Fa(t,e,n){if(ae(n))n.forEach(r=>Fa(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=vA(t,e);cp.test(n)?t.setProperty(Ps(r),n.replace(cp,""),"important"):t[r]=n}}const lp=["Webkit","Moz","ms"],Kl={};function vA(t,e){const n=Kl[e];if(n)return n;let r=an(e);if(r!=="filter"&&r in t)return Kl[e]=r;r=Lc(r);for(let s=0;s<lp.length;s++){const i=lp[s]+r;if(i in t)return Kl[e]=i}return e}const up="http://www.w3.org/1999/xlink";function hp(t,e,n,r,s,i=hw(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(up,e.slice(6,e.length)):t.setAttributeNS(up,e,n):n==null||i&&!Gg(n)?t.removeAttribute(e):t.setAttribute(e,i?"":mn(n)?String(n):n)}function fp(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?sy(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Gg(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function Rr(t,e,n,r){t.addEventListener(e,n,r)}function EA(t,e,n,r){t.removeEventListener(e,n,r)}const dp=Symbol("_vei");function TA(t,e,n,r,s=null){const i=t[dp]||(t[dp]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=wA(e);if(r){const u=i[e]=bA(r,s);Rr(t,a,u,l)}else o&&(EA(t,a,o,l),i[e]=void 0)}}const pp=/(?:Once|Passive|Capture)$/;function wA(t){let e;if(pp.test(t)){e={};let r;for(;r=t.match(pp);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ps(t.slice(2)),e]}let zl=0;const IA=Promise.resolve(),AA=()=>zl||(IA.then(()=>zl=0),zl=Date.now());function bA(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;_n(RA(r,n.value),e,5,[r])};return n.value=t,n.attached=AA(),n}function RA(t,e){if(ae(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const mp=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,SA=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?pA(t,r,o):e==="style"?yA(t,n,r):jo(e)?Ih(e)||TA(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):CA(t,e,r,o))?(fp(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&hp(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ge(r))?fp(t,an(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),hp(t,e,r,o))};function CA(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&mp(e)&&fe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return mp(e)&&Ge(n)?!1:e in t}const mi=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ae(e)?n=>ei(e,n):e};function PA(t){t.target.composing=!0}function gp(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Zn=Symbol("_assign");function _p(t,e,n){return e&&(t=t.trim()),n&&(t=Uc(t)),t}const Ca={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[Zn]=mi(s);const i=r||s.props&&s.props.type==="number";Rr(t,e?"change":"input",o=>{o.target.composing||t[Zn](_p(t.value,n,i))}),(n||i)&&Rr(t,"change",()=>{t.value=_p(t.value,n,i)}),e||(Rr(t,"compositionstart",PA),Rr(t,"compositionend",gp),Rr(t,"change",gp))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[Zn]=mi(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Uc(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===l)||(t.value=l))}},$x={deep:!0,created(t,e,n){t[Zn]=mi(n),Rr(t,"change",()=>{const r=t._modelValue,s=No(t),i=t.checked,o=t[Zn];if(ae(r)){const a=Rh(r,s),l=a!==-1;if(i&&!l)o(r.concat(s));else if(!i&&l){const u=[...r];u.splice(a,1),o(u)}}else if(Ri(r)){const a=new Set(r);i?a.add(s):a.delete(s),o(a)}else o(oy(t,i))})},mounted:yp,beforeUpdate(t,e,n){t[Zn]=mi(n),yp(t,e,n)}};function yp(t,{value:e,oldValue:n},r){t._modelValue=e;let s;if(ae(e))s=Rh(e,r.props.value)>-1;else if(Ri(e))s=e.has(r.props.value);else{if(e===n)return;s=$o(e,oy(t,!0))}t.checked!==s&&(t.checked=s)}const qx={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=Ri(e);Rr(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Uc(No(o)):No(o));t[Zn](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,vs(()=>{t._assigning=!1})}),t[Zn]=mi(r)},mounted(t,{value:e}){vp(t,e)},beforeUpdate(t,e,n){t[Zn]=mi(n)},updated(t,{value:e}){t._assigning||vp(t,e)}};function vp(t,e){const n=t.multiple,r=ae(e);if(!(n&&!r&&!Ri(e))){for(let s=0,i=t.options.length;s<i;s++){const o=t.options[s],a=No(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=Rh(e,a)>-1}else o.selected=e.has(a);else if($o(No(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function No(t){return"_value"in t?t._value:t.value}function oy(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const kA=["ctrl","shift","alt","meta"],NA={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>kA.some(n=>t[`${n}Key`]&&!e.includes(n))},$h=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=((s,...i)=>{for(let o=0;o<e.length;o++){const a=NA[e[o]];if(a&&a(s,e))return}return t(s,...i)}))},ay=vt({patchProp:SA},aA);let go,Ep=!1;function OA(){return go||(go=BI(ay))}function DA(){return go=Ep?go:HI(ay),Ep=!0,go}const VA=((...t)=>{const e=OA().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=ly(r);if(!s)return;const i=e._component;!fe(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,cy(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e}),xA=((...t)=>{const e=DA().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=ly(r);if(s)return n(s,!0,cy(s))},e});function cy(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function ly(t){return Ge(t)?document.querySelector(t):t}const MA=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,LA=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,UA=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function FA(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){BA(t);return}return e}function BA(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function uc(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!UA.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(MA.test(t)||LA.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,FA)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const HA=/#/g,jA=/&/g,$A=/\//g,qA=/=/g,qh=/\+/g,WA=/%5e/gi,GA=/%60/gi,KA=/%7c/gi,zA=/%20/gi;function QA(t){return encodeURI(""+t).replace(KA,"|")}function Du(t){return QA(typeof t=="string"?t:JSON.stringify(t)).replace(qh,"%2B").replace(zA,"+").replace(HA,"%23").replace(jA,"%26").replace(GA,"`").replace(WA,"^").replace($A,"%2F")}function Ql(t){return Du(t).replace(qA,"%3D")}function hc(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function YA(t){return hc(t.replace(qh," "))}function JA(t){return hc(t.replace(qh," "))}function uy(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const s=YA(r[1]);if(s==="__proto__"||s==="constructor")continue;const i=JA(r[2]||"");e[s]===void 0?e[s]=i:Array.isArray(e[s])?e[s].push(i):e[s]=[e[s],i]}return e}function XA(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${Ql(t)}=${Du(n)}`).join("&"):`${Ql(t)}=${Du(e)}`:Ql(t)}function ZA(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>XA(e,t[e])).filter(Boolean).join("&")}const eb=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,tb=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,nb=/^([/\\]\s*){2,}[^/\\]/,rb=/^[\s\0]*(blob|data|javascript|vbscript):$/i,sb=/\/$|\/\?|\/#/,ib=/^\.?\//;function Ns(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?eb.test(t):tb.test(t)||(e.acceptRelative?nb.test(t):!1)}function ob(t){return!!t&&rb.test(t)}function Vu(t="",e){return e?sb.test(t):t.endsWith("/")}function fc(t="",e){if(!e)return(Vu(t)?t.slice(0,-1):t)||"/";if(!Vu(t,!0))return t||"/";let n=t,r="";const s=t.indexOf("#");s!==-1&&(n=t.slice(0,s),r=t.slice(s));const[i,...o]=n.split("?");return((i.endsWith("/")?i.slice(0,-1):i)||"/")+(o.length>0?`?${o.join("?")}`:"")+r}function ab(t="",e){if(!e)return t.endsWith("/")?t:t+"/";if(Vu(t,!0))return t||"/";let n=t,r="";const s=t.indexOf("#");if(s!==-1&&(n=t.slice(0,s),r=t.slice(s),!n))return r;const[i,...o]=n.split("?");return i+"/"+(o.length>0?`?${o.join("?")}`:"")+r}function cb(t,e){if(fy(e)||Ns(t))return t;const n=fc(e);return t.startsWith(n)?t:Wh(n,t)}function Tp(t,e){if(fy(e))return t;const n=fc(e);if(!t.startsWith(n))return t;const r=t.slice(n.length);return r[0]==="/"?r:"/"+r}function hy(t,e){const n=my(t),r={...uy(n.search),...e};return n.search=ZA(r),hb(n)}function fy(t){return!t||t==="/"}function lb(t){return t&&t!=="/"}function Wh(t,...e){let n=t||"";for(const r of e.filter(s=>lb(s)))if(n){const s=r.replace(ib,"");n=ab(n)+s}else n=r;return n}function dy(...t){const e=/\/(?!\/)/,n=t.filter(Boolean),r=[];let s=0;for(const o of n)if(!(!o||o==="/")){for(const[a,l]of o.split(e).entries())if(!(!l||l===".")){if(l===".."){if(r.length===1&&Ns(r[0]))continue;r.pop(),s--;continue}if(a===1&&r[r.length-1]?.endsWith(":/")){r[r.length-1]+="/"+l;continue}r.push(l),s++}}let i=r.join("/");return s>=0?n[0]?.startsWith("/")&&!i.startsWith("/")?i="/"+i:n[0]?.startsWith("./")&&!i.startsWith("./")&&(i="./"+i):i="../".repeat(-1*s)+i,n[n.length-1]?.endsWith("/")&&!i.endsWith("/")&&(i+="/"),i}function ub(t,e){return hc(fc(t))===hc(fc(e))}const py=Symbol.for("ufo:protocolRelative");function my(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,d,p=""]=n;return{protocol:d.toLowerCase(),pathname:p,href:d+p,auth:"",host:"",search:"",hash:""}}if(!Ns(t,{acceptRelative:!0}))return wp(t);const[,r="",s,i=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",a=""]=i.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(a=a.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:l,search:u,hash:h}=wp(a);return{protocol:r.toLowerCase(),auth:s?s.slice(0,Math.max(0,s.length-1)):"",host:o,pathname:l,search:u,hash:h,[py]:!r}}function wp(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function hb(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",s=t.auth?t.auth+"@":"",i=t.host||"";return(t.protocol||t[py]?(t.protocol||"")+"//":"")+s+i+e+n+r}class fb extends Error{constructor(e,n){super(e,n),this.name="FetchError",n?.cause&&!this.cause&&(this.cause=n.cause)}}function db(t){const e=t.error?.message||t.error?.toString()||"",n=t.request?.method||t.options?.method||"GET",r=t.request?.url||String(t.request)||"/",s=`[${n}] ${JSON.stringify(r)}`,i=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",o=`${s}: ${i}${e?` ${e}`:""}`,a=new fb(o,t.error?{cause:t.error}:void 0);for(const l of["request","options","response"])Object.defineProperty(a,l,{get(){return t[l]}});for(const[l,u]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(a,l,{get(){return t.response&&t.response[u]}});return a}const pb=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Ip(t="GET"){return pb.has(t.toUpperCase())}function mb(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer||t instanceof FormData||t instanceof URLSearchParams?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const gb=new Set(["image/svg","application/xml","application/xhtml","application/html"]),_b=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function yb(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return _b.test(e)?"json":e==="text/event-stream"?"stream":gb.has(e)||e.startsWith("text/")?"text":"blob"}function vb(t,e,n,r){const s=Eb(e?.headers??t?.headers,n?.headers,r);let i;return(n?.query||n?.params||e?.params||e?.query)&&(i={...n?.params,...n?.query,...e?.params,...e?.query}),{...n,...e,query:i,params:i,headers:s}}function Eb(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[s,i]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(s,i);return r}async function Pa(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const Tb=new Set([408,409,425,429,500,502,503,504]),wb=new Set([101,204,205,304]);function gy(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function s(a){const l=a.error&&a.error.name==="AbortError"&&!a.options.timeout||!1;if(a.options.retry!==!1&&!l){let h;typeof a.options.retry=="number"?h=a.options.retry:h=Ip(a.options.method)?0:1;const d=a.response&&a.response.status||500;if(h>0&&(Array.isArray(a.options.retryStatusCodes)?a.options.retryStatusCodes.includes(d):Tb.has(d))){const p=typeof a.options.retryDelay=="function"?a.options.retryDelay(a):a.options.retryDelay||0;return p>0&&await new Promise(g=>setTimeout(g,p)),i(a.request,{...a.options,retry:h-1})}}const u=db(a);throw Error.captureStackTrace&&Error.captureStackTrace(u,i),u}const i=async function(l,u={}){const h={request:l,options:vb(l,u,t.defaults,n),response:void 0,error:void 0};if(h.options.method&&(h.options.method=h.options.method.toUpperCase()),h.options.onRequest&&(await Pa(h,h.options.onRequest),h.options.headers instanceof n||(h.options.headers=new n(h.options.headers||{}))),typeof h.request=="string"&&(h.options.baseURL&&(h.request=cb(h.request,h.options.baseURL)),h.options.query&&(h.request=hy(h.request,h.options.query),delete h.options.query),"query"in h.options&&delete h.options.query,"params"in h.options&&delete h.options.params),h.options.body&&Ip(h.options.method))if(mb(h.options.body)){const g=h.options.headers.get("content-type");typeof h.options.body!="string"&&(h.options.body=g==="application/x-www-form-urlencoded"?new URLSearchParams(h.options.body).toString():JSON.stringify(h.options.body)),g||h.options.headers.set("content-type","application/json"),h.options.headers.has("accept")||h.options.headers.set("accept","application/json")}else("pipeTo"in h.options.body&&typeof h.options.body.pipeTo=="function"||typeof h.options.body.pipe=="function")&&("duplex"in h.options||(h.options.duplex="half"));let d;if(!h.options.signal&&h.options.timeout){const g=new r;d=setTimeout(()=>{const _=new Error("[TimeoutError]: The operation was aborted due to timeout");_.name="TimeoutError",_.code=23,g.abort(_)},h.options.timeout),h.options.signal=g.signal}try{h.response=await e(h.request,h.options)}catch(g){return h.error=g,h.options.onRequestError&&await Pa(h,h.options.onRequestError),await s(h)}finally{d&&clearTimeout(d)}if((h.response.body||h.response._bodyInit)&&!wb.has(h.response.status)&&h.options.method!=="HEAD"){const g=(h.options.parseResponse?"json":h.options.responseType)||yb(h.response.headers.get("content-type")||"");switch(g){case"json":{const _=await h.response.text(),y=h.options.parseResponse||uc;h.response._data=y(_);break}case"stream":{h.response._data=h.response.body||h.response._bodyInit;break}default:h.response._data=await h.response[g]()}}return h.options.onResponse&&await Pa(h,h.options.onResponse),!h.options.ignoreResponseError&&h.response.status>=400&&h.response.status<600?(h.options.onResponseError&&await Pa(h,h.options.onResponseError),await s(h)):h.response},o=async function(l,u){return(await i(l,u))._data};return o.raw=i,o.native=(...a)=>e(...a),o.create=(a={},l={})=>gy({...t,...l,defaults:{...t.defaults,...l.defaults,...a}}),o}const dc=(function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")})(),Ib=dc.fetch?(...t)=>dc.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),Ab=dc.Headers,bb=dc.AbortController,Rb=gy({fetch:Ib,Headers:Ab,AbortController:bb}),Sb=Rb,Cb=()=>window?.__NUXT__?.config||window?.useNuxtApp?.().payload?.config,Gh=()=>Cb().app,Pb=()=>Gh().baseURL,kb=()=>Gh().buildAssetsDir,Kh=(...t)=>dy(_y(),kb(),...t),_y=(...t)=>{const e=Gh(),n=e.cdnURL||e.baseURL;return t.length?dy(n,...t):n};globalThis.__buildAssetsURL=Kh,globalThis.__publicAssetsURL=_y;globalThis.$fetch||(globalThis.$fetch=Sb.create({baseURL:Pb()}));"global"in globalThis||(globalThis.global=globalThis);function xu(t,e={},n){for(const r in t){const s=t[r],i=n?`${n}:${r}`:r;typeof s=="object"&&s!==null?xu(s,e,i):typeof s=="function"&&(e[i]=s)}return e}const Nb={run:t=>t()},Ob=()=>Nb,yy=typeof console.createTask<"u"?console.createTask:Ob;function Db(t,e){const n=e.shift(),r=yy(n);return t.reduce((s,i)=>s.then(()=>r.run(()=>i(...e))),Promise.resolve())}function Vb(t,e){const n=e.shift(),r=yy(n);return Promise.all(t.map(s=>r.run(()=>s(...e))))}function Yl(t,e){for(const n of[...t])n(e)}let xb=class{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,n,r={}){if(!e||typeof n!="function")return()=>{};const s=e;let i;for(;this._deprecatedHooks[e];)i=this._deprecatedHooks[e],e=i.to;if(i&&!r.allowDeprecated){let o=i.message;o||(o=`${s} hook has been deprecated`+(i.to?`, please use ${i.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(n),()=>{n&&(this.removeHook(e,n),n=void 0)}}hookOnce(e,n){let r,s=(...i)=>(typeof r=="function"&&r(),r=void 0,s=void 0,n(...i));return r=this.hook(e,s),r}removeHook(e,n){if(this._hooks[e]){const r=this._hooks[e].indexOf(n);r!==-1&&this._hooks[e].splice(r,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,n){this._deprecatedHooks[e]=typeof n=="string"?{to:n}:n;const r=this._hooks[e]||[];delete this._hooks[e];for(const s of r)this.hook(e,s)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const n in e)this.deprecateHook(n,e[n])}addHooks(e){const n=xu(e),r=Object.keys(n).map(s=>this.hook(s,n[s]));return()=>{for(const s of r.splice(0,r.length))s()}}removeHooks(e){const n=xu(e);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...n){return n.unshift(e),this.callHookWith(Db,e,...n)}callHookParallel(e,...n){return n.unshift(e),this.callHookWith(Vb,e,...n)}callHookWith(e,n,...r){const s=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&Yl(this._before,s);const i=e(n in this._hooks?[...this._hooks[n]]:[],r);return i instanceof Promise?i.finally(()=>{this._after&&s&&Yl(this._after,s)}):(this._after&&s&&Yl(this._after,s),i)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const n=this._before.indexOf(e);n!==-1&&this._before.splice(n,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const n=this._after.indexOf(e);n!==-1&&this._after.splice(n,1)}}}};function Mb(){return new xb}function Lb(t={}){let e,n=!1;const r=o=>{if(e&&e!==o)throw new Error("Context conflict")};let s;if(t.asyncContext){const o=t.AsyncLocalStorage||globalThis.AsyncLocalStorage;o?s=new o:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const i=()=>{if(s){const o=s.getStore();if(o!==void 0)return o}return e};return{use:()=>{const o=i();if(o===void 0)throw new Error("Context is not available");return o},tryUse:()=>i(),set:(o,a)=>{a||r(o),e=o,n=!0},unset:()=>{e=void 0,n=!1},call:(o,a)=>{r(o),e=o;try{return s?s.run(o,a):a()}finally{n||(e=void 0)}},async callAsync(o,a){e=o;const l=()=>{e=o},u=()=>e===o?l:void 0;Mu.add(u);try{const h=s?s.run(o,a):a();return n||(e=void 0),await h}finally{Mu.delete(u)}}}}function Ub(t={}){const e={};return{get(n,r={}){return e[n]||(e[n]=Lb({...t,...r})),e[n]}}}const pc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},Ap="__unctx__",Fb=pc[Ap]||(pc[Ap]=Ub()),Bb=(t,e={})=>Fb.get(t,e),bp="__unctx_async_handlers__",Mu=pc[bp]||(pc[bp]=new Set);function si(t){const e=[];for(const s of Mu){const i=s();i&&e.push(i)}const n=()=>{for(const s of e)s()};let r=t();return r&&typeof r=="object"&&"catch"in r&&(r=r.catch(s=>{throw n(),s})),[r,n]}const Rp={name:"page-fade",mode:"out-in"},Hb=!1,jb=!1,Sp={id:"__nuxt-loader"},Gx={componentName:"NuxtLink",prefetch:!0,prefetchOn:{visibility:!0}},$b="#__nuxt",vy="nuxt-app",Cp=36e5,qb="vite:preloadError";function Ey(t=vy){return Bb(t,{asyncContext:!1})}const Wb="__nuxt_plugin";function Gb(t){let e=0;const n={_id:t.id||vy||"nuxt-app",_scope:dw(),provide:void 0,versions:{get nuxt(){return"4.2.2"},get vue(){return n.vueApp.version}},payload:Sn({...t.ssrContext?.payload||{},data:Sn({}),state:Kr({}),once:new Set,_errors:Sn({})}),static:{data:{}},runWithContext(s){return n._scope.active&&!Sh()?n._scope.run(()=>Pp(n,s)):Pp(n,s)},isHydrating:!0,deferHydration(){if(!n.isHydrating)return()=>{};e++;let s=!1;return()=>{if(!s&&(s=!0,e--,e===0))return n.isHydrating=!1,n.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:Sn({}),_payloadRevivers:{},...t};{const s=window.__NUXT__;if(s)for(const i in s)switch(i){case"data":case"state":case"_errors":Object.assign(n.payload[i],s[i]);break;default:n.payload[i]=s[i]}}n.hooks=Mb(),n.hook=n.hooks.hook,n.callHook=n.hooks.callHook,n.provide=(s,i)=>{const o="$"+s;ka(n,o,i),ka(n.vueApp.config.globalProperties,o,i)},ka(n.vueApp,"$nuxt",n),ka(n.vueApp.config.globalProperties,"$nuxt",n);{window.addEventListener(qb,i=>{n.callHook("app:chunkError",{error:i.payload}),i.payload.message.includes("Unable to preload CSS")&&i.preventDefault()}),window.useNuxtApp||=Ze;const s=n.hook("app:error",(...i)=>{console.error("[nuxt] error caught during app initialization",...i)});n.hook("app:mounted",s)}const r=n.payload.config;return n.provide("config",r),n}function Kb(t,e){e.hooks&&t.hooks.addHooks(e.hooks)}async function zb(t,e){if(typeof e=="function"){const{provide:n}=await t.runWithContext(()=>e(t))||{};if(n&&typeof n=="object")for(const r in n)t.provide(r,n[r])}}async function Qb(t,e){const n=new Set,r=[],s=[];let i,o=0;async function a(l){const u=l.dependsOn?.filter(h=>e.some(d=>d._name===h)&&!n.has(h))??[];if(u.length>0)r.push([new Set(u),l]);else{const h=zb(t,l).then(async()=>{l._name&&(n.add(l._name),await Promise.all(r.map(async([d,p])=>{d.has(l._name)&&(d.delete(l._name),d.size===0&&(o++,await a(p)))})))}).catch(d=>{if(!l.parallel&&!t.payload.error)throw d;i||=d});l.parallel?s.push(h):await h}}for(const l of e)Kb(t,l);for(const l of e)await a(l);if(await Promise.all(s),o)for(let l=0;l<o;l++)await Promise.all(s);if(i)throw t.payload.error||i}function Ln(t){if(typeof t=="function")return t;const e=t._name||t.name;return delete t.name,Object.assign(t.setup||(()=>{}),t,{[Wb]:!0,_name:e})}function Pp(t,e,n){const r=()=>e();return Ey(t._id).set(t),t.vueApp.runWithContext(r)}function Yb(t){let e;return $c()&&(e=ks()?.appContext.app.$nuxt),e||=Ey(t).tryUse(),e||null}function Ze(t){const e=Yb(t);if(!e)throw new Error("[nuxt] instance unavailable");return e}function Qc(t){return Ze().$config}function ka(t,e,n){Object.defineProperty(t,e,{get:()=>n})}function Jb(t,e){return{ctx:{table:t},matchAll:n=>wy(n,t)}}function Ty(t){const e={};for(const n in t)e[n]=n==="dynamic"?new Map(Object.entries(t[n]).map(([r,s])=>[r,Ty(s)])):new Map(Object.entries(t[n]));return e}function Xb(t){return Jb(Ty(t))}function wy(t,e,n){t.endsWith("/")&&(t=t.slice(0,-1)||"/");const r=[];for(const[i,o]of kp(e.wildcard))(t===i||t.startsWith(i+"/"))&&r.push(o);for(const[i,o]of kp(e.dynamic))if(t.startsWith(i+"/")){const a="/"+t.slice(i.length).split("/").splice(2).join("/");r.push(...wy(a,o))}const s=e.static.get(t);return s&&r.push(s),r.filter(Boolean)}function kp(t){return[...t.entries()].sort((e,n)=>e[0].length-n[0].length)}function Jl(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function Lu(t,e,n=".",r){if(!Jl(e))return Lu(t,{},n,r);const s=Object.assign({},e);for(const i in t){if(i==="__proto__"||i==="constructor")continue;const o=t[i];o!=null&&(r&&r(s,i,o,n)||(Array.isArray(o)&&Array.isArray(s[i])?s[i]=[...o,...s[i]]:Jl(o)&&Jl(s[i])?s[i]=Lu(o,s[i],(n?`${n}.`:"")+i.toString(),r):s[i]=o))}return s}function Zb(t){return(...e)=>e.reduce((n,r)=>Lu(n,r,"",t),{})}const Iy=Zb();function eR(t,e){try{return e in t}catch{return!1}}class Np extends Error{static __h3_error__=!0;statusCode=500;fatal=!1;unhandled=!1;statusMessage;data;cause;constructor(e,n={}){super(e,n),n.cause&&!this.cause&&(this.cause=n.cause)}toJSON(){const e={message:this.message,statusCode:Uu(this.statusCode,500)};return this.statusMessage&&(e.statusMessage=Ay(this.statusMessage)),this.data!==void 0&&(e.data=this.data),e}}function tR(t){if(typeof t=="string")return new Np(t);if(nR(t))return t;const e=new Np(t.message??t.statusMessage??"",{cause:t.cause||t});if(eR(t,"stack"))try{Object.defineProperty(e,"stack",{get(){return t.stack}})}catch{try{e.stack=t.stack}catch{}}if(t.data&&(e.data=t.data),t.statusCode?e.statusCode=Uu(t.statusCode,e.statusCode):t.status&&(e.statusCode=Uu(t.status,e.statusCode)),t.statusMessage?e.statusMessage=t.statusMessage:t.statusText&&(e.statusMessage=t.statusText),e.statusMessage){const n=e.statusMessage;Ay(e.statusMessage)!==n&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return t.fatal!==void 0&&(e.fatal=t.fatal),t.unhandled!==void 0&&(e.unhandled=t.unhandled),e}function nR(t){return t?.constructor?.__h3_error__===!0}const rR=/[^\u0009\u0020-\u007E]/g;function Ay(t=""){return t.replace(rR,"")}function Uu(t,e=200){return!t||(typeof t=="string"&&(t=Number.parseInt(t,10)),t<100||t>999)?e:t}const by=Symbol("layout-meta"),Ts=Symbol("route");import.meta.url.replace(/\/app\/.*$/,"/");const Xt=()=>Ze()?.$router,zo=()=>$c()?bt(Ts,Ze()._route):Ze()._route;function Kx(t){return t}const sR=()=>{try{if(Ze()._processingMiddleware)return!0}catch{return!1}return!1},zx=(t,e)=>{t||="/";const n=typeof t=="string"?t:"path"in t?iR(t):Xt().resolve(t).href;if(e?.open){const{target:l="_blank",windowFeatures:u={}}=e.open,h=[];for(const[d,p]of Object.entries(u))p!==void 0&&h.push(`${d.toLowerCase()}=${p}`);return open(n,l,h.join(", ")),Promise.resolve()}const r=Ns(n,{acceptRelative:!0}),s=e?.external||r;if(s){if(!e?.external)throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const{protocol:l}=new URL(n,window.location.href);if(l&&ob(l))throw new Error(`Cannot navigate to a URL with '${l}' protocol.`)}const i=sR();if(!s&&i){if(e?.replace){if(typeof t=="string"){const{pathname:l,search:u,hash:h}=my(t);return{path:l,...u&&{query:uy(u)},...h&&{hash:h},replace:!0}}return{...t,replace:!0}}return t}const o=Xt(),a=Ze();return s?(a._scope.stop(),e?.replace?location.replace(n):location.href=n,i?a.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):e?.replace?o.replace(t):o.push(t)};function iR(t){return hy(t.path||"",t.query||{})+(t.hash||"")}const Ry="__nuxt_error",Yc=()=>Bw(Ze().payload,"error"),cs=t=>{const e=gs(t);try{const n=Yc();Ze().hooks.callHook("app:error",e),n.value||=e}catch{throw e}return e},oR=async(t={})=>{const e=Ze(),n=Yc();e.callHook("app:error:cleared",t),t.redirect&&await Xt().replace(t.redirect),n.value=void 0},Sy=t=>!!t&&typeof t=="object"&&Ry in t,gs=t=>{const e=tR(t);return Object.defineProperty(e,Ry,{value:!0,configurable:!1,writable:!1}),e};function aR(t){const e=lR(t),n=new ArrayBuffer(e.length),r=new DataView(n);for(let s=0;s<n.byteLength;s++)r.setUint8(s,e.charCodeAt(s));return n}const cR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function lR(t){t.length%4===0&&(t=t.replace(/==?$/,""));let e="",n=0,r=0;for(let s=0;s<t.length;s++)n<<=6,n|=cR.indexOf(t[s]),r+=6,r===24&&(e+=String.fromCharCode((n&16711680)>>16),e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255),n=r=0);return r===12?(n>>=4,e+=String.fromCharCode(n)):r===18&&(n>>=2,e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255)),e}const uR=-1,hR=-2,fR=-3,dR=-4,pR=-5,mR=-6;function gR(t,e){return _R(JSON.parse(t),e)}function _R(t,e){if(typeof t=="number")return s(t,!0);if(!Array.isArray(t)||t.length===0)throw new Error("Invalid input");const n=t,r=Array(n.length);function s(i,o=!1){if(i===uR)return;if(i===fR)return NaN;if(i===dR)return 1/0;if(i===pR)return-1/0;if(i===mR)return-0;if(o||typeof i!="number")throw new Error("Invalid input");if(i in r)return r[i];const a=n[i];if(!a||typeof a!="object")r[i]=a;else if(Array.isArray(a))if(typeof a[0]=="string"){const l=a[0],u=e&&Object.hasOwn(e,l)?e[l]:void 0;if(u){let h=a[1];return typeof h!="number"&&(h=n.push(a[1])-1),r[i]=u(s(h))}switch(l){case"Date":r[i]=new Date(a[1]);break;case"Set":const h=new Set;r[i]=h;for(let g=1;g<a.length;g+=1)h.add(s(a[g]));break;case"Map":const d=new Map;r[i]=d;for(let g=1;g<a.length;g+=2)d.set(s(a[g]),s(a[g+1]));break;case"RegExp":r[i]=new RegExp(a[1],a[2]);break;case"Object":r[i]=Object(a[1]);break;case"BigInt":r[i]=BigInt(a[1]);break;case"null":const p=Object.create(null);r[i]=p;for(let g=1;g<a.length;g+=2)p[a[g]]=s(a[g+1]);break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const g=globalThis[l],_=new g(s(a[1]));r[i]=a[2]!==void 0?_.subarray(a[2],a[3]):_;break}case"ArrayBuffer":{const g=a[1],_=aR(g);r[i]=_;break}case"Temporal.Duration":case"Temporal.Instant":case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.PlainMonthDay":case"Temporal.PlainYearMonth":case"Temporal.ZonedDateTime":{const g=l.slice(9);r[i]=Temporal[g].from(a[1]);break}case"URL":{const g=new URL(a[1]);r[i]=g;break}case"URLSearchParams":{const g=new URLSearchParams(a[1]);r[i]=g;break}default:throw new Error(`Unknown type ${l}`)}}else{const l=new Array(a.length);r[i]=l;for(let u=0;u<a.length;u+=1){const h=a[u];h!==hR&&(l[u]=s(h))}}else{const l={};r[i]=l;for(const u in a){if(u==="__proto__")throw new Error("Cannot parse an object with a `__proto__` property");const h=a[u];l[u]=s(h)}}return r[i]}return s(0)}const yR=new Set(["link","style","script","noscript"]),vR=new Set(["title","titleTemplate","script","style","noscript"]),Op=new Set(["base","meta","link","style","script","noscript"]),ER=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),TR=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),wR=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),IR=new Set(["templateParams","htmlAttrs","bodyAttrs"]),AR=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]);function Fu(t,e={},n){for(const r in t){const s=t[r],i=n?`${n}:${r}`:r;typeof s=="object"&&s!==null?Fu(s,e,i):typeof s=="function"&&(e[i]=s)}return e}const Cy=(()=>{if(console.createTask)return console.createTask;const t={run:e=>e()};return()=>t})();function Py(t,e,n,r){for(let s=n;s<t.length;s+=1)try{const i=r?r.run(()=>t[s](...e)):t[s](...e);if(i instanceof Promise)return i.then(()=>Py(t,e,s+1,r))}catch(i){return Promise.reject(i)}}function bR(t,e,n){if(t.length>0)return Py(t,e,0,Cy(n))}function RR(t,e,n){if(t.length>0){const r=Cy(n);return Promise.all(t.map(s=>r.run(()=>s(...e))))}}function Xl(t,e){for(const n of[...t])n(e)}var SR=class{_hooks;_before;_after;_deprecatedHooks;_deprecatedMessages;constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,e,n={}){if(!t||typeof e!="function")return()=>{};const r=t;let s;for(;this._deprecatedHooks[t];)s=this._deprecatedHooks[t],t=s.to;if(s&&!n.allowDeprecated){let i=s.message;i||(i=`${r} hook has been deprecated`+(s.to?`, please use ${s.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(i)||(console.warn(i),this._deprecatedMessages.add(i))}if(!e.name)try{Object.defineProperty(e,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(e),()=>{e&&(this.removeHook(t,e),e=void 0)}}hookOnce(t,e){let n,r=(...s)=>(typeof n=="function"&&n(),n=void 0,r=void 0,e(...s));return n=this.hook(t,r),n}removeHook(t,e){const n=this._hooks[t];if(n){const r=n.indexOf(e);r!==-1&&n.splice(r,1),n.length===0&&(this._hooks[t]=void 0)}}deprecateHook(t,e){this._deprecatedHooks[t]=typeof e=="string"?{to:e}:e;const n=this._hooks[t]||[];this._hooks[t]=void 0;for(const r of n)this.hook(t,r)}deprecateHooks(t){for(const e in t)this.deprecateHook(e,t[e])}addHooks(t){const e=Fu(t),n=Object.keys(e).map(r=>this.hook(r,e[r]));return()=>{for(const r of n)r();n.length=0}}removeHooks(t){const e=Fu(t);for(const n in e)this.removeHook(n,e[n])}removeAllHooks(){this._hooks={}}callHook(t,...e){return this.callHookWith(bR,t,e)}callHookParallel(t,...e){return this.callHookWith(RR,t,e)}callHookWith(t,e,n){const r=this._before||this._after?{name:e,args:n,context:{}}:void 0;this._before&&Xl(this._before,r);const s=t(this._hooks[e]?[...this._hooks[e]]:[],n,e);return s instanceof Promise?s.finally(()=>{this._after&&r&&Xl(this._after,r)}):(this._after&&r&&Xl(this._after,r),s)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const e=this._before.indexOf(t);e!==-1&&this._before.splice(e,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const e=this._after.indexOf(t);e!==-1&&this._after.splice(e,1)}}}};function CR(){return new SR}const PR=["name","property","http-equiv"],kR=new Set(["viewport","description","keywords","robots"]);function ky(t){const e=t.split(":");return e.length?AR.has(e[1]):!1}function Bu(t){const{props:e,tag:n}=t;if(TR.has(n))return n;if(n==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(t.tag==="meta"){for(const r of PR)if(e[r]!==void 0){const s=e[r],i=s&&typeof s=="string"&&s.includes(":"),o=s&&kR.has(s),l=!(i||o)&&t.key?`:key:${t.key}`:"";return`${n}:${s}${l}`}}if(t.key)return`${n}:key:${t.key}`;if(e.id)return`${n}:id:${e.id}`;if(vR.has(n)){const r=t.textContent||t.innerHTML;if(r)return`${n}:content:${r}`}}function Dp(t){const e=t._h||t._d;if(e)return e;const n=t.textContent||t.innerHTML;return n||`${t.tag}:${Object.entries(t.props).map(([r,s])=>`${r}:${String(s)}`).join(",")}`}function mc(t,e,n){typeof t==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(t=t());const s=e?e(n,t):t;if(Array.isArray(s))return s.map(i=>mc(i,e));if(s?.constructor===Object){const i={};for(const o of Object.keys(s))i[o]=mc(s[o],e,o);return i}return s}function NR(t,e){const n=t==="style"?new Map:new Set;function r(s){if(s==null||s===void 0)return;const i=String(s).trim();if(i)if(t==="style"){const[o,...a]=i.split(":").map(l=>l?l.trim():"");o&&a.length&&n.set(o,a.join(":"))}else i.split(" ").filter(Boolean).forEach(o=>n.add(o))}return typeof e=="string"?t==="style"?e.split(";").forEach(r):r(e):Array.isArray(e)?e.forEach(s=>r(s)):e&&typeof e=="object"&&Object.entries(e).forEach(([s,i])=>{i&&i!=="false"&&(t==="style"?n.set(String(s).trim(),String(i)):r(s))}),n}function Ny(t,e){return t.props=t.props||{},e?t.tag==="templateParams"?(t.props=e,t):(Object.entries(e).forEach(([n,r])=>{if(r===null){t.props[n]=null;return}if(n==="class"||n==="style"){t.props[n]=NR(n,r);return}if(wR.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof r=="object"){let a=e.type;if(e.type||(a="application/json"),!a?.endsWith("json")&&a!=="speculationrules")return;e.type=a,t.props.type=a,t[n]=JSON.stringify(r)}else t[n]=r;return}const s=String(r),i=n.startsWith("data-"),o=t.tag==="meta"&&n==="content";s==="true"||s===""?t.props[n]=i||o?s:!0:!r&&i&&s==="false"?t.props[n]="false":r!==void 0&&(t.props[n]=r)}),t):t}function OR(t,e){const n=typeof e=="object"&&typeof e!="function"?e:{[t==="script"||t==="noscript"||t==="style"?"innerHTML":"textContent"]:e},r=Ny({tag:t,props:{}},n);return r.key&&yR.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(s=>({...r,props:{...r.props,content:s}})):r}function DR(t,e){if(!t)return[];typeof t=="function"&&(t=t());const n=(s,i)=>{for(let o=0;o<e.length;o++)i=e[o](s,i);return i};t=n(void 0,t);const r=[];return t=mc(t,n),Object.entries(t||{}).forEach(([s,i])=>{if(i!==void 0)for(const o of Array.isArray(i)?i:[i])r.push(OR(s,o))}),r.flat()}const Vp=(t,e)=>t._w===e._w?t._p-e._p:t._w-e._w,xp={base:-10,title:10},VR={critical:-8,high:-1,low:2},Mp={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},xR=/@import/,eo=t=>t===""||t===!0;function MR(t,e){if(typeof e.tagPriority=="number")return e.tagPriority;let n=100;const r=VR[e.tagPriority]||0,s=t.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:Mp;if(e.tag in xp)n=xp[e.tag];else if(e.tag==="meta"){const i=e.props["http-equiv"]==="content-security-policy"?"content-security-policy":e.props.charset?"charset":e.props.name==="viewport"?"viewport":null;i&&(n=Mp.meta[i])}else if(e.tag==="link"&&e.props.rel)n=s.link[e.props.rel];else if(e.tag==="script"){const i=String(e.props.type);eo(e.props.async)?n=s.script.async:e.props.src&&!eo(e.props.defer)&&!eo(e.props.async)&&i!=="module"&&!i.endsWith("json")||e.innerHTML&&!i.endsWith("json")?n=s.script.sync:(eo(e.props.defer)&&e.props.src&&!eo(e.props.async)||i==="module")&&(n=s.script.defer)}else e.tag==="style"&&(n=e.innerHTML&&xR.test(e.innerHTML)?s.style.imported:s.style.sync);return(n||100)+r}function Lp(t,e){const n=typeof e=="function"?e(t):e,r=n.key||String(t.plugins.size+1);t.plugins.get(r)||(t.plugins.set(r,n),t.hooks.addHooks(n.hooks||{}))}function LR(t={}){const e=CR();e.addHooks(t.hooks||{});const n=!t.document,r=new Map,s=new Map,i=new Set,o={_entryCount:1,plugins:s,dirty:!1,resolvedOptions:t,hooks:e,ssr:n,entries:r,headEntries(){return[...r.values()]},use:a=>Lp(o,a),push(a,l){const u={...l||{}};delete u.head;const h=u._index??o._entryCount++,d={_i:h,input:a,options:u},p={_poll(g=!1){o.dirty=!0,!g&&i.add(h),e.callHook("entries:updated",o)},dispose(){r.delete(h)&&o.invalidate()},patch(g){(!u.mode||u.mode==="server"&&n||u.mode==="client"&&!n)&&(d.input=g,r.set(h,d),p._poll())}};return p.patch(a),p},async resolveTags(){const a={tagMap:new Map,tags:[],entries:[...o.entries.values()]};for(await e.callHook("entries:resolve",a);i.size;){const p=i.values().next().value;i.delete(p);const g=r.get(p);if(g){const _={tags:DR(g.input,t.propResolvers||[]).map(y=>Object.assign(y,g.options)),entry:g};await e.callHook("entries:normalize",_),g._tags=_.tags.map((y,N)=>(y._w=MR(o,y),y._p=(g._i<<10)+N,y._d=Bu(y),y))}}let l=!1;a.entries.flatMap(p=>(p._tags||[]).map(g=>({...g,props:{...g.props}}))).sort(Vp).reduce((p,g)=>{const _=String(g._d||g._p);if(!p.has(_))return p.set(_,g);const y=p.get(_);if((g?.tagDuplicateStrategy||(IR.has(g.tag)?"merge":null)||(g.key&&g.key===y.key?"merge":null))==="merge"){const D={...y.props};Object.entries(g.props).forEach(([O,E])=>D[O]=O==="style"?new Map([...y.props.style||new Map,...E]):O==="class"?new Set([...y.props.class||new Set,...E]):E),p.set(_,{...g,props:D})}else g._p>>10===y._p>>10&&g.tag==="meta"&&ky(_)?(p.set(_,Object.assign([...Array.isArray(y)?y:[y],g],g)),l=!0):(g._w===y._w?g._p>y._p:g?._w<y?._w)&&p.set(_,g);return p},a.tagMap);const u=a.tagMap.get("title"),h=a.tagMap.get("titleTemplate");if(o._title=u?.textContent,h){const p=h?.textContent;if(o._titleTemplate=p,p){let g=typeof p=="function"?p(u?.textContent):p;typeof g=="string"&&!o.plugins.has("template-params")&&(g=g.replace("%s",u?.textContent||"")),u?g===null?a.tagMap.delete("title"):a.tagMap.set("title",{...u,textContent:g}):(h.tag="title",h.textContent=g)}}a.tags=Array.from(a.tagMap.values()),l&&(a.tags=a.tags.flat().sort(Vp)),await e.callHook("tags:beforeResolve",a),await e.callHook("tags:resolve",a),await e.callHook("tags:afterResolve",a);const d=[];for(const p of a.tags){const{innerHTML:g,tag:_,props:y}=p;if(ER.has(_)&&!(Object.keys(y).length===0&&!p.innerHTML&&!p.textContent)&&!(_==="meta"&&!y.content&&!y["http-equiv"]&&!y.charset)){if(_==="script"&&g){if(String(y.type).endsWith("json")){const N=typeof g=="string"?g:JSON.stringify(g);p.innerHTML=N.replace(/</g,"\\u003C")}else typeof g=="string"&&(p.innerHTML=g.replace(new RegExp(`</${_}`,"g"),`<\\/${_}`));p._d=Bu(p)}d.push(p)}}return d},invalidate(){for(const a of r.values())i.add(a._i);o.dirty=!0,e.callHook("entries:updated",o)}};return(t?.plugins||[]).forEach(a=>Lp(o,a)),o.hooks.callHook("init",o),t.init?.forEach(a=>a&&o.push(a)),o}const UR=(t,e)=>ot(e)?Mw(e):e,zh="usehead";function FR(t){return{install(n){n.config.globalProperties.$unhead=t,n.config.globalProperties.$head=t,n.provide(zh,t)}}.install}function BR(){if($c()){const t=bt(zh);if(!t)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return t}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function HR(t,e={}){const n=e.head||BR();return n.ssr?n.push(t||{},e):jR(n,t,e)}function jR(t,e,n={}){const r=ue(!1);let s;return Yw(()=>{const o=r.value?{}:mc(e,UR);s?s.patch(o):s=t.push(o,n)}),ks()&&(Go(()=>{s.dispose()}),A_(()=>{r.value=!0}),I_(()=>{r.value=!1})),s}function Oy(t){const e=t||Ze();return e.ssrContext?.head||e.runWithContext(()=>{if($c()){const n=bt(zh);if(!n)throw new Error("[nuxt] [unhead] Missing Unhead instance.");return n}})}function Qx(t,e={}){const n=e.head||Oy(e.nuxt);return HR(t,{head:n,...e})}let Ba,Ha;function $R(){return Ba=$fetch(Kh(`builds/meta/${Qc().app.buildId}.json`),{responseType:"json"}),Ba.then(t=>{Ha=Xb(t.matcher)}).catch(t=>{console.error("[nuxt] Error fetching app manifest.",t)}),Ba}function Jc(){return Ba||$R()}async function Qh(t){const e=typeof t=="string"?t:t.path;if(await Jc(),!Ha)return console.error("[nuxt] Error creating app manifest matcher.",Ha),{};try{return Iy({},...Ha.matchAll(e).reverse())}catch(n){return console.error("[nuxt] Error matching route rules.",n),{}}}async function Up(t,e={}){if(!await Vy(t))return null;const r=await WR(t,e);return await Dy(r)||null}const qR="_payload.json";async function WR(t,e={}){const n=new URL(t,"http://localhost");if(n.host!=="localhost"||Ns(n.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+t);const r=Qc(),s=e.hash||(e.fresh?Date.now():r.app.buildId),i=r.app.cdnURL,o=i&&await Vy(t)?i:r.app.baseURL;return Wh(o,n.pathname,qR+(s?`?${s}`:""))}async function Dy(t){const e=fetch(t,{cache:"force-cache"}).then(n=>n.text().then(xy));try{return await e}catch(n){console.warn("[nuxt] Cannot load payload ",t,n)}return null}async function Vy(t=zo().path){const e=Ze();return t=t==="/"?t:t.replace(/\/$/,""),(await Jc()).prerendered.includes(t)?!0:e.runWithContext(async()=>{const r=await Qh({path:t});return!!r.prerender&&!r.redirect})}let ss=null;async function GR(){if(ss)return ss;const t=document.getElementById("__NUXT_DATA__");if(!t)return{};const e=await xy(t.textContent||""),n=t.dataset.src?await Dy(t.dataset.src):void 0;return ss={...e,...n,...window.__NUXT__},ss.config?.public&&(ss.config.public=Kr(ss.config.public)),ss}async function xy(t){return await gR(t,Ze()._payloadRevivers)}function KR(t,e){Ze()._payloadRevivers[t]=e}const zR=[["NuxtError",t=>gs(t)],["EmptyShallowRef",t=>ir(t==="_"?void 0:t==="0n"?BigInt(0):uc(t))],["EmptyRef",t=>ue(t==="_"?void 0:t==="0n"?BigInt(0):uc(t))],["ShallowRef",t=>ir(t)],["ShallowReactive",t=>Sn(t)],["Ref",t=>ue(t)],["Reactive",t=>Kr(t)]],QR=Ln({name:"nuxt:revive-payload:client",order:-30,async setup(t){let e,n;for(const[r,s]of zR)KR(r,s);Object.assign(t.payload,([e,n]=si(()=>t.runWithContext(GR)),e=await e,n(),e)),delete window.__NUXT__}});async function Yh(t,e={}){const n=e.document||t.resolvedOptions.document;if(!n||!t.dirty)return;const r={shouldRender:!0,tags:[]};if(await t.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return t._domUpdatePromise||(t._domUpdatePromise=new Promise(async s=>{const i=new Map,o=new Promise(g=>{t.resolveTags().then(_=>{g(_.map(y=>{const N=i.get(y._d)||0,D={tag:y,id:(N?`${y._d}:${N}`:y._d)||Dp(y),shouldRender:!0};return y._d&&ky(y._d)&&i.set(y._d,N+1),D}))})});let a=t._dom;if(!a){a={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const g of["body","head"]){const _=n[g]?.children;for(const y of _){const N=y.tagName.toLowerCase();if(!Op.has(N))continue;const D=Ny({tag:N,props:{}},{innerHTML:y.innerHTML,...y.getAttributeNames().reduce((O,E)=>(O[E]=y.getAttribute(E),O),{})||{}});if(D.key=y.getAttribute("data-hid")||void 0,D._d=Bu(D)||Dp(D),a.elMap.has(D._d)){let O=1,E=D._d;for(;a.elMap.has(E);)E=`${D._d}:${O++}`;a.elMap.set(E,y)}else a.elMap.set(D._d,y)}}}a.pendingSideEffects={...a.sideEffects},a.sideEffects={};function l(g,_,y){const N=`${g}:${_}`;a.sideEffects[N]=y,delete a.pendingSideEffects[N]}function u({id:g,$el:_,tag:y}){const N=y.tag.endsWith("Attrs");a.elMap.set(g,_),N||(y.textContent&&y.textContent!==_.textContent&&(_.textContent=y.textContent),y.innerHTML&&y.innerHTML!==_.innerHTML&&(_.innerHTML=y.innerHTML),l(g,"el",()=>{_?.remove(),a.elMap.delete(g)}));for(const D in y.props){if(!Object.prototype.hasOwnProperty.call(y.props,D))continue;const O=y.props[D];if(D.startsWith("on")&&typeof O=="function"){const k=_?.dataset;if(k&&k[`${D}fired`]){const V=D.slice(0,-5);O.call(_,new Event(V.substring(2)))}_.getAttribute(`data-${D}`)!==""&&((y.tag==="bodyAttrs"?n.defaultView:_).addEventListener(D.substring(2),O.bind(_)),_.setAttribute(`data-${D}`,""));continue}const E=`attr:${D}`;if(D==="class"){if(!O)continue;for(const k of O)N&&l(g,`${E}:${k}`,()=>_.classList.remove(k)),!_.classList.contains(k)&&_.classList.add(k)}else if(D==="style"){if(!O)continue;for(const[k,V]of O)l(g,`${E}:${k}`,()=>{_.style.removeProperty(k)}),_.style.setProperty(k,V)}else O!==!1&&O!==null&&(_.getAttribute(D)!==O&&_.setAttribute(D,O===!0?"":String(O)),N&&l(g,E,()=>_.removeAttribute(D)))}}const h=[],d={bodyClose:void 0,bodyOpen:void 0,head:void 0},p=await o;for(const g of p){const{tag:_,shouldRender:y,id:N}=g;if(y){if(_.tag==="title"){n.title=_.textContent,l("title","",()=>n.title=a.title);continue}g.$el=g.$el||a.elMap.get(N),g.$el?u(g):Op.has(_.tag)&&h.push(g)}}for(const g of h){const _=g.tag.tagPosition||"head";g.$el=n.createElement(g.tag.tag),u(g),d[_]=d[_]||n.createDocumentFragment(),d[_].appendChild(g.$el)}for(const g of p)await t.hooks.callHook("dom:renderTag",g,n,l);d.head&&n.head.appendChild(d.head),d.bodyOpen&&n.body.insertBefore(d.bodyOpen,n.body.firstChild),d.bodyClose&&n.body.appendChild(d.bodyClose);for(const g in a.pendingSideEffects)a.pendingSideEffects[g]();t._dom=a,await t.hooks.callHook("dom:rendered",{renders:p}),s()}).finally(()=>{t._domUpdatePromise=void 0,t.dirty=!1})),t._domUpdatePromise}function YR(t={}){const e=t.domOptions?.render||Yh;t.document=t.document||(typeof window<"u"?document:void 0);const n=t.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return LR({...t,plugins:[...t.plugins||[],{key:"client",hooks:{"entries:updated":e}}],init:[n?JSON.parse(n):!1,...t.init||[]]})}function JR(t,e){let n=0;return()=>{const r=++n;e(()=>{n===r&&t()})}}function XR(t={}){const e=YR({domOptions:{render:JR(()=>Yh(e),n=>setTimeout(n,0))},...t});return e.install=FR(e),e}const ZR={disableDefaults:!0},eS=Ln({name:"nuxt:head",enforce:"pre",setup(t){const e=XR(ZR);t.vueApp.use(e);{let n=!0;const r=async()=>{n=!1,await Yh(e)};e.hooks.hook("dom:beforeRender",s=>{s.shouldRender=!n}),t.hooks.hook("page:start",()=>{n=!0}),t.hooks.hook("page:finish",()=>{t.isHydrating||r()}),t.hooks.hook("app:error",r),t.hooks.hook("app:suspense:resolve",r)}}});const $s=typeof document<"u";function My(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function tS(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&My(t.default)}const De=Object.assign;function Zl(t,e){const n={};for(const r in e){const s=e[r];n[r]=yn(s)?s.map(t):t(s)}return n}const _o=()=>{},yn=Array.isArray;function Fp(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}const Ly=/#/g,nS=/&/g,rS=/\//g,sS=/=/g,iS=/\?/g,Uy=/\+/g,oS=/%5B/g,aS=/%5D/g,Fy=/%5E/g,cS=/%60/g,By=/%7B/g,lS=/%7C/g,Hy=/%7D/g,uS=/%20/g;function Jh(t){return t==null?"":encodeURI(""+t).replace(lS,"|").replace(oS,"[").replace(aS,"]")}function hS(t){return Jh(t).replace(By,"{").replace(Hy,"}").replace(Fy,"^")}function Hu(t){return Jh(t).replace(Uy,"%2B").replace(uS,"+").replace(Ly,"%23").replace(nS,"%26").replace(cS,"`").replace(By,"{").replace(Hy,"}").replace(Fy,"^")}function fS(t){return Hu(t).replace(sS,"%3D")}function dS(t){return Jh(t).replace(Ly,"%23").replace(iS,"%3F")}function pS(t){return dS(t).replace(rS,"%2F")}function Oo(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const mS=/\/$/,gS=t=>t.replace(mS,"");function eu(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(r=e.slice(0,l),i=e.slice(l,a>0?a:e.length),s=t(i.slice(1))),a>=0&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=ES(r??e,n),{fullPath:r+i+o,path:r,query:s,hash:Oo(o)}}function _S(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Bp(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function yS(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&gi(e.matched[r],n.matched[s])&&jy(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function gi(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function jy(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(!vS(t[n],e[n]))return!1;return!0}function vS(t,e){return yn(t)?Hp(t,e):yn(e)?Hp(e,t):t?.valueOf()===e?.valueOf()}function Hp(t,e){return yn(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function ES(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const tn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let ju=(function(t){return t.pop="pop",t.push="push",t})({}),tu=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function TS(t){if(!t)if($s){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),gS(t)}const wS=/^[^#]+#/;function IS(t,e){return t.replace(wS,"#")+e}function AS(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Xc=()=>({left:window.scrollX,top:window.scrollY});function bS(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=AS(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function jp(t,e){return(history.state?history.state.position-e:-1)+t}const $u=new Map;function RS(t,e){$u.set(t,e)}function SS(t){const e=$u.get(t);return $u.delete(t),e}function CS(t){return typeof t=="string"||t&&typeof t=="object"}function $y(t){return typeof t=="string"||typeof t=="symbol"}let Qe=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const qy=Symbol("");Qe.MATCHER_NOT_FOUND+"",Qe.NAVIGATION_GUARD_REDIRECT+"",Qe.NAVIGATION_ABORTED+"",Qe.NAVIGATION_CANCELLED+"",Qe.NAVIGATION_DUPLICATED+"";function _i(t,e){return De(new Error,{type:t,[qy]:!0},e)}function qn(t,e){return t instanceof Error&&qy in t&&(e==null||!!(t.type&e))}const PS=["params","query","hash"];function kS(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const n of PS)n in t&&(e[n]=t[n]);return JSON.stringify(e,null,2)}function NS(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const s=n[r].replace(Uy," "),i=s.indexOf("="),o=Oo(i<0?s:s.slice(0,i)),a=i<0?null:Oo(s.slice(i+1));if(o in e){let l=e[o];yn(l)||(l=e[o]=[l]),l.push(a)}else e[o]=a}return e}function $p(t){let e="";for(let n in t){const r=t[n];if(n=fS(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(yn(r)?r.map(s=>s&&Hu(s)):[r&&Hu(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function OS(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=yn(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const DS=Symbol(""),qp=Symbol(""),Xh=Symbol(""),Zh=Symbol(""),qu=Symbol("");function to(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function br(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const u=p=>{p===!1?l(_i(Qe.NAVIGATION_ABORTED,{from:n,to:e})):p instanceof Error?l(p):CS(p)?l(_i(Qe.NAVIGATION_GUARD_REDIRECT,{from:e,to:p})):(o&&r.enterCallbacks[s]===o&&typeof p=="function"&&o.push(p),a())},h=i(()=>t.call(r&&r.instances[s],e,n,u));let d=Promise.resolve(h);t.length<3&&(d=d.then(u)),d.catch(p=>l(p))})}function nu(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(My(l)){const u=(l.__vccOpts||l)[e];u&&i.push(br(u,n,r,o,a,s))}else{let u=l();i.push(()=>u.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=tS(h)?h.default:h;o.mods[a]=h,o.components[a]=d;const p=(d.__vccOpts||d)[e];return p&&br(p,n,r,o,a,s)()}))}}return i}function VS(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>gi(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>gi(u,l))||s.push(l))}return[n,r,s]}let xS=()=>location.protocol+"//"+location.host;function Wy(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let o=s.includes(t.slice(i))?t.slice(i).length:1,a=s.slice(o);return a[0]!=="/"&&(a="/"+a),Bp(a,"")}return Bp(n,t)+r+s}function MS(t,e,n,r){let s=[],i=[],o=null;const a=({state:p})=>{const g=Wy(t,location),_=n.value,y=e.value;let N=0;if(p){if(n.value=g,e.value=p,o&&o===_){o=null;return}N=y?p.position-y.position:0}else r(g);s.forEach(D=>{D(n.value,_,{delta:N,type:ju.pop,direction:N?N>0?tu.forward:tu.back:tu.unknown})})};function l(){o=n.value}function u(p){s.push(p);const g=()=>{const _=s.indexOf(p);_>-1&&s.splice(_,1)};return i.push(g),g}function h(){if(document.visibilityState==="hidden"){const{history:p}=window;if(!p.state)return;p.replaceState(De({},p.state,{scroll:Xc()}),"")}}function d(){for(const p of i)p();i=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",h),document.removeEventListener("visibilitychange",h)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",h),document.addEventListener("visibilitychange",h),{pauseListeners:l,listen:u,destroy:d}}function Wp(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Xc():null}}function LS(t){const{history:e,location:n}=window,r={value:Wy(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,h){const d=t.indexOf("#"),p=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:xS()+t+l;try{e[h?"replaceState":"pushState"](u,"",p),s.value=u}catch(g){console.error(g),n[h?"replace":"assign"](p)}}function o(l,u){i(l,De({},e.state,Wp(s.value.back,l,s.value.forward,!0),u,{position:s.value.position}),!0),r.value=l}function a(l,u){const h=De({},s.value,e.state,{forward:l,scroll:Xc()});i(h.current,h,!0),i(l,De({},Wp(r.value,l,null),{position:h.position+1},u),!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function US(t){t=TS(t);const e=LS(t),n=MS(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=De({location:"",base:t,go:r,createHref:IS.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}let hs=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var ft=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(ft||{});const FS={type:hs.Static,value:""},BS=/[a-zA-Z0-9_]/;function HS(t){if(!t)return[[]];if(t==="/")return[[FS]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${u}": ${g}`)}let n=ft.Static,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,u="",h="";function d(){u&&(n===ft.Static?i.push({type:hs.Static,value:u}):n===ft.Param||n===ft.ParamRegExp||n===ft.ParamRegExpEnd?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:hs.Param,value:u,regexp:h,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function p(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==ft.ParamRegExp){r=n,n=ft.EscapeNext;continue}switch(n){case ft.Static:l==="/"?(u&&d(),o()):l===":"?(d(),n=ft.Param):p();break;case ft.EscapeNext:p(),n=r;break;case ft.Param:l==="("?n=ft.ParamRegExp:BS.test(l)?p():(d(),n=ft.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case ft.ParamRegExp:l===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+l:n=ft.ParamRegExpEnd:h+=l;break;case ft.ParamRegExpEnd:d(),n=ft.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,h="";break;default:e("Unknown state");break}}return n===ft.ParamRegExp&&e(`Unfinished custom RegExp for param "${u}"`),d(),o(),s}const Gp="[^/]+?",jS={sensitive:!1,strict:!1,start:!0,end:!0};var Lt=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(Lt||{});const $S=/[.+*?^${}()[\]/\\]/g;function qS(t,e){const n=De({},jS,e),r=[];let s=n.start?"^":"";const i=[];for(const u of t){const h=u.length?[]:[Lt.Root];n.strict&&!u.length&&(s+="/");for(let d=0;d<u.length;d++){const p=u[d];let g=Lt.Segment+(n.sensitive?Lt.BonusCaseSensitive:0);if(p.type===hs.Static)d||(s+="/"),s+=p.value.replace($S,"\\$&"),g+=Lt.Static;else if(p.type===hs.Param){const{value:_,repeatable:y,optional:N,regexp:D}=p;i.push({name:_,repeatable:y,optional:N});const O=D||Gp;if(O!==Gp){g+=Lt.BonusCustomRegExp;try{`${O}`}catch(k){throw new Error(`Invalid custom RegExp for param "${_}" (${O}): `+k.message)}}let E=y?`((?:${O})(?:/(?:${O}))*)`:`(${O})`;d||(E=N&&u.length<2?`(?:/${E})`:"/"+E),N&&(E+="?"),s+=E,g+=Lt.Dynamic,N&&(g+=Lt.BonusOptional),y&&(g+=Lt.BonusRepeatable),O===".*"&&(g+=Lt.BonusWildcard)}h.push(g)}r.push(h)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=Lt.BonusStrict}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(u){const h=u.match(o),d={};if(!h)return null;for(let p=1;p<h.length;p++){const g=h[p]||"",_=i[p-1];d[_.name]=g&&_.repeatable?g.split("/"):g}return d}function l(u){let h="",d=!1;for(const p of t){(!d||!h.endsWith("/"))&&(h+="/"),d=!1;for(const g of p)if(g.type===hs.Static)h+=g.value;else if(g.type===hs.Param){const{value:_,repeatable:y,optional:N}=g,D=_ in u?u[_]:"";if(yn(D)&&!y)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const O=yn(D)?D.join("/"):D;if(!O)if(N)p.length<2&&(h.endsWith("/")?h=h.slice(0,-1):d=!0);else throw new Error(`Missing required param "${_}"`);h+=O}}return h||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function WS(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===Lt.Static+Lt.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===Lt.Static+Lt.Segment?1:-1:0}function Gy(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=WS(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Kp(r))return 1;if(Kp(s))return-1}return s.length-r.length}function Kp(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const GS={strict:!1,end:!0,sensitive:!1};function KS(t,e,n){const r=qS(HS(t.path),n),s=De(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function zS(t,e){const n=[],r=new Map;e=Fp(GS,e);function s(d){return r.get(d)}function i(d,p,g){const _=!g,y=Qp(d);y.aliasOf=g&&g.record;const N=Fp(e,d),D=[y];if("alias"in d){const k=typeof d.alias=="string"?[d.alias]:d.alias;for(const V of k)D.push(Qp(De({},y,{components:g?g.record.components:y.components,path:V,aliasOf:g?g.record:y})))}let O,E;for(const k of D){const{path:V}=k;if(p&&V[0]!=="/"){const U=p.record.path,b=U[U.length-1]==="/"?"":"/";k.path=p.record.path+(V&&b+V)}if(O=KS(k,p,N),g?g.alias.push(O):(E=E||O,E!==O&&E.alias.push(O),_&&d.name&&!Yp(O)&&o(d.name)),Ky(O)&&l(O),y.children){const U=y.children;for(let b=0;b<U.length;b++)i(U[b],O,g&&g.children[b])}g=g||O}return E?()=>{o(E)}:_o}function o(d){if($y(d)){const p=r.get(d);p&&(r.delete(d),n.splice(n.indexOf(p),1),p.children.forEach(o),p.alias.forEach(o))}else{const p=n.indexOf(d);p>-1&&(n.splice(p,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const p=JS(d,n);n.splice(p,0,d),d.record.name&&!Yp(d)&&r.set(d.record.name,d)}function u(d,p){let g,_={},y,N;if("name"in d&&d.name){if(g=r.get(d.name),!g)throw _i(Qe.MATCHER_NOT_FOUND,{location:d});N=g.record.name,_=De(zp(p.params,g.keys.filter(E=>!E.optional).concat(g.parent?g.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),d.params&&zp(d.params,g.keys.map(E=>E.name))),y=g.stringify(_)}else if(d.path!=null)y=d.path,g=n.find(E=>E.re.test(y)),g&&(_=g.parse(y),N=g.record.name);else{if(g=p.name?r.get(p.name):n.find(E=>E.re.test(p.path)),!g)throw _i(Qe.MATCHER_NOT_FOUND,{location:d,currentLocation:p});N=g.record.name,_=De({},p.params,d.params),y=g.stringify(_)}const D=[];let O=g;for(;O;)D.unshift(O.record),O=O.parent;return{name:N,path:y,params:_,matched:D,meta:YS(D)}}t.forEach(d=>i(d));function h(){n.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:h,getRoutes:a,getRecordMatcher:s}}function zp(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function Qp(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:QS(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function QS(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function Yp(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function YS(t){return t.reduce((e,n)=>De(e,n.meta),{})}function JS(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;Gy(t,e[i])<0?r=i:n=i+1}const s=XS(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function XS(t){let e=t;for(;e=e.parent;)if(Ky(e)&&Gy(t,e)===0)return e}function Ky({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Jp(t){const e=bt(Xh),n=bt(Zh),r=dt(()=>{const l=He(t.to);return e.resolve(l)}),s=dt(()=>{const{matched:l}=r.value,{length:u}=l,h=l[u-1],d=n.matched;if(!h||!d.length)return-1;const p=d.findIndex(gi.bind(null,h));if(p>-1)return p;const g=Xp(l[u-2]);return u>1&&Xp(h)===g&&d[d.length-1].path!==g?d.findIndex(gi.bind(null,l[u-2])):p}),i=dt(()=>s.value>-1&&r0(n.params,r.value.params)),o=dt(()=>s.value>-1&&s.value===n.matched.length-1&&jy(n.params,r.value.params));function a(l={}){if(n0(l)){const u=e[He(t.replace)?"replace":"push"](He(t.to)).catch(_o);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:dt(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function ZS(t){return t.length===1?t[0]:t}const e0=ct({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Jp,setup(t,{slots:e}){const n=Kr(Jp(t)),{options:r}=bt(Xh),s=dt(()=>({[Zp(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Zp(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&ZS(e.default(n));return t.custom?i:Je("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),t0=e0;function n0(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function r0(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!yn(s)||s.length!==r.length||r.some((i,o)=>i.valueOf()!==s[o].valueOf()))return!1}return!0}function Xp(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Zp=(t,e,n)=>t??e??n,s0=ct({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=bt(qu),s=dt(()=>t.route||r.value),i=bt(qp,0),o=dt(()=>{let u=He(i);const{matched:h}=s.value;let d;for(;(d=h[u])&&!d.components;)u++;return u}),a=dt(()=>s.value.matched[o.value]);Jn(qp,dt(()=>o.value+1)),Jn(DS,a),Jn(qu,s);const l=ue();return xr(()=>[l.value,a.value,t.name],([u,h,d],[p,g,_])=>{h&&(h.instances[d]=u,g&&g!==h&&u&&u===p&&(h.leaveGuards.size||(h.leaveGuards=g.leaveGuards),h.updateGuards.size||(h.updateGuards=g.updateGuards))),u&&h&&(!g||!gi(h,g)||!p)&&(h.enterCallbacks[d]||[]).forEach(y=>y(u))},{flush:"post"}),()=>{const u=s.value,h=t.name,d=a.value,p=d&&d.components[h];if(!p)return em(n.default,{Component:p,route:u});const g=d.props[h],_=g?g===!0?u.params:typeof g=="function"?g(u):g:null,N=Je(p,De({},_,e,{onVnodeUnmounted:D=>{D.component.isUnmounted&&(d.instances[h]=null)},ref:l}));return em(n.default,{Component:N,route:u})||N}}});function em(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const zy=s0;function i0(t){const e=zS(t.routes,t),n=t.parseQuery||NS,r=t.stringifyQuery||$p,s=t.history,i=to(),o=to(),a=to(),l=ir(tn);let u=tn;$s&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Zl.bind(null,B=>""+B),d=Zl.bind(null,pS),p=Zl.bind(null,Oo);function g(B,te){let J,ie;return $y(B)?(J=e.getRecordMatcher(B),ie=te):ie=B,e.addRoute(ie,J)}function _(B){const te=e.getRecordMatcher(B);te&&e.removeRoute(te)}function y(){return e.getRoutes().map(B=>B.record)}function N(B){return!!e.getRecordMatcher(B)}function D(B,te){if(te=De({},te||l.value),typeof B=="string"){const P=eu(n,B,te.path),M=e.resolve({path:P.path},te),$=s.createHref(P.fullPath);return De(P,M,{params:p(M.params),hash:Oo(P.hash),redirectedFrom:void 0,href:$})}let J;if(B.path!=null)J=De({},B,{path:eu(n,B.path,te.path).path});else{const P=De({},B.params);for(const M in P)P[M]==null&&delete P[M];J=De({},B,{params:d(P)}),te.params=d(te.params)}const ie=e.resolve(J,te),Te=B.hash||"";ie.params=h(p(ie.params));const Le=_S(r,De({},B,{hash:hS(Te),path:ie.path})),A=s.createHref(Le);return De({fullPath:Le,hash:Te,query:r===$p?OS(B.query):B.query||{}},ie,{redirectedFrom:void 0,href:A})}function O(B){return typeof B=="string"?eu(n,B,l.value.path):De({},B)}function E(B,te){if(u!==B)return _i(Qe.NAVIGATION_CANCELLED,{from:te,to:B})}function k(B){return b(B)}function V(B){return k(De(O(B),{replace:!0}))}function U(B,te){const J=B.matched[B.matched.length-1];if(J&&J.redirect){const{redirect:ie}=J;let Te=typeof ie=="function"?ie(B,te):ie;return typeof Te=="string"&&(Te=Te.includes("?")||Te.includes("#")?Te=O(Te):{path:Te},Te.params={}),De({query:B.query,hash:B.hash,params:Te.path!=null?{}:B.params},Te)}}function b(B,te){const J=u=D(B),ie=l.value,Te=B.state,Le=B.force,A=B.replace===!0,P=U(J,ie);if(P)return b(De(O(P),{state:typeof P=="object"?De({},Te,P.state):Te,force:Le,replace:A}),te||J);const M=J;M.redirectedFrom=te;let $;return!Le&&yS(r,ie,J)&&($=_i(Qe.NAVIGATION_DUPLICATED,{to:M,from:ie}),qt(ie,ie,!0,!1)),($?Promise.resolve($):R(M,ie)).catch(F=>qn(F)?qn(F,Qe.NAVIGATION_GUARD_REDIRECT)?F:Tn(F):ee(F,M,ie)).then(F=>{if(F){if(qn(F,Qe.NAVIGATION_GUARD_REDIRECT))return b(De({replace:A},O(F.to),{state:typeof F.to=="object"?De({},Te,F.to.state):Te,force:Le}),te||M)}else F=S(M,ie,!0,A,Te);return C(M,ie,F),F})}function w(B,te){const J=E(B,te);return J?Promise.reject(J):Promise.resolve()}function T(B){const te=cn.values().next().value;return te&&typeof te.runWithContext=="function"?te.runWithContext(B):B()}function R(B,te){let J;const[ie,Te,Le]=VS(B,te);J=nu(ie.reverse(),"beforeRouteLeave",B,te);for(const P of ie)P.leaveGuards.forEach(M=>{J.push(br(M,B,te))});const A=w.bind(null,B,te);return J.push(A),Rt(J).then(()=>{J=[];for(const P of i.list())J.push(br(P,B,te));return J.push(A),Rt(J)}).then(()=>{J=nu(Te,"beforeRouteUpdate",B,te);for(const P of Te)P.updateGuards.forEach(M=>{J.push(br(M,B,te))});return J.push(A),Rt(J)}).then(()=>{J=[];for(const P of Le)if(P.beforeEnter)if(yn(P.beforeEnter))for(const M of P.beforeEnter)J.push(br(M,B,te));else J.push(br(P.beforeEnter,B,te));return J.push(A),Rt(J)}).then(()=>(B.matched.forEach(P=>P.enterCallbacks={}),J=nu(Le,"beforeRouteEnter",B,te,T),J.push(A),Rt(J))).then(()=>{J=[];for(const P of o.list())J.push(br(P,B,te));return J.push(A),Rt(J)}).catch(P=>qn(P,Qe.NAVIGATION_CANCELLED)?P:Promise.reject(P))}function C(B,te,J){a.list().forEach(ie=>T(()=>ie(B,te,J)))}function S(B,te,J,ie,Te){const Le=E(B,te);if(Le)return Le;const A=te===tn,P=$s?history.state:{};J&&(ie||A?s.replace(B.fullPath,De({scroll:A&&P&&P.scroll},Te)):s.push(B.fullPath,Te)),l.value=B,qt(B,te,J,A),Tn()}let I;function le(){I||(I=s.listen((B,te,J)=>{if(!ln.listening)return;const ie=D(B),Te=U(ie,ln.currentRoute.value);if(Te){b(De(Te,{replace:!0,force:!0}),ie).catch(_o);return}u=ie;const Le=l.value;$s&&RS(jp(Le.fullPath,J.delta),Xc()),R(ie,Le).catch(A=>qn(A,Qe.NAVIGATION_ABORTED|Qe.NAVIGATION_CANCELLED)?A:qn(A,Qe.NAVIGATION_GUARD_REDIRECT)?(b(De(O(A.to),{force:!0}),ie).then(P=>{qn(P,Qe.NAVIGATION_ABORTED|Qe.NAVIGATION_DUPLICATED)&&!J.delta&&J.type===ju.pop&&s.go(-1,!1)}).catch(_o),Promise.reject()):(J.delta&&s.go(-J.delta,!1),ee(A,ie,Le))).then(A=>{A=A||S(ie,Le,!1),A&&(J.delta&&!qn(A,Qe.NAVIGATION_CANCELLED)?s.go(-J.delta,!1):J.type===ju.pop&&qn(A,Qe.NAVIGATION_ABORTED|Qe.NAVIGATION_DUPLICATED)&&s.go(-1,!1)),C(ie,Le,A)}).catch(_o)}))}let Ie=to(),re=to(),pe;function ee(B,te,J){Tn(B);const ie=re.list();return ie.length?ie.forEach(Te=>Te(B,te,J)):console.error(B),Promise.reject(B)}function Ne(){return pe&&l.value!==tn?Promise.resolve():new Promise((B,te)=>{Ie.add([B,te])})}function Tn(B){return pe||(pe=!B,le(),Ie.list().forEach(([te,J])=>B?J(B):te()),Ie.reset()),B}function qt(B,te,J,ie){const{scrollBehavior:Te}=t;if(!$s||!Te)return Promise.resolve();const Le=!J&&SS(jp(B.fullPath,0))||(ie||!J)&&history.state&&history.state.scroll||null;return vs().then(()=>Te(B,te,Le)).then(A=>A&&bS(A)).catch(A=>ee(A,B,te))}const Tt=B=>s.go(B);let Bn;const cn=new Set,ln={currentRoute:l,listening:!0,addRoute:g,removeRoute:_,clearRoutes:e.clearRoutes,hasRoute:N,getRoutes:y,resolve:D,options:t,push:k,replace:V,go:Tt,back:()=>Tt(-1),forward:()=>Tt(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:re.add,isReady:Ne,install(B){B.component("RouterLink",t0),B.component("RouterView",zy),B.config.globalProperties.$router=ln,Object.defineProperty(B.config.globalProperties,"$route",{enumerable:!0,get:()=>He(l)}),$s&&!Bn&&l.value===tn&&(Bn=!0,k(s.location).catch(ie=>{}));const te={};for(const ie in tn)Object.defineProperty(te,ie,{get:()=>l.value[ie],enumerable:!0});B.provide(Xh,ln),B.provide(Zh,Sn(te)),B.provide(qu,l);const J=B.unmount;cn.add(B),B.unmount=function(){cn.delete(B),cn.size<1&&(u=tn,I&&I(),I=null,l.value=tn,Bn=!1,pe=!1),J()}}};function Rt(B){return B.reduce((te,J)=>te.then(()=>T(J)),Promise.resolve())}return ln}function Qy(t){return bt(Zh)}const o0=/(:\w+)\([^)]+\)/g,a0=/(:\w+)[?+*]/g,c0=/:\w+/g,l0=(t,e)=>e.path.replace(o0,"$1").replace(a0,"$1").replace(c0,n=>t.params[n.slice(1)]?.toString()||""),Wu=(t,e)=>{const n=t.route.matched.find(s=>s.components?.default===t.Component.type),r=e??n?.meta.key??(n&&l0(t.route,n));return typeof r=="function"?r(t.route):r},u0=(t,e)=>({default:()=>t?Je(cI,t===!0?{}:t,e):e});function ef(t){return Array.isArray(t)?t:[t]}const h0="modulepreload",f0=function(t,e){return new URL(t,e).href},tm={},kt=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let u=function(h){return Promise.all(h.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");s=u(n.map(h=>{if(h=f0(h,r),h in tm)return;tm[h]=!0;const d=h.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(r)for(let _=o.length-1;_>=0;_--){const y=o[_];if(y.href===h&&(!d||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${p}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":h0,d||(g.as="script"),g.crossOrigin="",g.href=h,l&&g.setAttribute("nonce",l),document.head.appendChild(g),d)return new Promise((_,y)=>{g.addEventListener("load",_),g.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},d0={layout:!1},p0={layout:!1},m0={layout:"dashboard"},g0={layout:"dashboard"},_0={layout:"coach"},y0={layout:"dashboard"},v0={layout:"coach"},E0={layout:"dashboard"},T0={layout:"dashboard"},ru=[{name:"index",path:"/",meta:d0||{},component:()=>kt(()=>import("./BRkE21eC.js"),__vite__mapDeps([0,1]),import.meta.url)},{name:"profilo",path:"/profilo",meta:p0||{},component:()=>kt(()=>import("./CY2RALiG.js"),[],import.meta.url)},{name:"panoramica",path:"/panoramica",meta:m0||{},component:()=>kt(()=>import("./eZLxDSGd.js"),__vite__mapDeps([2,3,4,5,6]),import.meta.url)},{name:"piste-id",path:"/piste/:id()",meta:g0||{},component:()=>kt(()=>import("./CtnZZ9u9.js"),__vite__mapDeps([7,8,9,4,5,10,11,12]),import.meta.url)},{name:"piloti-id",path:"/piloti/:id()",meta:{..._0||{},middleware:["coach"]},component:()=>kt(()=>import("./L0Uz9y6_.js"),__vite__mapDeps([13,14,3,4,5,6,15,8,9,16,17,11,18,19]),import.meta.url)},{name:"piste",path:"/piste",meta:y0||{},component:()=>kt(()=>import("./DDF7zfo7.js"),__vite__mapDeps([20,17,4,5,11,18]),import.meta.url)},{name:"piloti",path:"/piloti",meta:{...v0||{},middleware:["coach"]},component:()=>kt(()=>import("./D_UsK51w.js"),__vite__mapDeps([21,14,22]),import.meta.url)},{name:"sessioni-id",path:"/sessioni/:id()",meta:E0||{},component:()=>kt(()=>import("./Ba0ldvTx.js"),__vite__mapDeps([23,4,5,10,24]),import.meta.url)},{name:"sessioni",path:"/sessioni",meta:T0||{},component:()=>kt(()=>import("./D4sfDHx4.js"),__vite__mapDeps([25,15,8,9,4,5,16]),import.meta.url)}],Yy=(t,e)=>({default:()=>t?Je(zc,t===!0?{}:t,e):e.default?.()}),w0=/(:\w+)\([^)]+\)/g,I0=/(:\w+)[?+*]/g,A0=/:\w+/g;function nm(t){const e=t?.meta.key??t.path.replace(w0,"$1").replace(I0,"$1").replace(A0,n=>t.params[n.slice(1)]?.toString()||"");return typeof e=="function"?e(t):e}function b0(t,e){return t===e||e===tn?!1:nm(t)!==nm(e)?!0:!t.matched.every((r,s)=>r.components&&r.components.default===e.matched[s]?.components?.default)}function R0(t,e=!1){if(t){if(t.nodeName==="#comment"&&t.nodeValue==="[")return Jy(t,[],e);if(e){const n=t.cloneNode(!0);return n.querySelectorAll("[data-island-slot]").forEach(r=>{r.innerHTML=""}),[n.outerHTML]}return[t.outerHTML]}}function Jy(t,e=[],n=!1){if(t&&t.nodeName){if(C0(t))return e;if(!S0(t)){const r=t.cloneNode(!0);n&&r.querySelectorAll?.("[data-island-slot]").forEach(s=>{s.innerHTML=""}),e.push(r.outerHTML)}Jy(t.nextSibling,e,n)}return e}function su(t,e){const n=t?R0(t):[e];return n?ey(n.join(""),n.length):Je("div")}function S0(t){return t.nodeName==="#comment"&&t.nodeValue==="["}function C0(t){return t.nodeName==="#comment"&&t.nodeValue==="]"}const P0={scrollBehavior(t,e,n){const r=Ze(),s=Xt().options?.scrollBehaviorType??"auto";if(t.path.replace(/\/$/,"")===e.path.replace(/\/$/,""))return e.hash&&!t.hash?{left:0,top:0}:t.hash?{el:t.hash,top:Xy(t.hash),behavior:s}:!1;if((typeof t.meta.scrollToTop=="function"?t.meta.scrollToTop(t,e):t.meta.scrollToTop)===!1)return!1;const o=r._runningTransition?"page:transition:finish":"page:loading:end";return new Promise(a=>{if(e===tn){a(rm(t,e,n,s));return}r.hooks.hookOnce(o,()=>{requestAnimationFrame(()=>a(rm(t,e,n,s)))})})}};function Xy(t){try{const e=document.querySelector(t);if(e)return(Number.parseFloat(getComputedStyle(e).scrollMarginTop)||0)+(Number.parseFloat(getComputedStyle(document.documentElement).scrollPaddingTop)||0)}catch{}return 0}function rm(t,e,n,r){if(n)return n;const s=b0(t,e);return t.hash?{el:t.hash,top:Xy(t.hash),behavior:s?r:"instant"}:{left:0,top:0}}const k0={hashMode:!1,scrollBehaviorType:"auto"},Er={...k0,...P0},N0=async(t,e)=>{let n,r;if(!t.meta?.validate)return;const s=([n,r]=si(()=>Promise.resolve(t.meta.validate(t))),n=await n,r(),n);if(s===!0)return;const i=gs({fatal:!0,statusCode:s&&s.statusCode||404,statusMessage:s&&s.statusMessage||`Page Not Found: ${t.fullPath}`,data:{path:t.fullPath}});return typeof window<"u"&&window.history.pushState({},"",e.fullPath),i},O0=async t=>{let e,n;const r=([e,n]=si(()=>Qh({path:t.path})),e=await e,n(),e);if(r.redirect){const s=r.redirect.includes("#")?r.redirect:r.redirect+t.hash;return Ns(s,{acceptRelative:!0})?(window.location.href=s,!1):s}},D0=[N0,O0],Gu={coach:()=>kt(()=>import("./MhVg7wVi.js"),[],import.meta.url)};function V0(t,e,n){const{pathname:r,search:s,hash:i}=e,o=t.indexOf("#");if(o>-1){const u=i.includes(t.slice(o))?t.slice(o).length:1;let h=i.slice(u);return h[0]!=="/"&&(h="/"+h),Tp(h,"")}const a=Tp(r,t),l=!n||ub(a,n)?a:n;return l+(l.includes("?")?"":s)+i}const x0=Ln({name:"nuxt:router",enforce:"pre",async setup(t){let e,n,r=Qc().app.baseURL;const s=Er.history?.(r)??US(r),i=Er.routes?([e,n]=si(()=>Er.routes(ru)),e=await e,n(),e??ru):ru;let o;const a=i0({...Er,scrollBehavior:(N,D,O)=>{if(D===tn){o=O;return}if(Er.scrollBehavior){if(a.options.scrollBehavior=Er.scrollBehavior,"scrollRestoration"in window.history){const E=a.beforeEach(()=>{E(),window.history.scrollRestoration="manual"})}return Er.scrollBehavior(N,tn,o||O)}},history:s,routes:i});"scrollRestoration"in window.history&&(window.history.scrollRestoration="auto"),t.vueApp.use(a);const l=ir(a.currentRoute.value);a.afterEach((N,D)=>{l.value=D}),Object.defineProperty(t.vueApp.config.globalProperties,"previousRoute",{get:()=>l.value});const u=V0(r,window.location,t.payload.path),h=ir(a.currentRoute.value),d=()=>{h.value=a.currentRoute.value};a.afterEach((N,D)=>{N.matched.at(-1)?.components?.default===D.matched.at(-1)?.components?.default&&d()});const p={sync:d};for(const N in h.value)Object.defineProperty(p,N,{get:()=>h.value[N],enumerable:!0});t._route=Sn(p),t._middleware||={global:[],named:{}};const g=Yc();a.afterEach(async(N,D,O)=>{delete t._processingMiddleware,!t.isHydrating&&g.value&&await t.runWithContext(oR),O&&await t.callHook("page:loading:end")});try{[e,n]=si(()=>a.isReady()),await e,n()}catch(N){[e,n]=si(()=>t.runWithContext(()=>cs(N))),await e,n()}const _=u!==a.currentRoute.value.fullPath?a.resolve(u):a.currentRoute.value;d();const y=t.payload.state._layout;return a.beforeEach(async(N,D)=>{await t.callHook("page:loading:start"),N.meta=Kr(N.meta),t.isHydrating&&y&&!Vn(N.meta.layout)&&(N.meta.layout=y),t._processingMiddleware=!0;{const O=new Set([...D0,...t._middleware.global]);for(const E of N.matched){const k=E.meta.middleware;if(k)for(const V of ef(k))O.add(V)}{const E=await t.runWithContext(()=>Qh({path:N.path}));if(E.appMiddleware)for(const k in E.appMiddleware)E.appMiddleware[k]?O.add(k):O.delete(k)}for(const E of O){const k=typeof E=="string"?t._middleware.named[E]||await Gu[E]?.().then(V=>V.default||V):E;if(!k)throw new Error(`Unknown route middleware: '${E}'.`);try{const V=await t.runWithContext(()=>k(N,D));if(!t.payload.serverRendered&&t.isHydrating&&(V===!1||V instanceof Error)){const U=V||gs({statusCode:404,statusMessage:`Page Not Found: ${u}`});return await t.runWithContext(()=>cs(U)),!1}if(V===!0)continue;if(V===!1)return V;if(V)return Sy(V)&&V.fatal&&await t.runWithContext(()=>cs(V)),V}catch(V){const U=gs(V);return U.fatal&&await t.runWithContext(()=>cs(U)),U}}}}),a.onError(async()=>{delete t._processingMiddleware,await t.callHook("page:loading:end")}),a.afterEach(N=>{if(N.matched.length===0)return t.runWithContext(()=>cs(gs({statusCode:404,fatal:!1,statusMessage:`Page not found: ${N.fullPath}`,data:{path:N.fullPath}})))}),t.hooks.hookOnce("app:created",async()=>{try{"name"in _&&(_.name=void 0),await a.replace({..._,force:!0}),a.options.scrollBehavior=Er.scrollBehavior}catch(N){await t.runWithContext(()=>cs(N))}}),{provide:{router:a}}}}),sm=globalThis.requestIdleCallback||(t=>{const e=Date.now(),n={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-e))};return setTimeout(()=>{t(n)},1)}),Yx=globalThis.cancelIdleCallback||(t=>{clearTimeout(t)}),tf=t=>{const e=Ze();e.isHydrating?e.hooks.hookOnce("app:suspense:resolve",()=>{sm(()=>t())}):sm(()=>t())},M0=Ln({name:"nuxt:payload",setup(t){const e=new Set;Xt().beforeResolve(async(n,r)=>{if(n.path===r.path)return;const s=await Up(n.path);if(s){for(const i of e)delete t.static.data[i];for(const i in s.data)i in t.static.data||e.add(i),t.static.data[i]=s.data[i]}}),tf(()=>{t.hooks.hook("link:prefetch",async n=>{const{hostname:r}=new URL(n,window.location.href);r===window.location.hostname&&await Up(n).catch(()=>{console.warn("[nuxt] Error preloading payload for",n)})}),navigator.connection?.effectiveType!=="slow-2g"&&setTimeout(Jc,1e3)})}}),L0=Ln(()=>{const t=Xt();tf(()=>{t.beforeResolve(async()=>{await new Promise(e=>{setTimeout(e,100),requestAnimationFrame(()=>{setTimeout(e,0)})})})})}),U0=Ln(t=>{let e;async function n(){let r;try{r=await Jc()}catch(s){const i=s;if(!("status"in i&&(i.status===404||i.status===403)))throw i}e&&clearTimeout(e),e=setTimeout(n,Cp);try{const s=await $fetch(Kh("builds/latest.json")+`?${Date.now()}`);s.id!==r?.id&&(t.hooks.callHook("app:manifest:update",s),e&&clearTimeout(e))}catch{}}tf(()=>{e=setTimeout(n,Cp)})});function F0(t={}){const e=t.path||window.location.pathname;let n={};try{n=uc(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(t.force||n?.path!==e||n?.expires<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:e,expires:Date.now()+(t.ttl??1e4)}))}catch{}if(t.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:Ze().payload.state}))}catch{}window.location.pathname!==e?window.location.href=e:window.location.reload()}}const B0=Ln({name:"nuxt:chunk-reload",setup(t){const e=Xt(),n=Qc(),r=new Set;e.beforeEach(()=>{r.clear()}),t.hook("app:chunkError",({error:i})=>{r.add(i)});function s(i){const o=Wh(n.app.baseURL,i.fullPath);F0({path:o,persistState:!0})}t.hook("app:manifest:update",()=>{e.beforeResolve(s)}),e.onError((i,o)=>{r.has(i)&&s(o)})}}),H0=Ln({name:"nuxt:global-components"}),Nr={coach:sc(()=>kt(()=>import("./Dv7U3h7q.js"),__vite__mapDeps([26,27]),import.meta.url).then(t=>t.default||t)),dashboard:sc(()=>kt(()=>import("./BOcF1QCF.js"),__vite__mapDeps([28,14,29]),import.meta.url).then(t=>t.default||t))};function j0(t){if(t?.__asyncLoader&&!t.__asyncResolved)return t.__asyncLoader()}async function $0(t,e=Xt()){const{path:n,matched:r}=e.resolve(t);if(!r.length||(e._routePreloaded||=new Set,e._routePreloaded.has(n)))return;const s=e._preloadPromises||=[];if(s.length>4)return Promise.all(s).then(()=>$0(t,e));e._routePreloaded.add(n);for(const i of r){const o=i.components?.default;if(typeof o!="function")continue;const a=Promise.resolve(o()).catch(()=>{}).finally(()=>s.splice(s.indexOf(a)));s.push(a)}await Promise.all(s)}const q0=Ln({name:"nuxt:prefetch",setup(t){const e=Xt();t.hooks.hook("app:mounted",()=>{e.beforeEach(async n=>{const r=n?.meta?.layout;r&&typeof Nr[r]=="function"&&await Nr[r]()})}),t.hooks.hook("link:prefetch",n=>{if(Ns(n))return;const r=e.resolve(n);if(!r)return;const s=r.meta.layout;let i=ef(r.meta.middleware);i=i.filter(o=>typeof o=="string");for(const o of i)typeof Gu[o]=="function"&&Gu[o]();typeof s=="string"&&s in Nr&&j0(Nr[s])})}}),W0={mounted(t,e){t._clickOutside=n=>{t===n.target||t.contains(n.target)||e.value(n)},document.addEventListener("click",t._clickOutside)},unmounted(t){t._clickOutside&&document.removeEventListener("click",t._clickOutside)}},G0=Ln(t=>{t.vueApp.directive("click-outside",W0)}),K0=[QR,eS,x0,M0,L0,U0,B0,H0,q0,G0],Na="<div></div>",iu=new WeakMap;function z0(t){if(iu.has(t))return iu.get(t);const e={...t};return e.render?e.render=(n,r,s,i,o,a)=>{if(i.mounted$??n.mounted$){const l=t.render?.bind(n)(n,r,s,i,o,a);return l.children===null||typeof l.children=="string"?on(l):Je(l)}return su(n._.vnode.el,Na)}:e.template&&=`
      <template v-if="mounted$">${t.template}</template>
      <template v-else>${Na}</template>
    `,e.setup=(n,r)=>{const s=Ze(),i=ir(s.isHydrating===!1),o=ks();if(s.isHydrating){const l={...o.attrs},u=Q0(o);for(const h in l)delete o.attrs[h];hi(()=>{Object.assign(o.attrs,l),o.vnode.dirs=u})}hi(()=>{i.value=!0});const a=t.setup?.(n,r)||{};return bh(a)?Promise.resolve(a).then(l=>typeof l!="function"?(l||={},l.mounted$=i,l):(...u)=>{if(i.value||!s.isHydrating){const h=l(...u);return h.children===null||typeof h.children=="string"?on(h):Je(h)}return su(o?.vnode.el,Na)}):typeof a=="function"?(...l)=>{if(i.value){const u=a(...l),h=e.inheritAttrs!==!1?r.attrs:void 0;return u.children===null||typeof u.children=="string"?on(u,h):Je(u,h)}return su(o?.vnode.el,Na)}:Object.assign(a,{mounted$:i})},iu.set(t,e),e}function Q0(t){if(!t||!t.vnode.dirs)return null;const e=t.vnode.dirs;return t.vnode.dirs=null,e}function Y0(t={}){const e=ir(""),n=ir(t.politeness||"polite"),r=Oy();function s(u="",h="polite"){e.value=u,n.value=h}function i(u){return s(u,"polite")}function o(u){return s(u,"assertive")}function a(){s(document?.title?.trim(),n.value)}function l(){r?.hooks?.removeHook("dom:rendered",a)}return a(),r?.hooks?.hook("dom:rendered",()=>{a()}),{_cleanup:l,message:e,politeness:n,set:s,polite:i,assertive:o}}function J0(t={}){const e=Ze(),n=e._routeAnnouncer||=Y0(t);return t.politeness!==n.politeness.value&&(n.politeness.value=t.politeness||"polite"),Sh()&&(e._routeAnnouncerDeps||=0,e._routeAnnouncerDeps++,pw(()=>{e._routeAnnouncerDeps--,e._routeAnnouncerDeps===0&&(n._cleanup(),delete e._routeAnnouncer)})),n}const X0=ct({name:"NuxtRouteAnnouncer",props:{atomic:{type:Boolean,default:!1},politeness:{type:String,default:"polite"}},setup(t,{slots:e,expose:n}){const{set:r,polite:s,assertive:i,message:o,politeness:a}=J0({politeness:t.politeness});return n({set:r,polite:s,assertive:i,message:o,politeness:a}),()=>Je("span",{class:"nuxt-route-announcer",style:{position:"absolute"}},Je("span",{role:"alert","aria-live":a.value,"aria-atomic":t.atomic,style:{border:"0",clip:"rect(0 0 0 0)","clip-path":"inset(50%)",height:"1px",width:"1px",overflow:"hidden",position:"absolute","white-space":"nowrap","word-wrap":"normal",margin:"-1px",padding:"0"}},e.default?e.default({message:o.value}):o.value))}}),Z0=["type","value","placeholder","autocomplete","maxlength","disabled"],eC=ct({__name:"BaseInput",props:{modelValue:{},type:{default:"text"},placeholder:{default:""},autocomplete:{default:"off"},maxlength:{},error:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,{emit:e}){const n=e,r=s=>{const i=s.target;n("update:modelValue",i.value)};return(s,i)=>(_e(),Pe("input",{type:t.type,value:t.modelValue,placeholder:t.placeholder,autocomplete:t.autocomplete,maxlength:t.maxlength,disabled:t.disabled,class:rn(["form-input",{"form-input--error":t.error}]),onInput:r},null,42,Z0))}}),Un=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},nf=Object.assign(Un(eC,[["__scopeId","data-v-91b986db"]]),{__name:"UiBaseInput"}),tC={key:0,class:"form-error"},nC=ct({__name:"FormError",props:{message:{},visible:{type:Boolean,default:!1}},setup(t){return(e,n)=>t.visible&&t.message?(_e(),Pe("div",tC,ys(t.message),1)):di("",!0)}}),rf=Object.assign(Un(nC,[["__scopeId","data-v-75d4b223"]]),{__name:"UiFormError"}),rC=["type","disabled"],sC=ct({__name:"BaseButton",props:{variant:{default:"primary"},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},type:{default:"button"}},emits:["click"],setup(t,{emit:e}){const n=t,r=e,s=i=>{!n.loading&&!n.disabled&&r("click",i)};return(i,o)=>(_e(),Pe("button",{type:t.type,class:rn(["btn",`btn--${t.variant}`,{"btn--loading":t.loading}]),disabled:t.disabled||t.loading,onClick:s},[yI(i.$slots,"default",{},void 0)],10,rC))}}),sf=Object.assign(Un(sC,[["__scopeId","data-v-d54604fc"]]),{__name:"UiBaseButton"}),iC=ct({__name:"LoginForm",emits:["submit","forgotPassword"],setup(t,{expose:e,emit:n}){const r=ue(""),s=ue(""),i=ue(""),o=ue(!1),a=n,l=()=>{if(i.value="",!r.value.trim()){i.value="Inserisci la tua email.";return}if(!s.value){i.value="Inserisci la password.";return}a("submit",{email:r.value.trim(),password:s.value})},u=()=>{i.value=""};return e({setError:h=>{i.value=h},setLoading:h=>{o.value=h},reset:()=>{r.value="",s.value="",i.value="",o.value=!1}}),(h,d)=>{const p=nf,g=rf,_=sf;return _e(),Pe("form",{class:"auth-form",onSubmit:$h(l,["prevent"])},[ge(p,{modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=y=>r.value=y),type:"email",placeholder:"Email",autocomplete:"email",error:!!i.value&&i.value.includes("email"),onInput:u},null,8,["modelValue","error"]),ge(p,{modelValue:s.value,"onUpdate:modelValue":d[1]||(d[1]=y=>s.value=y),type:"password",placeholder:"Password",autocomplete:"current-password",error:!!i.value&&i.value.includes("password"),onInput:u},null,8,["modelValue","error"]),ge(g,{message:i.value,visible:!!i.value},null,8,["message","visible"]),ge(_,{type:"submit",variant:"primary",loading:o.value},{default:sn(()=>[...d[3]||(d[3]=[Ye(" ACCEDI ",-1)])]),_:1},8,["loading"]),ge(_,{variant:"link",onClick:d[2]||(d[2]=y=>a("forgotPassword"))},{default:sn(()=>[...d[4]||(d[4]=[Ye(" Password dimenticata? ",-1)])]),_:1})],32)}}}),oC=Object.assign(Un(iC,[["__scopeId","data-v-5927dcd2"]]),{__name:"AuthLoginForm"}),aC={class:"name-row"},cC=ct({__name:"RegisterForm",emits:["submit"],setup(t,{expose:e,emit:n}){const r=ue(""),s=ue(""),i=ue(""),o=ue(""),a=ue(""),l=ue(""),u=ue(""),h=ue(!1),d=n,p=()=>{if(u.value="",!r.value.trim()){u.value="Inserisci il tuo nome.";return}if(!s.value.trim()){u.value="Inserisci il tuo cognome.";return}if(!i.value.trim()){u.value="Scegli un nickname.";return}if(i.value.trim().length<3){u.value="Il nickname deve essere di almeno 3 caratteri.";return}if(!o.value.trim()){u.value="Inserisci la tua email.";return}if(!a.value){u.value="Inserisci una password.";return}if(a.value.length<6){u.value="La password deve essere di almeno 6 caratteri.";return}if(!l.value){u.value="Conferma la password.";return}if(a.value!==l.value){u.value="Le password non coincidono.";return}d("submit",{firstName:r.value.trim(),lastName:s.value.trim(),nickname:i.value.trim(),email:o.value.trim(),password:a.value})},g=()=>{u.value=""};return e({setError:_=>{u.value=_},setLoading:_=>{h.value=_},reset:()=>{r.value="",s.value="",i.value="",o.value="",a.value="",l.value="",u.value="",h.value=!1}}),(_,y)=>{const N=nf,D=rf,O=sf;return _e(),Pe("form",{class:"auth-form",onSubmit:$h(p,["prevent"])},[z("div",aC,[ge(N,{modelValue:r.value,"onUpdate:modelValue":y[0]||(y[0]=E=>r.value=E),type:"text",placeholder:"Nome",autocomplete:"given-name",onInput:g},null,8,["modelValue"]),ge(N,{modelValue:s.value,"onUpdate:modelValue":y[1]||(y[1]=E=>s.value=E),type:"text",placeholder:"Cognome",autocomplete:"family-name",onInput:g},null,8,["modelValue"])]),ge(N,{modelValue:i.value,"onUpdate:modelValue":y[2]||(y[2]=E=>i.value=E),type:"text",placeholder:"Nickname (visibile agli altri)",autocomplete:"username",maxlength:20,onInput:g},null,8,["modelValue"]),ge(N,{modelValue:o.value,"onUpdate:modelValue":y[3]||(y[3]=E=>o.value=E),type:"email",placeholder:"Email",autocomplete:"email",onInput:g},null,8,["modelValue"]),ge(N,{modelValue:a.value,"onUpdate:modelValue":y[4]||(y[4]=E=>a.value=E),type:"password",placeholder:"Password (min. 6 caratteri)",autocomplete:"new-password",onInput:g},null,8,["modelValue"]),ge(N,{modelValue:l.value,"onUpdate:modelValue":y[5]||(y[5]=E=>l.value=E),type:"password",placeholder:"Conferma Password",autocomplete:"new-password",onInput:g},null,8,["modelValue"]),ge(D,{message:u.value,visible:!!u.value},null,8,["message","visible"]),ge(O,{type:"submit",variant:"primary",loading:h.value},{default:sn(()=>[...y[6]||(y[6]=[Ye(" REGISTRATI ",-1)])]),_:1},8,["loading"])],32)}}}),lC=Object.assign(Un(cC,[["__scopeId","data-v-d0f96507"]]),{__name:"AuthRegisterForm"}),uC={class:"reset-form"},hC={key:0,class:"reset-success"},fC=ct({__name:"ResetPasswordForm",emits:["submit","back"],setup(t,{expose:e,emit:n}){const r=ue(""),s=ue(""),i=ue(!1),o=ue(!1),a=n,l=()=>{if(s.value="",!r.value.trim()){s.value="Inserisci la tua email.";return}a("submit",r.value.trim())},u=()=>{s.value=""};return e({setError:h=>{s.value=h},setLoading:h=>{o.value=h},setSuccess:h=>{i.value=h},reset:()=>{r.value="",s.value="",i.value=!1,o.value=!1}}),(h,d)=>{const p=sf,g=nf,_=rf;return _e(),Pe("div",uC,[i.value?(_e(),Pe("div",hC,[d[4]||(d[4]=z("span",{class:"reset-success__icon"},"",-1)),d[5]||(d[5]=z("p",{class:"reset-success__text"}," Email inviata! Controlla la tua casella di posta (anche spam). ",-1)),ge(p,{variant:"link",onClick:d[0]||(d[0]=y=>a("back"))},{default:sn(()=>[...d[3]||(d[3]=[Ye("  Torna al login ",-1)])]),_:1})])):(_e(),Pe("form",{key:1,class:"auth-form",onSubmit:$h(l,["prevent"])},[d[8]||(d[8]=z("h3",{class:"reset-form__title"},"Recupera Password",-1)),d[9]||(d[9]=z("p",{class:"reset-form__description"},[Ye(" Inserisci la tua email. Ti invieremo un link per reimpostare la password. "),z("br"),z("small",null,"Controlla anche la cartella spam.")],-1)),ge(g,{modelValue:r.value,"onUpdate:modelValue":d[1]||(d[1]=y=>r.value=y),type:"email",placeholder:"Email",autocomplete:"email",onInput:u},null,8,["modelValue"]),ge(_,{message:s.value,visible:!!s.value},null,8,["message","visible"]),ge(p,{type:"submit",variant:"primary",loading:o.value},{default:sn(()=>[...d[6]||(d[6]=[Ye(" INVIA LINK ",-1)])]),_:1},8,["loading"]),ge(p,{variant:"link",onClick:d[2]||(d[2]=y=>a("back"))},{default:sn(()=>[...d[7]||(d[7]=[Ye("  Torna al login ",-1)])]),_:1})],32))])}}}),dC=Object.assign(Un(fC,[["__scopeId","data-v-17ef1ec5"]]),{__name:"AuthResetPasswordForm"}),pC=()=>{};var im={};const Zy=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},mC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},ev={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,h=i>>2,d=(i&3)<<4|a>>4;let p=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(p=64)),r.push(n[h],n[d],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Zy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||d==null)throw new gC;const p=i<<2|a>>4;if(r.push(p),u!==64){const g=a<<4&240|u>>2;if(r.push(g),d!==64){const _=u<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _C=function(t){const e=Zy(t);return ev.encodeByteArray(e,!0)},gc=function(t){return _C(t).replace(/\./g,"")},tv=function(t){try{return ev.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function yC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const vC=()=>yC().__FIREBASE_DEFAULTS__,EC=()=>{if(typeof process>"u"||typeof im>"u")return;const t=im.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},TC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&tv(t[1]);return e&&JSON.parse(e)},Zc=()=>{try{return pC()||vC()||EC()||TC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nv=t=>Zc()?.emulatorHosts?.[t],wC=t=>{const e=nv(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},rv=()=>Zc()?.config,sv=t=>Zc()?.[`_${t}`];class IC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Pi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function iv(t){return(await fetch(t,{credentials:"include"})).ok}function AC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[gc(JSON.stringify(n)),gc(JSON.stringify(o)),""].join(".")}const yo={};function bC(){const t={prod:[],emulator:[]};for(const e of Object.keys(yo))yo[e]?t.emulator.push(e):t.prod.push(e);return t}function RC(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let om=!1;function ov(t,e){if(typeof window>"u"||typeof document>"u"||!Pi(window.location.host)||yo[t]===e||yo[t]||om)return;yo[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=bC().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{om=!0,o()},p}function h(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function d(){const p=RC(r),g=n("text"),_=document.getElementById(g)||document.createElement("span"),y=n("learnmore"),N=document.getElementById(y)||document.createElement("a"),D=n("preprendIcon"),O=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const E=p.element;a(E),h(N,y);const k=u();l(O,D),E.append(O,_,N,k),document.body.appendChild(E)}i?(_.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function CC(){const t=Zc()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function NC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OC(){const t=Vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function DC(){return!CC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VC(){try{return typeof indexedDB=="object"}catch{return!1}}function xC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}const MC="FirebaseError";class hr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=MC,Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qo.prototype.create)}}class Qo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?LC(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new hr(s,a,r)}}function LC(t,e){return t.replace(UC,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const UC=/\{\$([^}]+)}/g;function FC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ws(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(am(i)&&am(o)){if(!ws(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function am(t){return t!==null&&typeof t=="object"}function Yo(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function io(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function oo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function BC(t,e){const n=new HC(t,e);return n.subscribe.bind(n)}class HC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");jC(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=ou),s.error===void 0&&(s.error=ou),s.complete===void 0&&(s.complete=ou);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ou(){}function at(t){return t&&t._delegate?t._delegate:t}class Is{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ls="[DEFAULT]";class $C{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new IC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WC(e))try{this.getOrInitializeService({instanceIdentifier:ls})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ls){return this.instances.has(e)}getOptions(e=ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ls){return this.component?this.component.multipleInstances?e:ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qC(t){return t===ls?void 0:t}function WC(t){return t.instantiationMode==="EAGER"}class GC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $C(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const KC={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},zC=Ae.INFO,QC={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},YC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=QC[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class of{constructor(e){this.name=e,this._logLevel=zC,this._logHandler=YC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const JC=(t,e)=>e.some(n=>t instanceof n);let cm,lm;function XC(){return cm||(cm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZC(){return lm||(lm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const av=new WeakMap,Ku=new WeakMap,cv=new WeakMap,au=new WeakMap,af=new WeakMap;function eP(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Mr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&av.set(n,t)}).catch(()=>{}),af.set(e,t),e}function tP(t){if(Ku.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ku.set(t,e)}let zu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ku.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function nP(t){zu=t(zu)}function rP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cu(this),e,...n);return cv.set(r,e.sort?e.sort():[e]),Mr(r)}:ZC().includes(t)?function(...e){return t.apply(cu(this),e),Mr(av.get(this))}:function(...e){return Mr(t.apply(cu(this),e))}}function sP(t){return typeof t=="function"?rP(t):(t instanceof IDBTransaction&&tP(t),JC(t,XC())?new Proxy(t,zu):t)}function Mr(t){if(t instanceof IDBRequest)return eP(t);if(au.has(t))return au.get(t);const e=sP(t);return e!==t&&(au.set(t,e),af.set(e,t)),e}const cu=t=>af.get(t);function iP(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Mr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Mr(o.result),l.oldVersion,l.newVersion,Mr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const oP=["get","getKey","getAll","getAllKeys","count"],aP=["put","add","delete","clear"],lu=new Map;function um(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lu.get(e))return lu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=aP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||oP.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return lu.set(e,i),i}nP(t=>({...t,get:(e,n,r)=>um(e,n)||t.get(e,n,r),has:(e,n)=>!!um(e,n)||t.has(e,n)}));class cP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function lP(t){return t.getComponent()?.type==="VERSION"}const Qu="@firebase/app",hm="0.14.6";const or=new of("@firebase/app"),uP="@firebase/app-compat",hP="@firebase/analytics-compat",fP="@firebase/analytics",dP="@firebase/app-check-compat",pP="@firebase/app-check",mP="@firebase/auth",gP="@firebase/auth-compat",_P="@firebase/database",yP="@firebase/data-connect",vP="@firebase/database-compat",EP="@firebase/functions",TP="@firebase/functions-compat",wP="@firebase/installations",IP="@firebase/installations-compat",AP="@firebase/messaging",bP="@firebase/messaging-compat",RP="@firebase/performance",SP="@firebase/performance-compat",CP="@firebase/remote-config",PP="@firebase/remote-config-compat",kP="@firebase/storage",NP="@firebase/storage-compat",OP="@firebase/firestore",DP="@firebase/ai",VP="@firebase/firestore-compat",xP="firebase",MP="12.6.0";const Yu="[DEFAULT]",LP={[Qu]:"fire-core",[uP]:"fire-core-compat",[fP]:"fire-analytics",[hP]:"fire-analytics-compat",[pP]:"fire-app-check",[dP]:"fire-app-check-compat",[mP]:"fire-auth",[gP]:"fire-auth-compat",[_P]:"fire-rtdb",[yP]:"fire-data-connect",[vP]:"fire-rtdb-compat",[EP]:"fire-fn",[TP]:"fire-fn-compat",[wP]:"fire-iid",[IP]:"fire-iid-compat",[AP]:"fire-fcm",[bP]:"fire-fcm-compat",[RP]:"fire-perf",[SP]:"fire-perf-compat",[CP]:"fire-rc",[PP]:"fire-rc-compat",[kP]:"fire-gcs",[NP]:"fire-gcs-compat",[OP]:"fire-fst",[VP]:"fire-fst-compat",[DP]:"fire-vertex","fire-js":"fire-js",[xP]:"fire-js-all"};const Do=new Map,UP=new Map,Ju=new Map;function fm(t,e){try{t.container.addComponent(e)}catch(n){or.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function yi(t){const e=t.name;if(Ju.has(e))return or.debug(`There were multiple attempts to register component ${e}.`),!1;Ju.set(e,t);for(const n of Do.values())fm(n,t);for(const n of UP.values())fm(n,t);return!0}function cf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function nn(t){return t==null?!1:t.settings!==void 0}const FP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lr=new Qo("app","Firebase",FP);class BP{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}}const ki=MP;function lv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Yu,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Lr.create("bad-app-name",{appName:String(s)});if(n||(n=rv()),!n)throw Lr.create("no-options");const i=Do.get(s);if(i){if(ws(n,i.options)&&ws(r,i.config))return i;throw Lr.create("duplicate-app",{appName:s})}const o=new GC(s);for(const l of Ju.values())o.addComponent(l);const a=new BP(n,r,o);return Do.set(s,a),a}function uv(t=Yu){const e=Do.get(t);if(!e&&t===Yu&&rv())return lv();if(!e)throw Lr.create("no-app",{appName:t});return e}function dm(){return Array.from(Do.values())}function Ur(t,e,n){let r=LP[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),or.warn(o.join(" "));return}yi(new Is(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const HP="firebase-heartbeat-database",jP=1,Vo="firebase-heartbeat-store";let uu=null;function hv(){return uu||(uu=iP(HP,jP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Lr.create("idb-open",{originalErrorMessage:t.message})})),uu}async function $P(t){try{const n=(await hv()).transaction(Vo),r=await n.objectStore(Vo).get(fv(t));return await n.done,r}catch(e){if(e instanceof hr)or.warn(e.message);else{const n=Lr.create("idb-get",{originalErrorMessage:e?.message});or.warn(n.message)}}}async function pm(t,e){try{const r=(await hv()).transaction(Vo,"readwrite");await r.objectStore(Vo).put(e,fv(t)),await r.done}catch(n){if(n instanceof hr)or.warn(n.message);else{const r=Lr.create("idb-set",{originalErrorMessage:n?.message});or.warn(r.message)}}}function fv(t){return`${t.name}!${t.options.appId}`}const qP=1024,WP=30;class GP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=mm();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>WP){const s=QP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){or.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=mm(),{heartbeatsToSend:n,unsentEntries:r}=KP(this._heartbeatsCache.heartbeats),s=gc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return or.warn(e),""}}}function mm(){return new Date().toISOString().substring(0,10)}function KP(t,e=qP){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),gm(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),gm(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class zP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VC()?xC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $P(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return pm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return pm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function gm(t){return gc(JSON.stringify({version:2,heartbeats:t})).length}function QP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function YP(t){yi(new Is("platform-logger",e=>new cP(e),"PRIVATE")),yi(new Is("heartbeat",e=>new GP(e),"PRIVATE")),Ur(Qu,hm,t),Ur(Qu,hm,"esm2020"),Ur("fire-js","")}YP("");function dv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JP=dv,pv=new Qo("auth","Firebase",dv());const _c=new of("@firebase/auth");function XP(t,...e){_c.logLevel<=Ae.WARN&&_c.warn(`Auth (${ki}): ${t}`,...e)}function ja(t,...e){_c.logLevel<=Ae.ERROR&&_c.error(`Auth (${ki}): ${t}`,...e)}function vn(t,...e){throw lf(t,...e)}function Pn(t,...e){return lf(t,...e)}function mv(t,e,n){const r={...JP(),[e]:n};return new Qo("auth","Firebase",r).create(e,{appName:t.name})}function er(t){return mv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lf(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return pv.create(t,...e)}function he(t,e,...n){if(!t)throw lf(e,...n)}function Qn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ja(e),new Error(e)}function ar(t,e){t||Qn(e)}function Xu(){return typeof self<"u"&&self.location?.href||""}function ZP(){return _m()==="http:"||_m()==="https:"}function _m(){return typeof self<"u"&&self.location?.protocol||null}function ek(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZP()||kC()||"connection"in navigator)?navigator.onLine:!0}function tk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Jo{constructor(e,n){this.shortDelay=e,this.longDelay=n,ar(n>e,"Short delay should be less than long delay!"),this.isMobile=SC()||NC()}get(){return ek()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function uf(t,e){ar(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class gv{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const rk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sk=new Jo(3e4,6e4);function fr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Fn(t,e,n,r,s={}){return _v(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Yo({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...i};return PC()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Pi(t.emulatorConfig.host)&&(u.credentials="include"),gv.fetch()(await yv(t,t.config.apiHost,n,a),u)})}async function _v(t,e,n){t._canInitEmulator=!1;const r={...nk,...e};try{const s=new ok(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Oa(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oa(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Oa(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Oa(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw mv(t,h,u);vn(t,h)}}catch(s){if(s instanceof hr)throw s;vn(t,"network-request-failed",{message:String(s)})}}async function Xo(t,e,n,r,s={}){const i=await Fn(t,e,n,r,s);return"mfaPendingCredential"in i&&vn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function yv(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?uf(t.config,s):`${t.config.apiScheme}://${s}`;return rk.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function ik(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ok{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pn(this.auth,"network-request-failed")),sk.get())})}}function Oa(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Pn(t,e,r);return s.customData._tokenResponse=n,s}function ym(t){return t!==void 0&&t.enterprise!==void 0}class ak{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ik(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ck(t,e){return Fn(t,"GET","/v2/recaptchaConfig",fr(t,e))}async function lk(t,e){return Fn(t,"POST","/v1/accounts:delete",e)}async function yc(t,e){return Fn(t,"POST","/v1/accounts:lookup",e)}function vo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uk(t,e=!1){const n=at(t),r=await n.getIdToken(e),s=hf(r);he(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i?.sign_in_provider;return{claims:s,token:r,authTime:vo(hu(s.auth_time)),issuedAtTime:vo(hu(s.iat)),expirationTime:vo(hu(s.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function hu(t){return Number(t)*1e3}function hf(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ja("JWT malformed, contained fewer than 3 sections"),null;try{const s=tv(n);return s?JSON.parse(s):(ja("Failed to decode base64 JWT payload"),null)}catch(s){return ja("Caught error parsing JWT payload as JSON",s?.toString()),null}}function vm(t){const e=hf(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function vi(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof hr&&hk(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function hk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class fk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Zu{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vo(this.lastLoginAt),this.creationTime=vo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function vc(t){const e=t.auth,n=await t.getIdToken(),r=await vi(t,yc(e,{idToken:n}));he(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=s.providerUserInfo?.length?vv(s.providerUserInfo):[],o=pk(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!o?.length,u=a?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Zu(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function dk(t){const e=at(t);await vc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pk(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function vv(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function mk(t,e){const n=await _v(t,{},async()=>{const r=Yo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await yv(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Pi(t.emulatorConfig.host)&&(l.credentials="include"),gv.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function gk(t,e){return Fn(t,"POST","/v2/accounts:revokeToken",fr(t,e))}class ii{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vm(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){he(e.length!==0,"internal-error");const n=vm(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await mk(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ii;return r&&(he(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(he(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(he(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ii,this.toJSON())}_performRefresh(){return Qn("not implemented")}}function Tr(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class hn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new fk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Zu(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await vi(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return uk(this,e)}reload(){return dk(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(nn(this.auth.app))return Promise.reject(er(this.auth));const e=await this.getIdToken();return await vi(this,lk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:d,emailVerified:p,isAnonymous:g,providerData:_,stsTokenManager:y}=n;he(d&&y,e,"internal-error");const N=ii.fromJSON(this.name,y);he(typeof d=="string",e,"internal-error"),Tr(r,e.name),Tr(s,e.name),he(typeof p=="boolean",e,"internal-error"),he(typeof g=="boolean",e,"internal-error"),Tr(i,e.name),Tr(o,e.name),Tr(a,e.name),Tr(l,e.name),Tr(u,e.name),Tr(h,e.name);const D=new hn({uid:d,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:N,createdAt:u,lastLoginAt:h});return _&&Array.isArray(_)&&(D.providerData=_.map(O=>({...O}))),l&&(D._redirectEventId=l),D}static async _fromIdTokenResponse(e,n,r=!1){const s=new ii;s.updateFromServerResponse(n);const i=new hn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await vc(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];he(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?vv(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!i?.length,a=new ii;a.updateFromIdToken(r);const l=new hn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Zu(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(l,u),l}}const Em=new Map;function Yn(t){ar(t instanceof Function,"Expected a class definition");let e=Em.get(t);return e?(ar(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Em.set(t,e),e)}class Ev{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ev.type="NONE";const Tm=Ev;function $a(t,e,n){return`firebase:${t}:${e}:${n}`}class oi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=$a(this.userKey,s.apiKey,i),this.fullPersistenceKey=$a("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yc(this.auth,{idToken:e}).catch(()=>{});return n?hn._fromGetAccountInfoResponse(this.auth,n,e):null}return hn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new oi(Yn(Tm),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Yn(Tm);const o=$a(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){let d;if(typeof h=="string"){const p=await yc(e,{idToken:h}).catch(()=>{});if(!p)break;d=await hn._fromGetAccountInfoResponse(e,p,h)}else d=hn._fromJSON(e,h);u!==i&&(a=d),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new oi(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new oi(i,e,r))}}function wm(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Av(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Tv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Rv(e))return"Blackberry";if(Sv(e))return"Webos";if(wv(e))return"Safari";if((e.includes("chrome/")||Iv(e))&&!e.includes("edge/"))return"Chrome";if(bv(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Tv(t=Vt()){return/firefox\//i.test(t)}function wv(t=Vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Iv(t=Vt()){return/crios\//i.test(t)}function Av(t=Vt()){return/iemobile/i.test(t)}function bv(t=Vt()){return/android/i.test(t)}function Rv(t=Vt()){return/blackberry/i.test(t)}function Sv(t=Vt()){return/webos/i.test(t)}function ff(t=Vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _k(t=Vt()){return ff(t)&&!!window.navigator?.standalone}function yk(){return OC()&&document.documentMode===10}function Cv(t=Vt()){return ff(t)||bv(t)||Sv(t)||Rv(t)||/windows phone/i.test(t)||Av(t)}function Pv(t,e=[]){let n;switch(t){case"Browser":n=wm(Vt());break;case"Worker":n=`${wm(Vt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ki}/${r}`}class vk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Ek(t,e={}){return Fn(t,"GET","/v2/passwordPolicy",fr(t,e))}const Tk=6;class wk{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Tk,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Ik{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Im(this),this.idTokenSubscription=new Im(this),this.beforeStateQueue=new vk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yn(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await oi.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yc(this,{idToken:e}),r=await hn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(nn(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,o=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!i||i===o)&&a?.user&&(r=a.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(nn(this.app))return Promise.reject(er(this));const n=e?at(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return nn(this.app)?Promise.reject(er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return nn(this.app)?Promise.reject(er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ek(this),n=new wk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await gk(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yn(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await oi.create(this,[Yn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Pv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&XP(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Os(t){return at(t)}class Im{constructor(e){this.auth=e,this.observer=null,this.addObserver=BC(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let el={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ak(t){el=t}function kv(t){return el.loadJS(t)}function bk(){return el.recaptchaEnterpriseScript}function Rk(){return el.gapiScript}function Sk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Ck{constructor(){this.enterprise=new Pk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Pk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const kk="recaptcha-enterprise",Nv="NO_RECAPTCHA";class Nk{constructor(e){this.type=kk,this.auth=Os(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{ck(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new ak(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;ym(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(Nv)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Ck().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&ym(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=bk();l.length!==0&&(l+=a),kv(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Am(t,e,n,r=!1,s=!1){const i=new Nk(t);let o;if(s)o=Nv;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function eh(t,e,n,r,s){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Am(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Am(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}function Ok(t,e){const n=cf(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ws(i,e??{}))return s;vn(s,"already-initialized")}return n.initialize({options:e})}function Dk(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Yn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Vk(t,e,n){const r=Os(t);he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=Ov(e),{host:o,port:a}=xk(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){he(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),he(ws(u,r.config.emulator)&&ws(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Pi(o)?(iv(`${i}//${o}${l}`),ov("Auth",!0)):Mk()}function Ov(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xk(t){const e=Ov(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:bm(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:bm(o)}}}function bm(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Mk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class df{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qn("not implemented")}_getIdTokenResponse(e){return Qn("not implemented")}_linkToIdToken(e,n){return Qn("not implemented")}_getReauthenticationResolver(e){return Qn("not implemented")}}async function Lk(t,e){return Fn(t,"POST","/v1/accounts:signUp",e)}async function Uk(t,e){return Xo(t,"POST","/v1/accounts:signInWithPassword",fr(t,e))}async function Fk(t,e){return Fn(t,"POST","/v1/accounts:sendOobCode",fr(t,e))}async function Bk(t,e){return Fk(t,e)}async function Hk(t,e){return Xo(t,"POST","/v1/accounts:signInWithEmailLink",fr(t,e))}async function jk(t,e){return Xo(t,"POST","/v1/accounts:signInWithEmailLink",fr(t,e))}class xo extends df{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new xo(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new xo(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eh(e,n,"signInWithPassword",Uk);case"emailLink":return Hk(e,{email:this._email,oobCode:this._password});default:vn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eh(e,r,"signUpPassword",Lk);case"emailLink":return jk(e,{idToken:n,email:this._email,oobCode:this._password});default:vn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ai(t,e){return Xo(t,"POST","/v1/accounts:signInWithIdp",fr(t,e))}const $k="http://localhost";class As extends df{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new As(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new As(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ai(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ai(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ai(e,n)}buildRequest(){const e={requestUri:$k,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yo(n)}return e}}function qk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Wk(t){const e=io(oo(t)).link,n=e?io(oo(e)).deep_link_id:null,r=io(oo(t)).deep_link_id;return(r?io(oo(r)).link:null)||r||n||e||t}class pf{constructor(e){const n=io(oo(e)),r=n.apiKey??null,s=n.oobCode??null,i=qk(n.mode??null);he(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Wk(e);try{return new pf(n)}catch{return null}}}class Ni{constructor(){this.providerId=Ni.PROVIDER_ID}static credential(e,n){return xo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=pf.parseLink(n);return he(r,"argument-error"),xo._fromEmailAndCode(e,r.code,r.tenantId)}}Ni.PROVIDER_ID="password";Ni.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ni.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Dv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Zo extends Dv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Sr extends Zo{constructor(){super("facebook.com")}static credential(e){return As._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sr.credential(e.oauthAccessToken)}catch{return null}}}Sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sr.PROVIDER_ID="facebook.com";class Cr extends Zo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return As._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Cr.credential(n,r)}catch{return null}}}Cr.GOOGLE_SIGN_IN_METHOD="google.com";Cr.PROVIDER_ID="google.com";class Pr extends Zo{constructor(){super("github.com")}static credential(e){return As._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.GITHUB_SIGN_IN_METHOD="github.com";Pr.PROVIDER_ID="github.com";class kr extends Zo{constructor(){super("twitter.com")}static credential(e,n){return As._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return kr.credential(n,r)}catch{return null}}}kr.TWITTER_SIGN_IN_METHOD="twitter.com";kr.PROVIDER_ID="twitter.com";async function Gk(t,e){return Xo(t,"POST","/v1/accounts:signUp",fr(t,e))}class bs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await hn._fromIdTokenResponse(e,r,s),o=Rm(r);return new bs({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Rm(r);return new bs({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Rm(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Ec extends hr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ec.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ec(e,n,r,s)}}function Vv(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ec._fromErrorAndOperation(t,i,e,r):i})}async function Kk(t,e,n=!1){const r=await vi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return bs._forOperation(t,"link",r)}async function zk(t,e,n=!1){const{auth:r}=t;if(nn(r.app))return Promise.reject(er(r));const s="reauthenticate";try{const i=await vi(t,Vv(r,s,e,t),n);he(i.idToken,r,"internal-error");const o=hf(i.idToken);he(o,r,"internal-error");const{sub:a}=o;return he(t.uid===a,r,"user-mismatch"),bs._forOperation(t,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&vn(r,"user-mismatch"),i}}async function xv(t,e,n=!1){if(nn(t.app))return Promise.reject(er(t));const r="signIn",s=await Vv(t,r,e),i=await bs._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function Qk(t,e){return xv(Os(t),e)}async function Mv(t){const e=Os(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Yk(t,e,n){if(nn(t.app))return Promise.reject(er(t));const r=Os(t),o=await eh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Gk).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Mv(t),l}),a=await bs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Jk(t,e,n){return nn(t.app)?Promise.reject(er(t)):Qk(at(t),Ni.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Mv(t),r})}async function Sm(t,e){const n=at(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:i}=await Bk(n.auth,s);i!==t.email&&await t.reload()}async function Xk(t,e){return Fn(t,"POST","/v1/accounts:update",e)}async function Zk(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=at(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await vi(r,Xk(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function e1(t,e,n,r){return at(t).onIdTokenChanged(e,n,r)}function t1(t,e,n){return at(t).beforeAuthStateChanged(e,n)}function n1(t,e,n,r){return at(t).onAuthStateChanged(e,n,r)}function r1(t){return at(t).signOut()}const Tc="__sak";class Lv{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Tc,"1"),this.storage.removeItem(Tc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const s1=1e3,i1=10;class Uv extends Lv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Cv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);yk()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,i1):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},s1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Uv.type="LOCAL";const o1=Uv;class Fv extends Lv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Fv.type="SESSION";const Bv=Fv;function a1(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class tl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new tl(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await a1(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tl.receivers=[];function mf(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class c1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=mf("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const p=d;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function kn(){return window}function l1(t){kn().location.href=t}function Hv(){return typeof kn().WorkerGlobalScope<"u"&&typeof kn().importScripts=="function"}async function u1(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function h1(){return navigator?.serviceWorker?.controller||null}function f1(){return Hv()?self:null}const jv="firebaseLocalStorageDb",d1=1,wc="firebaseLocalStorage",$v="fbase_key";class ea{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nl(t,e){return t.transaction([wc],e?"readwrite":"readonly").objectStore(wc)}function p1(){const t=indexedDB.deleteDatabase(jv);return new ea(t).toPromise()}function th(){const t=indexedDB.open(jv,d1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(wc,{keyPath:$v})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(wc)?e(r):(r.close(),await p1(),e(await th()))})})}async function Cm(t,e,n){const r=nl(t,!0).put({[$v]:e,value:n});return new ea(r).toPromise()}async function m1(t,e){const n=nl(t,!1).get(e),r=await new ea(n).toPromise();return r===void 0?null:r.value}function Pm(t,e){const n=nl(t,!0).delete(e);return new ea(n).toPromise()}const g1=800,_1=3;class qv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await th(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>_1)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Hv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tl._getInstance(f1()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await u1(),!this.activeServiceWorker)return;this.sender=new c1(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||h1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await th();return await Cm(e,Tc,"1"),await Pm(e,Tc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Cm(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>m1(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Pm(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=nl(s,!1).getAll();return new ea(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),g1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qv.type="LOCAL";const y1=qv;new Jo(3e4,6e4);function v1(t,e){return e?Yn(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class gf extends df{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ai(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ai(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ai(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function E1(t){return xv(t.auth,new gf(t),t.bypassAuthState)}function T1(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),zk(n,new gf(t),t.bypassAuthState)}async function w1(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),Kk(n,new gf(t),t.bypassAuthState)}class Wv{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return E1;case"linkViaPopup":case"linkViaRedirect":return w1;case"reauthViaPopup":case"reauthViaRedirect":return T1;default:vn(this.auth,"internal-error")}}resolve(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const I1=new Jo(2e3,1e4);class Qs extends Wv{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Qs.currentPopupAction&&Qs.currentPopupAction.cancel(),Qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){ar(this.filter.length===1,"Popup operations only handle one event");const e=mf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,I1.get())};e()}}Qs.currentPopupAction=null;const A1="pendingRedirect",qa=new Map;class b1 extends Wv{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=qa.get(this.auth._key());if(!e){try{const r=await R1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}qa.set(this.auth._key(),e)}return this.bypassAuthState||qa.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function R1(t,e){const n=P1(e),r=C1(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function S1(t,e){qa.set(t._key(),e)}function C1(t){return Yn(t._redirectPersistence)}function P1(t){return $a(A1,t.config.apiKey,t.name)}async function k1(t,e,n=!1){if(nn(t.app))return Promise.reject(er(t));const r=Os(t),s=v1(r,e),o=await new b1(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}const N1=600*1e3;class O1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!D1(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Gv(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Pn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=N1&&this.cachedEventUids.clear(),this.cachedEventUids.has(km(e))}saveEventToCache(e){this.cachedEventUids.add(km(e)),this.lastProcessedEventTime=Date.now()}}function km(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Gv({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function D1(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gv(t);default:return!1}}async function V1(t,e={}){return Fn(t,"GET","/v1/projects",e)}const x1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,M1=/^https?/;async function L1(t){if(t.config.emulator)return;const{authorizedDomains:e}=await V1(t);for(const n of e)try{if(U1(n))return}catch{}vn(t,"unauthorized-domain")}function U1(t){const e=Xu(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!M1.test(n))return!1;if(x1.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const F1=new Jo(3e4,6e4);function Nm(){const t=kn().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function B1(t){return new Promise((e,n)=>{function r(){Nm(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Nm(),n(Pn(t,"network-request-failed"))},timeout:F1.get()})}if(kn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(kn().gapi?.load)r();else{const s=Sk("iframefcb");return kn()[s]=()=>{gapi.load?r():n(Pn(t,"network-request-failed"))},kv(`${Rk()}?onload=${s}`).catch(i=>n(i))}}).catch(e=>{throw Wa=null,e})}let Wa=null;function H1(t){return Wa=Wa||B1(t),Wa}const j1=new Jo(5e3,15e3),$1="__/auth/iframe",q1="emulator/auth/iframe",W1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},G1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function K1(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?uf(e,q1):`https://${t.config.authDomain}/${$1}`,r={apiKey:e.apiKey,appName:t.name,v:ki},s=G1.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Yo(r).slice(1)}`}async function z1(t){const e=await H1(t),n=kn().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:K1(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:W1,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Pn(t,"network-request-failed"),a=kn().setTimeout(()=>{i(o)},j1.get());function l(){kn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}const Q1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Y1=500,J1=600,X1="_blank",Z1="http://localhost";class Om{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eN(t,e,n,r=Y1,s=J1){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...Q1,width:r.toString(),height:s.toString(),top:i,left:o},u=Vt().toLowerCase();n&&(a=Iv(u)?X1:n),Tv(u)&&(e=e||Z1,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[g,_])=>`${p}${g}=${_},`,"");if(_k(u)&&a!=="_self")return tN(e||"",a),new Om(null);const d=window.open(e||"",a,h);he(d,t,"popup-blocked");try{d.focus()}catch{}return new Om(d)}function tN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const nN="__/auth/handler",rN="emulator/auth/handler",sN=encodeURIComponent("fac");async function Dm(t,e,n,r,s,i){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ki,eventId:s};if(e instanceof Dv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",FC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof Zo){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${sN}=${encodeURIComponent(l)}`:"";return`${iN(t)}?${Yo(a).slice(1)}${u}`}function iN({config:t}){return t.emulator?uf(t,rN):`https://${t.authDomain}/${nN}`}const fu="webStorageSupport";class oN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bv,this._completeRedirectFn=k1,this._overrideRedirectResult=S1}async _openPopup(e,n,r,s){ar(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await Dm(e,n,r,Xu(),s);return eN(e,i,mf())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Dm(e,n,r,Xu(),s);return l1(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ar(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await z1(e),r=new O1(e);return n.register("authEvent",s=>(he(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fu,{type:fu},s=>{const i=s?.[0]?.[fu];i!==void 0&&n(!!i),vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=L1(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Cv()||wv()||ff()}}const aN=oN;var Vm="@firebase/auth",xm="1.12.0";class cN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function lN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uN(t){yi(new Is("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;he(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pv(t)},u=new Ik(r,s,i,l);return Dk(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),yi(new Is("auth-internal",e=>{const n=Os(e.getProvider("auth").getImmediate());return(r=>new cN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ur(Vm,xm,lN(t)),Ur(Vm,xm,"esm2020")}const hN=300,fN=sv("authIdTokenMaxAge")||hN;let Mm=null;const dN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>fN)return;const s=n?.token;Mm!==s&&(Mm=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function pN(t=uv()){const e=cf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Ok(t,{popupRedirectResolver:aN,persistence:[y1,o1,Bv]}),r=sv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=dN(i.toString());t1(n,o,()=>o(n.currentUser)),e1(n,a=>o(a))}}const s=nv("auth");return s&&Vk(n,`http://${s}`),n}function mN(){return document.getElementsByTagName("head")?.[0]??document}Ak({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Pn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",mN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uN("Browser");var Lm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Fr,Kv;(function(){var t;function e(b,w){function T(){}T.prototype=w.prototype,b.F=w.prototype,b.prototype=new T,b.prototype.constructor=b,b.D=function(R,C,S){for(var I=Array(arguments.length-2),le=2;le<arguments.length;le++)I[le-2]=arguments[le];return w.prototype[C].apply(R,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,w,T){T||(T=0);const R=Array(16);if(typeof w=="string")for(var C=0;C<16;++C)R[C]=w.charCodeAt(T++)|w.charCodeAt(T++)<<8|w.charCodeAt(T++)<<16|w.charCodeAt(T++)<<24;else for(C=0;C<16;++C)R[C]=w[T++]|w[T++]<<8|w[T++]<<16|w[T++]<<24;w=b.g[0],T=b.g[1],C=b.g[2];let S=b.g[3],I;I=w+(S^T&(C^S))+R[0]+3614090360&4294967295,w=T+(I<<7&4294967295|I>>>25),I=S+(C^w&(T^C))+R[1]+3905402710&4294967295,S=w+(I<<12&4294967295|I>>>20),I=C+(T^S&(w^T))+R[2]+606105819&4294967295,C=S+(I<<17&4294967295|I>>>15),I=T+(w^C&(S^w))+R[3]+3250441966&4294967295,T=C+(I<<22&4294967295|I>>>10),I=w+(S^T&(C^S))+R[4]+4118548399&4294967295,w=T+(I<<7&4294967295|I>>>25),I=S+(C^w&(T^C))+R[5]+1200080426&4294967295,S=w+(I<<12&4294967295|I>>>20),I=C+(T^S&(w^T))+R[6]+2821735955&4294967295,C=S+(I<<17&4294967295|I>>>15),I=T+(w^C&(S^w))+R[7]+4249261313&4294967295,T=C+(I<<22&4294967295|I>>>10),I=w+(S^T&(C^S))+R[8]+1770035416&4294967295,w=T+(I<<7&4294967295|I>>>25),I=S+(C^w&(T^C))+R[9]+2336552879&4294967295,S=w+(I<<12&4294967295|I>>>20),I=C+(T^S&(w^T))+R[10]+4294925233&4294967295,C=S+(I<<17&4294967295|I>>>15),I=T+(w^C&(S^w))+R[11]+2304563134&4294967295,T=C+(I<<22&4294967295|I>>>10),I=w+(S^T&(C^S))+R[12]+1804603682&4294967295,w=T+(I<<7&4294967295|I>>>25),I=S+(C^w&(T^C))+R[13]+4254626195&4294967295,S=w+(I<<12&4294967295|I>>>20),I=C+(T^S&(w^T))+R[14]+2792965006&4294967295,C=S+(I<<17&4294967295|I>>>15),I=T+(w^C&(S^w))+R[15]+1236535329&4294967295,T=C+(I<<22&4294967295|I>>>10),I=w+(C^S&(T^C))+R[1]+4129170786&4294967295,w=T+(I<<5&4294967295|I>>>27),I=S+(T^C&(w^T))+R[6]+3225465664&4294967295,S=w+(I<<9&4294967295|I>>>23),I=C+(w^T&(S^w))+R[11]+643717713&4294967295,C=S+(I<<14&4294967295|I>>>18),I=T+(S^w&(C^S))+R[0]+3921069994&4294967295,T=C+(I<<20&4294967295|I>>>12),I=w+(C^S&(T^C))+R[5]+3593408605&4294967295,w=T+(I<<5&4294967295|I>>>27),I=S+(T^C&(w^T))+R[10]+38016083&4294967295,S=w+(I<<9&4294967295|I>>>23),I=C+(w^T&(S^w))+R[15]+3634488961&4294967295,C=S+(I<<14&4294967295|I>>>18),I=T+(S^w&(C^S))+R[4]+3889429448&4294967295,T=C+(I<<20&4294967295|I>>>12),I=w+(C^S&(T^C))+R[9]+568446438&4294967295,w=T+(I<<5&4294967295|I>>>27),I=S+(T^C&(w^T))+R[14]+3275163606&4294967295,S=w+(I<<9&4294967295|I>>>23),I=C+(w^T&(S^w))+R[3]+4107603335&4294967295,C=S+(I<<14&4294967295|I>>>18),I=T+(S^w&(C^S))+R[8]+1163531501&4294967295,T=C+(I<<20&4294967295|I>>>12),I=w+(C^S&(T^C))+R[13]+2850285829&4294967295,w=T+(I<<5&4294967295|I>>>27),I=S+(T^C&(w^T))+R[2]+4243563512&4294967295,S=w+(I<<9&4294967295|I>>>23),I=C+(w^T&(S^w))+R[7]+1735328473&4294967295,C=S+(I<<14&4294967295|I>>>18),I=T+(S^w&(C^S))+R[12]+2368359562&4294967295,T=C+(I<<20&4294967295|I>>>12),I=w+(T^C^S)+R[5]+4294588738&4294967295,w=T+(I<<4&4294967295|I>>>28),I=S+(w^T^C)+R[8]+2272392833&4294967295,S=w+(I<<11&4294967295|I>>>21),I=C+(S^w^T)+R[11]+1839030562&4294967295,C=S+(I<<16&4294967295|I>>>16),I=T+(C^S^w)+R[14]+4259657740&4294967295,T=C+(I<<23&4294967295|I>>>9),I=w+(T^C^S)+R[1]+2763975236&4294967295,w=T+(I<<4&4294967295|I>>>28),I=S+(w^T^C)+R[4]+1272893353&4294967295,S=w+(I<<11&4294967295|I>>>21),I=C+(S^w^T)+R[7]+4139469664&4294967295,C=S+(I<<16&4294967295|I>>>16),I=T+(C^S^w)+R[10]+3200236656&4294967295,T=C+(I<<23&4294967295|I>>>9),I=w+(T^C^S)+R[13]+681279174&4294967295,w=T+(I<<4&4294967295|I>>>28),I=S+(w^T^C)+R[0]+3936430074&4294967295,S=w+(I<<11&4294967295|I>>>21),I=C+(S^w^T)+R[3]+3572445317&4294967295,C=S+(I<<16&4294967295|I>>>16),I=T+(C^S^w)+R[6]+76029189&4294967295,T=C+(I<<23&4294967295|I>>>9),I=w+(T^C^S)+R[9]+3654602809&4294967295,w=T+(I<<4&4294967295|I>>>28),I=S+(w^T^C)+R[12]+3873151461&4294967295,S=w+(I<<11&4294967295|I>>>21),I=C+(S^w^T)+R[15]+530742520&4294967295,C=S+(I<<16&4294967295|I>>>16),I=T+(C^S^w)+R[2]+3299628645&4294967295,T=C+(I<<23&4294967295|I>>>9),I=w+(C^(T|~S))+R[0]+4096336452&4294967295,w=T+(I<<6&4294967295|I>>>26),I=S+(T^(w|~C))+R[7]+1126891415&4294967295,S=w+(I<<10&4294967295|I>>>22),I=C+(w^(S|~T))+R[14]+2878612391&4294967295,C=S+(I<<15&4294967295|I>>>17),I=T+(S^(C|~w))+R[5]+4237533241&4294967295,T=C+(I<<21&4294967295|I>>>11),I=w+(C^(T|~S))+R[12]+1700485571&4294967295,w=T+(I<<6&4294967295|I>>>26),I=S+(T^(w|~C))+R[3]+2399980690&4294967295,S=w+(I<<10&4294967295|I>>>22),I=C+(w^(S|~T))+R[10]+4293915773&4294967295,C=S+(I<<15&4294967295|I>>>17),I=T+(S^(C|~w))+R[1]+2240044497&4294967295,T=C+(I<<21&4294967295|I>>>11),I=w+(C^(T|~S))+R[8]+1873313359&4294967295,w=T+(I<<6&4294967295|I>>>26),I=S+(T^(w|~C))+R[15]+4264355552&4294967295,S=w+(I<<10&4294967295|I>>>22),I=C+(w^(S|~T))+R[6]+2734768916&4294967295,C=S+(I<<15&4294967295|I>>>17),I=T+(S^(C|~w))+R[13]+1309151649&4294967295,T=C+(I<<21&4294967295|I>>>11),I=w+(C^(T|~S))+R[4]+4149444226&4294967295,w=T+(I<<6&4294967295|I>>>26),I=S+(T^(w|~C))+R[11]+3174756917&4294967295,S=w+(I<<10&4294967295|I>>>22),I=C+(w^(S|~T))+R[2]+718787259&4294967295,C=S+(I<<15&4294967295|I>>>17),I=T+(S^(C|~w))+R[9]+3951481745&4294967295,b.g[0]=b.g[0]+w&4294967295,b.g[1]=b.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,b.g[2]=b.g[2]+C&4294967295,b.g[3]=b.g[3]+S&4294967295}r.prototype.v=function(b,w){w===void 0&&(w=b.length);const T=w-this.blockSize,R=this.C;let C=this.h,S=0;for(;S<w;){if(C==0)for(;S<=T;)s(this,b,S),S+=this.blockSize;if(typeof b=="string"){for(;S<w;)if(R[C++]=b.charCodeAt(S++),C==this.blockSize){s(this,R),C=0;break}}else for(;S<w;)if(R[C++]=b[S++],C==this.blockSize){s(this,R),C=0;break}}this.h=C,this.o+=w},r.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var w=1;w<b.length-8;++w)b[w]=0;w=this.o*8;for(var T=b.length-8;T<b.length;++T)b[T]=w&255,w/=256;for(this.v(b),b=Array(16),w=0,T=0;T<4;++T)for(let R=0;R<32;R+=8)b[w++]=this.g[T]>>>R&255;return b};function i(b,w){var T=a;return Object.prototype.hasOwnProperty.call(T,b)?T[b]:T[b]=w(b)}function o(b,w){this.h=w;const T=[];let R=!0;for(let C=b.length-1;C>=0;C--){const S=b[C]|0;R&&S==w||(T[C]=S,R=!1)}this.g=T}var a={};function l(b){return-128<=b&&b<128?i(b,function(w){return new o([w|0],w<0?-1:0)}):new o([b|0],b<0?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return d;if(b<0)return N(u(-b));const w=[];let T=1;for(let R=0;b>=T;R++)w[R]=b/T|0,T*=4294967296;return new o(w,0)}function h(b,w){if(b.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(b.charAt(0)=="-")return N(h(b.substring(1),w));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const T=u(Math.pow(w,8));let R=d;for(let S=0;S<b.length;S+=8){var C=Math.min(8,b.length-S);const I=parseInt(b.substring(S,S+C),w);C<8?(C=u(Math.pow(w,C)),R=R.j(C).add(u(I))):(R=R.j(T),R=R.add(u(I)))}return R}var d=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-N(this).m();let b=0,w=1;for(let T=0;T<this.g.length;T++){const R=this.i(T);b+=(R>=0?R:4294967296+R)*w,w*=4294967296}return b},t.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(_(this))return"0";if(y(this))return"-"+N(this).toString(b);const w=u(Math.pow(b,6));var T=this;let R="";for(;;){const C=k(T,w).g;T=D(T,C.j(w));let S=((T.g.length>0?T.g[0]:T.h)>>>0).toString(b);if(T=C,_(T))return S+R;for(;S.length<6;)S="0"+S;R=S+R}},t.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function _(b){if(b.h!=0)return!1;for(let w=0;w<b.g.length;w++)if(b.g[w]!=0)return!1;return!0}function y(b){return b.h==-1}t.l=function(b){return b=D(this,b),y(b)?-1:_(b)?0:1};function N(b){const w=b.g.length,T=[];for(let R=0;R<w;R++)T[R]=~b.g[R];return new o(T,~b.h).add(p)}t.abs=function(){return y(this)?N(this):this},t.add=function(b){const w=Math.max(this.g.length,b.g.length),T=[];let R=0;for(let C=0;C<=w;C++){let S=R+(this.i(C)&65535)+(b.i(C)&65535),I=(S>>>16)+(this.i(C)>>>16)+(b.i(C)>>>16);R=I>>>16,S&=65535,I&=65535,T[C]=I<<16|S}return new o(T,T[T.length-1]&-2147483648?-1:0)};function D(b,w){return b.add(N(w))}t.j=function(b){if(_(this)||_(b))return d;if(y(this))return y(b)?N(this).j(N(b)):N(N(this).j(b));if(y(b))return N(this.j(N(b)));if(this.l(g)<0&&b.l(g)<0)return u(this.m()*b.m());const w=this.g.length+b.g.length,T=[];for(var R=0;R<2*w;R++)T[R]=0;for(R=0;R<this.g.length;R++)for(let C=0;C<b.g.length;C++){const S=this.i(R)>>>16,I=this.i(R)&65535,le=b.i(C)>>>16,Ie=b.i(C)&65535;T[2*R+2*C]+=I*Ie,O(T,2*R+2*C),T[2*R+2*C+1]+=S*Ie,O(T,2*R+2*C+1),T[2*R+2*C+1]+=I*le,O(T,2*R+2*C+1),T[2*R+2*C+2]+=S*le,O(T,2*R+2*C+2)}for(b=0;b<w;b++)T[b]=T[2*b+1]<<16|T[2*b];for(b=w;b<2*w;b++)T[b]=0;return new o(T,0)};function O(b,w){for(;(b[w]&65535)!=b[w];)b[w+1]+=b[w]>>>16,b[w]&=65535,w++}function E(b,w){this.g=b,this.h=w}function k(b,w){if(_(w))throw Error("division by zero");if(_(b))return new E(d,d);if(y(b))return w=k(N(b),w),new E(N(w.g),N(w.h));if(y(w))return w=k(b,N(w)),new E(N(w.g),w.h);if(b.g.length>30){if(y(b)||y(w))throw Error("slowDivide_ only works with positive integers.");for(var T=p,R=w;R.l(b)<=0;)T=V(T),R=V(R);var C=U(T,1),S=U(R,1);for(R=U(R,2),T=U(T,2);!_(R);){var I=S.add(R);I.l(b)<=0&&(C=C.add(T),S=I),R=U(R,1),T=U(T,1)}return w=D(b,C.j(w)),new E(C,w)}for(C=d;b.l(w)>=0;){for(T=Math.max(1,Math.floor(b.m()/w.m())),R=Math.ceil(Math.log(T)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),S=u(T),I=S.j(w);y(I)||I.l(b)>0;)T-=R,S=u(T),I=S.j(w);_(S)&&(S=p),C=C.add(S),b=D(b,I)}return new E(C,b)}t.B=function(b){return k(this,b).h},t.and=function(b){const w=Math.max(this.g.length,b.g.length),T=[];for(let R=0;R<w;R++)T[R]=this.i(R)&b.i(R);return new o(T,this.h&b.h)},t.or=function(b){const w=Math.max(this.g.length,b.g.length),T=[];for(let R=0;R<w;R++)T[R]=this.i(R)|b.i(R);return new o(T,this.h|b.h)},t.xor=function(b){const w=Math.max(this.g.length,b.g.length),T=[];for(let R=0;R<w;R++)T[R]=this.i(R)^b.i(R);return new o(T,this.h^b.h)};function V(b){const w=b.g.length+1,T=[];for(let R=0;R<w;R++)T[R]=b.i(R)<<1|b.i(R-1)>>>31;return new o(T,b.h)}function U(b,w){const T=w>>5;w%=32;const R=b.g.length-T,C=[];for(let S=0;S<R;S++)C[S]=w>0?b.i(S+T)>>>w|b.i(S+T+1)<<32-w:b.i(S+T);return new o(C,b.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Kv=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Fr=o}).apply(typeof Lm<"u"?Lm:typeof self<"u"?self:typeof window<"u"?window:{});var Da=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zv,ao,Qv,Ga,nh,Yv,Jv,Xv;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Da=="object"&&Da];for(var f=0;f<c.length;++f){var m=c[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function s(c,f){if(f)e:{var m=r;c=c.split(".");for(var v=0;v<c.length-1;v++){var x=c[v];if(!(x in m))break e;m=m[x]}c=c[c.length-1],v=m[c],f=f(v),f!=v&&f!=null&&e(m,c,{configurable:!0,writable:!0,value:f})}}s("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(c){return c||function(f){var m=[],v;for(v in f)Object.prototype.hasOwnProperty.call(f,v)&&m.push([v,f[v]]);return m}});var i=i||{},o=this||self;function a(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function l(c,f,m){return c.call.apply(c.bind,arguments)}function u(c,f,m){return u=l,u.apply(null,arguments)}function h(c,f){var m=Array.prototype.slice.call(arguments,1);return function(){var v=m.slice();return v.push.apply(v,arguments),c.apply(this,v)}}function d(c,f){function m(){}m.prototype=f.prototype,c.Z=f.prototype,c.prototype=new m,c.prototype.constructor=c,c.Ob=function(v,x,L){for(var Y=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)Y[Ee-2]=arguments[Ee];return f.prototype[x].apply(v,Y)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function g(c){const f=c.length;if(f>0){const m=Array(f);for(let v=0;v<f;v++)m[v]=c[v];return m}return[]}function _(c,f){for(let v=1;v<arguments.length;v++){const x=arguments[v];var m=typeof x;if(m=m!="object"?m:x?Array.isArray(x)?"array":m:"null",m=="array"||m=="object"&&typeof x.length=="number"){m=c.length||0;const L=x.length||0;c.length=m+L;for(let Y=0;Y<L;Y++)c[m+Y]=x[Y]}else c.push(x)}}class y{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function N(c){o.setTimeout(()=>{throw c},0)}function D(){var c=b;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class O{constructor(){this.h=this.g=null}add(f,m){const v=E.get();v.set(f,m),this.h?this.h.next=v:this.g=v,this.h=v}}var E=new y(()=>new k,c=>c.reset());class k{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let V,U=!1,b=new O,w=()=>{const c=Promise.resolve(void 0);V=()=>{c.then(T)}};function T(){for(var c;c=D();){try{c.h.call(c.g)}catch(m){N(m)}var f=E;f.j(c),f.h<100&&(f.h++,c.next=f.g,f.g=c)}U=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var S=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const m=()=>{};o.addEventListener("test",m,f),o.removeEventListener("test",m,f)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function le(c,f){C.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,f)}d(le,C),le.prototype.init=function(c,f){const m=this.type=c.type,v=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget,f||(m=="mouseover"?f=c.fromElement:m=="mouseout"&&(f=c.toElement)),this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),re=0;function pe(c,f,m,v,x){this.listener=c,this.proxy=null,this.src=f,this.type=m,this.capture=!!v,this.ha=x,this.key=++re,this.da=this.fa=!1}function ee(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ne(c,f,m){for(const v in c)f.call(m,c[v],v,c)}function Tn(c,f){for(const m in c)f.call(void 0,c[m],m,c)}function qt(c){const f={};for(const m in c)f[m]=c[m];return f}const Tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Bn(c,f){let m,v;for(let x=1;x<arguments.length;x++){v=arguments[x];for(m in v)c[m]=v[m];for(let L=0;L<Tt.length;L++)m=Tt[L],Object.prototype.hasOwnProperty.call(v,m)&&(c[m]=v[m])}}function cn(c){this.src=c,this.g={},this.h=0}cn.prototype.add=function(c,f,m,v,x){const L=c.toString();c=this.g[L],c||(c=this.g[L]=[],this.h++);const Y=Rt(c,f,v,x);return Y>-1?(f=c[Y],m||(f.fa=!1)):(f=new pe(f,this.src,L,!!v,x),f.fa=m,c.push(f)),f};function ln(c,f){const m=f.type;if(m in c.g){var v=c.g[m],x=Array.prototype.indexOf.call(v,f,void 0),L;(L=x>=0)&&Array.prototype.splice.call(v,x,1),L&&(ee(f),c.g[m].length==0&&(delete c.g[m],c.h--))}}function Rt(c,f,m,v){for(let x=0;x<c.length;++x){const L=c[x];if(!L.da&&L.listener==f&&L.capture==!!m&&L.ha==v)return x}return-1}var B="closure_lm_"+(Math.random()*1e6|0),te={};function J(c,f,m,v,x){if(Array.isArray(f)){for(let L=0;L<f.length;L++)J(c,f[L],m,v,x);return null}return m=q(m),c&&c[Ie]?c.J(f,m,a(v)?!!v.capture:!1,x):ie(c,f,m,!1,v,x)}function ie(c,f,m,v,x,L){if(!f)throw Error("Invalid event type");const Y=a(x)?!!x.capture:!!x;let Ee=$(c);if(Ee||(c[B]=Ee=new cn(c)),m=Ee.add(f,m,v,Y,L),m.proxy)return m;if(v=Te(),m.proxy=v,v.src=c,v.listener=m,c.addEventListener)S||(x=Y),x===void 0&&(x=!1),c.addEventListener(f.toString(),v,x);else if(c.attachEvent)c.attachEvent(P(f.toString()),v);else if(c.addListener&&c.removeListener)c.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Te(){function c(m){return f.call(c.src,c.listener,m)}const f=M;return c}function Le(c,f,m,v,x){if(Array.isArray(f))for(var L=0;L<f.length;L++)Le(c,f[L],m,v,x);else v=a(v)?!!v.capture:!!v,m=q(m),c&&c[Ie]?(c=c.i,L=String(f).toString(),L in c.g&&(f=c.g[L],m=Rt(f,m,v,x),m>-1&&(ee(f[m]),Array.prototype.splice.call(f,m,1),f.length==0&&(delete c.g[L],c.h--)))):c&&(c=$(c))&&(f=c.g[f.toString()],c=-1,f&&(c=Rt(f,m,v,x)),(m=c>-1?f[c]:null)&&A(m))}function A(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[Ie])ln(f.i,c);else{var m=c.type,v=c.proxy;f.removeEventListener?f.removeEventListener(m,v,c.capture):f.detachEvent?f.detachEvent(P(m),v):f.addListener&&f.removeListener&&f.removeListener(v),(m=$(f))?(ln(m,c),m.h==0&&(m.src=null,f[B]=null)):ee(c)}}}function P(c){return c in te?te[c]:te[c]="on"+c}function M(c,f){if(c.da)c=!0;else{f=new le(f,this);const m=c.listener,v=c.ha||c.src;c.fa&&A(c),c=m.call(v,f)}return c}function $(c){return c=c[B],c instanceof cn?c:null}var F="__closure_events_fn_"+(Math.random()*1e9>>>0);function q(c){return typeof c=="function"?c:(c[F]||(c[F]=function(f){return c.handleEvent(f)}),c[F])}function K(){R.call(this),this.i=new cn(this),this.M=this,this.G=null}d(K,R),K.prototype[Ie]=!0,K.prototype.removeEventListener=function(c,f,m,v){Le(this,c,f,m,v)};function G(c,f){var m,v=c.G;if(v)for(m=[];v;v=v.G)m.push(v);if(c=c.M,v=f.type||f,typeof f=="string")f=new C(f,c);else if(f instanceof C)f.target=f.target||c;else{var x=f;f=new C(v,c),Bn(f,x)}x=!0;let L,Y;if(m)for(Y=m.length-1;Y>=0;Y--)L=f.g=m[Y],x=Q(L,v,!0,f)&&x;if(L=f.g=c,x=Q(L,v,!0,f)&&x,x=Q(L,v,!1,f)&&x,m)for(Y=0;Y<m.length;Y++)L=f.g=m[Y],x=Q(L,v,!1,f)&&x}K.prototype.N=function(){if(K.Z.N.call(this),this.i){var c=this.i;for(const f in c.g){const m=c.g[f];for(let v=0;v<m.length;v++)ee(m[v]);delete c.g[f],c.h--}}this.G=null},K.prototype.J=function(c,f,m,v){return this.i.add(String(c),f,!1,m,v)},K.prototype.K=function(c,f,m,v){return this.i.add(String(c),f,!0,m,v)};function Q(c,f,m,v){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();let x=!0;for(let L=0;L<f.length;++L){const Y=f[L];if(Y&&!Y.da&&Y.capture==m){const Ee=Y.listener,ht=Y.ha||Y.src;Y.fa&&ln(c.i,Y),x=Ee.call(ht,v)!==!1&&x}}return x&&!v.defaultPrevented}function W(c,f){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=u(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:o.setTimeout(c,f||0)}function ce(c){c.g=W(()=>{c.g=null,c.i&&(c.i=!1,ce(c))},c.l);const f=c.h;c.h=null,c.m.apply(null,f)}class Z extends R{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:ce(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function se(c){R.call(this),this.h=c,this.g={}}d(se,R);var me=[];function we(c){Ne(c.g,function(f,m){this.g.hasOwnProperty(m)&&A(f)},c),c.g={}}se.prototype.N=function(){se.Z.N.call(this),we(this)},se.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oe=o.JSON.stringify,ke=o.JSON.parse,St=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function lt(){}function Ft(){}var ut={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Hn(){C.call(this,"d")}d(Hn,C);function Ms(){C.call(this,"c")}d(Ms,C);var et={},Wt=null;function Yr(){return Wt=Wt||new K}et.Ia="serverreachability";function Li(c){C.call(this,et.Ia,c)}d(Li,C);function Ui(c){const f=Yr();G(f,new Li(f))}et.STAT_EVENT="statevent";function zf(c,f){C.call(this,et.STAT_EVENT,c),this.stat=f}d(zf,C);function xt(c){const f=Yr();G(f,new zf(f,c))}et.Ja="timingevent";function Qf(c,f){C.call(this,et.Ja,c),this.size=f}d(Qf,C);function Fi(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},f)}function Bi(){this.g=!0}Bi.prototype.ua=function(){this.g=!1};function OT(c,f,m,v,x,L){c.info(function(){if(c.g)if(L){var Y="",Ee=L.split("&");for(let Ue=0;Ue<Ee.length;Ue++){var ht=Ee[Ue].split("=");if(ht.length>1){const mt=ht[0];ht=ht[1];const In=mt.split("_");Y=In.length>=2&&In[1]=="type"?Y+(mt+"="+ht+"&"):Y+(mt+"=redacted&")}}}else Y=null;else Y=L;return"XMLHTTP REQ ("+v+") [attempt "+x+"]: "+f+`
`+m+`
`+Y})}function DT(c,f,m,v,x,L,Y){c.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+x+"]: "+f+`
`+m+`
`+L+" "+Y})}function Ls(c,f,m,v){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+xT(c,m)+(v?" "+v:"")})}function VT(c,f){c.info(function(){return"TIMEOUT: "+f})}Bi.prototype.info=function(){};function xT(c,f){if(!c.g)return f;if(!f)return null;try{const L=JSON.parse(f);if(L){for(c=0;c<L.length;c++)if(Array.isArray(L[c])){var m=L[c];if(!(m.length<2)){var v=m[1];if(Array.isArray(v)&&!(v.length<1)){var x=v[0];if(x!="noop"&&x!="stop"&&x!="close")for(let Y=1;Y<v.length;Y++)v[Y]=""}}}}return Oe(L)}catch{return f}}var ua={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Yf={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Jf;function wl(){}d(wl,lt),wl.prototype.g=function(){return new XMLHttpRequest},Jf=new wl;function Hi(c){return encodeURIComponent(String(c))}function MT(c){var f=1;c=c.split(":");const m=[];for(;f>0&&c.length;)m.push(c.shift()),f--;return c.length&&m.push(c.join(":")),m}function dr(c,f,m,v){this.j=c,this.i=f,this.l=m,this.S=v||1,this.V=new se(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xf}function Xf(){this.i=null,this.g="",this.h=!1}var Zf={},Il={};function Al(c,f,m){c.M=1,c.A=fa(wn(f)),c.u=m,c.R=!0,ed(c,null)}function ed(c,f){c.F=Date.now(),ha(c),c.B=wn(c.A);var m=c.B,v=c.S;Array.isArray(v)||(v=[String(v)]),dd(m.i,"t",v),c.C=0,m=c.j.L,c.h=new Xf,c.g=Nd(c.j,m?f:null,!c.u),c.P>0&&(c.O=new Z(u(c.Y,c,c.g),c.P)),f=c.V,m=c.g,v=c.ba;var x="readystatechange";Array.isArray(x)||(x&&(me[0]=x.toString()),x=me);for(let L=0;L<x.length;L++){const Y=J(m,x[L],v||f.handleEvent,!1,f.h||f);if(!Y)break;f.g[Y.key]=Y}f=c.J?qt(c.J):{},c.u?(c.v||(c.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,f)):(c.v="GET",c.g.ea(c.B,c.v,null,f)),Ui(),OT(c.i,c.v,c.B,c.l,c.S,c.u)}dr.prototype.ba=function(c){c=c.target;const f=this.O;f&&gr(c)==3?f.j():this.Y(c)},dr.prototype.Y=function(c){try{if(c==this.g)e:{const Ee=gr(this.g),ht=this.g.ya(),Ue=this.g.ca();if(!(Ee<3)&&(Ee!=3||this.g&&(this.h.h||this.g.la()||Ed(this.g)))){this.K||Ee!=4||ht==7||(ht==8||Ue<=0?Ui(3):Ui(2)),bl(this);var f=this.g.ca();this.X=f;var m=LT(this);if(this.o=f==200,DT(this.i,this.v,this.B,this.l,this.S,Ee,f),this.o){if(this.U&&!this.L){t:{if(this.g){var v,x=this.g;if((v=x.g?x.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(v)){var L=v;break t}}L=null}if(c=L)Ls(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Rl(this,c);else{this.o=!1,this.m=3,xt(12),Jr(this),ji(this);break e}}if(this.R){c=!0;let mt;for(;!this.K&&this.C<m.length;)if(mt=UT(this,m),mt==Il){Ee==4&&(this.m=4,xt(14),c=!1),Ls(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==Zf){this.m=4,xt(15),Ls(this.i,this.l,m,"[Invalid Chunk]"),c=!1;break}else Ls(this.i,this.l,mt,null),Rl(this,mt);if(td(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||m.length!=0||this.h.h||(this.m=1,xt(16),c=!1),this.o=this.o&&c,!c)Ls(this.i,this.l,m,"[Invalid Chunked Response]"),Jr(this),ji(this);else if(m.length>0&&!this.W){this.W=!0;var Y=this.j;Y.g==this&&Y.aa&&!Y.P&&(Y.j.info("Great, no buffering proxy detected. Bytes received: "+m.length),Vl(Y),Y.P=!0,xt(11))}}else Ls(this.i,this.l,m,null),Rl(this,m);Ee==4&&Jr(this),this.o&&!this.K&&(Ee==4?Sd(this.j,this):(this.o=!1,ha(this)))}else XT(this.g),f==400&&m.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),Jr(this),ji(this)}}}catch{}};function LT(c){if(!td(c))return c.g.la();const f=Ed(c.g);if(f==="")return"";let m="";const v=f.length,x=gr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Jr(c),ji(c),"";c.h.i=new o.TextDecoder}for(let L=0;L<v;L++)c.h.h=!0,m+=c.h.i.decode(f[L],{stream:!(x&&L==v-1)});return f.length=0,c.h.g+=m,c.C=0,c.h.g}function td(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function UT(c,f){var m=c.C,v=f.indexOf(`
`,m);return v==-1?Il:(m=Number(f.substring(m,v)),isNaN(m)?Zf:(v+=1,v+m>f.length?Il:(f=f.slice(v,v+m),c.C=v+m,f)))}dr.prototype.cancel=function(){this.K=!0,Jr(this)};function ha(c){c.T=Date.now()+c.H,nd(c,c.H)}function nd(c,f){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Fi(u(c.aa,c),f)}function bl(c){c.D&&(o.clearTimeout(c.D),c.D=null)}dr.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(VT(this.i,this.B),this.M!=2&&(Ui(),xt(17)),Jr(this),this.m=2,ji(this)):nd(this,this.T-c)};function ji(c){c.j.I==0||c.K||Sd(c.j,c)}function Jr(c){bl(c);var f=c.O;f&&typeof f.dispose=="function"&&f.dispose(),c.O=null,we(c.V),c.g&&(f=c.g,c.g=null,f.abort(),f.dispose())}function Rl(c,f){try{var m=c.j;if(m.I!=0&&(m.g==c||Sl(m.h,c))){if(!c.L&&Sl(m.h,c)&&m.I==3){try{var v=m.Ba.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var x=v;if(x[0]==0){e:if(!m.v){if(m.g)if(m.g.F+3e3<c.F)_a(m),ma(m);else break e;Dl(m),xt(18)}}else m.xa=x[1],0<m.xa-m.K&&x[2]<37500&&m.F&&m.A==0&&!m.C&&(m.C=Fi(u(m.Va,m),6e3));id(m.h)<=1&&m.ta&&(m.ta=void 0)}else Zr(m,11)}else if((c.L||m.g==c)&&_a(m),!I(f))for(x=m.Ba.g.parse(f),f=0;f<x.length;f++){let Ue=x[f];const mt=Ue[0];if(!(mt<=m.K))if(m.K=mt,Ue=Ue[1],m.I==2)if(Ue[0]=="c"){m.M=Ue[1],m.ba=Ue[2];const In=Ue[3];In!=null&&(m.ka=In,m.j.info("VER="+m.ka));const es=Ue[4];es!=null&&(m.za=es,m.j.info("SVER="+m.za));const _r=Ue[5];_r!=null&&typeof _r=="number"&&_r>0&&(v=1.5*_r,m.O=v,m.j.info("backChannelRequestTimeoutMs_="+v)),v=m;const yr=c.g;if(yr){const va=yr.g?yr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(va){var L=v.h;L.g||va.indexOf("spdy")==-1&&va.indexOf("quic")==-1&&va.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Cl(L,L.h),L.h=null))}if(v.G){const xl=yr.g?yr.g.getResponseHeader("X-HTTP-Session-Id"):null;xl&&(v.wa=xl,qe(v.J,v.G,xl))}}m.I=3,m.l&&m.l.ra(),m.aa&&(m.T=Date.now()-c.F,m.j.info("Handshake RTT: "+m.T+"ms")),v=m;var Y=c;if(v.na=kd(v,v.L?v.ba:null,v.W),Y.L){od(v.h,Y);var Ee=Y,ht=v.O;ht&&(Ee.H=ht),Ee.D&&(bl(Ee),ha(Ee)),v.g=Y}else bd(v);m.i.length>0&&ga(m)}else Ue[0]!="stop"&&Ue[0]!="close"||Zr(m,7);else m.I==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Zr(m,7):Ol(m):Ue[0]!="noop"&&m.l&&m.l.qa(Ue),m.A=0)}}Ui(4)}catch{}}var FT=class{constructor(c,f){this.g=c,this.map=f}};function rd(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function sd(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function id(c){return c.h?1:c.g?c.g.size:0}function Sl(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function Cl(c,f){c.g?c.g.add(f):c.h=f}function od(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}rd.prototype.cancel=function(){if(this.i=ad(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ad(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let f=c.i;for(const m of c.g.values())f=f.concat(m.G);return f}return g(c.i)}var cd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function BT(c,f){if(c){c=c.split("&");for(let m=0;m<c.length;m++){const v=c[m].indexOf("=");let x,L=null;v>=0?(x=c[m].substring(0,v),L=c[m].substring(v+1)):x=c[m],f(x,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function pr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;c instanceof pr?(this.l=c.l,$i(this,c.j),this.o=c.o,this.g=c.g,qi(this,c.u),this.h=c.h,Pl(this,pd(c.i)),this.m=c.m):c&&(f=String(c).match(cd))?(this.l=!1,$i(this,f[1]||"",!0),this.o=Wi(f[2]||""),this.g=Wi(f[3]||"",!0),qi(this,f[4]),this.h=Wi(f[5]||"",!0),Pl(this,f[6]||"",!0),this.m=Wi(f[7]||"")):(this.l=!1,this.i=new Ki(null,this.l))}pr.prototype.toString=function(){const c=[];var f=this.j;f&&c.push(Gi(f,ld,!0),":");var m=this.g;return(m||f=="file")&&(c.push("//"),(f=this.o)&&c.push(Gi(f,ld,!0),"@"),c.push(Hi(m).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.u,m!=null&&c.push(":",String(m))),(m=this.h)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(Gi(m,m.charAt(0)=="/"?$T:jT,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",Gi(m,WT)),c.join("")},pr.prototype.resolve=function(c){const f=wn(this);let m=!!c.j;m?$i(f,c.j):m=!!c.o,m?f.o=c.o:m=!!c.g,m?f.g=c.g:m=c.u!=null;var v=c.h;if(m)qi(f,c.u);else if(m=!!c.h){if(v.charAt(0)!="/")if(this.g&&!this.h)v="/"+v;else{var x=f.h.lastIndexOf("/");x!=-1&&(v=f.h.slice(0,x+1)+v)}if(x=v,x==".."||x==".")v="";else if(x.indexOf("./")!=-1||x.indexOf("/.")!=-1){v=x.lastIndexOf("/",0)==0,x=x.split("/");const L=[];for(let Y=0;Y<x.length;){const Ee=x[Y++];Ee=="."?v&&Y==x.length&&L.push(""):Ee==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),v&&Y==x.length&&L.push("")):(L.push(Ee),v=!0)}v=L.join("/")}else v=x}return m?f.h=v:m=c.i.toString()!=="",m?Pl(f,pd(c.i)):m=!!c.m,m&&(f.m=c.m),f};function wn(c){return new pr(c)}function $i(c,f,m){c.j=m?Wi(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function qi(c,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);c.u=f}else c.u=null}function Pl(c,f,m){f instanceof Ki?(c.i=f,GT(c.i,c.l)):(m||(f=Gi(f,qT)),c.i=new Ki(f,c.l))}function qe(c,f,m){c.i.set(f,m)}function fa(c){return qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Wi(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Gi(c,f,m){return typeof c=="string"?(c=encodeURI(c).replace(f,HT),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function HT(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ld=/[#\/\?@]/g,jT=/[#\?:]/g,$T=/[#\?]/g,qT=/[#\?@]/g,WT=/#/g;function Ki(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function Xr(c){c.g||(c.g=new Map,c.h=0,c.i&&BT(c.i,function(f,m){c.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=Ki.prototype,t.add=function(c,f){Xr(this),this.i=null,c=Us(this,c);let m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(f),this.h+=1,this};function ud(c,f){Xr(c),f=Us(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function hd(c,f){return Xr(c),f=Us(c,f),c.g.has(f)}t.forEach=function(c,f){Xr(this),this.g.forEach(function(m,v){m.forEach(function(x){c.call(f,x,v,this)},this)},this)};function fd(c,f){Xr(c);let m=[];if(typeof f=="string")hd(c,f)&&(m=m.concat(c.g.get(Us(c,f))));else for(c=Array.from(c.g.values()),f=0;f<c.length;f++)m=m.concat(c[f]);return m}t.set=function(c,f){return Xr(this),this.i=null,c=Us(this,c),hd(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},t.get=function(c,f){return c?(c=fd(this,c),c.length>0?String(c[0]):f):f};function dd(c,f,m){ud(c,f),m.length>0&&(c.i=null,c.g.set(Us(c,f),g(m)),c.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],f=Array.from(this.g.keys());for(let v=0;v<f.length;v++){var m=f[v];const x=Hi(m);m=fd(this,m);for(let L=0;L<m.length;L++){let Y=x;m[L]!==""&&(Y+="="+Hi(m[L])),c.push(Y)}}return this.i=c.join("&")};function pd(c){const f=new Ki;return f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),f}function Us(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function GT(c,f){f&&!c.j&&(Xr(c),c.i=null,c.g.forEach(function(m,v){const x=v.toLowerCase();v!=x&&(ud(this,v),dd(this,x,m))},c)),c.j=f}function KT(c,f){const m=new Bi;if(o.Image){const v=new Image;v.onload=h(mr,m,"TestLoadImage: loaded",!0,f,v),v.onerror=h(mr,m,"TestLoadImage: error",!1,f,v),v.onabort=h(mr,m,"TestLoadImage: abort",!1,f,v),v.ontimeout=h(mr,m,"TestLoadImage: timeout",!1,f,v),o.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=c}else f(!1)}function zT(c,f){const m=new Bi,v=new AbortController,x=setTimeout(()=>{v.abort(),mr(m,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:v.signal}).then(L=>{clearTimeout(x),L.ok?mr(m,"TestPingServer: ok",!0,f):mr(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(x),mr(m,"TestPingServer: error",!1,f)})}function mr(c,f,m,v,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),v(m)}catch{}}function QT(){this.g=new St}function kl(c){this.i=c.Sb||null,this.h=c.ab||!1}d(kl,lt),kl.prototype.g=function(){return new da(this.i,this.h)};function da(c,f){K.call(this),this.H=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(da,K),t=da.prototype,t.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=f,this.readyState=1,Qi(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(f.body=c),(this.H||o).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zi(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qi(this)),this.g&&(this.readyState=3,Qi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;md(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function md(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?zi(this):Qi(this),this.readyState==3&&md(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,zi(this))},t.Na=function(c){this.g&&(this.response=c,zi(this))},t.ga=function(){this.g&&zi(this)};function zi(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qi(c)}t.setRequestHeader=function(c,f){this.A.append(c,f)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=f.next();return c.join(`\r
`)};function Qi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(da.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function gd(c){let f="";return Ne(c,function(m,v){f+=v,f+=":",f+=m,f+=`\r
`}),f}function Nl(c,f,m){e:{for(v in m){var v=!1;break e}v=!0}v||(m=gd(m),typeof c=="string"?m!=null&&Hi(m):qe(c,f,m))}function ze(c){K.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(ze,K);var YT=/^https?$/i,JT=["POST","PUT"];t=ze.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,f,m,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Jf.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(L){_d(this,L);return}if(c=m||"",m=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var x in v)m.set(x,v[x]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const L of v.keys())m.set(L,v.get(L));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(m.keys()).find(L=>L.toLowerCase()=="content-type"),x=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(JT,f,void 0)>=0)||v||x||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,Y]of m)this.g.setRequestHeader(L,Y);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(L){_d(this,L)}};function _d(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.o=5,yd(c),pa(c)}function yd(c){c.A||(c.A=!0,G(c,"complete"),G(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,G(this,"complete"),G(this,"abort"),pa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pa(this,!0)),ze.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?vd(this):this.Xa())},t.Xa=function(){vd(this)};function vd(c){if(c.h&&typeof i<"u"){if(c.v&&gr(c)==4)setTimeout(c.Ca.bind(c),0);else if(G(c,"readystatechange"),gr(c)==4){c.h=!1;try{const L=c.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var v;if(v=L===0){let Y=String(c.D).match(cd)[1]||null;!Y&&o.self&&o.self.location&&(Y=o.self.location.protocol.slice(0,-1)),v=!YT.test(Y?Y.toLowerCase():"")}m=v}if(m)G(c,"complete"),G(c,"success");else{c.o=6;try{var x=gr(c)>2?c.g.statusText:""}catch{x=""}c.l=x+" ["+c.ca()+"]",yd(c)}}finally{pa(c)}}}}function pa(c,f){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const m=c.g;c.g=null,f||G(c,"ready");try{m.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function gr(c){return c.g?c.g.readyState:0}t.ca=function(){try{return gr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),ke(f)}};function Ed(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function XT(c){const f={};c=(c.g&&gr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<c.length;v++){if(I(c[v]))continue;var m=MT(c[v]);const x=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const L=f[x]||[];f[x]=L,L.push(m)}Tn(f,function(v){return v.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yi(c,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||f}function Td(c){this.za=0,this.i=[],this.j=new Bi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Yi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Yi("baseRetryDelayMs",5e3,c),this.Za=Yi("retryDelaySeedMs",1e4,c),this.Ta=Yi("forwardChannelMaxRetries",2,c),this.va=Yi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new rd(c&&c.concurrentRequestLimit),this.Ba=new QT,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Td.prototype,t.ka=8,t.I=1,t.connect=function(c,f,m,v){xt(0),this.W=c,this.H=f||{},m&&v!==void 0&&(this.H.OSID=m,this.H.OAID=v),this.F=this.X,this.J=kd(this,null,this.W),ga(this)};function Ol(c){if(wd(c),c.I==3){var f=c.V++,m=wn(c.J);if(qe(m,"SID",c.M),qe(m,"RID",f),qe(m,"TYPE","terminate"),Ji(c,m),f=new dr(c,c.j,f),f.M=2,f.A=fa(wn(m)),m=!1,o.navigator&&o.navigator.sendBeacon)try{m=o.navigator.sendBeacon(f.A.toString(),"")}catch{}!m&&o.Image&&(new Image().src=f.A,m=!0),m||(f.g=Nd(f.j,null),f.g.ea(f.A)),f.F=Date.now(),ha(f)}Pd(c)}function ma(c){c.g&&(Vl(c),c.g.cancel(),c.g=null)}function wd(c){ma(c),c.v&&(o.clearTimeout(c.v),c.v=null),_a(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function ga(c){if(!sd(c.h)&&!c.m){c.m=!0;var f=c.Ea;V||w(),U||(V(),U=!0),b.add(f,c),c.D=0}}function ZT(c,f){return id(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=f.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Fi(u(c.Ea,c,f),Cd(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const x=new dr(this,this.j,c);let L=this.o;if(this.U&&(L?(L=qt(L),Bn(L,this.U)):L=this.U),this.u!==null||this.R||(x.J=L,L=null),this.S)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var v=this.i[m];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,f>4096){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=Ad(this,x,f),m=wn(this.J),qe(m,"RID",c),qe(m,"CVER",22),this.G&&qe(m,"X-HTTP-Session-Id",this.G),Ji(this,m),L&&(this.R?f="headers="+Hi(gd(L))+"&"+f:this.u&&Nl(m,this.u,L)),Cl(this.h,x),this.Ra&&qe(m,"TYPE","init"),this.S?(qe(m,"$req",f),qe(m,"SID","null"),x.U=!0,Al(x,m,null)):Al(x,m,f),this.I=2}}else this.I==3&&(c?Id(this,c):this.i.length==0||sd(this.h)||Id(this))};function Id(c,f){var m;f?m=f.l:m=c.V++;const v=wn(c.J);qe(v,"SID",c.M),qe(v,"RID",m),qe(v,"AID",c.K),Ji(c,v),c.u&&c.o&&Nl(v,c.u,c.o),m=new dr(c,c.j,m,c.D+1),c.u===null&&(m.J=c.o),f&&(c.i=f.G.concat(c.i)),f=Ad(c,m,1e3),m.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Cl(c.h,m),Al(m,v,f)}function Ji(c,f){c.H&&Ne(c.H,function(m,v){qe(f,v,m)}),c.l&&Ne({},function(m,v){qe(f,v,m)})}function Ad(c,f,m){m=Math.min(c.i.length,m);const v=c.l?u(c.l.Ka,c.l,c):null;e:{var x=c.i;let Ee=-1;for(;;){const ht=["count="+m];Ee==-1?m>0?(Ee=x[0].g,ht.push("ofs="+Ee)):Ee=0:ht.push("ofs="+Ee);let Ue=!0;for(let mt=0;mt<m;mt++){var L=x[mt].g;const In=x[mt].map;if(L-=Ee,L<0)Ee=Math.max(0,x[mt].g-100),Ue=!1;else try{L="req"+L+"_"||"";try{var Y=In instanceof Map?In:Object.entries(In);for(const[es,_r]of Y){let yr=_r;a(_r)&&(yr=Oe(_r)),ht.push(L+es+"="+encodeURIComponent(yr))}}catch(es){throw ht.push(L+"type="+encodeURIComponent("_badmap")),es}}catch{v&&v(In)}}if(Ue){Y=ht.join("&");break e}}Y=void 0}return c=c.i.splice(0,m),f.G=c,Y}function bd(c){if(!c.g&&!c.v){c.Y=1;var f=c.Da;V||w(),U||(V(),U=!0),b.add(f,c),c.A=0}}function Dl(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Fi(u(c.Da,c),Cd(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,Rd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Fi(u(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),ma(this),Rd(this))};function Vl(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function Rd(c){c.g=new dr(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var f=wn(c.na);qe(f,"RID","rpc"),qe(f,"SID",c.M),qe(f,"AID",c.K),qe(f,"CI",c.F?"0":"1"),!c.F&&c.ia&&qe(f,"TO",c.ia),qe(f,"TYPE","xmlhttp"),Ji(c,f),c.u&&c.o&&Nl(f,c.u,c.o),c.O&&(c.g.H=c.O);var m=c.g;c=c.ba,m.M=1,m.A=fa(wn(f)),m.u=null,m.R=!0,ed(m,c)}t.Va=function(){this.C!=null&&(this.C=null,ma(this),Dl(this),xt(19))};function _a(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function Sd(c,f){var m=null;if(c.g==f){_a(c),Vl(c),c.g=null;var v=2}else if(Sl(c.h,f))m=f.G,od(c.h,f),v=1;else return;if(c.I!=0){if(f.o)if(v==1){m=f.u?f.u.length:0,f=Date.now()-f.F;var x=c.D;v=Yr(),G(v,new Qf(v,m)),ga(c)}else bd(c);else if(x=f.m,x==3||x==0&&f.X>0||!(v==1&&ZT(c,f)||v==2&&Dl(c)))switch(m&&m.length>0&&(f=c.h,f.i=f.i.concat(m)),x){case 1:Zr(c,5);break;case 4:Zr(c,10);break;case 3:Zr(c,6);break;default:Zr(c,2)}}}function Cd(c,f){let m=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(m*=2),m*f}function Zr(c,f){if(c.j.info("Error code "+f),f==2){var m=u(c.bb,c),v=c.Ua;const x=!v;v=new pr(v||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||$i(v,"https"),fa(v),x?KT(v.toString(),m):zT(v.toString(),m)}else xt(2);c.I=0,c.l&&c.l.pa(f),Pd(c),wd(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function Pd(c){if(c.I=0,c.ja=[],c.l){const f=ad(c.h);(f.length!=0||c.i.length!=0)&&(_(c.ja,f),_(c.ja,c.i),c.h.i.length=0,g(c.i),c.i.length=0),c.l.oa()}}function kd(c,f,m){var v=m instanceof pr?wn(m):new pr(m);if(v.g!="")f&&(v.g=f+"."+v.g),qi(v,v.u);else{var x=o.location;v=x.protocol,f=f?f+"."+x.hostname:x.hostname,x=+x.port;const L=new pr(null);v&&$i(L,v),f&&(L.g=f),x&&qi(L,x),m&&(L.h=m),v=L}return m=c.G,f=c.wa,m&&f&&qe(v,m,f),qe(v,"VER",c.ka),Ji(c,v),v}function Nd(c,f,m){if(f&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Aa&&!c.ma?new ze(new kl({ab:m})):new ze(c.ma),f.Fa(c.L),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Od(){}t=Od.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ya(){}ya.prototype.g=function(c,f){return new Gt(c,f)};function Gt(c,f){K.call(this),this.g=new Td(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(c?c["X-WebChannel-Client-Profile"]=f.sa:c={"X-WebChannel-Client-Profile":f.sa}),this.g.U=c,(c=f&&f.Qb)&&!I(c)&&(this.g.u=c),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!I(f)&&(this.g.G=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new Fs(this)}d(Gt,K),Gt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){Ol(this.g)},Gt.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.v&&(m={},m.__data__=Oe(c),c=m);f.i.push(new FT(f.Ya++,c)),f.I==3&&ga(f)},Gt.prototype.N=function(){this.g.l=null,delete this.j,Ol(this.g),delete this.g,Gt.Z.N.call(this)};function Dd(c){Hn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(const m in f){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}d(Dd,Hn);function Vd(){Ms.call(this),this.status=1}d(Vd,Ms);function Fs(c){this.g=c}d(Fs,Od),Fs.prototype.ra=function(){G(this.g,"a")},Fs.prototype.qa=function(c){G(this.g,new Dd(c))},Fs.prototype.pa=function(c){G(this.g,new Vd)},Fs.prototype.oa=function(){G(this.g,"b")},ya.prototype.createWebChannel=ya.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,Xv=function(){return new ya},Jv=function(){return Yr()},Yv=et,nh={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ua.NO_ERROR=0,ua.TIMEOUT=8,ua.HTTP_ERROR=6,Ga=ua,Yf.COMPLETE="complete",Qv=Yf,Ft.EventType=ut,ut.OPEN="a",ut.CLOSE="b",ut.ERROR="c",ut.MESSAGE="d",K.prototype.listen=K.prototype.J,ao=Ft,ze.prototype.listenOnce=ze.prototype.K,ze.prototype.getLastError=ze.prototype.Ha,ze.prototype.getLastErrorCode=ze.prototype.ya,ze.prototype.getStatus=ze.prototype.ca,ze.prototype.getResponseJson=ze.prototype.La,ze.prototype.getResponseText=ze.prototype.la,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Fa,zv=ze}).apply(typeof Da<"u"?Da:typeof self<"u"?self:typeof window<"u"?window:{});const Um="@firebase/firestore",Fm="4.9.3";class Nt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");let Oi="12.7.0";const Rs=new of("@firebase/firestore");function qs(){return Rs.logLevel}function ne(t,...e){if(Rs.logLevel<=Ae.DEBUG){const n=e.map(_f);Rs.debug(`Firestore (${Oi}): ${t}`,...n)}}function cr(t,...e){if(Rs.logLevel<=Ae.ERROR){const n=e.map(_f);Rs.error(`Firestore (${Oi}): ${t}`,...n)}}function Ss(t,...e){if(Rs.logLevel<=Ae.WARN){const n=e.map(_f);Rs.warn(`Firestore (${Oi}): ${t}`,...n)}}function _f(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function de(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Zv(t,r,n)}function Zv(t,e,n){let r=`FIRESTORE (${Oi}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw cr(r),new Error(r)}function xe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||Zv(e,s,r)}function ve(t,e){return t}const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends hr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class eE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Nt.UNAUTHENTICATED)))}shutdown(){}}class gN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class _N{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xe(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new tr,e.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const l=i;e.enqueueRetryable((async()=>{await l.promise,await s(this.currentUser)}))},a=l=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((l=>a(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new tr)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string",31837,{l:r}),new eE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string",2055,{h:e}),new Nt(e)}}class yN{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vN{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new yN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Nt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Bm{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,nn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xe(this.o===void 0,3512);const r=i=>{i.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Bm(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Bm(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function TN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class rl{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=TN(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function rh(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return du(s)===du(i)?be(s,i):du(s)?1:-1}return be(t.length,e.length)}const wN=55296,IN=57343;function du(t){const e=t.charCodeAt(0);return e>=wN&&e<=IN}function Ei(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}const Hm="__name__";class Rn{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&de(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Rn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rn?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Rn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return be(e.length,n.length)}static compareSegments(e,n){const r=Rn.isNumericId(e),s=Rn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Rn.extractNumericId(e).compare(Rn.extractNumericId(n)):rh(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fr.fromString(e.substring(4,e.length-2))}}class je extends Rn{construct(e,n,r){return new je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new je(n)}static emptyPath(){return new je([])}}const AN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yt extends Rn{construct(e,n,r){return new yt(e,n,r)}static isValidIdentifier(e){return AN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hm}static keyField(){return new yt([Hm])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new X(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new X(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new X(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yt(n)}static emptyPath(){return new yt([])}}class oe{constructor(e){this.path=e}static fromPath(e){return new oe(je.fromString(e))}static fromName(e){return new oe(je.fromString(e).popFirst(5))}static empty(){return new oe(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new je(e.slice()))}}function nE(t,e,n){if(!n)throw new X(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rE(t,e,n,r){if(e===!0&&r===!0)throw new X(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function jm(t){if(!oe.isDocumentKey(t))throw new X(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $m(t){if(oe.isDocumentKey(t))throw new X(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function sE(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function sl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de(12329,{type:typeof t})}function xn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sl(t);throw new X(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function it(t,e){const n={typeString:t};return e&&(n.value=e),n}function ta(t,e){if(!sE(t))throw new X(H.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new X(H.INVALID_ARGUMENT,n);return!0}const qm=-62135596800,Wm=1e6;class $e{static now(){return $e.fromMillis(Date.now())}static fromDate(e){return $e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Wm);return new $e(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<qm)throw new X(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Wm}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ta(e,$e._jsonSchema))return new $e(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qm;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$e._jsonSchemaVersion="firestore/timestamp/1.0",$e._jsonSchema={type:it("string",$e._jsonSchemaVersion),seconds:it("number"),nanoseconds:it("number")};class ye{static fromTimestamp(e){return new ye(e)}static min(){return new ye(new $e(0,0))}static max(){return new ye(new $e(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Mo=-1;function bN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ye.fromTimestamp(r===1e9?new $e(n+1,0):new $e(n,r));return new Hr(s,oe.empty(),e)}function RN(t){return new Hr(t.readTime,t.key,Mo)}class Hr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Hr(ye.min(),oe.empty(),Mo)}static max(){return new Hr(ye.max(),oe.empty(),Mo)}}function SN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}const CN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Di(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==CN)throw t;ne("LocalStore","Unexpectedly lost primary lease")}class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):j.reject(n)}static resolve(e){return new j(((n,r)=>{n(e)}))}static reject(e){return new j(((n,r)=>{r(e)}))}static waitFor(e){return new j(((n,r)=>{let s=0,i=0,o=!1;e.forEach((a=>{++s,a.next((()=>{++i,o&&i===s&&n()}),(l=>r(l)))})),o=!0,i===s&&n()}))}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next((s=>s?j.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new j(((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next((h=>{o[u]=h,++a,a===i&&r(o)}),(h=>s(h)))}}))}static doWhile(e,n){return new j(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}function kN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vi(t){return t.name==="IndexedDbTransactionError"}class il{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}il.ce=-1;const yf=-1;function ol(t){return t==null}function Ic(t){return t===0&&1/t==-1/0}function NN(t){return typeof t=="number"&&Number.isInteger(t)&&!Ic(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const iE="";function ON(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Gm(e)),e=DN(t.get(n),e);return Gm(e)}function DN(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case iE:n+="";break;default:n+=i}}return n}function Gm(t){return t+iE+""}function Km(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ke{constructor(e,n){this.comparator=e,this.root=n||wt.EMPTY}insert(e,n){return new Ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wt.BLACK,null,null))}remove(e){return new Ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Va(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Va(this.root,e,this.comparator,!1)}getReverseIterator(){return new Va(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Va(this.root,e,this.comparator,!0)}}class Va{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??wt.RED,this.left=s??wt.EMPTY,this.right=i??wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new wt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return wt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw de(43730,{key:this.key,value:this.value});if(this.right.isRed())throw de(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw de(27949);return e+(this.isRed()?0:1)}}wt.EMPTY=null,wt.RED=!0,wt.BLACK=!1;wt.EMPTY=new class{constructor(){this.size=0}get key(){throw de(57766)}get value(){throw de(16141)}get color(){throw de(16727)}get left(){throw de(29726)}get right(){throw de(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pt{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zm(this.data.getIterator())}getIteratorFrom(e){return new zm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new pt(this.comparator);return n.data=e,n}}class zm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yt{constructor(e){this.fields=e,e.sort(yt.comparator)}static empty(){return new Yt([])}unionWith(e){let n=new pt(yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Yt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ei(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class aE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Et{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new aE("Invalid base64 string: "+i):i}})(e);return new Et(n)}static fromUint8Array(e){const n=(function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i})(e);return new Et(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Et.EMPTY_BYTE_STRING=new Et("");const VN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jr(t){if(xe(!!t,39018),typeof t=="string"){let e=0;const n=VN.exec(t);if(xe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tt(t.seconds),nanos:tt(t.nanos)}}function tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $r(t){return typeof t=="string"?Et.fromBase64String(t):Et.fromUint8Array(t)}const cE="server_timestamp",lE="__type__",uE="__previous_value__",hE="__local_write_time__";function vf(t){return(t?.mapValue?.fields||{})[lE]?.stringValue===cE}function al(t){const e=t.mapValue.fields[uE];return vf(e)?al(e):e}function Lo(t){const e=jr(t.mapValue.fields[hE].timestampValue);return new $e(e.seconds,e.nanos)}class xN{constructor(e,n,r,s,i,o,a,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=h}}const Ac="(default)";class Ti{constructor(e,n){this.projectId=e,this.database=n||Ac}static empty(){return new Ti("","")}get isDefaultDatabase(){return this.database===Ac}isEqual(e){return e instanceof Ti&&e.projectId===this.projectId&&e.database===this.database}}const fE="__type__",MN="__max__",xa={mapValue:{}},dE="__vector__",bc="value";function qr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vf(t)?4:UN(t)?9007199254740991:LN(t)?10:11:de(28295,{value:t})}function Mn(t,e){if(t===e)return!0;const n=qr(t);if(n!==qr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Lo(t).isEqual(Lo(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=jr(s.timestampValue),a=jr(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,i){return $r(s.bytesValue).isEqual($r(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,i){return tt(s.geoPointValue.latitude)===tt(i.geoPointValue.latitude)&&tt(s.geoPointValue.longitude)===tt(i.geoPointValue.longitude)})(t,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return tt(s.integerValue)===tt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=tt(s.doubleValue),a=tt(i.doubleValue);return o===a?Ic(o)===Ic(a):isNaN(o)&&isNaN(a)}return!1})(t,e);case 9:return Ei(t.arrayValue.values||[],e.arrayValue.values||[],Mn);case 10:case 11:return(function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Km(o)!==Km(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Mn(o[l],a[l])))return!1;return!0})(t,e);default:return de(52216,{left:t})}}function Uo(t,e){return(t.values||[]).find((n=>Mn(n,e)))!==void 0}function wi(t,e){if(t===e)return 0;const n=qr(t),r=qr(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return(function(i,o){const a=tt(i.integerValue||i.doubleValue),l=tt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1})(t,e);case 3:return Qm(t.timestampValue,e.timestampValue);case 4:return Qm(Lo(t),Lo(e));case 5:return rh(t.stringValue,e.stringValue);case 6:return(function(i,o){const a=$r(i),l=$r(o);return a.compareTo(l)})(t.bytesValue,e.bytesValue);case 7:return(function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=be(a[u],l[u]);if(h!==0)return h}return be(a.length,l.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,o){const a=be(tt(i.latitude),tt(o.latitude));return a!==0?a:be(tt(i.longitude),tt(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Ym(t.arrayValue,e.arrayValue);case 10:return(function(i,o){const a=i.fields||{},l=o.fields||{},u=a[bc]?.arrayValue,h=l[bc]?.arrayValue,d=be(u?.values?.length||0,h?.values?.length||0);return d!==0?d:Ym(u,h)})(t.mapValue,e.mapValue);case 11:return(function(i,o){if(i===xa.mapValue&&o===xa.mapValue)return 0;if(i===xa.mapValue)return 1;if(o===xa.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const p=rh(l[d],h[d]);if(p!==0)return p;const g=wi(a[l[d]],u[h[d]]);if(g!==0)return g}return be(l.length,h.length)})(t.mapValue,e.mapValue);default:throw de(23264,{he:n})}}function Qm(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=jr(t),r=jr(e),s=be(n.seconds,r.seconds);return s!==0?s:be(n.nanos,r.nanos)}function Ym(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=wi(n[s],r[s]);if(i)return i}return be(n.length,r.length)}function Ii(t){return sh(t)}function sh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=jr(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return $r(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return oe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=sh(i);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${sh(n.fields[o])}`;return s+"}"})(t.mapValue):de(61005,{value:t})}function Ka(t){switch(qr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=al(t);return e?16+Ka(e):16;case 5:return 2*t.stringValue.length;case 6:return $r(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+Ka(i)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return zr(r.fields,((i,o)=>{s+=i.length+Ka(o)})),s})(t.mapValue);default:throw de(13486,{value:t})}}function Jm(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ih(t){return!!t&&"integerValue"in t}function Ef(t){return!!t&&"arrayValue"in t}function Xm(t){return!!t&&"nullValue"in t}function Zm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function za(t){return!!t&&"mapValue"in t}function LN(t){return(t?.mapValue?.fields||{})[fE]?.stringValue===dE}function Eo(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return zr(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Eo(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Eo(t.arrayValue.values[n]);return e}return{...t}}function UN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===MN}class jt{constructor(e){this.value=e}static empty(){return new jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!za(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eo(n)}setAll(e){let n=yt.emptyPath(),r={},s=[];e.forEach(((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Eo(o):s.push(a.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());za(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];za(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){zr(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new jt(Eo(this.value))}}function pE(t){const e=[];return zr(t.fields,((n,r)=>{const s=new yt([n]);if(za(r)){const i=pE(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)})),new Yt(e)}class Dt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Dt(e,0,ye.min(),ye.min(),ye.min(),jt.empty(),0)}static newFoundDocument(e,n,r,s){return new Dt(e,1,n,ye.min(),r,s,0)}static newNoDocument(e,n){return new Dt(e,2,n,ye.min(),ye.min(),jt.empty(),0)}static newUnknownDocument(e,n){return new Dt(e,3,n,ye.min(),ye.min(),jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Rc{constructor(e,n){this.position=e,this.inclusive=n}}function eg(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=wi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function tg(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mn(t.position[n],e.position[n]))return!1;return!0}class Sc{constructor(e,n="asc"){this.field=e,this.dir=n}}function FN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class mE{}class st extends mE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new HN(e,n,r):n==="array-contains"?new qN(e,r):n==="in"?new WN(e,r):n==="not-in"?new GN(e,r):n==="array-contains-any"?new KN(e,r):new st(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new jN(e,r):new $N(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(wi(n,this.value)):n!==null&&qr(this.value)===qr(n)&&this.matchesComparison(wi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class En extends mE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new En(e,n)}matches(e){return gE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gE(t){return t.op==="and"}function _E(t){return BN(t)&&gE(t)}function BN(t){for(const e of t.filters)if(e instanceof En)return!1;return!0}function oh(t){if(t instanceof st)return t.field.canonicalString()+t.op.toString()+Ii(t.value);if(_E(t))return t.filters.map((e=>oh(e))).join(",");{const e=t.filters.map((n=>oh(n))).join(",");return`${t.op}(${e})`}}function yE(t,e){return t instanceof st?(function(r,s){return s instanceof st&&r.op===s.op&&r.field.isEqual(s.field)&&Mn(r.value,s.value)})(t,e):t instanceof En?(function(r,s){return s instanceof En&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,o,a)=>i&&yE(o,s.filters[a])),!0):!1})(t,e):void de(19439)}function vE(t){return t instanceof st?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ii(n.value)}`})(t):t instanceof En?(function(n){return n.op.toString()+" {"+n.getFilters().map(vE).join(" ,")+"}"})(t):"Filter"}class HN extends st{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class jN extends st{constructor(e,n){super(e,"in",n),this.keys=EE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class $N extends st{constructor(e,n){super(e,"not-in",n),this.keys=EE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function EE(t,e){return(e.arrayValue?.values||[]).map((n=>oe.fromName(n.referenceValue)))}class qN extends st{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ef(n)&&Uo(n.arrayValue,this.value)}}class WN extends st{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Uo(this.value.arrayValue,n)}}class GN extends st{constructor(e,n){super(e,"not-in",n)}matches(e){if(Uo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Uo(this.value.arrayValue,n)}}class KN extends st{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ef(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Uo(this.value.arrayValue,r)))}}class zN{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function ng(t,e=null,n=[],r=[],s=null,i=null,o=null){return new zN(t,e,n,r,s,i,o)}function Tf(t){const e=ve(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>oh(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),ol(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Ii(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Ii(r))).join(",")),e.Te=n}return e.Te}function wf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!FN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tg(t.startAt,e.startAt)&&tg(t.endAt,e.endAt)}function ah(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class na{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function QN(t,e,n,r,s,i,o,a){return new na(t,e,n,r,s,i,o,a)}function If(t){return new na(t)}function rg(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function TE(t){return t.collectionGroup!==null}function To(t){const e=ve(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new pt(yt.comparator);return o.filters.forEach((l=>{l.getFlattenedFilters().forEach((u=>{u.isInequality()&&(a=a.add(u.field))}))})),a})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Sc(i,r))})),n.has(yt.keyField().canonicalString())||e.Ie.push(new Sc(yt.keyField(),r))}return e.Ie}function Nn(t){const e=ve(t);return e.Ee||(e.Ee=YN(e,To(t))),e.Ee}function YN(t,e){if(t.limitType==="F")return ng(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Sc(s.field,i)}));const n=t.endAt?new Rc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Rc(t.startAt.position,t.startAt.inclusive):null;return ng(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ch(t,e){const n=t.filters.concat([e]);return new na(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function lh(t,e,n){return new na(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cl(t,e){return wf(Nn(t),Nn(e))&&t.limitType===e.limitType}function wE(t){return`${Tf(Nn(t))}|lt:${t.limitType}`}function Ws(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>vE(s))).join(", ")}]`),ol(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>Ii(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>Ii(s))).join(",")),`Target(${r})`})(Nn(t))}; limitType=${t.limitType})`}function ll(t,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):oe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(t,e)&&(function(r,s){for(const i of To(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(o,a,l){const u=eg(o,a,l);return o.inclusive?u<=0:u<0})(r.startAt,To(r),s)||r.endAt&&!(function(o,a,l){const u=eg(o,a,l);return o.inclusive?u>=0:u>0})(r.endAt,To(r),s))})(t,e)}function JN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function IE(t){return(e,n)=>{let r=!1;for(const s of To(t)){const i=XN(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function XN(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):(function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?wi(l,u):de(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de(19790,{direction:t.dir})}}class Ds{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){zr(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return oE(this.inner)}size(){return this.innerSize}}const ZN=new Ke(oe.comparator);function lr(){return ZN}const AE=new Ke(oe.comparator);function co(...t){let e=AE;for(const n of t)e=e.insert(n.key,n);return e}function bE(t){let e=AE;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function fs(){return wo()}function RE(){return wo()}function wo(){return new Ds((t=>t.toString()),((t,e)=>t.isEqual(e)))}const eO=new Ke(oe.comparator),tO=new pt(oe.comparator);function Re(...t){let e=tO;for(const n of t)e=e.add(n);return e}const nO=new pt(be);function rO(){return nO}function Af(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ic(e)?"-0":e}}function SE(t){return{integerValue:""+t}}function sO(t,e){return NN(e)?SE(e):Af(t,e)}class ul{constructor(){this._=void 0}}function iO(t,e,n){return t instanceof Cc?(function(s,i){const o={fields:{[lE]:{stringValue:cE},[hE]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&vf(i)&&(i=al(i)),i&&(o.fields[uE]=i),{mapValue:o}})(n,e):t instanceof Fo?PE(t,e):t instanceof Bo?kE(t,e):(function(s,i){const o=CE(s,i),a=sg(o)+sg(s.Ae);return ih(o)&&ih(s.Ae)?SE(a):Af(s.serializer,a)})(t,e)}function oO(t,e,n){return t instanceof Fo?PE(t,e):t instanceof Bo?kE(t,e):n}function CE(t,e){return t instanceof Pc?(function(r){return ih(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class Cc extends ul{}class Fo extends ul{constructor(e){super(),this.elements=e}}function PE(t,e){const n=NE(e);for(const r of t.elements)n.some((s=>Mn(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Bo extends ul{constructor(e){super(),this.elements=e}}function kE(t,e){let n=NE(e);for(const r of t.elements)n=n.filter((s=>!Mn(s,r)));return{arrayValue:{values:n}}}class Pc extends ul{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function sg(t){return tt(t.integerValue||t.doubleValue)}function NE(t){return Ef(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function aO(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof Fo&&s instanceof Fo||r instanceof Bo&&s instanceof Bo?Ei(r.elements,s.elements,Mn):r instanceof Pc&&s instanceof Pc?Mn(r.Ae,s.Ae):r instanceof Cc&&s instanceof Cc})(t.transform,e.transform)}class cO{constructor(e,n){this.version=e,this.transformResults=n}}class On{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new On}static exists(e){return new On(void 0,e)}static updateTime(e){return new On(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qa(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hl{}function OE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new VE(t.key,On.none()):new ra(t.key,t.data,On.none());{const n=t.data,r=jt.empty();let s=new pt(yt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Qr(t.key,r,new Yt(s.toArray()),On.none())}}function lO(t,e,n){t instanceof ra?(function(s,i,o){const a=s.value.clone(),l=og(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()})(t,e,n):t instanceof Qr?(function(s,i,o){if(!Qa(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=og(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(DE(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):(function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Io(t,e,n,r){return t instanceof ra?(function(i,o,a,l){if(!Qa(i.precondition,o))return a;const u=i.value.clone(),h=ag(i.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null})(t,e,n,r):t instanceof Qr?(function(i,o,a,l){if(!Qa(i.precondition,o))return a;const u=ag(i.fieldTransforms,l,o),h=o.data;return h.setAll(DE(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((d=>d.field)))})(t,e,n,r):(function(i,o,a){return Qa(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a})(t,e,n)}function uO(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=CE(r.transform,s||null);i!=null&&(n===null&&(n=jt.empty()),n.set(r.field,i))}return n||null}function ig(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ei(r,s,((i,o)=>aO(i,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ra extends hl{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Qr extends hl{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function DE(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function og(t,e,n){const r=new Map;xe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,oO(o,a,n[s]))}return r}function ag(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,iO(i,o,e))}return r}class VE extends hl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hO extends hl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fO{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&lO(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Io(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Io(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RE();return this.mutations.forEach((s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=OE(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ye.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Re())}isEqual(e){return this.batchId===e.batchId&&Ei(this.mutations,e.mutations,((n,r)=>ig(n,r)))&&Ei(this.baseMutations,e.baseMutations,((n,r)=>ig(n,r)))}}class bf{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){xe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return eO})();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new bf(e,n,r,s)}}class dO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class pO{constructor(e,n){this.count=e,this.unchangedNames=n}}var nt,Se;function mO(t){switch(t){case H.OK:return de(64938);case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0;default:return de(15467,{code:t})}}function xE(t){if(t===void 0)return cr("GRPC error has no .code"),H.UNKNOWN;switch(t){case nt.OK:return H.OK;case nt.CANCELLED:return H.CANCELLED;case nt.UNKNOWN:return H.UNKNOWN;case nt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case nt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case nt.INTERNAL:return H.INTERNAL;case nt.UNAVAILABLE:return H.UNAVAILABLE;case nt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case nt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case nt.NOT_FOUND:return H.NOT_FOUND;case nt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case nt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case nt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case nt.ABORTED:return H.ABORTED;case nt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case nt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case nt.DATA_LOSS:return H.DATA_LOSS;default:return de(39323,{code:t})}}(Se=nt||(nt={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";function gO(){return new TextEncoder}const _O=new Fr([4294967295,4294967295],0);function cg(t){const e=gO().encode(t),n=new Kv;return n.update(e),new Uint8Array(n.digest())}function lg(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Fr([n,r],0),new Fr([s,i],0)]}class Rf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new lo(`Invalid padding: ${n}`);if(r<0)throw new lo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new lo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new lo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Fr.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Fr.fromNumber(r)));return s.compare(_O)===1&&(s=new Fr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=cg(e),[r,s]=lg(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Rf(i,s,n);return r.forEach((a=>o.insert(a))),o}insert(e){if(this.ge===0)return;const n=cg(e),[r,s]=lg(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class lo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class fl{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,sa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new fl(ye.min(),s,new Ke(be),lr(),Re())}}class sa{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new sa(r,n,Re(),Re(),Re())}}class Ya{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class ME{constructor(e,n){this.targetId=e,this.Ce=n}}class LE{constructor(e,n,r=Et.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class ug{constructor(){this.ve=0,this.Fe=hg(),this.Me=Et.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Re(),n=Re(),r=Re();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:de(38017,{changeType:i})}})),new sa(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=hg()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class yO{constructor(e){this.Ge=e,this.ze=new Map,this.je=lr(),this.Je=Ma(),this.He=Ma(),this.Ye=new Ke(be)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:de(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(ah(i))if(r===0){const o=new oe(i.path);this.et(n,o,Dt.newNoDocument(o,ye.min()))}else xe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=$r(r).toUint8Array()}catch(l){if(l instanceof aE)return Ss("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Rf(o,s,i)}catch(l){return Ss(l instanceof lo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,o)=>{const a=this.ot(o);if(a){if(i.current&&ah(a.target)){const l=new oe(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Dt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}}));let r=Re();this.He.forEach(((i,o)=>{let a=!0;o.forEachWhile((l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)})),a&&(r=r.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(e)));const s=new fl(e,n,this.Ye,this.je,r);return this.je=lr(),this.Je=Ma(),this.He=Ma(),this.Ye=new Ke(be),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new ug,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new pt(be),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new pt(be),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ug),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ma(){return new Ke(oe.comparator)}function hg(){return new Ke(oe.comparator)}const vO={asc:"ASCENDING",desc:"DESCENDING"},EO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TO={and:"AND",or:"OR"};class wO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function uh(t,e){return t.useProto3Json||ol(e)?e:{value:e}}function kc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function IO(t,e){return kc(t,e.toTimestamp())}function Dn(t){return xe(!!t,49232),ye.fromTimestamp((function(n){const r=jr(n);return new $e(r.seconds,r.nanos)})(t))}function Sf(t,e){return hh(t,e).canonicalString()}function hh(t,e){const n=(function(s){return new je(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function FE(t){const e=je.fromString(t);return xe(qE(e),10190,{key:e.toString()}),e}function fh(t,e){return Sf(t.databaseId,e.path)}function pu(t,e){const n=FE(e);if(n.get(1)!==t.databaseId.projectId)throw new X(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(HE(n))}function BE(t,e){return Sf(t.databaseId,e)}function AO(t){const e=FE(t);return e.length===4?je.emptyPath():HE(e)}function dh(t){return new je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function HE(t){return xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function fg(t,e,n){return{name:fh(t,e),fields:n.value.mapValue.fields}}function bO(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:de(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(u,h){return u.useProto3Json?(xe(h===void 0||typeof h=="string",58123),Et.fromBase64String(h||"")):(xe(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Et.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&(function(u){const h=u.code===void 0?H.UNKNOWN:xE(u.code);return new X(h,u.message||"")})(o);n=new LE(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=pu(t,r.document.name),i=Dn(r.document.updateTime),o=r.document.createTime?Dn(r.document.createTime):ye.min(),a=new jt({mapValue:{fields:r.document.fields}}),l=Dt.newFoundDocument(s,i,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Ya(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=pu(t,r.document),i=r.readTime?Dn(r.readTime):ye.min(),o=Dt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Ya([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=pu(t,r.document),i=r.removedTargetIds||[];n=new Ya([],i,s,null)}else{if(!("filter"in e))return de(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new pO(s,i),a=r.targetId;n=new ME(a,o)}}return n}function RO(t,e){let n;if(e instanceof ra)n={update:fg(t,e.key,e.value)};else if(e instanceof VE)n={delete:fh(t,e.key)};else if(e instanceof Qr)n={update:fg(t,e.key,e.data),updateMask:xO(e.fieldMask)};else{if(!(e instanceof hO))return de(16599,{Vt:e.type});n={verify:fh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(i,o){const a=o.transform;if(a instanceof Cc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Fo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Bo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Pc)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw de(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:IO(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:de(27497)})(t,e.precondition)),n}function SO(t,e){return t&&t.length>0?(xe(e!==void 0,14353),t.map((n=>(function(s,i){let o=s.updateTime?Dn(s.updateTime):Dn(i);return o.isEqual(ye.min())&&(o=Dn(i)),new cO(o,s.transformResults||[])})(n,e)))):[]}function CO(t,e){return{documents:[BE(t,e.path)]}}function PO(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=BE(t,s);const i=(function(u){if(u.length!==0)return $E(En.create(u,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const o=(function(u){if(u.length!==0)return u.map((h=>(function(p){return{field:Gs(p.field),direction:OO(p.dir)}})(h)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=uh(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{ft:n,parent:s}}function kO(t){let e=AO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){xe(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=(function(d){const p=jE(d);return p instanceof En&&_E(p)?p.getFilters():[p]})(n.where));let o=[];n.orderBy&&(o=(function(d){return d.map((p=>(function(_){return new Sc(Ks(_.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(p)))})(n.orderBy));let a=null;n.limit&&(a=(function(d){let p;return p=typeof d=="object"?d.value:d,ol(p)?null:p})(n.limit));let l=null;n.startAt&&(l=(function(d){const p=!!d.before,g=d.values||[];return new Rc(g,p)})(n.startAt));let u=null;return n.endAt&&(u=(function(d){const p=!d.before,g=d.values||[];return new Rc(g,p)})(n.endAt)),QN(e,s,o,i,a,"F",l,u)}function NO(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jE(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ks(n.unaryFilter.field);return st.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ks(n.unaryFilter.field);return st.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ks(n.unaryFilter.field);return st.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ks(n.unaryFilter.field);return st.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return de(61313);default:return de(60726)}})(t):t.fieldFilter!==void 0?(function(n){return st.create(Ks(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return de(58110);default:return de(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return En.create(n.compositeFilter.filters.map((r=>jE(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return de(1026)}})(n.compositeFilter.op))})(t):de(30097,{filter:t})}function OO(t){return vO[t]}function DO(t){return EO[t]}function VO(t){return TO[t]}function Gs(t){return{fieldPath:t.canonicalString()}}function Ks(t){return yt.fromServerFormat(t.fieldPath)}function $E(t){return t instanceof st?(function(n){if(n.op==="=="){if(Zm(n.value))return{unaryFilter:{field:Gs(n.field),op:"IS_NAN"}};if(Xm(n.value))return{unaryFilter:{field:Gs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Zm(n.value))return{unaryFilter:{field:Gs(n.field),op:"IS_NOT_NAN"}};if(Xm(n.value))return{unaryFilter:{field:Gs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gs(n.field),op:DO(n.op),value:n.value}}})(t):t instanceof En?(function(n){const r=n.getFilters().map((s=>$E(s)));return r.length===1?r[0]:{compositeFilter:{op:VO(n.op),filters:r}}})(t):de(54877,{filter:t})}function xO(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function qE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Or{constructor(e,n,r,s,i=ye.min(),o=ye.min(),a=Et.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Or(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class MO{constructor(e){this.yt=e}}function LO(t){const e=kO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lh(e,e.limit,"L"):e}class UO{constructor(){this.Cn=new FO}addToCollectionParentIndex(e,n){return this.Cn.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(Hr.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(Hr.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class FO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new pt(je.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new pt(je.comparator)).toArray()}}const dg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WE=41943040;class Ht{static withCacheSize(e){return new Ht(e,Ht.DEFAULT_COLLECTION_PERCENTILE,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Ht.DEFAULT_COLLECTION_PERCENTILE=10,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ht.DEFAULT=new Ht(WE,Ht.DEFAULT_COLLECTION_PERCENTILE,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ht.DISABLED=new Ht(-1,0,0);class Ai{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ai(0)}static cr(){return new Ai(-1)}}const pg="LruGarbageCollector",BO=1048576;function mg([t,e],[n,r]){const s=be(t,n);return s===0?be(e,r):s}class HO{constructor(e){this.Ir=e,this.buffer=new pt(mg),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();mg(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jO{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ne(pg,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vi(n)?ne(pg,"Ignoring IndexedDB error during garbage collection: ",n):await Di(n)}await this.Vr(3e5)}))}}class $O{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return j.resolve(il.ce);const r=new HO(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(dg)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dg):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((d=>(d>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),s=this.params.maximumSequenceNumbersToCollect):s=d,o=Date.now(),this.nthSequenceNumber(e,s)))).next((d=>(r=d,a=Date.now(),this.removeTargets(e,r,n)))).next((d=>(i=d,l=Date.now(),this.removeOrphanedDocuments(e,r)))).next((d=>(u=Date.now(),qs()<=Ae.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:d}))))}}function qO(t,e){return new $O(t,e)}class WO{constructor(){this.changes=new Ds((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class GO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class KO{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Io(r.mutation,s,Yt.empty(),$e.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Re()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Re()){const s=fs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let o=co();return i.forEach(((a,l)=>{o=o.insert(a,l.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=fs();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Re())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((o,a)=>{n.set(o,a)}))}))}computeViews(e,n,r,s){let i=lr();const o=wo(),a=(function(){return wo()})();return n.forEach(((l,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof Qr)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Io(h.mutation,u,h.mutation.getFieldMask(),$e.now())):o.set(u.key,Yt.empty())})),this.recalculateAndSaveOverlays(e,i).next((l=>(l.forEach(((u,h)=>o.set(u,h))),n.forEach(((u,h)=>a.set(u,new GO(h,o.get(u)??null)))),a)))}recalculateAndSaveOverlays(e,n){const r=wo();let s=new Ke(((o,a)=>o-a)),i=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const a of o)a.keys().forEach((l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||Yt.empty();h=a.applyToLocalView(u,h),r.set(l,h);const d=(s.get(a.batchId)||Re()).add(l);s=s.insert(a.batchId,d)}))})).next((()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,d=RE();h.forEach((p=>{if(!i.has(p)){const g=OE(n.get(p),r.get(p));g!==null&&d.set(p,g),i=i.add(p)}})),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return j.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(o){return oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):TE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):j.resolve(fs());let a=Mo,l=i;return o.next((u=>j.forEach(u,((h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(h)?j.resolve():this.remoteDocumentCache.getEntry(e,h).next((p=>{l=l.insert(h,p)}))))).next((()=>this.populateOverlays(e,u,i))).next((()=>this.computeViews(e,l,u,Re()))).next((h=>({batchId:a,changes:bE(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next((r=>{let s=co();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=co();return this.indexManager.getCollectionParents(e,i).next((a=>j.forEach(a,(l=>{const u=(function(d,p){return new na(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)})(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next((h=>{h.forEach(((d,p)=>{o=o.insert(d,p)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((o=>{i.forEach(((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Dt.newInvalidDocument(h)))}));let a=co();return o.forEach(((l,u)=>{const h=i.get(l);h!==void 0&&Io(h.mutation,u,Yt.empty(),$e.now()),ll(n,u)&&(a=a.insert(l,u))})),a}))}}class zO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return j.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Dn(s.createTime)}})(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:LO(s.bundledQuery),readTime:Dn(s.readTime)}})(n)),j.resolve()}}class QO{constructor(){this.overlays=new Ke(oe.comparator),this.qr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fs();return j.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.St(e,n,i)})),j.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const s=fs(),i=n.length+1,o=new oe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return j.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ke(((u,h)=>u-h));const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=fs(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=fs(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((u,h)=>a.set(u,h))),!(a.size()>=s)););return j.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new dO(n,r));let i=this.qr.get(n);i===void 0&&(i=Re(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}class YO{constructor(){this.sessionToken=Et.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}class Cf{constructor(){this.Qr=new pt(_t.$r),this.Ur=new pt(_t.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new _t(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new _t(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new oe(new je([])),r=new _t(n,e),s=new _t(n,e+1),i=[];return this.Ur.forEachInRange([r,s],(o=>{this.Gr(o),i.push(o.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new oe(new je([])),r=new _t(n,e),s=new _t(n,e+1);let i=Re();return this.Ur.forEachInRange([r,s],(o=>{i=i.add(o.key)})),i}containsKey(e){const n=new _t(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _t{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return oe.comparator(e.key,n.key)||be(e.Yr,n.Yr)}static Kr(e,n){return be(e.Yr,n.Yr)||oe.comparator(e.key,n.key)}}class JO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new pt(_t.$r)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new fO(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new _t(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return j.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?yf:this.tr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _t(n,0),s=new _t(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(o=>{const a=this.Xr(o.Yr);i.push(a)})),j.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pt(be);return n.forEach((s=>{const i=new _t(s,0),o=new _t(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],(a=>{r=r.add(a.Yr)}))})),j.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;oe.isDocumentKey(i)||(i=i.child(""));const o=new _t(new oe(i),0);let a=new pt(be);return this.Zr.forEachWhile((l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Yr)),!0)}),o),j.resolve(this.ti(a))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return j.forEach(n.mutations,(s=>{const i=new _t(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new _t(n,0),s=this.Zr.firstAfterOrEqual(r);return j.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class XO{constructor(e){this.ri=e,this.docs=(function(){return new Ke(oe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():Dt.newInvalidDocument(n))}getEntries(e,n){let r=lr();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Dt.newInvalidDocument(s))})),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=lr();const o=n.path,a=new oe(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||SN(RN(h),r)<=0||(s.has(h.key)||ll(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return j.resolve(i)}getAllFromCollectionGroup(e,n,r,s){de(9500)}ii(e,n){return j.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new ZO(this)}getSize(e){return j.resolve(this.size)}}class ZO extends WO{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),j.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class eD{constructor(e){this.persistence=e,this.si=new Ds((n=>Tf(n)),wf),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.oi=0,this._i=new Cf,this.targetCount=0,this.ai=Ai.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),j.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ai(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Pr(n),j.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach(((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)})),j.waitFor(i).next((()=>s))}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((o=>{i.push(s.markPotentiallyOrphaned(e,o))})),j.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this._i.containsKey(n))}}class GE{constructor(e,n){this.ui={},this.overlays={},this.ci=new il(0),this.li=!1,this.li=!0,this.hi=new YO,this.referenceDelegate=e(this),this.Pi=new eD(this),this.indexManager=new UO,this.remoteDocumentCache=(function(s){return new XO(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new MO(n),this.Ii=new zO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new JO(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ne("MemoryPersistence","Starting transaction:",e);const s=new tD(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,n){return j.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class tD extends PN{constructor(e){super(),this.currentSequenceNumber=e}}class Pf{constructor(e){this.persistence=e,this.Ri=new Cf,this.Vi=null}static mi(e){return new Pf(e)}get fi(){if(this.Vi)return this.Vi;throw de(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),j.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.fi,(r=>{const s=oe.fromPath(r);return this.gi(e,s).next((i=>{i||n.removeEntry(s,ye.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return j.or([()=>j.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Nc{constructor(e,n){this.persistence=e,this.pi=new Ds((r=>ON(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=qO(this,n)}static mi(e,n){return new Nc(e,n)}Ei(){}di(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return j.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?j.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(o=>this.br(e,o,n).next((a=>{a||(r++,i.removeEntry(o,ye.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),j.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ka(e.data.value)),n}br(e,n,r){return j.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return j.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class kf{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Re(),s=Re();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new kf(e,n.fromCache,r,s)}}class nD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class rD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return DC()?8:kN(Vt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ws(e,n,s,r).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new nD;return this.Ss(e,n,o).next((a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)}))})).next((()=>i.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(qs()<=Ae.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",Ws(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),j.resolve()):(qs()<=Ae.DEBUG&&ne("QueryEngine","Query:",Ws(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(qs()<=Ae.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",Ws(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nn(n))):j.resolve())}ys(e,n){if(rg(n))return j.resolve(null);let r=Nn(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=lh(n,null,"F"),r=Nn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const o=Re(...i);return this.ps.getDocuments(e,o).next((a=>this.indexManager.getMinOffset(e,r).next((l=>{const u=this.Ds(n,a);return this.Cs(n,u,o,l.readTime)?this.ys(e,lh(n,null,"F")):this.vs(e,u,n,l)}))))})))))}ws(e,n,r,s){return rg(n)||s.isEqual(ye.min())?j.resolve(null):this.ps.getDocuments(e,r).next((i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?j.resolve(null):(qs()<=Ae.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ws(n)),this.vs(e,o,n,bN(s,Mo)).next((a=>a)))}))}Ds(e,n){let r=new pt(IE(e));return n.forEach(((s,i)=>{ll(e,i)&&(r=r.add(i))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return qs()<=Ae.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",Ws(n)),this.ps.getDocumentsMatchingQuery(e,n,Hr.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((o=>{i=i.insert(o.key,o)})),i)))}}const Nf="LocalStore",sD=3e8;class iD{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Ke(be),this.xs=new Ds((i=>Tf(i)),wf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function oD(t,e,n,r){return new iD(t,e,n,r)}async function KE(t,e){const n=ve(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const o=[],a=[];let l=Re();for(const u of s){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of i){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next((u=>({Ls:u,removedBatchIds:o,addedBatchIds:a})))}))}))}function aD(t,e){const n=ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(a,l,u,h){const d=u.batch,p=d.keys();let g=j.resolve();return p.forEach((_=>{g=g.next((()=>h.getEntry(l,_))).next((y=>{const N=u.docVersions.get(_);xe(N!==null,48541),y.version.compareTo(N)<0&&(d.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),h.addEntry(y)))}))})),g.next((()=>a.mutationQueue.removeMutationBatch(l,d)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let l=Re();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function zE(t){const e=ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function cD(t,e){const n=ve(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach(((h,d)=>{const p=s.get(d);if(!p)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,d).next((()=>n.Pi.addMatchingKeys(i,h.addedDocuments,d))));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(Et.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(d,g),(function(y,N,D){return y.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=sD?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0})(p,g,h)&&a.push(n.Pi.updateTargetData(i,g))}));let l=lr(),u=Re();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))})),a.push(lD(i,o,e.documentUpdates).next((h=>{l=h.ks,u=h.qs}))),!r.isEqual(ye.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next((d=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));a.push(h)}return j.waitFor(a).next((()=>o.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,l,u))).next((()=>l))})).then((i=>(n.Ms=s,i)))}function lD(t,e,n){let r=Re(),s=Re();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let o=lr();return n.forEach(((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ye.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ne(Nf,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)})),{ks:o,qs:s}}))}function uD(t,e){const n=ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=yf),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function hD(t,e){const n=ve(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((i=>i?(s=i,j.resolve(s)):n.Pi.allocateTargetId(r).next((o=>(s=new Or(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function ph(t,e,n){const r=ve(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!Vi(o))throw o;ne(Nf,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function gg(t,e,n){const r=ve(t);let s=ye.min(),i=Re();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(l,u,h){const d=ve(l),p=d.xs.get(h);return p!==void 0?j.resolve(d.Ms.get(p)):d.Pi.getTargetData(u,h)})(r,o,Nn(e)).next((a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next((l=>{i=l}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ye.min(),n?i:Re()))).next((a=>(fD(r,JN(e),a),{documents:a,Qs:i})))))}function fD(t,e,n){let r=t.Os.get(e)||ye.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Os.set(e,r)}class _g{constructor(){this.activeTargetIds=rO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dD{constructor(){this.Mo=new _g,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new _g,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class pD{Oo(e){}shutdown(){}}const yg="ConnectivityMonitor";class vg{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ne(yg,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ne(yg,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let La=null;function mh(){return La===null?La=(function(){return 268435456+Math.round(2147483648*Math.random())})():La++,"0x"+La.toString(16)}const mu="RestConnection",mD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Ac?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=mh(),a=this.zo(e,n.toUriEncodedString());ne(mu,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:u}=new URL(a),h=Pi(u);return this.Jo(e,a,l,r,h).then((d=>(ne(mu,`Received RPC '${e}' ${o}: `,d),d)),(d=>{throw Ss(mu,`RPC '${e}' ${o} failed with error: `,d,"url: ",a,"request:",r),d}))}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Oi})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,n){const r=mD[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class _D{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Ct="WebChannelConnection";class yD extends gD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=mh();return new Promise(((a,l)=>{const u=new zv;u.setWithCredentials(!0),u.listenOnce(Qv.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case Ga.NO_ERROR:const d=u.getResponseJson();ne(Ct,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case Ga.TIMEOUT:ne(Ct,`RPC '${e}' ${o} timed out`),l(new X(H.DEADLINE_EXCEEDED,"Request time out"));break;case Ga.HTTP_ERROR:const p=u.getStatus();if(ne(Ct,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const _=g?.error;if(_&&_.status&&_.message){const y=(function(D){const O=D.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(O)>=0?O:H.UNKNOWN})(_.status);l(new X(y,_.message))}else l(new X(H.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new X(H.UNAVAILABLE,"Connection failed."));break;default:de(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ne(Ct,`RPC '${e}' ${o} completed.`)}}));const h=JSON.stringify(s);ne(Ct,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",h,r,15)}))}T_(e,n,r){const s=mh(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Xv(),a=Jv(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");ne(Ct,`Creating RPC '${e}' stream ${s}: ${h}`,l);const d=o.createWebChannel(h,l);this.I_(d);let p=!1,g=!1;const _=new _D({Yo:N=>{g?ne(Ct,`Not sending because RPC '${e}' stream ${s} is closed:`,N):(p||(ne(Ct,`Opening RPC '${e}' stream ${s} transport.`),d.open(),p=!0),ne(Ct,`RPC '${e}' stream ${s} sending:`,N),d.send(N))},Zo:()=>d.close()}),y=(N,D,O)=>{N.listen(D,(E=>{try{O(E)}catch(k){setTimeout((()=>{throw k}),0)}}))};return y(d,ao.EventType.OPEN,(()=>{g||(ne(Ct,`RPC '${e}' stream ${s} transport opened.`),_.o_())})),y(d,ao.EventType.CLOSE,(()=>{g||(g=!0,ne(Ct,`RPC '${e}' stream ${s} transport closed`),_.a_(),this.E_(d))})),y(d,ao.EventType.ERROR,(N=>{g||(g=!0,Ss(Ct,`RPC '${e}' stream ${s} transport errored. Name:`,N.name,"Message:",N.message),_.a_(new X(H.UNAVAILABLE,"The operation could not be completed")))})),y(d,ao.EventType.MESSAGE,(N=>{if(!g){const D=N.data[0];xe(!!D,16349);const O=D,E=O?.error||O[0]?.error;if(E){ne(Ct,`RPC '${e}' stream ${s} received error:`,E);const k=E.status;let V=(function(w){const T=nt[w];if(T!==void 0)return xE(T)})(k),U=E.message;V===void 0&&(V=H.INTERNAL,U="Unknown error status: "+k+" with message "+E.message),g=!0,_.a_(new X(V,U)),d.close()}else ne(Ct,`RPC '${e}' stream ${s} received:`,D),_.u_(D)}})),y(a,Yv.STAT_EVENT,(N=>{N.stat===nh.PROXY?ne(Ct,`RPC '${e}' stream ${s} detected buffering proxy`):N.stat===nh.NOPROXY&&ne(Ct,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{_.__()}),0),_}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function gu(){return typeof document<"u"?document:null}function dl(t){return new wO(t,!0)}class QE{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&ne("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Eg="PersistentStream";class YE{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new QE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(cr(n.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new X(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ne(Eg,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ne(Eg,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vD extends YE{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=bO(this.serializer,e),r=(function(i){if(!("targetChange"in i))return ye.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ye.min():o.readTime?Dn(o.readTime):ye.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=dh(this.serializer),n.addTarget=(function(i,o){let a;const l=o.target;if(a=ah(l)?{documents:CO(i,l)}:{query:PO(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=UE(i,o.resumeToken);const u=uh(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ye.min())>0){a.readTime=kc(i,o.snapshotVersion.toTimestamp());const u=uh(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a})(this.serializer,e);const r=NO(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=dh(this.serializer),n.removeTarget=e,this.q_(n)}}class ED extends YE{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=SO(e.writeResults,e.commitTime),r=Dn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=dh(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>RO(this.serializer,r)))};this.q_(n)}}class TD{}class wD extends TD{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new X(H.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Go(e,hh(n,r),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X(H.UNKNOWN,i.toString())}))}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Ho(e,hh(n,r),s,o,a,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(H.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ID{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cr(n),this.aa=!1):ne("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Cs="RemoteStore";class AD{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Vs(this)&&(ne(Cs,"Restarting streams for network reachability change."),await(async function(l){const u=ve(l);u.Ea.add(4),await ia(u),u.Ra.set("Unknown"),u.Ea.delete(4),await pl(u)})(this))}))})),this.Ra=new ID(r,s)}}async function pl(t){if(Vs(t))for(const e of t.da)await e(!0)}async function ia(t){for(const e of t.da)await e(!1)}function JE(t,e){const n=ve(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),xf(n)?Vf(n):xi(n).O_()&&Df(n,e))}function Of(t,e){const n=ve(t),r=xi(n);n.Ia.delete(e),r.O_()&&XE(n,e),n.Ia.size===0&&(r.O_()?r.L_():Vs(n)&&n.Ra.set("Unknown"))}function Df(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xi(t).Y_(e)}function XE(t,e){t.Va.Ue(e),xi(t).Z_(e)}function Vf(t){t.Va=new yO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),xi(t).start(),t.Ra.ua()}function xf(t){return Vs(t)&&!xi(t).x_()&&t.Ia.size>0}function Vs(t){return ve(t).Ea.size===0}function ZE(t){t.Va=void 0}async function bD(t){t.Ra.set("Online")}async function RD(t){t.Ia.forEach(((e,n)=>{Df(t,e)}))}async function SD(t,e){ZE(t),xf(t)?(t.Ra.ha(e),Vf(t)):t.Ra.set("Unknown")}async function CD(t,e,n){if(t.Ra.set("Online"),e instanceof LE&&e.state===2&&e.cause)try{await(async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))})(t,e)}catch(r){ne(Cs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Oc(t,r)}else if(e instanceof Ya?t.Va.Ze(e):e instanceof ME?t.Va.st(e):t.Va.tt(e),!n.isEqual(ye.min()))try{const r=await zE(t.localStore);n.compareTo(r)>=0&&await(function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach(((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ia.get(u);h&&i.Ia.set(u,h.withResumeToken(l.resumeToken,o))}})),a.targetMismatches.forEach(((l,u)=>{const h=i.Ia.get(l);if(!h)return;i.Ia.set(l,h.withResumeToken(Et.EMPTY_BYTE_STRING,h.snapshotVersion)),XE(i,l);const d=new Or(h.target,l,u,h.sequenceNumber);Df(i,d)})),i.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){ne(Cs,"Failed to raise snapshot:",r),await Oc(t,r)}}async function Oc(t,e,n){if(!Vi(e))throw e;t.Ea.add(1),await ia(t),t.Ra.set("Offline"),n||(n=()=>zE(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ne(Cs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await pl(t)}))}function eT(t,e){return e().catch((n=>Oc(t,n,e)))}async function ml(t){const e=ve(t),n=Wr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:yf;for(;PD(e);)try{const s=await uD(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,kD(e,s)}catch(s){await Oc(e,s)}tT(e)&&nT(e)}function PD(t){return Vs(t)&&t.Ta.length<10}function kD(t,e){t.Ta.push(e);const n=Wr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function tT(t){return Vs(t)&&!Wr(t).x_()&&t.Ta.length>0}function nT(t){Wr(t).start()}async function ND(t){Wr(t).ra()}async function OD(t){const e=Wr(t);for(const n of t.Ta)e.ea(n.mutations)}async function DD(t,e,n){const r=t.Ta.shift(),s=bf.from(r,e,n);await eT(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await ml(t)}async function VD(t,e){e&&Wr(t).X_&&await(async function(r,s){if((function(o){return mO(o)&&o!==H.ABORTED})(s.code)){const i=r.Ta.shift();Wr(r).B_(),await eT(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await ml(r)}})(t,e),tT(t)&&nT(t)}async function Tg(t,e){const n=ve(t);n.asyncQueue.verifyOperationInProgress(),ne(Cs,"RemoteStore received new credentials");const r=Vs(n);n.Ea.add(3),await ia(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await pl(n)}async function xD(t,e){const n=ve(t);e?(n.Ea.delete(2),await pl(n)):e||(n.Ea.add(2),await ia(n),n.Ra.set("Unknown"))}function xi(t){return t.ma||(t.ma=(function(n,r,s){const i=ve(n);return i.sa(),new vD(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:bD.bind(null,t),t_:RD.bind(null,t),r_:SD.bind(null,t),H_:CD.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),xf(t)?Vf(t):t.Ra.set("Unknown")):(await t.ma.stop(),ZE(t))}))),t.ma}function Wr(t){return t.fa||(t.fa=(function(n,r,s){const i=ve(n);return i.sa(),new ED(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:ND.bind(null,t),r_:VD.bind(null,t),ta:OD.bind(null,t),na:DD.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await ml(t)):(await t.fa.stop(),t.Ta.length>0&&(ne(Cs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Mf{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Mf(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lf(t,e){if(cr("AsyncQueue",`${e}: ${t}`),Vi(t))return new X(H.UNAVAILABLE,`${e}: ${t}`);throw t}class ci{static emptySet(e){return new ci(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=co(),this.sortedSet=new Ke(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ci)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ci;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class wg{constructor(){this.ga=new Ke(oe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):de(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class bi{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach((a=>{o.push({type:0,doc:a})})),new bi(e,n,ci.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}class MD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class LD{constructor(){this.queries=Ig(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ve(n),i=s.queries;s.queries=Ig(),i.forEach(((o,a)=>{for(const l of a.Sa)l.onError(r)}))})(this,new X(H.ABORTED,"Firestore shutting down"))}}function Ig(){return new Ds((t=>wE(t)),cl)}async function rT(t,e){const n=ve(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new MD,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Lf(o,`Initialization of query '${Ws(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Uf(n)}async function sT(t,e){const n=ve(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function UD(t,e){const n=ve(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Uf(n)}function FD(t,e,n){const r=ve(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Uf(t){t.Ca.forEach((e=>{e.next()}))}var gh,Ag;(Ag=gh||(gh={})).Ma="default",Ag.Cache="cache";class iT{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new bi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=bi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==gh.Cache}}class oT{constructor(e){this.key=e}}class aT{constructor(e){this.key=e}}class BD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Re(),this.mutatedKeys=Re(),this.eu=IE(e),this.tu=new ci(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new wg,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((h,d)=>{const p=s.get(h),g=ll(this.query,d)?d:null,_=!!p&&this.mutatedKeys.has(p.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let N=!1;p&&g?p.data.isEqual(g.data)?_!==y&&(r.track({type:3,doc:g}),N=!0):this.su(p,g)||(r.track({type:2,doc:g}),N=!0,(l&&this.eu(g,l)>0||u&&this.eu(g,u)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),N=!0):p&&!g&&(r.track({type:1,doc:p}),N=!0,(l||u)&&(a=!0)),N&&(g?(o=o.add(g),i=y?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((h,d)=>(function(g,_){const y=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de(20277,{Rt:N})}};return y(g)-y(_)})(h.type,d.type)||this.eu(h.doc,d.doc))),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new bi(this.query,e.tu,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wg,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Re(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new aT(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new oT(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Re();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return bi.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ff="SyncEngine";class HD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class jD{constructor(e){this.key=e,this.hu=!1}}class $D{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ds((a=>wE(a)),cl),this.Iu=new Map,this.Eu=new Set,this.du=new Ke(oe.comparator),this.Au=new Map,this.Ru=new Cf,this.Vu={},this.mu=new Map,this.fu=Ai.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qD(t,e,n=!0){const r=dT(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await cT(r,e,n,!0),s}async function WD(t,e){const n=dT(t);await cT(n,e,!0,!1)}async function cT(t,e,n,r){const s=await hD(t.localStore,Nn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await GD(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&JE(t.remoteStore,s),a}async function GD(t,e,n,r,s){t.pu=(d,p,g)=>(async function(y,N,D,O){let E=N.view.ru(D);E.Cs&&(E=await gg(y.localStore,N.query,!1).then((({documents:b})=>N.view.ru(b,E))));const k=O&&O.targetChanges.get(N.targetId),V=O&&O.targetMismatches.get(N.targetId)!=null,U=N.view.applyChanges(E,y.isPrimaryClient,k,V);return Rg(y,N.targetId,U.au),U.snapshot})(t,d,p,g);const i=await gg(t.localStore,e,!0),o=new BD(e,i.Qs),a=o.ru(i.documents),l=sa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);Rg(t,n,u.au);const h=new HD(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function KD(t,e,n){const r=ve(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((o=>!cl(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await ph(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Of(r.remoteStore,s.targetId),_h(r,s.targetId)})).catch(Di)):(_h(r,s.targetId),await ph(r.localStore,s.targetId,!0))}async function zD(t,e){const n=ve(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Of(n.remoteStore,r.targetId))}async function QD(t,e,n){const r=nV(t);try{const s=await(function(o,a){const l=ve(o),u=$e.now(),h=a.reduce(((g,_)=>g.add(_.key)),Re());let d,p;return l.persistence.runTransaction("Locally write mutations","readwrite",(g=>{let _=lr(),y=Re();return l.Ns.getEntries(g,h).next((N=>{_=N,_.forEach(((D,O)=>{O.isValidDocument()||(y=y.add(D))}))})).next((()=>l.localDocuments.getOverlayedDocuments(g,_))).next((N=>{d=N;const D=[];for(const O of a){const E=uO(O,d.get(O.key).overlayedDocument);E!=null&&D.push(new Qr(O.key,E,pE(E.value.mapValue),On.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,D,a)})).next((N=>{p=N;const D=N.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(g,N.batchId,D)}))})).then((()=>({batchId:p.batchId,changes:bE(d)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new Ke(be)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u})(r,s.batchId,n),await oa(r,s.changes),await ml(r.remoteStore)}catch(s){const i=Lf(s,"Failed to persist write");n.reject(i)}}async function lT(t,e){const n=ve(t);try{const r=await cD(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const o=n.Au.get(i);o&&(xe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?xe(o.hu,14607):s.removedDocuments.size>0&&(xe(o.hu,42227),o.hu=!1))})),await oa(n,r,e)}catch(r){await Di(r)}}function bg(t,e,n){const r=ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)})),(function(o,a){const l=ve(o);l.onlineState=a;let u=!1;l.queries.forEach(((h,d)=>{for(const p of d.Sa)p.va(a)&&(u=!0)})),u&&Uf(l)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function YD(t,e,n){const r=ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Ke(oe.comparator);o=o.insert(i,Dt.newNoDocument(i,ye.min()));const a=Re().add(i),l=new fl(ye.min(),new Map,new Ke(be),o,a);await lT(r,l),r.du=r.du.remove(i),r.Au.delete(e),Bf(r)}else await ph(r.localStore,e,!1).then((()=>_h(r,e,n))).catch(Di)}async function JD(t,e){const n=ve(t),r=e.batch.batchId;try{const s=await aD(n.localStore,e);hT(n,r,null),uT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await oa(n,s)}catch(s){await Di(s)}}async function XD(t,e,n){const r=ve(t);try{const s=await(function(o,a){const l=ve(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next((d=>(xe(d!==null,37113),h=d.keys(),l.mutationQueue.removeMutationBatch(u,d)))).next((()=>l.mutationQueue.performConsistencyCheck(u))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h))).next((()=>l.localDocuments.getDocuments(u,h)))}))})(r.localStore,e);hT(r,e,n),uT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await oa(r,s)}catch(s){await Di(s)}}function uT(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function hT(t,e,n){const r=ve(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function _h(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||fT(t,r)}))}function fT(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Of(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Bf(t))}function Rg(t,e,n){for(const r of n)r instanceof oT?(t.Ru.addReference(r.key,e),ZD(t,r)):r instanceof aT?(ne(Ff,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||fT(t,r.key)):de(19791,{wu:r})}function ZD(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ne(Ff,"New document in limbo: "+n),t.Eu.add(r),Bf(t))}function Bf(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new oe(je.fromString(e)),r=t.fu.next();t.Au.set(r,new jD(n)),t.du=t.du.insert(n,r),JE(t.remoteStore,new Or(Nn(If(n.path)),r,"TargetPurposeLimboResolution",il.ce))}}async function oa(t,e,n){const r=ve(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((a,l)=>{o.push(r.pu(l,e,n).then((u=>{if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:n?.targetChanges.get(l.targetId)?.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){s.push(u);const h=kf.As(l.targetId,u);i.push(h)}})))})),await Promise.all(o),r.Pu.H_(s),await(async function(l,u){const h=ve(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(d=>j.forEach(u,(p=>j.forEach(p.Es,(g=>h.persistence.referenceDelegate.addReference(d,p.targetId,g))).next((()=>j.forEach(p.ds,(g=>h.persistence.referenceDelegate.removeReference(d,p.targetId,g)))))))))}catch(d){if(!Vi(d))throw d;ne(Nf,"Failed to update sequence numbers: "+d)}for(const d of u){const p=d.targetId;if(!d.fromCache){const g=h.Ms.get(p),_=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(_);h.Ms=h.Ms.insert(p,y)}}})(r.localStore,i))}async function eV(t,e){const n=ve(t);if(!n.currentUser.isEqual(e)){ne(Ff,"User change. New user:",e.toKey());const r=await KE(n.localStore,e);n.currentUser=e,(function(i,o){i.mu.forEach((a=>{a.forEach((l=>{l.reject(new X(H.CANCELLED,o))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await oa(n,r.Ls)}}function tV(t,e){const n=ve(t),r=n.Au.get(e);if(r&&r.hu)return Re().add(r.key);{let s=Re();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function dT(t){const e=ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YD.bind(null,e),e.Pu.H_=UD.bind(null,e.eventManager),e.Pu.yu=FD.bind(null,e.eventManager),e}function nV(t){const e=ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XD.bind(null,e),e}class Dc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dl(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return oD(this.persistence,new rD,e.initialUser,this.serializer)}Cu(e){return new GE(Pf.mi,this.serializer)}Du(e){return new dD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dc.provider={build:()=>new Dc};class rV extends Dc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){xe(this.persistence.referenceDelegate instanceof Nc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new jO(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ht.withCacheSize(this.cacheSizeBytes):Ht.DEFAULT;return new GE((r=>Nc.mi(r,n)),this.serializer)}}class yh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=eV.bind(null,this.syncEngine),await xD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new LD})()}createDatastore(e){const n=dl(e.databaseInfo.databaseId),r=(function(i){return new yD(i)})(e.databaseInfo);return(function(i,o,a,l){return new wD(i,o,a,l)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,i,o,a){return new AD(r,s,i,o,a)})(this.localStore,this.datastore,e.asyncQueue,(n=>bg(this.syncEngine,n,0)),(function(){return vg.v()?new vg:new pD})())}createSyncEngine(e,n){return(function(s,i,o,a,l,u,h){const d=new $D(s,i,o,a,l,u);return h&&(d.gu=!0),d})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=ve(n);ne(Cs,"RemoteStore shutting down."),r.Ea.add(5),await ia(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}yh.provider={build:()=>new yh};class pT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Gr="FirestoreClient";class sV{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Nt.UNAUTHENTICATED,this.clientId=rl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async o=>{ne(Gr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(ne(Gr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Lf(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function _u(t,e){t.asyncQueue.verifyOperationInProgress(),ne(Gr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await KE(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Sg(t,e){t.asyncQueue.verifyOperationInProgress();const n=await iV(t);ne(Gr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>Tg(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>Tg(e.remoteStore,s))),t._onlineComponents=e}async function iV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne(Gr,"Using user provided OfflineComponentProvider");try{await _u(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===H.FAILED_PRECONDITION||s.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;Ss("Error using user provided cache. Falling back to memory cache: "+n),await _u(t,new Dc)}}else ne(Gr,"Using default OfflineComponentProvider"),await _u(t,new rV(void 0));return t._offlineComponents}async function mT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne(Gr,"Using user provided OnlineComponentProvider"),await Sg(t,t._uninitializedComponentsProvider._online)):(ne(Gr,"Using default OnlineComponentProvider"),await Sg(t,new yh))),t._onlineComponents}function oV(t){return mT(t).then((e=>e.syncEngine))}async function gT(t){const e=await mT(t),n=e.eventManager;return n.onListen=qD.bind(null,e.syncEngine),n.onUnlisten=KD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=WD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=zD.bind(null,e.syncEngine),n}function aV(t,e,n={}){const r=new tr;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,a,l,u){const h=new pT({next:p=>{h.Nu(),o.enqueueAndForget((()=>sT(i,d)));const g=p.docs.has(a);!g&&p.fromCache?u.reject(new X(H.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?u.reject(new X(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new iT(If(a.path),h,{includeMetadataChanges:!0,qa:!0});return rT(i,d)})(await gT(t),t.asyncQueue,e,n,r))),r.promise}function cV(t,e,n={}){const r=new tr;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,a,l,u){const h=new pT({next:p=>{h.Nu(),o.enqueueAndForget((()=>sT(i,d))),p.fromCache&&l.source==="server"?u.reject(new X(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new iT(a,h,{includeMetadataChanges:!0,qa:!0});return rT(i,d)})(await gT(t),t.asyncQueue,e,n,r))),r.promise}function _T(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const Cg=new Map;const yT="firestore.googleapis.com",Pg=!0;class kg{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new X(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yT,this.ssl=Pg}else this.host=e.host,this.ssl=e.ssl??Pg;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<BO)throw new X(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_T(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new X(H.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new X(H.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new X(H.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gl{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new tE;switch(r.type){case"firstParty":return new vN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Cg.get(n);r&&(ne("ComponentProvider","Removing Datastore"),Cg.delete(n),r.terminate())})(this),Promise.resolve()}}function vT(t,e,n,r={}){t=xn(t,gl);const s=Pi(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(iv(`https://${a}`),ov("Firestore",!0)),i.host!==yT&&i.host!==a&&Ss("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!ws(l,o)&&(t._setSettings(l),r.mockUserToken)){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=Nt.MOCK_USER;else{u=AC(r.mockUserToken,t._app?.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new X(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Nt(d)}t._authCredentials=new gN(new eE(u,h))}}class xs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xs(this.firestore,e,this._query)}}class Xe{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xe(this.firestore,e,this._key)}toJSON(){return{type:Xe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ta(n,Xe._jsonSchema))return new Xe(e,r||null,new oe(je.fromString(n.referencePath)))}}Xe._jsonSchemaVersion="firestore/documentReference/1.0",Xe._jsonSchema={type:it("string",Xe._jsonSchemaVersion),referencePath:it("string")};class nr extends xs{constructor(e,n,r){super(e,n,If(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xe(this.firestore,null,new oe(e))}withConverter(e){return new nr(this.firestore,e,this._path)}}function lV(t,e,...n){if(t=at(t),nE("collection","path",e),t instanceof gl){const r=je.fromString(e,...n);return $m(r),new nr(t,null,r)}{if(!(t instanceof Xe||t instanceof nr))throw new X(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return $m(r),new nr(t.firestore,null,r)}}function Ja(t,e,...n){if(t=at(t),arguments.length===1&&(e=rl.newId()),nE("doc","path",e),t instanceof gl){const r=je.fromString(e,...n);return jm(r),new Xe(t,null,new oe(r))}{if(!(t instanceof Xe||t instanceof nr))throw new X(H.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return jm(r),new Xe(t.firestore,t instanceof nr?t.converter:null,new oe(r))}}const Ng="AsyncQueue";class Og{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new QE(this,"async_queue_retry"),this._c=()=>{const r=gu();r&&ne(Ng,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=gu();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=gu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new tr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Vi(e))throw e;ne(Ng,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,cr("INTERNAL UNHANDLED ERROR: ",Dg(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Mf.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&de(47125,{Pc:Dg(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Dg(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Mi extends gl{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Og,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Og(e),this._firestoreClient=void 0,await e}}}function ET(t,e){const n=typeof t=="object"?t:uv(),r=typeof t=="string"?t:Ac,s=cf(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=wC("firestore");i&&vT(s,...i)}return s}function _l(t){if(t._terminated)throw new X(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||uV(t),t._firestoreClient}function uV(t){const e=t._freezeSettings(),n=(function(s,i,o,a){return new xN(s,i,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,_T(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new sV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(t._componentsProvider))}class Qt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qt(Et.fromBase64String(e))}catch(n){throw new X(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qt(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ta(e,Qt._jsonSchema))return Qt.fromBase64String(e.bytes)}}Qt._jsonSchemaVersion="firestore/bytes/1.0",Qt._jsonSchema={type:it("string",Qt._jsonSchemaVersion),bytes:it("string")};class aa{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yl{constructor(e){this._methodName=e}}class dn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:dn._jsonSchemaVersion}}static fromJSON(e){if(ta(e,dn._jsonSchema))return new dn(e.latitude,e.longitude)}}dn._jsonSchemaVersion="firestore/geoPoint/1.0",dn._jsonSchema={type:it("string",dn._jsonSchemaVersion),latitude:it("number"),longitude:it("number")};class pn{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:pn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ta(e,pn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new pn(e.vectorValues);throw new X(H.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pn._jsonSchemaVersion="firestore/vectorValue/1.0",pn._jsonSchema={type:it("string",pn._jsonSchemaVersion),vectorValues:it("object")};const hV=/^__.*__$/;class fV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ra(e,this.data,n,this.fieldTransforms)}}class TT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Qr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function wT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de(40011,{Ac:t})}}class Hf{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Hf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Vc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(wT(this.Ac)&&hV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class dV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||dl(e)}Cc(e,n,r,s=!1){return new Hf({Ac:e,methodName:n,Dc:r,path:yt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jf(t){const e=t._freezeSettings(),n=dl(t._databaseId);return new dV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pV(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);$f("Data must be an object, but it was:",o,r);const a=IT(r,o);let l,u;if(i.merge)l=new Yt(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const d of i.mergeFields){const p=vh(e,d,n);if(!o.contains(p))throw new X(H.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);bT(h,p)||h.push(p)}l=new Yt(h),u=o.fieldTransforms.filter((d=>l.covers(d.field)))}else l=null,u=o.fieldTransforms;return new fV(new jt(a),l,u)}class vl extends yl{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vl}}function mV(t,e,n,r){const s=t.Cc(1,e,n);$f("Data must be an object, but it was:",s,r);const i=[],o=jt.empty();zr(r,((l,u)=>{const h=qf(e,l,n);u=at(u);const d=s.yc(h);if(u instanceof vl)i.push(h);else{const p=ca(u,d);p!=null&&(i.push(h),o.set(h,p))}}));const a=new Yt(i);return new TT(o,a,s.fieldTransforms)}function gV(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[vh(e,r,n)],l=[s];if(i.length%2!=0)throw new X(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(vh(e,i[p])),l.push(i[p+1]);const u=[],h=jt.empty();for(let p=a.length-1;p>=0;--p)if(!bT(u,a[p])){const g=a[p];let _=l[p];_=at(_);const y=o.yc(g);if(_ instanceof vl)u.push(g);else{const N=ca(_,y);N!=null&&(u.push(g),h.set(g,N))}}const d=new Yt(u);return new TT(h,d,o.fieldTransforms)}function _V(t,e,n,r=!1){return ca(n,t.Cc(r?4:3,e))}function ca(t,e){if(AT(t=at(t)))return $f("Unsupported field value:",e,t),IT(t,e);if(t instanceof yl)return(function(r,s){if(!wT(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let o=0;for(const a of r){let l=ca(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}})(t,e)}return(function(r,s){if((r=at(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sO(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=$e.fromDate(r);return{timestampValue:kc(s.serializer,i)}}if(r instanceof $e){const i=new $e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kc(s.serializer,i)}}if(r instanceof dn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qt)return{bytesValue:UE(s.serializer,r._byteString)};if(r instanceof Xe){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Sf(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof pn)return(function(o,a){return{mapValue:{fields:{[fE]:{stringValue:dE},[bc]:{arrayValue:{values:o.toArray().map((u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return Af(a.serializer,u)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${sl(r)}`)})(t,e)}function IT(t,e){const n={};return oE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zr(t,((r,s)=>{const i=ca(s,e.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function AT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $e||t instanceof dn||t instanceof Qt||t instanceof Xe||t instanceof yl||t instanceof pn)}function $f(t,e,n){if(!AT(n)||!sE(n)){const r=sl(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function vh(t,e,n){if((e=at(e))instanceof aa)return e._internalPath;if(typeof e=="string")return qf(t,e);throw Vc("Field path arguments must be of type string or ",t,!1,void 0,n)}const yV=new RegExp("[~\\*/\\[\\]]");function qf(t,e,n){if(e.search(yV)>=0)throw Vc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new aa(...e.split("."))._internalPath}catch{throw Vc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vc(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new X(H.INVALID_ARGUMENT,a+t+l)}function bT(t,e){return t.some((n=>n.isEqual(e)))}class RT{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class vV extends RT{data(){return super.data()}}function Wf(t,e){return typeof e=="string"?qf(t,e):e instanceof aa?e._internalPath:e._delegate._internalPath}function EV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gf{}class ST extends Gf{}function TV(t,e,...n){let r=[];e instanceof Gf&&r.push(e),r=r.concat(n),(function(i){const o=i.filter((l=>l instanceof El)).length,a=i.filter((l=>l instanceof la)).length;if(o>1||o>0&&a>0)throw new X(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class la extends ST{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new la(e,n,r)}_apply(e){const n=this._parse(e);return CT(e._query,n),new xs(e.firestore,e.converter,ch(e._query,n))}_parse(e){const n=jf(e.firestore);return(function(i,o,a,l,u,h,d){let p;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new X(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){xg(d,h);const _=[];for(const y of d)_.push(Vg(l,i,y));p={arrayValue:{values:_}}}else p=Vg(l,i,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||xg(d,h),p=_V(a,o,d,h==="in"||h==="not-in");return st.create(u,h,p)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function wV(t,e,n){const r=e,s=Wf("where",t);return la._create(s,r,n)}class El extends Gf{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new El(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:En.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)CT(o,l),o=ch(o,l)})(e._query,n),new xs(e.firestore,e.converter,ch(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Vg(t,e,n){if(typeof(n=at(n))=="string"){if(n==="")throw new X(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TE(e)&&n.indexOf("/")!==-1)throw new X(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(je.fromString(n));if(!oe.isDocumentKey(r))throw new X(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Jm(t,new oe(r))}if(n instanceof Xe)return Jm(t,n._key);throw new X(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sl(n)}.`)}function xg(t,e){if(!Array.isArray(t)||t.length===0)throw new X(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CT(t,e){const n=(function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new X(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class PT{convertValue(e,n="none"){switch(qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return zr(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){const n=e.fields?.[bc].arrayValue?.values?.map((r=>tt(r.doubleValue)));return new pn(n)}convertGeoPoint(e){return new dn(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=al(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Lo(e));default:return null}}convertTimestamp(e){const n=jr(e);return new $e(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=je.fromString(e);xe(qE(r),9688,{name:e});const s=new Ti(r.get(1),r.get(3)),i=new oe(r.popFirst(5));return s.isEqual(n)||cr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}function IV(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Ys{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Br extends RT{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ao(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Wf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new X(H.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Br._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Br._jsonSchemaVersion="firestore/documentSnapshot/1.0",Br._jsonSchema={type:it("string",Br._jsonSchemaVersion),bundleSource:it("string","DocumentSnapshot"),bundleName:it("string"),bundle:it("string")};class Ao extends Br{data(e={}){return super.data(e)}}class _s{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ys(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Ao(this._firestore,this._userDataWriter,r.key,r,new Ys(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map((a=>{const l=new Ao(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ys(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}}))}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((a=>i||a.type!==3)).map((a=>{const l=new Ao(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ys(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:AV(a.type),doc:l,oldIndex:u,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new X(H.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_s._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rl.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function AV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de(61501,{type:t})}}function Eh(t){t=xn(t,Xe);const e=xn(t.firestore,Mi);return aV(_l(e),t._key).then((n=>SV(e,t,n)))}_s._jsonSchemaVersion="firestore/querySnapshot/1.0",_s._jsonSchema={type:it("string",_s._jsonSchemaVersion),bundleSource:it("string","QuerySnapshot"),bundleName:it("string"),bundle:it("string")};class kT extends PT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xe(this.firestore,null,n)}}function bV(t){t=xn(t,xs);const e=xn(t.firestore,Mi),n=_l(e),r=new kT(e);return EV(t._query),cV(n,t._query).then((s=>new _s(e,r,t,s)))}function Th(t,e,n){t=xn(t,Xe);const r=xn(t.firestore,Mi),s=IV(t.converter,e);return Kf(r,[pV(jf(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,On.none())])}function RV(t,e,n,...r){t=xn(t,Xe);const s=xn(t.firestore,Mi),i=jf(s);let o;return o=typeof(e=at(e))=="string"||e instanceof aa?gV(i,"updateDoc",t._key,e,n,r):mV(i,"updateDoc",t._key,e),Kf(s,[o.toMutation(t._key,On.exists(!0))])}function Kf(t,e){return(function(r,s){const i=new tr;return r.asyncQueue.enqueueAndForget((async()=>QD(await oV(r),s,i))),i.promise})(_l(t),e)}function SV(t,e,n){const r=n.docs.get(e._key),s=new kT(t);return new Br(t,s,e._key,r,new Ys(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Oi=s})(ki),yi(new Is("firestore",((r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Mi(new _N(r.getProvider("auth-internal")),new EN(o,r.getProvider("app-check-internal")),(function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ti(u.options.projectId,h)})(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Ur(Um,Fm,e),Ur(Um,Fm,"esm2020")})();const CV=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:PT,Bytes:Qt,CollectionReference:nr,DocumentReference:Xe,DocumentSnapshot:Br,FieldPath:aa,FieldValue:yl,Firestore:Mi,FirestoreError:X,GeoPoint:dn,Query:xs,QueryCompositeFilterConstraint:El,QueryConstraint:ST,QueryDocumentSnapshot:Ao,QueryFieldFilterConstraint:la,QuerySnapshot:_s,SnapshotMetadata:Ys,Timestamp:$e,VectorValue:pn,_AutoId:rl,_ByteString:Et,_DatabaseId:Ti,_DocumentKey:oe,_EmptyAuthCredentialsProvider:tE,_FieldPath:yt,_cast:xn,_logWarn:Ss,_validateIsNotUsedTogether:rE,collection:lV,connectFirestoreEmulator:vT,doc:Ja,ensureFirestoreConfigured:_l,executeWrite:Kf,getDoc:Eh,getDocs:bV,getFirestore:ET,query:TV,setDoc:Th,updateDoc:RV,where:wV},Symbol.toStringTag,{value:"Module"}));var PV="firebase",kV="12.7.0";Ur(PV,kV,"app");const NV={apiKey:"AIzaSyCx092q7up_BXFgK2e13A-IQ3uDjwf6J5A",authDomain:"accsuite117.firebaseapp.com",projectId:"accsuite117",storageBucket:"accsuite117.firebasestorage.app",messagingSenderId:"352958845592",appId:"1:352958845592:web:bb6a7fbe04f6181707f6ed"};let Ho,us,bo;dm().length?Ho=dm()[0]:Ho=lv(NV);us=pN(Ho);bo=ET(Ho);const OV=Object.freeze(Object.defineProperty({__proto__:null,get app(){return Ho},get auth(){return us},get db(){return bo}},Symbol.toStringTag,{value:"Module"})),en=ue(null),is=ue("pilot"),Mg=ue(!0),os=ue(null);let Lg=!1;function Tl(){const t=dt(()=>!!en.value),e=dt(()=>en.value?.emailVerified??!1),n=dt(()=>en.value?.email??""),r=dt(()=>en.value?.displayName??""),s=dt(()=>is.value==="coach"),i=async _=>{try{const y=Ja(bo,"users",_.uid),N=await Eh(y);if(!N.exists())await Th(y,{email:_.email,nickname:_.displayName||"Utente",role:"pilot",createdAt:new Date().toISOString(),emailVerified:_.emailVerified}),is.value="pilot",console.log("[AUTH] Created missing user profile");else{const D=N.data();is.value=D.role||"pilot"}}catch(y){console.error("[AUTH] Failed to ensure user document:",y),is.value="pilot"}},o=()=>{Lg||(Lg=!0,n1(us,async _=>{en.value=_,_?await i(_):is.value="pilot",Mg.value=!1,console.log("[AUTH] State changed:",_?.email??"logged out","| Role:",is.value)}))},a=async(_,y,N,D="",O="")=>{os.value=null;try{const k=(await Yk(us,_,y)).user;return await Zk(k,{displayName:N}),await Th(Ja(bo,"users",k.uid),{firstName:D,lastName:O,nickname:N,email:_,role:"pilot",coachId:null,createdAt:new Date().toISOString(),emailVerified:!1}),await Sm(k),console.log("[AUTH] Registered:",_,"Verification email sent"),{success:!0,user:k}}catch(E){return console.error("[AUTH] Register error:",E.code),os.value=g(E.code),{success:!1,error:os.value}}},l=async(_,y)=>{os.value=null;try{const N=await Jk(us,_,y);return console.log("[AUTH] Logged in:",_),{success:!0,user:N.user}}catch(N){return console.error("[AUTH] Login error:",N.code),os.value=g(N.code),{success:!1,error:os.value}}},u=async()=>{try{return await r1(us),console.log("[AUTH] Logged out"),{success:!0}}catch(_){return console.error("[AUTH] Logout error:",_),{success:!1,error:_.message}}},h=async()=>{if(!en.value)return{success:!1,error:"Utente non autenticato"};try{return await Sm(en.value),console.log("[AUTH] Verification email resent"),{success:!0}}catch(_){return console.error("[AUTH] Resend error:",_.code),{success:!1,error:g(_.code)}}},d=async()=>{if(!en.value)return{verified:!1,error:"Utente non autenticato"};try{await en.value.reload(),en.value=us.currentUser;const _=en.value?.emailVerified??!1;return console.log("[AUTH] Email verified check:",_),{verified:_,error:null}}catch(_){return console.error("[AUTH] Check verification error:",_),{verified:!1,error:_.message}}},p=async _=>{try{const y=await Eh(Ja(bo,"users",_));return y.exists()?y.data():null}catch(y){return console.error("[AUTH] Get profile error:",y),null}},g=_=>({"auth/email-already-in-use":"Email gi registrata","auth/weak-password":"Password troppo debole (min. 6 caratteri)","auth/invalid-email":"Email non valida","auth/user-not-found":"Utente non trovato","auth/wrong-password":"Password errata","auth/invalid-credential":"Credenziali non valide","auth/too-many-requests":"Troppi tentativi, riprova pi tardi","auth/network-request-failed":"Errore di rete, controlla la connessione"})[_]||"Errore di autenticazione";return o(),{currentUser:en,isLoading:Mg,authError:os,isAuthenticated:t,isEmailVerified:e,userEmail:n,userDisplayName:r,register:a,login:l,logout:u,resendVerificationEmail:h,checkEmailVerified:d,getUserProfile:p,userRole:is,isCoach:s}}const DV={class:"auth-overlay"},VV={class:"auth-card__body"},xV={key:0,class:"auth-nav"},MV={class:"auth-form-container"},LV=ct({__name:"AuthOverlay",emits:["login-success","register-success"],setup(t,{emit:e}){const n=ue("login"),r=ue("login"),s=ue(),i=ue(),o=ue(),{login:a,register:l}=Tl(),u=ue(!1),h=e,d=dt(()=>{switch(r.value){case"register":return"form-height--register";case"reset":return"form-height--reset";default:return"form-height--login"}}),p=O=>{n.value=O,r.value=O},g=()=>{r.value="reset"},_=()=>{r.value="login",n.value="login",o.value?.reset()},y=async O=>{u.value=!0;const E=await a(O.email,O.password);u.value=!1,E.success?h("login-success",O.email):s.value?.setError(E.error)},N=async O=>{u.value=!0;const E=await l(O.email,O.password,O.nickname,O.firstName,O.lastName);u.value=!1,E.success?h("register-success",O.email):i.value?.setError(E.error)},D=O=>{console.log("[AUTH] Reset:",O),o.value?.setSuccess(!0)};return(O,E)=>{const k=oC,V=lC,U=dC;return _e(),Pe("div",DV,[E[4]||(E[4]=z("div",{class:"auth-overlay__ambient"},[z("div",{class:"ambient-glow ambient-glow--red"}),z("div",{class:"ambient-glow ambient-glow--gold"})],-1)),z("div",{class:rn(["auth-card",d.value])},[E[3]||(E[3]=z("div",{class:"auth-card__glow"},null,-1)),z("div",VV,[E[2]||(E[2]=z("header",{class:"auth-header"},[z("div",{class:"brand"},[z("span",{class:"brand__badge"},"ACC"),z("span",{class:"brand__name"},"TELEMETRY")])],-1)),r.value!=="reset"?(_e(),Pe("nav",xV,[z("button",{class:rn(["auth-nav__item",{"is-active":n.value==="login"}]),onClick:E[0]||(E[0]=b=>p("login"))}," Login ",2),z("button",{class:rn(["auth-nav__item",{"is-active":n.value==="register"}]),onClick:E[1]||(E[1]=b=>p("register"))}," Registrati ",2)])):di("",!0),z("div",MV,[ge(zc,{name:"liquid",mode:"out-in"},{default:sn(()=>[r.value==="login"?(_e(),zt(k,{key:"login",ref_key:"loginFormRef",ref:s,onSubmit:y,onForgotPassword:g},null,512)):r.value==="register"?(_e(),zt(V,{key:"register",ref_key:"registerFormRef",ref:i,onSubmit:N},null,512)):(_e(),zt(U,{key:"reset",ref_key:"resetFormRef",ref:o,onSubmit:D,onBack:_},null,512))]),_:1})])])],2)])}}}),UV=Object.assign(Un(LV,[["__scopeId","data-v-e0e84998"]]),{__name:"AuthOverlay"}),FV={class:"email-verification"},BV={class:"verify-email"},HV={key:0,class:"error-message"},jV={key:1,class:"error-message resend-error"},$V=["disabled"],qV=["disabled"],WV=ct({__name:"RegistrationSuccess",props:{email:{},requireEmailVerification:{type:Boolean}},emits:["goToDashboard","resendEmail"],setup(t,{emit:e}){const n=e,{checkEmailVerified:r,resendVerificationEmail:s}=Tl(),i=ue(!1),o=ue(!1),a=ue(null),l=ue(!1),u=ue(!1),h=async()=>{i.value=!0,a.value=null,u.value=!1;const p=await s();i.value=!1,p.success?(o.value=!0,setTimeout(()=>o.value=!1,3e3)):a.value=p.error||"Errore invio email",n("resendEmail")},d=async()=>{l.value=!0,u.value=!1;const p=await r();l.value=!1,p.verified?n("goToDashboard"):u.value=!0};return(p,g)=>(_e(),Pe("div",FV,[g[2]||(g[2]=z("div",{class:"verify-icon"},"",-1)),g[3]||(g[3]=z("h2",{class:"verify-title"},"Verifica la tua email",-1)),z("p",BV,ys(t.email),1),g[4]||(g[4]=z("div",{class:"verify-box"},[z("p",{class:"verify-text"},"Clicca il link nell'email per attivare l'account."),z("p",{class:"verify-hint"},"Controlla anche Spam")],-1)),u.value?(_e(),Pe("div",HV," Email non verificata ")):di("",!0),a.value?(_e(),Pe("div",jV,ys(a.value),1)):di("",!0),z("button",{class:rn(["verify-btn",{"verify-btn--loading":l.value}]),disabled:l.value,onClick:d},[l.value?(_e(),Pe(We,{key:0},[g[0]||(g[0]=z("span",{class:"spinner"},null,-1)),g[1]||(g[1]=Ye(" Controllo... ",-1))],64)):(_e(),Pe(We,{key:1},[Ye(" Ho confermato l'email ")],64))],10,$V),z("button",{class:"resend-btn",disabled:i.value||o.value,onClick:h},[i.value?(_e(),Pe(We,{key:0},[Ye("Invio in corso...")],64)):o.value?(_e(),Pe(We,{key:1},[Ye(" Email inviata")],64)):(_e(),Pe(We,{key:2},[Ye("Rinvia email di verifica")],64))],8,qV)]))}}),GV=Object.assign(Un(WV,[["__scopeId","data-v-f958603b"]]),{__name:"AuthRegistrationSuccess"}),NT=(t="RouteProvider")=>ct({name:t,props:{route:{type:Object,required:!0},vnode:Object,vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(e){const n=e.renderKey,r=e.route,s={};for(const i in e.route)Object.defineProperty(s,i,{get:()=>n===e.renderKey?e.route[i]:r[i],enumerable:!0});return Jn(Ts,Sn(s)),()=>e.vnode?Je(e.vnode,{ref:e.vnodeRef}):e.vnode}}),KV=NT(),Ug=new WeakMap,zV=ct({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(t,{attrs:e,slots:n,expose:r}){const s=Ze(),i=ue(),o=bt(Ts,null);let a;r({pageRef:i});const l=bt(by,null);let u;const h=s.deferHydration();if(s.isHydrating){const p=s.hooks.hookOnce("app:error",h);Xt().beforeEach(p)}t.pageKey&&xr(()=>t.pageKey,(p,g)=>{p!==g&&s.callHook("page:loading:start")});let d=!1;{const p=Xt().beforeResolve(()=>{d=!1});Go(()=>{p()})}return()=>Je(zy,{name:t.name,route:t.route,...e},{default:p=>{const g=YV(o,p.route,p.Component),_=o&&o.matched.length===p.route.matched.length;if(!p.Component){if(u&&!_)return u;h();return}if(u&&l&&!l.isCurrent(p.route))return u;if(g&&o&&(!l||l?.isCurrent(o)))return _?u:null;const y=Wu(p,t.pageKey),N=JV(o,p.route,p.Component);!s.isHydrating&&a===y&&!N&&vs(()=>{d=!0,s.callHook("page:loading:end")}),a=y;const D=!!(t.transition??p.route.meta.pageTransition??Rp),O=D&&QV([t.transition,p.route.meta.pageTransition,Rp,{onAfterLeave(){delete s._runningTransition,s.callHook("page:transition:finish",p.Component)}}]),E=t.keepalive??p.route.meta.keepalive??jb;return u=Yy(D&&O,u0(E,Je(Hh,{suspensible:!0,onPending:()=>{D&&(s._runningTransition=!0),s.callHook("page:start",p.Component)},onResolve:async()=>{await vs();try{s._route.sync?.(),await s.callHook("page:finish",p.Component),delete s._runningTransition,!d&&!N&&(d=!0,await s.callHook("page:loading:end"))}finally{h()}}},{default:()=>{const k={key:y||void 0,vnode:n.default?XV(n.default,p):p.Component,route:p.route,renderKey:y||void 0,trackRootNodes:D,vnodeRef:i};if(!E)return Je(KV,k);const V=p.Component.type,U=V;let b=Ug.get(U);return b||(b=NT(V.name||V.__name),Ug.set(U,b)),Je(b,k)}}))).default(),u}})}});function QV(t){const e=[];for(const n of t)n&&e.push({...n,onAfterLeave:n.onAfterLeave?ef(n.onAfterLeave):void 0});return Iy(...e)}function YV(t,e,n){if(!t)return!1;const r=e.matched.findIndex(s=>s.components?.default===n?.type);return!r||r===-1?!1:e.matched.slice(0,r).some((s,i)=>s.components?.default!==t.matched[i]?.components?.default)||n&&Wu({route:e,Component:n})!==Wu({route:t,Component:n})}function JV(t,e,n){return t?e.matched.findIndex(s=>s.components?.default===n?.type)<e.matched.length-1:!1}function XV(t,e){const n=t(e);return n.length===1?Je(n[0]):Je(We,void 0,n)}const ZV=ct({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},setup(t,e){return()=>Je(Nr[t.name],t.layoutProps,e.slots)}}),ex={name:{type:[String,Boolean,Object],default:null},fallback:{type:[String,Object],default:null}},tx=ct({name:"NuxtLayout",inheritAttrs:!1,props:ex,setup(t,e){const n=Ze(),r=bt(Ts),i=!r||r===zo()?Qy():r,o=dt(()=>{let h=He(t.name)??i?.meta.layout??"default";return h&&!(h in Nr)&&t.fallback&&(h=He(t.fallback)),h}),a=ir();e.expose({layoutRef:a});const l=n.deferHydration();if(n.isHydrating){const h=n.hooks.hookOnce("app:error",l);Xt().beforeEach(h)}let u;return()=>{const h=o.value&&o.value in Nr,d=i?.meta.layoutTransition??Hb,p=u;return u=o.value,Yy(h&&d,{default:()=>Je(Hh,{suspensible:!0,onResolve:()=>{vs(l)}},{default:()=>Je(nx,{layoutProps:ty(e.attrs,{ref:a}),key:o.value||void 0,name:o.value,shouldProvide:!t.name,isRenderingNewLayout:g=>g!==p&&g===o.value,hasTransition:!!d},e.slots)})}).default()}}}),nx=ct({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean},isRenderingNewLayout:{type:Function,required:!0}},setup(t,e){const n=t.name;t.shouldProvide&&Jn(by,{isCurrent:i=>n===(i.meta.layout??"default")});const r=bt(Ts);if(r&&r===zo()){const i=Qy(),o={};for(const a in i){const l=a;Object.defineProperty(o,l,{enumerable:!0,get:()=>t.isRenderingNewLayout(t.name)?i[l]:r[l]})}Jn(Ts,Sn(o))}return()=>!n||typeof n=="string"&&!(n in Nr)?e.slots.default?.():Je(ZV,{key:n,layoutProps:t.layoutProps,name:n},e.slots)}}),rx={class:"user-dropdown"},sx={class:"user-name"},ix={key:0,class:"dropdown-menu"},ox=ct({__name:"UserDropdown",props:{userName:{}},emits:["logout","goToProfile"],setup(t,{emit:e}){const n=e,r=ue(!1),s=()=>{r.value=!r.value},i=()=>{r.value=!1},o=()=>{i(),n("goToProfile")},a=()=>{i(),n("logout")};return(l,u)=>{const h=_I("click-outside");return no((_e(),Pe("div",rx,[z("button",{class:"dropdown-trigger",onClick:s},[z("span",sx,ys(t.userName),1),(_e(),Pe("svg",{class:rn(["arrow-icon",{"arrow-icon--open":r.value}]),width:"12",height:"12",viewBox:"0 0 12 12",fill:"none"},[...u[0]||(u[0]=[z("path",{d:"M3 4.5L6 7.5L9 4.5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])],2))]),ge(zc,{name:"dropdown"},{default:sn(()=>[r.value?(_e(),Pe("div",ix,[z("button",{class:"dropdown-item",onClick:o},[...u[1]||(u[1]=[z("svg",{class:"item-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},[z("circle",{cx:"8",cy:"5",r:"3",stroke:"currentColor","stroke-width":"1.5"}),z("path",{d:"M2 14c0-3 2.5-5 6-5s6 2 6 5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"})],-1),Ye(" Profilo ",-1)])]),u[3]||(u[3]=z("button",{class:"dropdown-item dropdown-item--disabled",disabled:""},[z("svg",{class:"item-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},[z("circle",{cx:"8",cy:"8",r:"6",stroke:"currentColor","stroke-width":"1.5"}),z("path",{d:"M8 5v3l2 2",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"})]),Ye(" Impostazioni ")],-1)),u[4]||(u[4]=z("div",{class:"dropdown-divider"},null,-1)),z("button",{class:"dropdown-item dropdown-item--danger",onClick:a},[...u[2]||(u[2]=[z("svg",{class:"item-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},[z("path",{d:"M6 2H4a2 2 0 00-2 2v8a2 2 0 002 2h2M11 11l3-3-3-3M14 8H6",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1),Ye(" Logout ",-1)])])])):di("",!0)]),_:1})])),[[h,i]])}}}),ax=Object.assign(Un(ox,[["__scopeId","data-v-90fbbde4"]]),{__name:"UiUserDropdown"}),cx={class:"profile-page"},lx={class:"profile-header"},ux={class:"header-inner"},hx={class:"header-right"},fx={class:"profile-main"},dx={class:"profile-container"},px={class:"profile-grid"},mx={class:"profile-sidebar"},gx={class:"user-info"},_x={class:"user-nickname"},yx={class:"user-email"},vx={class:"profile-content"},Ex={class:"profile-card"},Tx={class:"equipment-form"},wx={class:"form-group"},Ix={class:"form-group"},Ax={class:"form-group"},bx={class:"form-group"},Rx=["disabled"],Sx=ct({__name:"ProfilePage",props:{userEmail:{},userNickname:{}},emits:["logout","back"],setup(t,{emit:e}){const n=t,r=e,{currentUser:s,getUserProfile:i}=Tl(),o=dt(()=>n.userNickname?n.userNickname:n.userEmail?n.userEmail.split("@")[0]??"Utente":"Utente"),a=ue({volante:"",corona:"",pedaliera:"",struttura:""}),l=ue(!1),u=ue(!1);hi(async()=>{if(s.value){const _=await i(s.value.uid);_?.equipment&&(a.value={...a.value,..._.equipment})}});const h=async()=>{if(s.value){l.value=!0;try{const{doc:_,updateDoc:y}=await kt(async()=>{const{doc:D,updateDoc:O}=await Promise.resolve().then(()=>CV);return{doc:D,updateDoc:O}},void 0,import.meta.url),{db:N}=await kt(async()=>{const{db:D}=await Promise.resolve().then(()=>OV);return{db:D}},void 0,import.meta.url);await y(_(N,"users",s.value.uid),{equipment:a.value}),u.value=!0,setTimeout(()=>u.value=!1,2e3)}catch(_){console.error("[PROFILE] Save error:",_)}finally{l.value=!1}}},d=()=>r("logout"),p=()=>{},g=()=>{r("back")};return(_,y)=>{const N=ax;return _e(),Pe("div",cx,[z("header",lx,[z("div",ux,[z("div",{class:"header-left"},[z("button",{class:"back-btn",onClick:g},[...y[4]||(y[4]=[z("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},[z("path",{d:"M12 4L6 10L12 16",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),Ye(" Dashboard ",-1)])])]),y[5]||(y[5]=z("div",{class:"header-brand"},[z("span",{class:"brand-badge"},"ACC"),z("span",{class:"brand-name"},"TELEMETRY")],-1)),z("div",hx,[ge(N,{"user-name":o.value,onLogout:d,onGoToProfile:p},null,8,["user-name"])])])]),z("main",fx,[z("div",dx,[y[12]||(y[12]=z("h1",{class:"page-title"},"Profilo Pilota",-1)),z("div",px,[z("div",mx,[y[6]||(y[6]=ey('<div class="avatar-container" data-v-e186b73a><svg class="avatar-helmet" viewBox="0 0 100 100" fill="none" data-v-e186b73a><defs data-v-e186b73a><linearGradient id="helmetGrad" x1="0%" y1="0%" x2="100%" y2="100%" data-v-e186b73a><stop offset="0%" stop-color="#e10600" data-v-e186b73a></stop><stop offset="100%" stop-color="#ff6b00" data-v-e186b73a></stop></linearGradient></defs><path d="M50 10C30 10 15 25 15 45V60C15 75 25 85 40 88L45 90H55L60 88C75 85 85 75 85 60V45C85 25 70 10 50 10Z" stroke="url(#helmetGrad)" stroke-width="3" fill="none" data-v-e186b73a></path><path d="M20 45H80C80 45 78 55 50 55C22 55 20 45 20 45Z" stroke="url(#helmetGrad)" stroke-width="2" fill="rgba(225,6,0,0.1)" data-v-e186b73a></path><line x1="50" y1="15" x2="50" y2="85" stroke="url(#helmetGrad)" stroke-width="1.5" data-v-e186b73a></line></svg></div>',1)),z("div",gx,[z("h2",_x,ys(o.value),1),z("p",yx,ys(t.userEmail),1)])]),z("div",vx,[z("div",Ex,[y[11]||(y[11]=z("h3",{class:"card-title"},[z("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[z("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2"}),z("circle",{cx:"12",cy:"12",r:"4",stroke:"currentColor","stroke-width":"2"})]),Ye(" Attrezzatura Sim Racing ")],-1)),z("div",Tx,[z("div",wx,[y[7]||(y[7]=z("label",{class:"form-label"},"Volante / Base",-1)),no(z("input",{"onUpdate:modelValue":y[0]||(y[0]=D=>a.value.volante=D),type:"text",class:"form-input",placeholder:"Es. Fanatec CSL DD 8Nm"},null,512),[[Ca,a.value.volante]])]),z("div",Ix,[y[8]||(y[8]=z("label",{class:"form-label"},"Corona / Rim",-1)),no(z("input",{"onUpdate:modelValue":y[1]||(y[1]=D=>a.value.corona=D),type:"text",class:"form-input",placeholder:"Es. ClubSport Formula V2"},null,512),[[Ca,a.value.corona]])]),z("div",Ax,[y[9]||(y[9]=z("label",{class:"form-label"},"Pedaliera",-1)),no(z("input",{"onUpdate:modelValue":y[2]||(y[2]=D=>a.value.pedaliera=D),type:"text",class:"form-input",placeholder:"Es. CSL Pedals + Load Cell"},null,512),[[Ca,a.value.pedaliera]])]),z("div",bx,[y[10]||(y[10]=z("label",{class:"form-label"},"Struttura / Rig",-1)),no(z("input",{"onUpdate:modelValue":y[3]||(y[3]=D=>a.value.struttura=D),type:"text",class:"form-input",placeholder:"Es. Next Level Racing 2.0"},null,512),[[Ca,a.value.struttura]])]),z("button",{class:rn(["save-btn",{"save-btn--success":u.value}]),disabled:l.value,onClick:h},[l.value?(_e(),Pe(We,{key:0},[Ye("Salvataggio...")],64)):u.value?(_e(),Pe(We,{key:1},[Ye(" Salvato")],64)):(_e(),Pe(We,{key:2},[Ye("Salva Modifiche")],64))],10,Rx)])])])])])])])}}}),Cx=Object.assign(Un(Sx,[["__scopeId","data-v-e186b73a"]]),{__name:"ProfilePage"}),Px=z0(X0),kx={id:"app"},Nx={key:"initializing",class:"initializing-screen"},Ox={key:"register-success",class:"auth-wrapper"},Dx={class:"auth-card-standalone"},Vx={key:"loading",class:"loading-screen"},xx={key:"dashboard",class:"dashboard-wrapper"},Mx={key:"profile",class:"profile-wrapper"},Lx="dissolve-fade-zoom",Ux=ct({__name:"app",setup(t){zo();const{currentUser:e,isLoading:n}=Tl(),r=ue("initializing"),s=ue("login"),i=ue(""),o=ue(!1),a=ue(!1);xr(n,_=>{!_&&!o.value&&(o.value=!0,e.value?(i.value=e.value.email||"",a.value&&!e.value.emailVerified?(r.value="auth",s.value="register-success"):r.value="dashboard"):r.value="auth")},{immediate:!0}),xr(e,(_,y)=>{o.value&&(_?(i.value=_.email||"",a.value&&!_.emailVerified?(r.value!=="auth"||s.value!=="register-success")&&(r.value="auth",s.value="register-success"):r.value==="auth"&&s.value!=="register-success"&&(r.value="loading",setTimeout(()=>{r.value="dashboard"},1e3))):y&&(r.value="auth",s.value="login"))});const l=_=>{if(i.value=_,a.value&&e.value&&!e.value.emailVerified){s.value="register-success";return}r.value="loading",setTimeout(()=>{r.value="dashboard"},1500)},u=_=>{i.value=_,a.value?s.value="register-success":(r.value="loading",setTimeout(()=>{r.value="dashboard"},1500))},h=()=>{r.value="loading",setTimeout(()=>{r.value="dashboard"},1500)},d=()=>{console.log("[AUTH] Resending verification email to:",i.value)},p=()=>{r.value="profile"},g=()=>{r.value="dashboard"};return Jn("goToProfile",p),(_,y)=>{const N=Px,D=UV,O=GV,E=zV,k=tx,V=Cx;return _e(),Pe("div",kx,[ge(N),ge(zc,{name:Lx,mode:"out-in"},{default:sn(()=>[r.value==="initializing"?(_e(),Pe("div",Nx,[...y[0]||(y[0]=[z("div",{class:"initializing-content"},[z("div",{class:"initializing-spinner"})],-1)])])):r.value==="auth"&&s.value!=="register-success"?(_e(),zt(D,{key:"auth",onLoginSuccess:l,onRegisterSuccess:u})):r.value==="auth"&&s.value==="register-success"?(_e(),Pe("div",Ox,[z("div",Dx,[ge(O,{email:i.value,"require-email-verification":a.value,onGoToDashboard:h,onResendEmail:d},null,8,["email","require-email-verification"])])])):r.value==="loading"?(_e(),Pe("div",Vx,[...y[1]||(y[1]=[z("div",{class:"loading-content"},[z("div",{class:"loading-spinner"}),z("p",{class:"loading-text"},"Caricamento Dashboard...")],-1)])])):r.value==="dashboard"?(_e(),Pe("div",xx,[ge(k,null,{default:sn(()=>[ge(E)]),_:1})])):r.value==="profile"?(_e(),Pe("div",Mx,[ge(V,{onBack:g})])):di("",!0)]),_:1})])}}}),Fx={__name:"nuxt-error-page",props:{error:Object},setup(t){const n=t.error,r=Number(n.statusCode||500),s=r===404,i=n.statusMessage??(s?"Page Not Found":"Internal Server Error"),o=n.message||n.toString(),a=void 0,h=s?sc(()=>kt(()=>import("./DcszX7Ua.js"),__vite__mapDeps([30,14,31]),import.meta.url)):sc(()=>kt(()=>import("./CHm4qY9s.js"),__vite__mapDeps([32,33]),import.meta.url));return(d,p)=>(_e(),zt(He(h),lw(Z_({statusCode:He(r),statusMessage:He(i),description:He(o),stack:He(a)})),null,16))}},Bx={key:0},Fg={__name:"nuxt-root",setup(t){const e=()=>null,n=Ze(),r=n.deferHydration();if(n.isHydrating){const u=n.hooks.hookOnce("app:error",r);Xt().beforeEach(u)}const s=!1;Jn(Ts,zo()),n.hooks.callHookWith(u=>u.map(h=>h()),"vue:setup");const i=Yc(),o=!1,a=/bot\b|chrome-lighthouse|facebookexternalhit|google\b/i;C_((u,h,d)=>{if(n.hooks.callHook("vue:error",u,h,d).catch(p=>console.error("[nuxt] Error in `vue:error` hook",p)),a.test(navigator.userAgent))return n.hooks.callHook("app:error",u),console.error(`[nuxt] Not rendering error page for bot with user agent \`${navigator.userAgent}\`:`,u),!1;if(Sy(u)&&(u.fatal||u.unhandled))return n.runWithContext(()=>cs(u)),!1});const l=!1;return(u,h)=>(_e(),zt(Hh,{onResolve:He(r)},{default:sn(()=>[He(o)?(_e(),Pe("div",Bx)):He(i)?(_e(),zt(He(Fx),{key:1,error:He(i)},null,8,["error"])):He(l)?(_e(),zt(He(e),{key:2,context:He(l)},null,8,["context"])):He(s)?(_e(),zt(gI(He(s)),{key:3})):(_e(),zt(He(Ux),{key:4}))]),_:1},8,["onResolve"]))}};let Bg;{let t;Bg=async function(){if(t)return t;const n=!!(window.__NUXT__?.serverRendered??document.getElementById("__NUXT_DATA__")?.dataset.ssr==="true"),r=n?xA(Fg):VA(Fg),s=Gb({vueApp:r});async function i(o){await s.callHook("app:error",o),s.payload.error||=gs(o)}r.config.errorHandler=i,s.hook("app:suspense:resolve",()=>{r.config.errorHandler===i&&(r.config.errorHandler=void 0)}),!n&&Sp.id&&s.hook("app:suspense:resolve",()=>{document.getElementById(Sp.id)?.remove()});try{await Qb(s,K0)}catch(o){i(o)}try{await s.hooks.callHook("app:created",r),await s.hooks.callHook("app:beforeMount",r),r.mount($b),await s.hooks.callHook("app:mounted",r),await vs()}catch(o){i(o)}return r},t=Bg().catch(e=>{throw console.error("Error while mounting app:",e),e})}export{bV as $,Gx as A,Qx as B,Pe as C,_e as D,z as E,ys as F,ge as G,sn as H,Ye as I,zt as J,He as K,Cx as L,zo as M,Eh as N,Ja as O,bo as P,We as Q,jx as R,di as S,rn as T,no as U,Ca as V,ey as W,TV as X,lV as Y,wV as Z,Un as _,Tl as a,qx as a0,yI as a1,ax as a2,sA as a3,S_ as a4,Ce as a5,vs as a6,jc as a7,Bc as a8,$x as a9,bt as aa,$h as ab,ct as b,Xt as c,Kx as d,si as e,Ze as f,tf as g,Go as h,Je as i,Hx as j,iR as k,$0 as l,dt as m,zx as n,hi as o,uy as p,Ns as q,ue as r,ir as s,Wh as t,Qc as u,ab as v,xr as w,fc as x,sm as y,Yx as z};
