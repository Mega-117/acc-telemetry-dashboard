import{b as v,a as T,m as b,C as u,D as d,E as o,N as $,K as l,Z as N,a7 as B,G as p,ac as P,n as x,_ as h,M as y,O as I,P as k,H as A,I as E,F as R,c as S,aj as w,ad as M}from"./cwvVFwCY.js";import{_ as G}from"./6k9Wj4MA.js";const O={class:"topbar"},V={class:"topbar__inner"},j=["title"],D={class:"topbar__user"},U=v({__name:"TopBar",props:{userName:{}},emits:["logout","goToProfile"],setup(m,{emit:e}){const n=m,r=e,{isCoach:i,isAdmin:s}=T(),_=b(()=>n.userName??"Utente"),a=()=>{x("/piloti")};return(f,t)=>{const c=P;return d(),u("header",O,[o("div",V,[t[3]||(t[3]=o("div",{class:"topbar__brand"},[o("span",{class:"brand-badge"},"ACC"),o("span",{class:"brand-name"},"TELEMETRY")],-1)),t[4]||(t[4]=o("div",{class:"topbar__spacer"},null,-1)),l(i)||l(s)?(d(),u("button",{key:0,class:N(["coach-button",{"coach-button--admin":l(s)}]),onClick:a,title:l(s)?"Gestione utenti":"I miei piloti"},[...t[2]||(t[2]=[B('<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-v-a640716d><circle cx="9" cy="7" r="4" data-v-a640716d></circle><path d="M3 21v-2a4 4 0 014-4h4a4 4 0 014 4v2" data-v-a640716d></path><path d="M16 3.13a4 4 0 010 7.75" data-v-a640716d></path><path d="M21 21v-2a4 4 0 00-3-3.85" data-v-a640716d></path></svg>',1)])],10,j)):$("",!0),o("div",D,[p(c,{"user-name":_.value,onLogout:t[0]||(t[0]=g=>r("logout")),onGoToProfile:t[1]||(t[1]=g=>r("goToProfile"))},null,8,["user-name"])])])])}}}),F=Object.assign(h(U,[["__scopeId","data-v-a640716d"]]),{__name:"LayoutTopBar"}),W={class:"tabsbar"},z={class:"tabsbar__inner"},H=v({__name:"TabsBarRouter",setup(m){const e=y(),n=[{id:"panoramica",label:"PANORAMICA",to:"/panoramica"},{id:"sessioni",label:"SESSIONI",to:"/sessioni"},{id:"piste",label:"PISTE",to:"/piste"}],r=i=>e.path.startsWith(i);return(i,s)=>{const _=G;return d(),u("nav",W,[o("div",z,[(d(),u(I,null,k(n,a=>p(_,{key:a.id,to:a.to,class:N(["tab",{"tab--active":r(a.to)}])},{default:A(()=>[E(R(a.label),1)]),_:2},1032,["to","class"])),64))])])}}}),K=Object.assign(h(H,[["__scopeId","data-v-db7e86c1"]]),{__name:"LayoutTabsBarRouter"}),Y={class:"dashboard-layout"},Z={class:"main-content"},q=v({__name:"dashboard",setup(m){const{userDisplayName:e,userEmail:n,logout:r}=T(),i=y();S();const s=w("goToProfile"),_=b(()=>{const c=i.path;return c.startsWith("/sessioni")?"sessioni":c.startsWith("/piste")?"piste":"panoramica"}),a=b(()=>e.value?e.value:n.value?n.value.split("@")[0]:"Utente"),f=async()=>{await r(),x("/")},t=()=>{s&&s()};return(c,g)=>{const C=F,L=K;return d(),u("div",Y,[p(C,{"user-name":l(a),onLogout:f,onGoToProfile:t},null,8,["user-name"]),p(L,{"active-tab":l(_)},null,8,["active-tab"]),o("main",Z,[M(c.$slots,"default",{},void 0)])])}}}),X=h(q,[["__scopeId","data-v-64b88201"]]);export{X as default};
